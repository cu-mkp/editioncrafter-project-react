(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function u1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var c1={exports:{}},Fu={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var YT=Object.getOwnPropertySymbols,x3=Object.prototype.hasOwnProperty,b3=Object.prototype.propertyIsEnumerable;function S3(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function E3(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(n).map(function(a){return n[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var d1=E3()?Object.assign:function(e,n){for(var t,r=S3(e),i,a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var h in t)x3.call(t,h)&&(r[h]=t[h]);if(YT){i=YT(t);for(var c=0;c<i.length;c++)b3.call(t,i[c])&&(r[i[c]]=t[i[c]])}}return r},h1={exports:{}},qt={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My=d1,Na=60103,p1=60106;qt.Fragment=60107;qt.StrictMode=60108;qt.Profiler=60114;var f1=60109,m1=60110,g1=60112;qt.Suspense=60113;var v1=60115,y1=60116;if(typeof Symbol=="function"&&Symbol.for){var ni=Symbol.for;Na=ni("react.element"),p1=ni("react.portal"),qt.Fragment=ni("react.fragment"),qt.StrictMode=ni("react.strict_mode"),qt.Profiler=ni("react.profiler"),f1=ni("react.provider"),m1=ni("react.context"),g1=ni("react.forward_ref"),qt.Suspense=ni("react.suspense"),v1=ni("react.memo"),y1=ni("react.lazy")}var KT=typeof Symbol=="function"&&Symbol.iterator;function T3(e){return e===null||typeof e!="object"?null:(e=KT&&e[KT]||e["@@iterator"],typeof e=="function"?e:null)}function Bu(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x1={};function Fa(e,n,t){this.props=e,this.context=n,this.refs=x1,this.updater=t||w1}Fa.prototype.isReactComponent={};Fa.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Bu(85));this.updater.enqueueSetState(this,e,n,"setState")};Fa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function b1(){}b1.prototype=Fa.prototype;function Iy(e,n,t){this.props=e,this.context=n,this.refs=x1,this.updater=t||w1}var Ly=Iy.prototype=new b1;Ly.constructor=Iy;My(Ly,Fa.prototype);Ly.isPureReactComponent=!0;var jy={current:null},S1=Object.prototype.hasOwnProperty,E1={key:!0,ref:!0,__self:!0,__source:!0};function T1(e,n,t){var r,i={},a=null,h=null;if(n!=null)for(r in n.ref!==void 0&&(h=n.ref),n.key!==void 0&&(a=""+n.key),n)S1.call(n,r)&&!E1.hasOwnProperty(r)&&(i[r]=n[r]);var c=arguments.length-2;if(c===1)i.children=t;else if(1<c){for(var p=Array(c),m=0;m<c;m++)p[m]=arguments[m+2];i.children=p}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Na,type:e,key:a,ref:h,props:i,_owner:jy.current}}function C3(e,n){return{$$typeof:Na,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Ny(e){return typeof e=="object"&&e!==null&&e.$$typeof===Na}function P3(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return n[t]})}var JT=/\/+/g;function Dm(e,n){return typeof e=="object"&&e!==null&&e.key!=null?P3(""+e.key):n.toString(36)}function zd(e,n,t,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(a){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case Na:case p1:h=!0}}if(h)return h=e,i=i(h),e=r===""?"."+Dm(h,0):r,Array.isArray(i)?(t="",e!=null&&(t=e.replace(JT,"$&/")+"/"),zd(i,n,t,"",function(m){return m})):i!=null&&(Ny(i)&&(i=C3(i,t+(!i.key||h&&h.key===i.key?"":(""+i.key).replace(JT,"$&/")+"/")+e)),n.push(i)),1;if(h=0,r=r===""?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){a=e[c];var p=r+Dm(a,c);h+=zd(a,n,t,p,i)}else if(p=T3(e),typeof p=="function")for(e=p.call(e),c=0;!(a=e.next()).done;)a=a.value,p=r+Dm(a,c++),h+=zd(a,n,t,p,i);else if(a==="object")throw n=""+e,Error(Bu(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n));return h}function vd(e,n,t){if(e==null)return e;var r=[],i=0;return zd(e,r,"","",function(a){return n.call(t,a,i++)}),r}function k3(e){if(e._status===-1){var n=e._result;n=n(),e._status=0,e._result=n,n.then(function(t){e._status===0&&(t=t.default,e._status=1,e._result=t)},function(t){e._status===0&&(e._status=2,e._result=t)})}if(e._status===1)return e._result;throw e._result}var C1={current:null};function Bi(){var e=C1.current;if(e===null)throw Error(Bu(321));return e}var _3={ReactCurrentDispatcher:C1,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:jy,IsSomeRendererActing:{current:!1},assign:My};qt.Children={map:vd,forEach:function(e,n,t){vd(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return vd(e,function(){n++}),n},toArray:function(e){return vd(e,function(n){return n})||[]},only:function(e){if(!Ny(e))throw Error(Bu(143));return e}};qt.Component=Fa;qt.PureComponent=Iy;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_3;qt.cloneElement=function(e,n,t){if(e==null)throw Error(Bu(267,e));var r=My({},e.props),i=e.key,a=e.ref,h=e._owner;if(n!=null){if(n.ref!==void 0&&(a=n.ref,h=jy.current),n.key!==void 0&&(i=""+n.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(p in n)S1.call(n,p)&&!E1.hasOwnProperty(p)&&(r[p]=n[p]===void 0&&c!==void 0?c[p]:n[p])}var p=arguments.length-2;if(p===1)r.children=t;else if(1<p){c=Array(p);for(var m=0;m<p;m++)c[m]=arguments[m+2];r.children=c}return{$$typeof:Na,type:e.type,key:i,ref:a,props:r,_owner:h}};qt.createContext=function(e,n){return n===void 0&&(n=null),e={$$typeof:m1,_calculateChangedBits:n,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:f1,_context:e},e.Consumer=e};qt.createElement=T1;qt.createFactory=function(e){var n=T1.bind(null,e);return n.type=e,n};qt.createRef=function(){return{current:null}};qt.forwardRef=function(e){return{$$typeof:g1,render:e}};qt.isValidElement=Ny;qt.lazy=function(e){return{$$typeof:y1,_payload:{_status:-1,_result:e},_init:k3}};qt.memo=function(e,n){return{$$typeof:v1,type:e,compare:n===void 0?null:n}};qt.useCallback=function(e,n){return Bi().useCallback(e,n)};qt.useContext=function(e,n){return Bi().useContext(e,n)};qt.useDebugValue=function(){};qt.useEffect=function(e,n){return Bi().useEffect(e,n)};qt.useImperativeHandle=function(e,n,t){return Bi().useImperativeHandle(e,n,t)};qt.useLayoutEffect=function(e,n){return Bi().useLayoutEffect(e,n)};qt.useMemo=function(e,n){return Bi().useMemo(e,n)};qt.useReducer=function(e,n,t){return Bi().useReducer(e,n,t)};qt.useRef=function(e){return Bi().useRef(e)};qt.useState=function(e){return Bi().useState(e)};qt.version="17.0.2";h1.exports=qt;var z=h1.exports;const dt=u1(z);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3=z,P1=60103;Fu.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var QT=Symbol.for;P1=QT("react.element"),Fu.Fragment=QT("react.fragment")}var O3=R3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A3=Object.prototype.hasOwnProperty,D3={key:!0,ref:!0,__self:!0,__source:!0};function k1(e,n,t){var r,i={},a=null,h=null;t!==void 0&&(a=""+t),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(h=n.ref);for(r in n)A3.call(n,r)&&!D3.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)i[r]===void 0&&(i[r]=n[r]);return{$$typeof:P1,type:e,key:a,ref:h,props:i,_owner:O3.current}}Fu.jsx=k1;Fu.jsxs=k1;c1.exports=Fu;var _1=c1.exports,R1={exports:{}},Xr={},O1={exports:{}},A1={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var n,t,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var h=Date,c=h.now();e.unstable_now=function(){return h.now()-c}}if(typeof window>"u"||typeof MessageChannel!="function"){var p=null,m=null,g=function(){if(p!==null)try{var ge=e.unstable_now();p(!0,ge),p=null}catch(De){throw setTimeout(g,0),De}};n=function(ge){p!==null?setTimeout(n,0,ge):(p=ge,setTimeout(g,0))},t=function(ge,De){m=setTimeout(ge,De)},r=function(){clearTimeout(m)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var b=window.setTimeout,S=window.clearTimeout;if(typeof console<"u"){var T=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof T!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,k=null,C=-1,P=5,A=0;e.unstable_shouldYield=function(){return e.unstable_now()>=A},i=function(){},e.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ge?Math.floor(1e3/ge):5};var N=new MessageChannel,W=N.port2;N.port1.onmessage=function(){if(k!==null){var ge=e.unstable_now();A=ge+P;try{k(!0,ge)?W.postMessage(null):(_=!1,k=null)}catch(De){throw W.postMessage(null),De}}else _=!1},n=function(ge){k=ge,_||(_=!0,W.postMessage(null))},t=function(ge,De){C=b(function(){ge(e.unstable_now())},De)},r=function(){S(C),C=-1}}function Z(ge,De){var $=ge.length;ge.push(De);e:for(;;){var Qe=$-1>>>1,et=ge[Qe];if(et!==void 0&&0<ne(et,De))ge[Qe]=De,ge[$]=et,$=Qe;else break e}}function H(ge){return ge=ge[0],ge===void 0?null:ge}function ie(ge){var De=ge[0];if(De!==void 0){var $=ge.pop();if($!==De){ge[0]=$;e:for(var Qe=0,et=ge.length;Qe<et;){var ot=2*(Qe+1)-1,ct=ge[ot],yt=ot+1,gt=ge[yt];if(ct!==void 0&&0>ne(ct,$))gt!==void 0&&0>ne(gt,ct)?(ge[Qe]=gt,ge[yt]=$,Qe=yt):(ge[Qe]=ct,ge[ot]=$,Qe=ot);else if(gt!==void 0&&0>ne(gt,$))ge[Qe]=gt,ge[yt]=$,Qe=yt;else break e}}return De}return null}function ne(ge,De){var $=ge.sortIndex-De.sortIndex;return $!==0?$:ge.id-De.id}var ae=[],Se=[],me=1,fe=null,he=3,Ae=!1,Le=!1,ve=!1;function de(ge){for(var De=H(Se);De!==null;){if(De.callback===null)ie(Se);else if(De.startTime<=ge)ie(Se),De.sortIndex=De.expirationTime,Z(ae,De);else break;De=H(Se)}}function Ee(ge){if(ve=!1,de(ge),!Le)if(H(ae)!==null)Le=!0,n(be);else{var De=H(Se);De!==null&&t(Ee,De.startTime-ge)}}function be(ge,De){Le=!1,ve&&(ve=!1,r()),Ae=!0;var $=he;try{for(de(De),fe=H(ae);fe!==null&&(!(fe.expirationTime>De)||ge&&!e.unstable_shouldYield());){var Qe=fe.callback;if(typeof Qe=="function"){fe.callback=null,he=fe.priorityLevel;var et=Qe(fe.expirationTime<=De);De=e.unstable_now(),typeof et=="function"?fe.callback=et:fe===H(ae)&&ie(ae),de(De)}else ie(ae);fe=H(ae)}if(fe!==null)var ot=!0;else{var ct=H(Se);ct!==null&&t(Ee,ct.startTime-De),ot=!1}return ot}finally{fe=null,he=$,Ae=!1}}var q=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ge){ge.callback=null},e.unstable_continueExecution=function(){Le||Ae||(Le=!0,n(be))},e.unstable_getCurrentPriorityLevel=function(){return he},e.unstable_getFirstCallbackNode=function(){return H(ae)},e.unstable_next=function(ge){switch(he){case 1:case 2:case 3:var De=3;break;default:De=he}var $=he;he=De;try{return ge()}finally{he=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=q,e.unstable_runWithPriority=function(ge,De){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var $=he;he=ge;try{return De()}finally{he=$}},e.unstable_scheduleCallback=function(ge,De,$){var Qe=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Qe+$:Qe):$=Qe,ge){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=$+et,ge={id:me++,callback:De,priorityLevel:ge,startTime:$,expirationTime:et,sortIndex:-1},$>Qe?(ge.sortIndex=$,Z(Se,ge),H(ae)===null&&ge===H(Se)&&(ve?r():ve=!0,t(Ee,$-Qe))):(ge.sortIndex=et,Z(ae,ge),Le||Ae||(Le=!0,n(be))),ge},e.unstable_wrapCallback=function(ge){var De=he;return function(){var $=he;he=De;try{return ge.apply(this,arguments)}finally{he=$}}}})(A1);O1.exports=A1;var M3=O1.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=z,yn=d1,Vn=M3;function $e(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Wh)throw Error($e(227));var D1=new Set,wu={};function ds(e,n){Ca(e,n),Ca(e+"Capture",n)}function Ca(e,n){for(wu[e]=n,e=0;e<n.length;e++)D1.add(n[e])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eC=Object.prototype.hasOwnProperty,tC={},nC={};function L3(e){return eC.call(nC,e)?!0:eC.call(tC,e)?!1:I3.test(e)?nC[e]=!0:(tC[e]=!0,!1)}function j3(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N3(e,n,t,r){if(n===null||typeof n>"u"||j3(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function hr(e,n,t,r,i,a,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=h}var Jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jn[e]=new hr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Jn[n]=new hr(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jn[e]=new hr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jn[e]=new hr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jn[e]=new hr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jn[e]=new hr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jn[e]=new hr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jn[e]=new hr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jn[e]=new hr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fy=/[\-:]([a-z])/g;function By(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Fy,By);Jn[n]=new hr(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Fy,By);Jn[n]=new hr(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Fy,By);Jn[n]=new hr(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jn[e]=new hr(e,1,!1,e.toLowerCase(),null,!1,!1)});Jn.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jn[e]=new hr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hy(e,n,t,r){var i=Jn.hasOwnProperty(n)?Jn[n]:null,a=i!==null?i.type===0:r?!1:!(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N");a||(N3(n,t,i,r)&&(t=null),r||i===null?L3(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):i.mustUseProperty?e[i.propertyName]=t===null?i.type===3?!1:"":t:(n=i.attributeName,r=i.attributeNamespace,t===null?e.removeAttribute(n):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}var hs=Wh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bl=60103,Yo=60106,to=60107,zy=60108,Kl=60114,Vy=60109,Uy=60110,Gh=60112,Jl=60113,rh=60120,qh=60115,Wy=60116,Gy=60121,qy=60128,M1=60129,$y=60130,sv=60131;if(typeof Symbol=="function"&&Symbol.for){var Bn=Symbol.for;Bl=Bn("react.element"),Yo=Bn("react.portal"),to=Bn("react.fragment"),zy=Bn("react.strict_mode"),Kl=Bn("react.profiler"),Vy=Bn("react.provider"),Uy=Bn("react.context"),Gh=Bn("react.forward_ref"),Jl=Bn("react.suspense"),rh=Bn("react.suspense_list"),qh=Bn("react.memo"),Wy=Bn("react.lazy"),Gy=Bn("react.block"),Bn("react.scope"),qy=Bn("react.opaque.id"),M1=Bn("react.debug_trace_mode"),$y=Bn("react.offscreen"),sv=Bn("react.legacy_hidden")}var rC=typeof Symbol=="function"&&Symbol.iterator;function Sl(e){return e===null||typeof e!="object"?null:(e=rC&&e[rC]||e["@@iterator"],typeof e=="function"?e:null)}var Mm;function Hl(e){if(Mm===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);Mm=n&&n[1]||""}return`
`+Mm+e}var Im=!1;function yd(e,n){if(!e||Im)return"";Im=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(p){var r=p}Reflect.construct(e,[],n)}else{try{n.call()}catch(p){r=p}e.call(n.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),a=r.stack.split(`
`),h=i.length-1,c=a.length-1;1<=h&&0<=c&&i[h]!==a[c];)c--;for(;1<=h&&0<=c;h--,c--)if(i[h]!==a[c]){if(h!==1||c!==1)do if(h--,c--,0>c||i[h]!==a[c])return`
`+i[h].replace(" at new "," at ");while(1<=h&&0<=c);break}}}finally{Im=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?Hl(e):""}function F3(e){switch(e.tag){case 5:return Hl(e.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return e=yd(e.type,!1),e;case 11:return e=yd(e.type.render,!1),e;case 22:return e=yd(e.type._render,!1),e;case 1:return e=yd(e.type,!0),e;default:return""}}function da(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case to:return"Fragment";case Yo:return"Portal";case Kl:return"Profiler";case zy:return"StrictMode";case Jl:return"Suspense";case rh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uy:return(e.displayName||"Context")+".Consumer";case Vy:return(e._context.displayName||"Context")+".Provider";case Gh:var n=e.render;return n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case qh:return da(e.type);case Gy:return da(e._render);case Wy:n=e._payload,e=e._init;try{return da(e(n))}catch{}}return null}function vo(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function I1(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function B3(e){var n=I1(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,a=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return i.call(this)},set:function(h){r=""+h,a.call(this,h)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(h){r=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function wd(e){e._valueTracker||(e._valueTracker=B3(e))}function L1(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=I1(e)?e.checked?"true":"false":e.value),e=r,e!==t?(n.setValue(e),!0):!1}function ih(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function av(e,n){var t=n.checked;return yn({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function iC(e,n){var t=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;t=vo(n.value!=null?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function j1(e,n){n=n.checked,n!=null&&Hy(e,"checked",n,!1)}function lv(e,n){j1(e,n);var t=vo(n.value),r=n.type;if(t!=null)r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?uv(e,n.type,t):n.hasOwnProperty("defaultValue")&&uv(e,n.type,vo(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function oC(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function uv(e,n,t){(n!=="number"||ih(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}function H3(e){var n="";return Wh.Children.forEach(e,function(t){t!=null&&(n+=t)}),n}function cv(e,n){return e=yn({children:void 0},n),(n=H3(n.children))&&(e.children=n),e}function ha(e,n,t,r){if(e=e.options,n){n={};for(var i=0;i<t.length;i++)n["$"+t[i]]=!0;for(t=0;t<e.length;t++)i=n.hasOwnProperty("$"+e[t].value),e[t].selected!==i&&(e[t].selected=i),i&&r&&(e[t].defaultSelected=!0)}else{for(t=""+vo(t),n=null,i=0;i<e.length;i++){if(e[i].value===t){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}n!==null||e[i].disabled||(n=e[i])}n!==null&&(n.selected=!0)}}function dv(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error($e(91));return yn({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sC(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error($e(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error($e(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:vo(t)}}function N1(e,n){var t=vo(n.value),r=vo(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),r!=null&&(e.defaultValue=""+r)}function aC(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}var hv={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function F1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pv(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?F1(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xd,B1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,r,i){MSApp.execUnsafeLocalFunction(function(){return e(n,t,r,i)})}:e}(function(e,n){if(e.namespaceURI!==hv.svg||"innerHTML"in e)e.innerHTML=n;else{for(xd=xd||document.createElement("div"),xd.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=xd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function xu(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}var Ql={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z3=["Webkit","ms","Moz","O"];Object.keys(Ql).forEach(function(e){z3.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ql[n]=Ql[e]})});function H1(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||Ql.hasOwnProperty(e)&&Ql[e]?(""+n).trim():n+"px"}function z1(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=H1(t,n[t],r);t==="float"&&(t="cssFloat"),r?e.setProperty(t,i):e[t]=i}}var V3=yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fv(e,n){if(n){if(V3[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error($e(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error($e(60));if(!(typeof n.dangerouslySetInnerHTML=="object"&&"__html"in n.dangerouslySetInnerHTML))throw Error($e(61))}if(n.style!=null&&typeof n.style!="object")throw Error($e(62))}}function mv(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Zy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gv=null,pa=null,fa=null;function lC(e){if(e=zu(e)){if(typeof gv!="function")throw Error($e(280));var n=e.stateNode;n&&(n=Jh(n),gv(e.stateNode,e.type,n))}}function V1(e){pa?fa?fa.push(e):fa=[e]:pa=e}function U1(){if(pa){var e=pa,n=fa;if(fa=pa=null,lC(e),n)for(e=0;e<n.length;e++)lC(n[e])}}function Xy(e,n){return e(n)}function W1(e,n,t,r,i){return e(n,t,r,i)}function Yy(){}var G1=Xy,Ko=!1,Lm=!1;function Ky(){(pa!==null||fa!==null)&&(Yy(),U1())}function U3(e,n,t){if(Lm)return e(n,t);Lm=!0;try{return G1(e,n,t)}finally{Lm=!1,Ky()}}function bu(e,n){var t=e.stateNode;if(t===null)return null;var r=Jh(t);if(r===null)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error($e(231,n,typeof t));return t}var vv=!1;if(Ni)try{var El={};Object.defineProperty(El,"passive",{get:function(){vv=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{vv=!1}function W3(e,n,t,r,i,a,h,c,p){var m=Array.prototype.slice.call(arguments,3);try{n.apply(t,m)}catch(g){this.onError(g)}}var eu=!1,oh=null,sh=!1,yv=null,G3={onError:function(e){eu=!0,oh=e}};function q3(e,n,t,r,i,a,h,c,p){eu=!1,oh=null,W3.apply(G3,arguments)}function $3(e,n,t,r,i,a,h,c,p){if(q3.apply(this,arguments),eu){if(eu){var m=oh;eu=!1,oh=null}else throw Error($e(198));sh||(sh=!0,yv=m)}}function ps(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&1026&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function q1(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function uC(e){if(ps(e)!==e)throw Error($e(188))}function Z3(e){var n=e.alternate;if(!n){if(n=ps(e),n===null)throw Error($e(188));return n!==e?null:e}for(var t=e,r=n;;){var i=t.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===t)return uC(i),e;if(a===r)return uC(i),n;a=a.sibling}throw Error($e(188))}if(t.return!==r.return)t=i,r=a;else{for(var h=!1,c=i.child;c;){if(c===t){h=!0,t=i,r=a;break}if(c===r){h=!0,r=i,t=a;break}c=c.sibling}if(!h){for(c=a.child;c;){if(c===t){h=!0,t=a,r=i;break}if(c===r){h=!0,r=a,t=i;break}c=c.sibling}if(!h)throw Error($e(189))}}if(t.alternate!==r)throw Error($e(190))}if(t.tag!==3)throw Error($e(188));return t.stateNode.current===t?e:n}function $1(e){if(e=Z3(e),!e)return null;for(var n=e;;){if(n.tag===5||n.tag===6)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===e)break;for(;!n.sibling;){if(!n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function cC(e,n){for(var t=e.alternate;n!==null;){if(n===e||n===t)return!0;n=n.return}return!1}var Z1,Jy,X1,Y1,wv=!1,mi=[],so=null,ao=null,lo=null,Su=new Map,Eu=new Map,Tl=[],dC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xv(e,n,t,r,i){return{blockedOn:e,domEventName:n,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function hC(e,n){switch(e){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Su.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(n.pointerId)}}function Cl(e,n,t,r,i,a){return e===null||e.nativeEvent!==a?(e=xv(n,t,r,i,a),n!==null&&(n=zu(n),n!==null&&Jy(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,i!==null&&n.indexOf(i)===-1&&n.push(i),e)}function X3(e,n,t,r,i){switch(n){case"focusin":return so=Cl(so,e,n,t,r,i),!0;case"dragenter":return ao=Cl(ao,e,n,t,r,i),!0;case"mouseover":return lo=Cl(lo,e,n,t,r,i),!0;case"pointerover":var a=i.pointerId;return Su.set(a,Cl(Su.get(a)||null,e,n,t,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Eu.set(a,Cl(Eu.get(a)||null,e,n,t,r,i)),!0}return!1}function Y3(e){var n=Jo(e.target);if(n!==null){var t=ps(n);if(t!==null){if(n=t.tag,n===13){if(n=q1(t),n!==null){e.blockedOn=n,Y1(e.lanePriority,function(){Vn.unstable_runWithPriority(e.priority,function(){X1(t)})});return}}else if(n===3&&t.stateNode.hydrate){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vd(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var t=nw(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t!==null)return n=zu(t),n!==null&&Jy(n),e.blockedOn=t,!1;n.shift()}return!0}function pC(e,n,t){Vd(e)&&t.delete(n)}function K3(){for(wv=!1;0<mi.length;){var e=mi[0];if(e.blockedOn!==null){e=zu(e.blockedOn),e!==null&&Z1(e);break}for(var n=e.targetContainers;0<n.length;){var t=nw(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t!==null){e.blockedOn=t;break}n.shift()}e.blockedOn===null&&mi.shift()}so!==null&&Vd(so)&&(so=null),ao!==null&&Vd(ao)&&(ao=null),lo!==null&&Vd(lo)&&(lo=null),Su.forEach(pC),Eu.forEach(pC)}function Pl(e,n){e.blockedOn===n&&(e.blockedOn=null,wv||(wv=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,K3)))}function K1(e){function n(i){return Pl(i,e)}if(0<mi.length){Pl(mi[0],e);for(var t=1;t<mi.length;t++){var r=mi[t];r.blockedOn===e&&(r.blockedOn=null)}}for(so!==null&&Pl(so,e),ao!==null&&Pl(ao,e),lo!==null&&Pl(lo,e),Su.forEach(n),Eu.forEach(n),t=0;t<Tl.length;t++)r=Tl[t],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tl.length&&(t=Tl[0],t.blockedOn===null);)Y3(t),t.blockedOn===null&&Tl.shift()}function bd(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var ta={animationend:bd("Animation","AnimationEnd"),animationiteration:bd("Animation","AnimationIteration"),animationstart:bd("Animation","AnimationStart"),transitionend:bd("Transition","TransitionEnd")},jm={},J1={};Ni&&(J1=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function $h(e){if(jm[e])return jm[e];if(!ta[e])return e;var n=ta[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in J1)return jm[e]=n[t];return e}var Q1=$h("animationend"),eR=$h("animationiteration"),tR=$h("animationstart"),nR=$h("transitionend"),rR=new Map,Qy=new Map,J3=["abort","abort",Q1,"animationEnd",eR,"animationIteration",tR,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",nR,"transitionEnd","waiting","waiting"];function ew(e,n){for(var t=0;t<e.length;t+=2){var r=e[t],i=e[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Qy.set(r,n),rR.set(r,i),ds(i,[r])}}var Q3=Vn.unstable_now;Q3();var dn=8;function Ks(e){if(1&e)return dn=15,1;if(2&e)return dn=14,2;if(4&e)return dn=13,4;var n=24&e;return n!==0?(dn=12,n):e&32?(dn=11,32):(n=192&e,n!==0?(dn=10,n):e&256?(dn=9,256):(n=3584&e,n!==0?(dn=8,n):e&4096?(dn=7,4096):(n=4186112&e,n!==0?(dn=6,n):(n=62914560&e,n!==0?(dn=5,n):e&67108864?(dn=4,67108864):e&134217728?(dn=3,134217728):(n=805306368&e,n!==0?(dn=2,n):1073741824&e?(dn=1,1073741824):(dn=8,e))))))}function e5(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function t5(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error($e(358,e))}}function Tu(e,n){var t=e.pendingLanes;if(t===0)return dn=0;var r=0,i=0,a=e.expiredLanes,h=e.suspendedLanes,c=e.pingedLanes;if(a!==0)r=a,i=dn=15;else if(a=t&134217727,a!==0){var p=a&~h;p!==0?(r=Ks(p),i=dn):(c&=a,c!==0&&(r=Ks(c),i=dn))}else a=t&~h,a!==0?(r=Ks(a),i=dn):c!==0&&(r=Ks(c),i=dn);if(r===0)return 0;if(r=31-yo(r),r=t&((0>r?0:1<<r)<<1)-1,n!==0&&n!==r&&!(n&h)){if(Ks(n),i<=dn)return n;dn=i}if(n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=r;0<n;)t=31-yo(n),i=1<<t,r|=e[t],n&=~i;return r}function iR(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ah(e,n){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Js(24&~n),e===0?ah(10,n):e;case 10:return e=Js(192&~n),e===0?ah(8,n):e;case 8:return e=Js(3584&~n),e===0&&(e=Js(4186112&~n),e===0&&(e=512)),e;case 2:return n=Js(805306368&~n),n===0&&(n=268435456),n}throw Error($e(358,e))}function Js(e){return e&-e}function Nm(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Zh(e,n,t){e.pendingLanes|=n;var r=n-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,n=31-yo(n),e[n]=t}var yo=Math.clz32?Math.clz32:i5,n5=Math.log,r5=Math.LN2;function i5(e){return e===0?32:31-(n5(e)/r5|0)|0}var o5=Vn.unstable_UserBlockingPriority,s5=Vn.unstable_runWithPriority,Ud=!0;function a5(e,n,t,r){Ko||Yy();var i=tw,a=Ko;Ko=!0;try{W1(i,e,n,t,r)}finally{(Ko=a)||Ky()}}function l5(e,n,t,r){s5(o5,tw.bind(null,e,n,t,r))}function tw(e,n,t,r){if(Ud){var i;if((i=(n&4)===0)&&0<mi.length&&-1<dC.indexOf(e))e=xv(null,e,n,t,r),mi.push(e);else{var a=nw(e,n,t,r);if(a===null)i&&hC(e,r);else{if(i){if(-1<dC.indexOf(e)){e=xv(a,e,n,t,r),mi.push(e);return}if(X3(a,e,n,t,r))return;hC(e,r)}gR(e,n,r,null,t)}}}}function nw(e,n,t,r){var i=Zy(r);if(i=Jo(i),i!==null){var a=ps(i);if(a===null)i=null;else{var h=a.tag;if(h===13){if(i=q1(a),i!==null)return i;i=null}else if(h===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return gR(e,n,r,i,t),null}var no=null,rw=null,Wd=null;function oR(){if(Wd)return Wd;var e,n=rw,t=n.length,r,i="value"in no?no.value:no.textContent,a=i.length;for(e=0;e<t&&n[e]===i[e];e++);var h=t-e;for(r=1;r<=h&&n[t-r]===i[a-r];r++);return Wd=i.slice(e,1<r?1-r:void 0)}function Gd(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Sd(){return!0}function fC(){return!1}function Nr(e){function n(t,r,i,a,h){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=h,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(t=e[c],this[c]=t?t(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Sd:fC,this.isPropagationStopped=fC,this}return yn(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Sd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Sd)},persist:function(){},isPersistent:Sd}),n}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iw=Nr(Ba),Hu=yn({},Ba,{view:0,detail:0}),u5=Nr(Hu),Fm,Bm,kl,Xh=yn({},Hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ow,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kl&&(kl&&e.type==="mousemove"?(Fm=e.screenX-kl.screenX,Bm=e.screenY-kl.screenY):Bm=Fm=0,kl=e),Fm)},movementY:function(e){return"movementY"in e?e.movementY:Bm}}),mC=Nr(Xh),c5=yn({},Xh,{dataTransfer:0}),d5=Nr(c5),h5=yn({},Hu,{relatedTarget:0}),Hm=Nr(h5),p5=yn({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),f5=Nr(p5),m5=yn({},Ba,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g5=Nr(m5),v5=yn({},Ba,{data:0}),gC=Nr(v5),y5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b5(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=x5[e])?!!n[e]:!1}function ow(){return b5}var S5=yn({},Hu,{key:function(e){if(e.key){var n=y5[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Gd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ow,charCode:function(e){return e.type==="keypress"?Gd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E5=Nr(S5),T5=yn({},Xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vC=Nr(T5),C5=yn({},Hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ow}),P5=Nr(C5),k5=yn({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),_5=Nr(k5),R5=yn({},Xh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O5=Nr(R5),A5=[9,13,27,32],sw=Ni&&"CompositionEvent"in window,tu=null;Ni&&"documentMode"in document&&(tu=document.documentMode);var D5=Ni&&"TextEvent"in window&&!tu,sR=Ni&&(!sw||tu&&8<tu&&11>=tu),yC=" ",wC=!1;function aR(e,n){switch(e){case"keyup":return A5.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var na=!1;function M5(e,n){switch(e){case"compositionend":return lR(n);case"keypress":return n.which!==32?null:(wC=!0,yC);case"textInput":return e=n.data,e===yC&&wC?null:e;default:return null}}function I5(e,n){if(na)return e==="compositionend"||!sw&&aR(e,n)?(e=oR(),Wd=rw=no=null,na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return sR&&n.locale!=="ko"?null:n.data;default:return null}}var L5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xC(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!L5[e.type]:n==="textarea"}function uR(e,n,t,r){V1(r),n=lh(n,"onChange"),0<n.length&&(t=new iw("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var nu=null,Cu=null;function j5(e){pR(e,0)}function Yh(e){var n=ia(e);if(L1(n))return e}function N5(e,n){if(e==="change")return n}var cR=!1;if(Ni){var zm;if(Ni){var Vm="oninput"in document;if(!Vm){var bC=document.createElement("div");bC.setAttribute("oninput","return;"),Vm=typeof bC.oninput=="function"}zm=Vm}else zm=!1;cR=zm&&(!document.documentMode||9<document.documentMode)}function SC(){nu&&(nu.detachEvent("onpropertychange",dR),Cu=nu=null)}function dR(e){if(e.propertyName==="value"&&Yh(Cu)){var n=[];if(uR(n,Cu,e,Zy(e)),e=j5,Ko)e(n);else{Ko=!0;try{Xy(e,n)}finally{Ko=!1,Ky()}}}}function F5(e,n,t){e==="focusin"?(SC(),nu=n,Cu=t,nu.attachEvent("onpropertychange",dR)):e==="focusout"&&SC()}function B5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yh(Cu)}function H5(e,n){if(e==="click")return Yh(n)}function z5(e,n){if(e==="input"||e==="change")return Yh(n)}function V5(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ur=typeof Object.is=="function"?Object.is:V5,U5=Object.prototype.hasOwnProperty;function Pu(e,n){if(Ur(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!U5.call(n,t[r])||!Ur(e[t[r]],n[t[r]]))return!1;return!0}function EC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function TC(e,n){var t=EC(e);e=0;for(var r;t;){if(t.nodeType===3){if(r=e+t.textContent.length,e<=n&&r>=n)return{node:t,offset:n-e};e=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=EC(t)}}function hR(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?hR(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function CC(){for(var e=window,n=ih();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=ih(e.document)}return n}function bv(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var W5=Ni&&"documentMode"in document&&11>=document.documentMode,ra=null,Sv=null,ru=null,Ev=!1;function PC(e,n,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Ev||ra==null||ra!==ih(r)||(r=ra,"selectionStart"in r&&bv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ru&&Pu(ru,r)||(ru=r,r=lh(Sv,"onSelect"),0<r.length&&(n=new iw("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=ra)))}ew("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);ew("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);ew(J3,2);for(var kC="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Um=0;Um<kC.length;Um++)Qy.set(kC[Um],0);Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G5=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function _C(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,$3(r,n,void 0,e),e.currentTarget=null}function pR(e,n){n=(n&4)!==0;for(var t=0;t<e.length;t++){var r=e[t],i=r.event;r=r.listeners;e:{var a=void 0;if(n)for(var h=r.length-1;0<=h;h--){var c=r[h],p=c.instance,m=c.currentTarget;if(c=c.listener,p!==a&&i.isPropagationStopped())break e;_C(i,c,m),a=p}else for(h=0;h<r.length;h++){if(c=r[h],p=c.instance,m=c.currentTarget,c=c.listener,p!==a&&i.isPropagationStopped())break e;_C(i,c,m),a=p}}}if(sh)throw e=yv,sh=!1,yv=null,e}function fn(e,n){var t=yR(n),r=e+"__bubble";t.has(r)||(mR(n,e,2,!1),t.add(r))}var RC="_reactListening"+Math.random().toString(36).slice(2);function fR(e){e[RC]||(e[RC]=!0,D1.forEach(function(n){G5.has(n)||OC(n,!1,e,null),OC(n,!0,e,null)}))}function OC(e,n,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=t;e==="selectionchange"&&t.nodeType!==9&&(a=t.ownerDocument);var h=yR(a),c=e+"__"+(n?"capture":"bubble");h.has(c)||(n&&(i|=4),mR(a,e,i,n),h.add(c))}function mR(e,n,t,r){var i=Qy.get(n);switch(i===void 0?2:i){case 0:i=a5;break;case 1:i=l5;break;default:i=tw}t=i.bind(null,n,t,e),i=void 0,!vv||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(n,t,{capture:!0,passive:i}):e.addEventListener(n,t,!0):i!==void 0?e.addEventListener(n,t,{passive:i}):e.addEventListener(n,t,!1)}function gR(e,n,t,r,i){var a=r;if(!(n&1)&&!(n&2)&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(h===4)for(h=r.return;h!==null;){var p=h.tag;if((p===3||p===4)&&(p=h.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;h=h.return}for(;c!==null;){if(h=Jo(c),h===null)return;if(p=h.tag,p===5||p===6){r=a=h;continue e}c=c.parentNode}}r=r.return}U3(function(){var m=a,g=Zy(t),b=[];e:{var S=rR.get(e);if(S!==void 0){var T=iw,_=e;switch(e){case"keypress":if(Gd(t)===0)break e;case"keydown":case"keyup":T=E5;break;case"focusin":_="focus",T=Hm;break;case"focusout":_="blur",T=Hm;break;case"beforeblur":case"afterblur":T=Hm;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=mC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=d5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=P5;break;case Q1:case eR:case tR:T=f5;break;case nR:T=_5;break;case"scroll":T=u5;break;case"wheel":T=O5;break;case"copy":case"cut":case"paste":T=g5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=vC}var k=(n&4)!==0,C=!k&&e==="scroll",P=k?S!==null?S+"Capture":null:S;k=[];for(var A=m,N;A!==null;){N=A;var W=N.stateNode;if(N.tag===5&&W!==null&&(N=W,P!==null&&(W=bu(A,P),W!=null&&k.push(ku(A,W,N)))),C)break;A=A.return}0<k.length&&(S=new T(S,_,null,t,g),b.push({event:S,listeners:k}))}}if(!(n&7)){e:{if(S=e==="mouseover"||e==="pointerover",T=e==="mouseout"||e==="pointerout",S&&!(n&16)&&(_=t.relatedTarget||t.fromElement)&&(Jo(_)||_[Ha]))break e;if((T||S)&&(S=g.window===g?g:(S=g.ownerDocument)?S.defaultView||S.parentWindow:window,T?(_=t.relatedTarget||t.toElement,T=m,_=_?Jo(_):null,_!==null&&(C=ps(_),_!==C||_.tag!==5&&_.tag!==6)&&(_=null)):(T=null,_=m),T!==_)){if(k=mC,W="onMouseLeave",P="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(k=vC,W="onPointerLeave",P="onPointerEnter",A="pointer"),C=T==null?S:ia(T),N=_==null?S:ia(_),S=new k(W,A+"leave",T,t,g),S.target=C,S.relatedTarget=N,W=null,Jo(g)===m&&(k=new k(P,A+"enter",_,t,g),k.target=N,k.relatedTarget=C,W=k),C=W,T&&_)t:{for(k=T,P=_,A=0,N=k;N;N=qs(N))A++;for(N=0,W=P;W;W=qs(W))N++;for(;0<A-N;)k=qs(k),A--;for(;0<N-A;)P=qs(P),N--;for(;A--;){if(k===P||P!==null&&k===P.alternate)break t;k=qs(k),P=qs(P)}k=null}else k=null;T!==null&&AC(b,S,T,k,!1),_!==null&&C!==null&&AC(b,C,_,k,!0)}}e:{if(S=m?ia(m):window,T=S.nodeName&&S.nodeName.toLowerCase(),T==="select"||T==="input"&&S.type==="file")var Z=N5;else if(xC(S))if(cR)Z=z5;else{Z=B5;var H=F5}else(T=S.nodeName)&&T.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(Z=H5);if(Z&&(Z=Z(e,m))){uR(b,Z,t,g);break e}H&&H(e,S,m),e==="focusout"&&(H=S._wrapperState)&&H.controlled&&S.type==="number"&&uv(S,"number",S.value)}switch(H=m?ia(m):window,e){case"focusin":(xC(H)||H.contentEditable==="true")&&(ra=H,Sv=m,ru=null);break;case"focusout":ru=Sv=ra=null;break;case"mousedown":Ev=!0;break;case"contextmenu":case"mouseup":case"dragend":Ev=!1,PC(b,t,g);break;case"selectionchange":if(W5)break;case"keydown":case"keyup":PC(b,t,g)}var ie;if(sw)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else na?aR(e,t)&&(ne="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(ne="onCompositionStart");ne&&(sR&&t.locale!=="ko"&&(na||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&na&&(ie=oR()):(no=g,rw="value"in no?no.value:no.textContent,na=!0)),H=lh(m,ne),0<H.length&&(ne=new gC(ne,e,null,t,g),b.push({event:ne,listeners:H}),ie?ne.data=ie:(ie=lR(t),ie!==null&&(ne.data=ie)))),(ie=D5?M5(e,t):I5(e,t))&&(m=lh(m,"onBeforeInput"),0<m.length&&(g=new gC("onBeforeInput","beforeinput",null,t,g),b.push({event:g,listeners:m}),g.data=ie))}pR(b,n)})}function ku(e,n,t){return{instance:e,listener:n,currentTarget:t}}function lh(e,n){for(var t=n+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=bu(e,t),a!=null&&r.unshift(ku(e,a,i)),a=bu(e,n),a!=null&&r.push(ku(e,a,i))),e=e.return}return r}function qs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function AC(e,n,t,r,i){for(var a=n._reactName,h=[];t!==null&&t!==r;){var c=t,p=c.alternate,m=c.stateNode;if(p!==null&&p===r)break;c.tag===5&&m!==null&&(c=m,i?(p=bu(t,a),p!=null&&h.unshift(ku(t,p,c))):i||(p=bu(t,a),p!=null&&h.push(ku(t,p,c)))),t=t.return}h.length!==0&&e.push({event:n,listeners:h})}function uh(){}var Wm=null,Gm=null;function vR(e,n){switch(e){case"button":case"input":case"select":case"textarea":return!!n.autoFocus}return!1}function Tv(e,n){return e==="textarea"||e==="option"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var DC=typeof setTimeout=="function"?setTimeout:void 0,q5=typeof clearTimeout=="function"?clearTimeout:void 0;function aw(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function ma(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break}return e}function MC(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(n===0)return e;n--}else t==="/$"&&n++}e=e.previousSibling}return null}var qm=0;function $5(e){return{$$typeof:qy,toString:e,valueOf:e}}var Kh=Math.random().toString(36).slice(2),ro="__reactFiber$"+Kh,ch="__reactProps$"+Kh,Ha="__reactContainer$"+Kh,IC="__reactEvents$"+Kh;function Jo(e){var n=e[ro];if(n)return n;for(var t=e.parentNode;t;){if(n=t[Ha]||t[ro]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=MC(e);e!==null;){if(t=e[ro])return t;e=MC(e)}return n}e=t,t=e.parentNode}return null}function zu(e){return e=e[ro]||e[Ha],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ia(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($e(33))}function Jh(e){return e[ch]||null}function yR(e){var n=e[IC];return n===void 0&&(n=e[IC]=new Set),n}var Cv=[],oa=-1;function To(e){return{current:e}}function mn(e){0>oa||(e.current=Cv[oa],Cv[oa]=null,oa--)}function _n(e,n){oa++,Cv[oa]=e.current,e.current=n}var wo={},ur=To(wo),wr=To(!1),as=wo;function Pa(e,n){var t=e.type.contextTypes;if(!t)return wo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in t)i[a]=n[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function xr(e){return e=e.childContextTypes,e!=null}function dh(){mn(wr),mn(ur)}function LC(e,n,t){if(ur.current!==wo)throw Error($e(168));_n(ur,n),_n(wr,t)}function wR(e,n,t){var r=e.stateNode;if(e=n.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($e(108,da(n)||"Unknown",i));return yn({},t,r)}function qd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wo,as=ur.current,_n(ur,e),_n(wr,wr.current),!0}function jC(e,n,t){var r=e.stateNode;if(!r)throw Error($e(169));t?(e=wR(e,n,as),r.__reactInternalMemoizedMergedChildContext=e,mn(wr),mn(ur),_n(ur,e)):mn(wr),_n(wr,t)}var lw=null,rs=null,Z5=Vn.unstable_runWithPriority,uw=Vn.unstable_scheduleCallback,Pv=Vn.unstable_cancelCallback,X5=Vn.unstable_shouldYield,NC=Vn.unstable_requestPaint,kv=Vn.unstable_now,Y5=Vn.unstable_getCurrentPriorityLevel,Qh=Vn.unstable_ImmediatePriority,xR=Vn.unstable_UserBlockingPriority,bR=Vn.unstable_NormalPriority,SR=Vn.unstable_LowPriority,ER=Vn.unstable_IdlePriority,$m={},K5=NC!==void 0?NC:function(){},Oi=null,$d=null,Zm=!1,FC=kv(),ar=1e4>FC?kv:function(){return kv()-FC};function ka(){switch(Y5()){case Qh:return 99;case xR:return 98;case bR:return 97;case SR:return 96;case ER:return 95;default:throw Error($e(332))}}function TR(e){switch(e){case 99:return Qh;case 98:return xR;case 97:return bR;case 96:return SR;case 95:return ER;default:throw Error($e(332))}}function ls(e,n){return e=TR(e),Z5(e,n)}function _u(e,n,t){return e=TR(e),uw(e,n,t)}function Si(){if($d!==null){var e=$d;$d=null,Pv(e)}CR()}function CR(){if(!Zm&&Oi!==null){Zm=!0;var e=0;try{var n=Oi;ls(99,function(){for(;e<n.length;e++){var t=n[e];do t=t(!0);while(t!==null)}}),Oi=null}catch(t){throw Oi!==null&&(Oi=Oi.slice(e+1)),uw(Qh,Si),t}finally{Zm=!1}}}var J5=hs.ReactCurrentBatchConfig;function ri(e,n){if(e&&e.defaultProps){n=yn({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t]);return n}return n}var hh=To(null),ph=null,sa=null,fh=null;function cw(){fh=sa=ph=null}function dw(e){var n=hh.current;mn(hh),e.type._context._currentValue=n}function PR(e,n){for(;e!==null;){var t=e.alternate;if((e.childLanes&n)===n){if(t===null||(t.childLanes&n)===n)break;t.childLanes|=n}else e.childLanes|=n,t!==null&&(t.childLanes|=n);e=e.return}}function ga(e,n){ph=e,fh=sa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ii=!0),e.firstContext=null)}function $r(e,n){if(fh!==e&&n!==!1&&n!==0)if((typeof n!="number"||n===1073741823)&&(fh=e,n=1073741823),n={context:e,observedBits:n,next:null},sa===null){if(ph===null)throw Error($e(308));sa=n,ph.dependencies={lanes:0,firstContext:n,responders:null}}else sa=sa.next=n;return e._currentValue}var eo=!1;function hw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function kR(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function co(e,n){if(e=e.updateQueue,e!==null){e=e.shared;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}}function BC(e,n){var t=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,a=null;if(t=t.firstBaseUpdate,t!==null){do{var h={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};a===null?i=a=h:a=a.next=h,t=t.next}while(t!==null);a===null?i=a=n:a=a.next=n}else i=a=n;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Ru(e,n,t,r){var i=e.updateQueue;eo=!1;var a=i.firstBaseUpdate,h=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var p=c,m=p.next;p.next=null,h===null?a=m:h.next=m,h=p;var g=e.alternate;if(g!==null){g=g.updateQueue;var b=g.lastBaseUpdate;b!==h&&(b===null?g.firstBaseUpdate=m:b.next=m,g.lastBaseUpdate=p)}}if(a!==null){b=i.baseState,h=0,g=m=p=null;do{c=a.lane;var S=a.eventTime;if((r&c)===c){g!==null&&(g=g.next={eventTime:S,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=e,_=a;switch(c=n,S=t,_.tag){case 1:if(T=_.payload,typeof T=="function"){b=T.call(S,b,c);break e}b=T;break e;case 3:T.flags=T.flags&-4097|64;case 0:if(T=_.payload,c=typeof T=="function"?T.call(S,b,c):T,c==null)break e;b=yn({},b,c);break e;case 2:eo=!0}}a.callback!==null&&(e.flags|=32,c=i.effects,c===null?i.effects=[a]:c.push(a))}else S={eventTime:S,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(m=g=S,p=b):g=g.next=S,h|=c;if(a=a.next,a===null){if(c=i.shared.pending,c===null)break;a=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);g===null&&(p=b),i.baseState=p,i.firstBaseUpdate=m,i.lastBaseUpdate=g,Uu|=h,e.lanes=h,e.memoizedState=b}}function HC(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var r=e[n],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error($e(191,i));i.call(r)}}}var _R=new Wh.Component().refs;function mh(e,n,t,r){n=e.memoizedState,t=t(r,n),t=t==null?n:yn({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var ep={isMounted:function(e){return(e=e._reactInternals)?ps(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=jr(),i=ho(e),a=uo(r,i);a.payload=n,t!=null&&(a.callback=t),co(e,a),po(e,i,r)},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=jr(),i=ho(e),a=uo(r,i);a.tag=1,a.payload=n,t!=null&&(a.callback=t),co(e,a),po(e,i,r)},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=jr(),r=ho(e),i=uo(t,r);i.tag=2,n!=null&&(i.callback=n),co(e,i),po(e,r,t)}};function zC(e,n,t,r,i,a,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,h):n.prototype&&n.prototype.isPureReactComponent?!Pu(t,r)||!Pu(i,a):!0}function RR(e,n,t){var r=!1,i=wo,a=n.contextType;return typeof a=="object"&&a!==null?a=$r(a):(i=xr(n)?as:ur.current,r=n.contextTypes,a=(r=r!=null)?Pa(e,i):wo),n=new n(t,a),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ep,e.stateNode=n,n._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),n}function VC(e,n,t,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&ep.enqueueReplaceState(n,n.state,null)}function _v(e,n,t,r){var i=e.stateNode;i.props=t,i.state=e.memoizedState,i.refs=_R,hw(e);var a=n.contextType;typeof a=="object"&&a!==null?i.context=$r(a):(a=xr(n)?as:ur.current,i.context=Pa(e,a)),Ru(e,t,i,r),i.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(mh(e,n,a,t),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(n=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),n!==i.state&&ep.enqueueReplaceState(i,i.state,null),Ru(e,t,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var Ed=Array.isArray;function _l(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error($e(309));var r=t.stateNode}if(!r)throw Error($e(147,e));var i=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===i?n.ref:(n=function(a){var h=r.refs;h===_R&&(h=r.refs={}),a===null?delete h[i]:h[i]=a},n._stringRef=i,n)}if(typeof e!="string")throw Error($e(284));if(!t._owner)throw Error($e(290,e))}return e}function Td(e,n){if(e.type!=="textarea")throw Error($e(31,Object.prototype.toString.call(n)==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":n))}function OR(e){function n(C,P){if(e){var A=C.lastEffect;A!==null?(A.nextEffect=P,C.lastEffect=P):C.firstEffect=C.lastEffect=P,P.nextEffect=null,P.flags=8}}function t(C,P){if(!e)return null;for(;P!==null;)n(C,P),P=P.sibling;return null}function r(C,P){for(C=new Map;P!==null;)P.key!==null?C.set(P.key,P):C.set(P.index,P),P=P.sibling;return C}function i(C,P){return C=bo(C,P),C.index=0,C.sibling=null,C}function a(C,P,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<P?(C.flags=2,P):A):(C.flags=2,P)):P}function h(C){return e&&C.alternate===null&&(C.flags=2),C}function c(C,P,A,N){return P===null||P.tag!==6?(P=Qm(A,C.mode,N),P.return=C,P):(P=i(P,A),P.return=C,P)}function p(C,P,A,N){return P!==null&&P.elementType===A.type?(N=i(P,A.props),N.ref=_l(C,P,A),N.return=C,N):(N=Kd(A.type,A.key,A.props,null,C.mode,N),N.ref=_l(C,P,A),N.return=C,N)}function m(C,P,A,N){return P===null||P.tag!==4||P.stateNode.containerInfo!==A.containerInfo||P.stateNode.implementation!==A.implementation?(P=eg(A,C.mode,N),P.return=C,P):(P=i(P,A.children||[]),P.return=C,P)}function g(C,P,A,N,W){return P===null||P.tag!==7?(P=xa(A,C.mode,N,W),P.return=C,P):(P=i(P,A),P.return=C,P)}function b(C,P,A){if(typeof P=="string"||typeof P=="number")return P=Qm(""+P,C.mode,A),P.return=C,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Bl:return A=Kd(P.type,P.key,P.props,null,C.mode,A),A.ref=_l(C,null,P),A.return=C,A;case Yo:return P=eg(P,C.mode,A),P.return=C,P}if(Ed(P)||Sl(P))return P=xa(P,C.mode,A,null),P.return=C,P;Td(C,P)}return null}function S(C,P,A,N){var W=P!==null?P.key:null;if(typeof A=="string"||typeof A=="number")return W!==null?null:c(C,P,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Bl:return A.key===W?A.type===to?g(C,P,A.props.children,N,W):p(C,P,A,N):null;case Yo:return A.key===W?m(C,P,A,N):null}if(Ed(A)||Sl(A))return W!==null?null:g(C,P,A,N,null);Td(C,A)}return null}function T(C,P,A,N,W){if(typeof N=="string"||typeof N=="number")return C=C.get(A)||null,c(P,C,""+N,W);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Bl:return C=C.get(N.key===null?A:N.key)||null,N.type===to?g(P,C,N.props.children,W,N.key):p(P,C,N,W);case Yo:return C=C.get(N.key===null?A:N.key)||null,m(P,C,N,W)}if(Ed(N)||Sl(N))return C=C.get(A)||null,g(P,C,N,W,null);Td(P,N)}return null}function _(C,P,A,N){for(var W=null,Z=null,H=P,ie=P=0,ne=null;H!==null&&ie<A.length;ie++){H.index>ie?(ne=H,H=null):ne=H.sibling;var ae=S(C,H,A[ie],N);if(ae===null){H===null&&(H=ne);break}e&&H&&ae.alternate===null&&n(C,H),P=a(ae,P,ie),Z===null?W=ae:Z.sibling=ae,Z=ae,H=ne}if(ie===A.length)return t(C,H),W;if(H===null){for(;ie<A.length;ie++)H=b(C,A[ie],N),H!==null&&(P=a(H,P,ie),Z===null?W=H:Z.sibling=H,Z=H);return W}for(H=r(C,H);ie<A.length;ie++)ne=T(H,C,ie,A[ie],N),ne!==null&&(e&&ne.alternate!==null&&H.delete(ne.key===null?ie:ne.key),P=a(ne,P,ie),Z===null?W=ne:Z.sibling=ne,Z=ne);return e&&H.forEach(function(Se){return n(C,Se)}),W}function k(C,P,A,N){var W=Sl(A);if(typeof W!="function")throw Error($e(150));if(A=W.call(A),A==null)throw Error($e(151));for(var Z=W=null,H=P,ie=P=0,ne=null,ae=A.next();H!==null&&!ae.done;ie++,ae=A.next()){H.index>ie?(ne=H,H=null):ne=H.sibling;var Se=S(C,H,ae.value,N);if(Se===null){H===null&&(H=ne);break}e&&H&&Se.alternate===null&&n(C,H),P=a(Se,P,ie),Z===null?W=Se:Z.sibling=Se,Z=Se,H=ne}if(ae.done)return t(C,H),W;if(H===null){for(;!ae.done;ie++,ae=A.next())ae=b(C,ae.value,N),ae!==null&&(P=a(ae,P,ie),Z===null?W=ae:Z.sibling=ae,Z=ae);return W}for(H=r(C,H);!ae.done;ie++,ae=A.next())ae=T(H,C,ie,ae.value,N),ae!==null&&(e&&ae.alternate!==null&&H.delete(ae.key===null?ie:ae.key),P=a(ae,P,ie),Z===null?W=ae:Z.sibling=ae,Z=ae);return e&&H.forEach(function(me){return n(C,me)}),W}return function(C,P,A,N){var W=typeof A=="object"&&A!==null&&A.type===to&&A.key===null;W&&(A=A.props.children);var Z=typeof A=="object"&&A!==null;if(Z)switch(A.$$typeof){case Bl:e:{for(Z=A.key,W=P;W!==null;){if(W.key===Z){switch(W.tag){case 7:if(A.type===to){t(C,W.sibling),P=i(W,A.props.children),P.return=C,C=P;break e}break;default:if(W.elementType===A.type){t(C,W.sibling),P=i(W,A.props),P.ref=_l(C,W,A),P.return=C,C=P;break e}}t(C,W);break}else n(C,W);W=W.sibling}A.type===to?(P=xa(A.props.children,C.mode,N,A.key),P.return=C,C=P):(N=Kd(A.type,A.key,A.props,null,C.mode,N),N.ref=_l(C,P,A),N.return=C,C=N)}return h(C);case Yo:e:{for(W=A.key;P!==null;){if(P.key===W)if(P.tag===4&&P.stateNode.containerInfo===A.containerInfo&&P.stateNode.implementation===A.implementation){t(C,P.sibling),P=i(P,A.children||[]),P.return=C,C=P;break e}else{t(C,P);break}else n(C,P);P=P.sibling}P=eg(A,C.mode,N),P.return=C,C=P}return h(C)}if(typeof A=="string"||typeof A=="number")return A=""+A,P!==null&&P.tag===6?(t(C,P.sibling),P=i(P,A),P.return=C,C=P):(t(C,P),P=Qm(A,C.mode,N),P.return=C,C=P),h(C);if(Ed(A))return _(C,P,A,N);if(Sl(A))return k(C,P,A,N);if(Z&&Td(C,A),typeof A>"u"&&!W)switch(C.tag){case 1:case 22:case 0:case 11:case 15:throw Error($e(152,da(C.type)||"Component"))}return t(C,P)}}var gh=OR(!0),AR=OR(!1),Vu={},yi=To(Vu),Ou=To(Vu),Au=To(Vu);function Qo(e){if(e===Vu)throw Error($e(174));return e}function Rv(e,n){switch(_n(Au,n),_n(Ou,e),_n(yi,Vu),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:pv(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=pv(n,e)}mn(yi),_n(yi,n)}function _a(){mn(yi),mn(Ou),mn(Au)}function UC(e){Qo(Au.current);var n=Qo(yi.current),t=pv(n,e.type);n!==t&&(_n(Ou,e),_n(yi,t))}function pw(e){Ou.current===e&&(mn(yi),mn(Ou))}var kn=To(0);function vh(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&64)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Mi=null,io=null,wi=!1;function DR(e,n){var t=Wr(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=n,t.return=e,t.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t}function WC(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,!0):!1;case 13:return!1;default:return!1}}function Ov(e){if(wi){var n=io;if(n){var t=n;if(!WC(e,n)){if(n=ma(t.nextSibling),!n||!WC(e,n)){e.flags=e.flags&-1025|2,wi=!1,Mi=e;return}DR(Mi,t)}Mi=e,io=ma(n.firstChild)}else e.flags=e.flags&-1025|2,wi=!1,Mi=e}}function GC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mi=e}function Cd(e){if(e!==Mi)return!1;if(!wi)return GC(e),wi=!0,!1;var n=e.type;if(e.tag!==5||n!=="head"&&n!=="body"&&!Tv(n,e.memoizedProps))for(n=io;n;)DR(e,n),n=ma(n.nextSibling);if(GC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($e(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(n===0){io=ma(e.nextSibling);break e}n--}else t!=="$"&&t!=="$!"&&t!=="$?"||n++}e=e.nextSibling}io=null}}else io=Mi?ma(e.stateNode.nextSibling):null;return!0}function Xm(){io=Mi=null,wi=!1}var va=[];function fw(){for(var e=0;e<va.length;e++)va[e]._workInProgressVersionPrimary=null;va.length=0}var iu=hs.ReactCurrentDispatcher,qr=hs.ReactCurrentBatchConfig,Du=0,Rn=null,or=null,Yn=null,yh=!1,ou=!1;function gr(){throw Error($e(321))}function mw(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!Ur(e[t],n[t]))return!1;return!0}function gw(e,n,t,r,i,a){if(Du=a,Rn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,iu.current=e===null||e.memoizedState===null?e4:t4,e=t(r,i),ou){a=0;do{if(ou=!1,!(25>a))throw Error($e(301));a+=1,Yn=or=null,n.updateQueue=null,iu.current=n4,e=t(r,i)}while(ou)}if(iu.current=Sh,n=or!==null&&or.next!==null,Du=0,Yn=or=Rn=null,yh=!1,n)throw Error($e(300));return e}function es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?Rn.memoizedState=Yn=e:Yn=Yn.next=e,Yn}function fs(){if(or===null){var e=Rn.alternate;e=e!==null?e.memoizedState:null}else e=or.next;var n=Yn===null?Rn.memoizedState:Yn.next;if(n!==null)Yn=n,or=e;else{if(e===null)throw Error($e(310));or=e,e={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},Yn===null?Rn.memoizedState=Yn=e:Yn=Yn.next=e}return Yn}function gi(e,n){return typeof n=="function"?n(e):n}function Rl(e){var n=fs(),t=n.queue;if(t===null)throw Error($e(311));t.lastRenderedReducer=e;var r=or,i=r.baseQueue,a=t.pending;if(a!==null){if(i!==null){var h=i.next;i.next=a.next,a.next=h}r.baseQueue=i=a,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var c=h=a=null,p=i;do{var m=p.lane;if((Du&m)===m)c!==null&&(c=c.next={lane:0,action:p.action,eagerReducer:p.eagerReducer,eagerState:p.eagerState,next:null}),r=p.eagerReducer===e?p.eagerState:e(r,p.action);else{var g={lane:m,action:p.action,eagerReducer:p.eagerReducer,eagerState:p.eagerState,next:null};c===null?(h=c=g,a=r):c=c.next=g,Rn.lanes|=m,Uu|=m}p=p.next}while(p!==null&&p!==i);c===null?a=r:c.next=h,Ur(r,n.memoizedState)||(ii=!0),n.memoizedState=r,n.baseState=a,n.baseQueue=c,t.lastRenderedState=r}return[n.memoizedState,t.dispatch]}function Ol(e){var n=fs(),t=n.queue;if(t===null)throw Error($e(311));t.lastRenderedReducer=e;var r=t.dispatch,i=t.pending,a=n.memoizedState;if(i!==null){t.pending=null;var h=i=i.next;do a=e(a,h.action),h=h.next;while(h!==i);Ur(a,n.memoizedState)||(ii=!0),n.memoizedState=a,n.baseQueue===null&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function qC(e,n,t){var r=n._getVersion;r=r(n._source);var i=n._workInProgressVersionPrimary;if(i!==null?e=i===r:(e=e.mutableReadLanes,(e=(Du&e)===e)&&(n._workInProgressVersionPrimary=r,va.push(n))),e)return t(n._source);throw va.push(n),Error($e(350))}function MR(e,n,t,r){var i=dr;if(i===null)throw Error($e(349));var a=n._getVersion,h=a(n._source),c=iu.current,p=c.useState(function(){return qC(i,n,t)}),m=p[1],g=p[0];p=Yn;var b=e.memoizedState,S=b.refs,T=S.getSnapshot,_=b.source;b=b.subscribe;var k=Rn;return e.memoizedState={refs:S,source:n,subscribe:r},c.useEffect(function(){S.getSnapshot=t,S.setSnapshot=m;var C=a(n._source);if(!Ur(h,C)){C=t(n._source),Ur(g,C)||(m(C),C=ho(k),i.mutableReadLanes|=C&i.pendingLanes),C=i.mutableReadLanes,i.entangledLanes|=C;for(var P=i.entanglements,A=C;0<A;){var N=31-yo(A),W=1<<N;P[N]|=C,A&=~W}}},[t,n,r]),c.useEffect(function(){return r(n._source,function(){var C=S.getSnapshot,P=S.setSnapshot;try{P(C(n._source));var A=ho(k);i.mutableReadLanes|=A&i.pendingLanes}catch(N){P(function(){throw N})}})},[n,r]),Ur(T,t)&&Ur(_,n)&&Ur(b,r)||(e={pending:null,dispatch:null,lastRenderedReducer:gi,lastRenderedState:g},e.dispatch=m=ww.bind(null,Rn,e),p.queue=e,p.baseQueue=null,g=qC(i,n,t),p.memoizedState=p.baseState=g),g}function IR(e,n,t){var r=fs();return MR(r,e,n,t)}function Al(e){var n=es();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},e=e.dispatch=ww.bind(null,Rn,e),[n.memoizedState,e]}function wh(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},n=Rn.updateQueue,n===null?(n={lastEffect:null},Rn.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e)),e}function $C(e){var n=es();return e={current:e},n.memoizedState=e}function xh(){return fs().memoizedState}function Av(e,n,t,r){var i=es();Rn.flags|=e,i.memoizedState=wh(1|n,t,void 0,r===void 0?null:r)}function vw(e,n,t,r){var i=fs();r=r===void 0?null:r;var a=void 0;if(or!==null){var h=or.memoizedState;if(a=h.destroy,r!==null&&mw(r,h.deps)){wh(n,t,a,r);return}}Rn.flags|=e,i.memoizedState=wh(1|n,t,a,r)}function ZC(e,n){return Av(516,4,e,n)}function bh(e,n){return vw(516,4,e,n)}function LR(e,n){return vw(4,2,e,n)}function jR(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function NR(e,n,t){return t=t!=null?t.concat([e]):null,vw(4,2,jR.bind(null,n,e),t)}function yw(){}function FR(e,n){var t=fs();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&mw(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function BR(e,n){var t=fs();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&mw(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function Q5(e,n){var t=ka();ls(98>t?98:t,function(){e(!0)}),ls(97<t?97:t,function(){var r=qr.transition;qr.transition=1;try{e(!1),n()}finally{qr.transition=r}})}function ww(e,n,t){var r=jr(),i=ho(e),a={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},h=n.pending;if(h===null?a.next=a:(a.next=h.next,h.next=a),n.pending=a,h=e.alternate,e===Rn||h!==null&&h===Rn)ou=yh=!0;else{if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var c=n.lastRenderedState,p=h(c,t);if(a.eagerReducer=h,a.eagerState=p,Ur(p,c))return}catch{}finally{}po(e,i,r)}}var Sh={readContext:$r,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useOpaqueIdentifier:gr,unstable_isNewReconciler:!1},e4={readContext:$r,useCallback:function(e,n){return es().memoizedState=[e,n===void 0?null:n],e},useContext:$r,useEffect:ZC,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,Av(4,2,jR.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Av(4,2,e,n)},useMemo:function(e,n){var t=es();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=es();return n=t!==void 0?t(n):n,r.memoizedState=r.baseState=n,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},e=e.dispatch=ww.bind(null,Rn,e),[r.memoizedState,e]},useRef:$C,useState:Al,useDebugValue:yw,useDeferredValue:function(e){var n=Al(e),t=n[0],r=n[1];return ZC(function(){var i=qr.transition;qr.transition=1;try{r(e)}finally{qr.transition=i}},[e]),t},useTransition:function(){var e=Al(!1),n=e[0];return e=Q5.bind(null,e[1]),$C(e),[e,n]},useMutableSource:function(e,n,t){var r=es();return r.memoizedState={refs:{getSnapshot:n,setSnapshot:null},source:e,subscribe:t},MR(r,e,n,t)},useOpaqueIdentifier:function(){if(wi){var e=!1,n=$5(function(){throw e||(e=!0,t("r:"+(qm++).toString(36))),Error($e(355))}),t=Al(n)[1];return!(Rn.mode&2)&&(Rn.flags|=516,wh(5,function(){t("r:"+(qm++).toString(36))},void 0,null)),n}return n="r:"+(qm++).toString(36),Al(n),n},unstable_isNewReconciler:!1},t4={readContext:$r,useCallback:FR,useContext:$r,useEffect:bh,useImperativeHandle:NR,useLayoutEffect:LR,useMemo:BR,useReducer:Rl,useRef:xh,useState:function(){return Rl(gi)},useDebugValue:yw,useDeferredValue:function(e){var n=Rl(gi),t=n[0],r=n[1];return bh(function(){var i=qr.transition;qr.transition=1;try{r(e)}finally{qr.transition=i}},[e]),t},useTransition:function(){var e=Rl(gi)[0];return[xh().current,e]},useMutableSource:IR,useOpaqueIdentifier:function(){return Rl(gi)[0]},unstable_isNewReconciler:!1},n4={readContext:$r,useCallback:FR,useContext:$r,useEffect:bh,useImperativeHandle:NR,useLayoutEffect:LR,useMemo:BR,useReducer:Ol,useRef:xh,useState:function(){return Ol(gi)},useDebugValue:yw,useDeferredValue:function(e){var n=Ol(gi),t=n[0],r=n[1];return bh(function(){var i=qr.transition;qr.transition=1;try{r(e)}finally{qr.transition=i}},[e]),t},useTransition:function(){var e=Ol(gi)[0];return[xh().current,e]},useMutableSource:IR,useOpaqueIdentifier:function(){return Ol(gi)[0]},unstable_isNewReconciler:!1},r4=hs.ReactCurrentOwner,ii=!1;function yr(e,n,t,r){n.child=e===null?AR(n,null,t,r):gh(n,e.child,t,r)}function XC(e,n,t,r,i){t=t.render;var a=n.ref;return ga(n,i),r=gw(e,n,t,r,a,i),e!==null&&!ii?(n.updateQueue=e.updateQueue,n.flags&=-517,e.lanes&=~i,Ii(e,n,i)):(n.flags|=1,yr(e,n,r,i),n.child)}function YC(e,n,t,r,i,a){if(e===null){var h=t.type;return typeof h=="function"&&!Cw(h)&&h.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=h,HR(e,n,h,r,i,a)):(e=Kd(t.type,null,r,n,n.mode,a),e.ref=n.ref,e.return=n,n.child=e)}return h=e.child,!(i&a)&&(i=h.memoizedProps,t=t.compare,t=t!==null?t:Pu,t(i,r)&&e.ref===n.ref)?Ii(e,n,a):(n.flags|=1,e=bo(h,r),e.ref=n.ref,e.return=n,n.child=e)}function HR(e,n,t,r,i,a){if(e!==null&&Pu(e.memoizedProps,r)&&e.ref===n.ref)if(ii=!1,(a&i)!==0)e.flags&16384&&(ii=!0);else return n.lanes=e.lanes,Ii(e,n,a);return Dv(e,n,t,r,a)}function Ym(e,n,t){var r=n.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(n.mode&4))n.memoizedState={baseLanes:0},kd(n,t);else if(t&1073741824)n.memoizedState={baseLanes:0},kd(n,a!==null?a.baseLanes:t);else return e=a!==null?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e},kd(n,e),null;else a!==null?(r=a.baseLanes|t,n.memoizedState=null):r=t,kd(n,r);return yr(e,n,i,t),n.child}function zR(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.flags|=128)}function Dv(e,n,t,r,i){var a=xr(t)?as:ur.current;return a=Pa(n,a),ga(n,i),t=gw(e,n,t,r,a,i),e!==null&&!ii?(n.updateQueue=e.updateQueue,n.flags&=-517,e.lanes&=~i,Ii(e,n,i)):(n.flags|=1,yr(e,n,t,i),n.child)}function KC(e,n,t,r,i){if(xr(t)){var a=!0;qd(n)}else a=!1;if(ga(n,i),n.stateNode===null)e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),RR(n,t,r),_v(n,t,r,i),r=!0;else if(e===null){var h=n.stateNode,c=n.memoizedProps;h.props=c;var p=h.context,m=t.contextType;typeof m=="object"&&m!==null?m=$r(m):(m=xr(t)?as:ur.current,m=Pa(n,m));var g=t.getDerivedStateFromProps,b=typeof g=="function"||typeof h.getSnapshotBeforeUpdate=="function";b||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(c!==r||p!==m)&&VC(n,h,r,m),eo=!1;var S=n.memoizedState;h.state=S,Ru(n,r,h,i),p=n.memoizedState,c!==r||S!==p||wr.current||eo?(typeof g=="function"&&(mh(n,t,g,r),p=n.memoizedState),(c=eo||zC(n,t,c,r,S,p,m))?(b||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4)):(typeof h.componentDidMount=="function"&&(n.flags|=4),n.memoizedProps=r,n.memoizedState=p),h.props=r,h.state=p,h.context=m,r=c):(typeof h.componentDidMount=="function"&&(n.flags|=4),r=!1)}else{h=n.stateNode,kR(e,n),c=n.memoizedProps,m=n.type===n.elementType?c:ri(n.type,c),h.props=m,b=n.pendingProps,S=h.context,p=t.contextType,typeof p=="object"&&p!==null?p=$r(p):(p=xr(t)?as:ur.current,p=Pa(n,p));var T=t.getDerivedStateFromProps;(g=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(c!==b||S!==p)&&VC(n,h,r,p),eo=!1,S=n.memoizedState,h.state=S,Ru(n,r,h,i);var _=n.memoizedState;c!==b||S!==_||wr.current||eo?(typeof T=="function"&&(mh(n,t,T,r),_=n.memoizedState),(m=eo||zC(n,t,m,r,S,_,p))?(g||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,_,p),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,_,p)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=256)):(typeof h.componentDidUpdate!="function"||c===e.memoizedProps&&S===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&S===e.memoizedState||(n.flags|=256),n.memoizedProps=r,n.memoizedState=_),h.props=r,h.state=_,h.context=p,r=m):(typeof h.componentDidUpdate!="function"||c===e.memoizedProps&&S===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&S===e.memoizedState||(n.flags|=256),r=!1)}return Mv(e,n,t,r,a,i)}function Mv(e,n,t,r,i,a){zR(e,n);var h=(n.flags&64)!==0;if(!r&&!h)return i&&jC(n,t,!1),Ii(e,n,a);r=n.stateNode,r4.current=n;var c=h&&typeof t.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,e!==null&&h?(n.child=gh(n,e.child,null,a),n.child=gh(n,null,c,a)):yr(e,n,c,a),n.memoizedState=r.state,i&&jC(n,t,!0),n.child}function JC(e){var n=e.stateNode;n.pendingContext?LC(e,n.pendingContext,n.pendingContext!==n.context):n.context&&LC(e,n.context,!1),Rv(e,n.containerInfo)}var Pd={dehydrated:null,retryLane:0};function QC(e,n,t){var r=n.pendingProps,i=kn.current,a=!1,h;return(h=(n.flags&64)!==0)||(h=e!==null&&e.memoizedState===null?!1:(i&2)!==0),h?(a=!0,n.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),_n(kn,i&1),e===null?(r.fallback!==void 0&&Ov(n),e=r.children,i=r.fallback,a?(e=eP(n,e,i,t),n.child.memoizedState={baseLanes:t},n.memoizedState=Pd,e):typeof r.unstable_expectedLoadTime=="number"?(e=eP(n,e,i,t),n.child.memoizedState={baseLanes:t},n.memoizedState=Pd,n.lanes=33554432,e):(t=Pw({mode:"visible",children:e},n.mode,t,null),t.return=n,n.child=t)):e.memoizedState!==null?a?(r=nP(e,n,r.children,r.fallback,t),a=n.child,i=e.child.memoizedState,a.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},a.childLanes=e.childLanes&~t,n.memoizedState=Pd,r):(t=tP(e,n,r.children,t),n.memoizedState=null,t):a?(r=nP(e,n,r.children,r.fallback,t),a=n.child,i=e.child.memoizedState,a.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},a.childLanes=e.childLanes&~t,n.memoizedState=Pd,r):(t=tP(e,n,r.children,t),n.memoizedState=null,t)}function eP(e,n,t,r){var i=e.mode,a=e.child;return n={mode:"hidden",children:n},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=n):a=Pw(n,i,0,null),t=xa(t,i,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,t}function tP(e,n,t,r){var i=e.child;return e=i.sibling,t=bo(i,{mode:"visible",children:t}),!(n.mode&2)&&(t.lanes=r),t.return=n,t.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,n.firstEffect=n.lastEffect=e),n.child=t}function nP(e,n,t,r,i){var a=n.mode,h=e.child;e=h.sibling;var c={mode:"hidden",children:t};return!(a&2)&&n.child!==h?(t=n.child,t.childLanes=0,t.pendingProps=c,h=t.lastEffect,h!==null?(n.firstEffect=t.firstEffect,n.lastEffect=h,h.nextEffect=null):n.firstEffect=n.lastEffect=null):t=bo(h,c),e!==null?r=bo(e,r):(r=xa(r,a,i,null),r.flags|=2),r.return=n,t.return=n,t.sibling=r,n.child=t,r}function rP(e,n){e.lanes|=n;var t=e.alternate;t!==null&&(t.lanes|=n),PR(e.return,n)}function Km(e,n,t,r,i,a){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:a}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=t,h.tailMode=i,h.lastEffect=a)}function iP(e,n,t){var r=n.pendingProps,i=r.revealOrder,a=r.tail;if(yr(e,n,r.children,t),r=kn.current,r&2)r=r&1|2,n.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rP(e,t);else if(e.tag===19)rP(e,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_n(kn,r),!(n.mode&2))n.memoizedState=null;else switch(i){case"forwards":for(t=n.child,i=null;t!==null;)e=t.alternate,e!==null&&vh(e)===null&&(i=t),t=t.sibling;t=i,t===null?(i=n.child,n.child=null):(i=t.sibling,t.sibling=null),Km(n,!1,i,t,a,n.lastEffect);break;case"backwards":for(t=null,i=n.child,n.child=null;i!==null;){if(e=i.alternate,e!==null&&vh(e)===null){n.child=i;break}e=i.sibling,i.sibling=t,t=i,i=e}Km(n,!0,t,null,a,n.lastEffect);break;case"together":Km(n,!1,null,null,void 0,n.lastEffect);break;default:n.memoizedState=null}return n.child}function Ii(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),Uu|=n.lanes,t&n.childLanes){if(e!==null&&n.child!==e.child)throw Error($e(153));if(n.child!==null){for(e=n.child,t=bo(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=bo(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}return null}var VR,Iv,UR,WR;VR=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Iv=function(){};UR=function(e,n,t,r){var i=e.memoizedProps;if(i!==r){e=n.stateNode,Qo(yi.current);var a=null;switch(t){case"input":i=av(e,i),r=av(e,r),a=[];break;case"option":i=cv(e,i),r=cv(e,r),a=[];break;case"select":i=yn({},i,{value:void 0}),r=yn({},r,{value:void 0}),a=[];break;case"textarea":i=dv(e,i),r=dv(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=uh)}fv(t,r);var h;t=null;for(m in i)if(!r.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var c=i[m];for(h in c)c.hasOwnProperty(h)&&(t||(t={}),t[h]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(wu.hasOwnProperty(m)?a||(a=[]):(a=a||[]).push(m,null));for(m in r){var p=r[m];if(c=i!=null?i[m]:void 0,r.hasOwnProperty(m)&&p!==c&&(p!=null||c!=null))if(m==="style")if(c){for(h in c)!c.hasOwnProperty(h)||p&&p.hasOwnProperty(h)||(t||(t={}),t[h]="");for(h in p)p.hasOwnProperty(h)&&c[h]!==p[h]&&(t||(t={}),t[h]=p[h])}else t||(a||(a=[]),a.push(m,t)),t=p;else m==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,c=c?c.__html:void 0,p!=null&&c!==p&&(a=a||[]).push(m,p)):m==="children"?typeof p!="string"&&typeof p!="number"||(a=a||[]).push(m,""+p):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(wu.hasOwnProperty(m)?(p!=null&&m==="onScroll"&&fn("scroll",e),a||c===p||(a=[])):typeof p=="object"&&p!==null&&p.$$typeof===qy?p.toString():(a=a||[]).push(m,p))}t&&(a=a||[]).push("style",t);var m=a;(n.updateQueue=m)&&(n.flags|=4)}};WR=function(e,n,t,r){t!==r&&(n.flags|=4)};function Dl(e,n){if(!wi)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function i4(e,n,t){var r=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return xr(n.type)&&dh(),null;case 3:return _a(),mn(wr),mn(ur),fw(),r=n.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cd(n)?n.flags|=4:r.hydrate||(n.flags|=256)),Iv(n),null;case 5:pw(n);var i=Qo(Au.current);if(t=n.type,e!==null&&n.stateNode!=null)UR(e,n,t,r,i),e.ref!==n.ref&&(n.flags|=128);else{if(!r){if(n.stateNode===null)throw Error($e(166));return null}if(e=Qo(yi.current),Cd(n)){r=n.stateNode,t=n.type;var a=n.memoizedProps;switch(r[ro]=n,r[ch]=a,t){case"dialog":fn("cancel",r),fn("close",r);break;case"iframe":case"object":case"embed":fn("load",r);break;case"video":case"audio":for(e=0;e<zl.length;e++)fn(zl[e],r);break;case"source":fn("error",r);break;case"img":case"image":case"link":fn("error",r),fn("load",r);break;case"details":fn("toggle",r);break;case"input":iC(r,a),fn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},fn("invalid",r);break;case"textarea":sC(r,a),fn("invalid",r)}fv(t,a),e=null;for(var h in a)a.hasOwnProperty(h)&&(i=a[h],h==="children"?typeof i=="string"?r.textContent!==i&&(e=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(e=["children",""+i]):wu.hasOwnProperty(h)&&i!=null&&h==="onScroll"&&fn("scroll",r));switch(t){case"input":wd(r),oC(r,a,!0);break;case"textarea":wd(r),aC(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=uh)}r=e,n.updateQueue=r,r!==null&&(n.flags|=4)}else{switch(h=i.nodeType===9?i:i.ownerDocument,e===hv.html&&(e=F1(t)),e===hv.html?t==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=h.createElement(t,{is:r.is}):(e=h.createElement(t),t==="select"&&(h=e,r.multiple?h.multiple=!0:r.size&&(h.size=r.size))):e=h.createElementNS(e,t),e[ro]=n,e[ch]=r,VR(e,n,!1,!1),n.stateNode=e,h=mv(t,r),t){case"dialog":fn("cancel",e),fn("close",e),i=r;break;case"iframe":case"object":case"embed":fn("load",e),i=r;break;case"video":case"audio":for(i=0;i<zl.length;i++)fn(zl[i],e);i=r;break;case"source":fn("error",e),i=r;break;case"img":case"image":case"link":fn("error",e),fn("load",e),i=r;break;case"details":fn("toggle",e),i=r;break;case"input":iC(e,r),i=av(e,r),fn("invalid",e);break;case"option":i=cv(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=yn({},r,{value:void 0}),fn("invalid",e);break;case"textarea":sC(e,r),i=dv(e,r),fn("invalid",e);break;default:i=r}fv(t,i);var c=i;for(a in c)if(c.hasOwnProperty(a)){var p=c[a];a==="style"?z1(e,p):a==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&B1(e,p)):a==="children"?typeof p=="string"?(t!=="textarea"||p!=="")&&xu(e,p):typeof p=="number"&&xu(e,""+p):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wu.hasOwnProperty(a)?p!=null&&a==="onScroll"&&fn("scroll",e):p!=null&&Hy(e,a,p,h))}switch(t){case"input":wd(e),oC(e,r,!1);break;case"textarea":wd(e),aC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vo(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ha(e,!!r.multiple,a,!1):r.defaultValue!=null&&ha(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=uh)}vR(t,r)&&(n.flags|=4)}n.ref!==null&&(n.flags|=128)}return null;case 6:if(e&&n.stateNode!=null)WR(e,n,e.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error($e(166));t=Qo(Au.current),Qo(yi.current),Cd(n)?(r=n.stateNode,t=n.memoizedProps,r[ro]=n,r.nodeValue!==t&&(n.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ro]=n,n.stateNode=r)}return null;case 13:return mn(kn),r=n.memoizedState,n.flags&64?(n.lanes=t,n):(r=r!==null,t=!1,e===null?n.memoizedProps.fallback!==void 0&&Cd(n):t=e.memoizedState!==null,r&&!t&&n.mode&2&&(e===null&&n.memoizedProps.unstable_avoidThisFallback!==!0||kn.current&1?Kn===0&&(Kn=3):((Kn===0||Kn===3)&&(Kn=4),dr===null||!(Uu&134217727)&&!(Va&134217727)||ya(dr,lr))),(r||t)&&(n.flags|=4),null);case 4:return _a(),Iv(n),e===null&&fR(n.stateNode.containerInfo),null;case 10:return dw(n),null;case 17:return xr(n.type)&&dh(),null;case 19:if(mn(kn),r=n.memoizedState,r===null)return null;if(a=(n.flags&64)!==0,h=r.rendering,h===null)if(a)Dl(r,!1);else{if(Kn!==0||e!==null&&e.flags&64)for(e=n.child;e!==null;){if(h=vh(e),h!==null){for(n.flags|=64,Dl(r,!1),a=h.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),r.lastEffect===null&&(n.firstEffect=null),n.lastEffect=r.lastEffect,r=t,t=n.child;t!==null;)a=t,e=r,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,h=a.alternate,h===null?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,e=h.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return _n(kn,kn.current&1|2),n.child}e=e.sibling}r.tail!==null&&ar()>Hv&&(n.flags|=64,a=!0,Dl(r,!1),n.lanes=33554432)}else{if(!a)if(e=vh(h),e!==null){if(n.flags|=64,a=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),Dl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!h.alternate&&!wi)return n=n.lastEffect=r.lastEffect,n!==null&&(n.nextEffect=null),null}else 2*ar()-r.renderingStartTime>Hv&&t!==1073741824&&(n.flags|=64,a=!0,Dl(r,!1),n.lanes=33554432);r.isBackwards?(h.sibling=n.child,n.child=h):(t=r.last,t!==null?t.sibling=h:n.child=h,r.last=h)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=n.lastEffect,r.renderingStartTime=ar(),t.sibling=null,n=kn.current,_n(kn,a?n&1|2:n&1),t):null;case 23:case 24:return Tw(),e!==null&&e.memoizedState!==null!=(n.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(n.flags|=4),null}throw Error($e(156,n.tag))}function o4(e){switch(e.tag){case 1:xr(e.type)&&dh();var n=e.flags;return n&4096?(e.flags=n&-4097|64,e):null;case 3:if(_a(),mn(wr),mn(ur),fw(),n=e.flags,n&64)throw Error($e(285));return e.flags=n&-4097|64,e;case 5:return pw(e),null;case 13:return mn(kn),n=e.flags,n&4096?(e.flags=n&-4097|64,e):null;case 19:return mn(kn),null;case 4:return _a(),null;case 10:return dw(e),null;case 23:case 24:return Tw(),null;default:return null}}function xw(e,n){try{var t="",r=n;do t+=F3(r),r=r.return;while(r);var i=t}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:n,stack:i}}function Lv(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var s4=typeof WeakMap=="function"?WeakMap:Map;function GR(e,n,t){t=uo(-1,t),t.tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Th||(Th=!0,zv=r),Lv(e,n)},t}function qR(e,n,t){t=uo(-1,t),t.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=n.value;t.payload=function(){return Lv(e,n),r(i)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(vi===null?vi=new Set([this]):vi.add(this),Lv(e,n));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),t}var a4=typeof WeakSet=="function"?WeakSet:Set;function oP(e){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(t){fo(e,t)}else n.current=null}function l4(e,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(n.flags&256&&e!==null){var t=e.memoizedProps,r=e.memoizedState;e=n.stateNode,n=e.getSnapshotBeforeUpdate(n.elementType===n.type?t:ri(n.type,t),r),e.__reactInternalSnapshotBeforeUpdate=n}return;case 3:n.flags&256&&aw(n.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error($e(163))}function u4(e,n,t){switch(t.tag){case 0:case 11:case 15:case 22:if(n=t.updateQueue,n=n!==null?n.lastEffect:null,n!==null){e=n=n.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==n)}if(n=t.updateQueue,n=n!==null?n.lastEffect:null,n!==null){e=n=n.next;do{var i=e;r=i.next,i=i.tag,i&4&&i&1&&(tO(t,e),v4(t,e)),e=r}while(e!==n)}return;case 1:e=t.stateNode,t.flags&4&&(n===null?e.componentDidMount():(r=t.elementType===t.type?n.memoizedProps:ri(t.type,n.memoizedProps),e.componentDidUpdate(r,n.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),n=t.updateQueue,n!==null&&HC(t,n,e);return;case 3:if(n=t.updateQueue,n!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}HC(t,n,e)}return;case 5:e=t.stateNode,n===null&&t.flags&4&&vR(t.type,t.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&K1(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error($e(163))}function sP(e,n){for(var t=e;;){if(t.tag===5){var r=t.stateNode;if(n)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=H1("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=n?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function aP(e,n){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(lw,n)}catch{}switch(n.tag){case 0:case 11:case 14:case 15:case 22:if(e=n.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var t=e=e.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)tO(n,t);else{r=n;try{i()}catch(a){fo(r,a)}}t=t.next}while(t!==e)}break;case 1:if(oP(n),e=n.stateNode,typeof e.componentWillUnmount=="function")try{e.props=n.memoizedProps,e.state=n.memoizedState,e.componentWillUnmount()}catch(a){fo(n,a)}break;case 5:oP(n);break;case 4:$R(e,n)}}function lP(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function uP(e){return e.tag===5||e.tag===3||e.tag===4}function cP(e){e:{for(var n=e.return;n!==null;){if(uP(n))break e;n=n.return}throw Error($e(160))}var t=n;switch(n=t.stateNode,t.tag){case 5:var r=!1;break;case 3:n=n.containerInfo,r=!0;break;case 4:n=n.containerInfo,r=!0;break;default:throw Error($e(161))}t.flags&16&&(xu(n,""),t.flags&=-17);e:t:for(t=e;;){for(;t.sibling===null;){if(t.return===null||uP(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?jv(e,t,n):Nv(e,t,n)}function jv(e,n,t){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=uh));else if(r!==4&&(e=e.child,e!==null))for(jv(e,n,t),e=e.sibling;e!==null;)jv(e,n,t),e=e.sibling}function Nv(e,n,t){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,n?t.insertBefore(e,n):t.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nv(e,n,t),e=e.sibling;e!==null;)Nv(e,n,t),e=e.sibling}function $R(e,n){for(var t=n,r=!1,i,a;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error($e(160));switch(i=r.stateNode,r.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var h=e,c=t,p=c;;)if(aP(h,p),p.child!==null&&p.tag!==4)p.child.return=p,p=p.child;else{if(p===c)break e;for(;p.sibling===null;){if(p.return===null||p.return===c)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a?(h=i,c=t.stateNode,h.nodeType===8?h.parentNode.removeChild(c):h.removeChild(c)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,a=!0,t.child.return=t,t=t.child;continue}}else if(aP(e,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function Jm(e,n){switch(n.tag){case 0:case 11:case 14:case 15:case 22:var t=n.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=n.stateNode,t!=null){r=n.memoizedProps;var i=e!==null?e.memoizedProps:r;e=n.type;var a=n.updateQueue;if(n.updateQueue=null,a!==null){for(t[ch]=r,e==="input"&&r.type==="radio"&&r.name!=null&&j1(t,r),mv(e,i),n=mv(e,r),i=0;i<a.length;i+=2){var h=a[i],c=a[i+1];h==="style"?z1(t,c):h==="dangerouslySetInnerHTML"?B1(t,c):h==="children"?xu(t,c):Hy(t,h,c,n)}switch(e){case"input":lv(t,r);break;case"textarea":N1(t,r);break;case"select":e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,a=r.value,a!=null?ha(t,!!r.multiple,a,!1):e!==!!r.multiple&&(r.defaultValue!=null?ha(t,!!r.multiple,r.defaultValue,!0):ha(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(n.stateNode===null)throw Error($e(162));n.stateNode.nodeValue=n.memoizedProps;return;case 3:t=n.stateNode,t.hydrate&&(t.hydrate=!1,K1(t.containerInfo));return;case 12:return;case 13:n.memoizedState!==null&&(Ew=ar(),sP(n.child,!0)),dP(n);return;case 19:dP(n);return;case 17:return;case 23:case 24:sP(n,n.memoizedState!==null);return}throw Error($e(163))}function dP(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new a4),n.forEach(function(r){var i=x4.bind(null,e,r);t.has(r)||(t.add(r),r.then(i,i))})}}function c4(e,n){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(n=n.memoizedState,n!==null&&n.dehydrated===null):!1}var d4=Math.ceil,Eh=hs.ReactCurrentDispatcher,bw=hs.ReactCurrentOwner,kt=0,dr=null,In=null,lr=0,us=0,Fv=To(0),Kn=0,tp=null,za=0,Uu=0,Va=0,Sw=0,Bv=null,Ew=0,Hv=1/0;function Ua(){Hv=ar()+500}var at=null,Th=!1,zv=null,vi=null,xo=!1,su=null,Vl=90,Vv=[],Uv=[],Li=null,au=0,Wv=null,Zd=-1,Ai=0,Xd=0,lu=null,Yd=!1;function jr(){return kt&48?ar():Zd!==-1?Zd:Zd=ar()}function ho(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return ka()===99?1:2;if(Ai===0&&(Ai=za),J5.transition!==0){Xd!==0&&(Xd=Bv!==null?Bv.pendingLanes:0),e=Ai;var n=4186112&~Xd;return n&=-n,n===0&&(e=4186112&~e,n=e&-e,n===0&&(n=8192)),n}return e=ka(),kt&4&&e===98?e=ah(12,Ai):(e=e5(e),e=ah(e,Ai)),e}function po(e,n,t){if(50<au)throw au=0,Wv=null,Error($e(185));if(e=np(e,n),e===null)return null;Zh(e,n,t),e===dr&&(Va|=n,Kn===4&&ya(e,lr));var r=ka();n===1?kt&8&&!(kt&48)?Gv(e):(Zr(e,t),kt===0&&(Ua(),Si())):(!(kt&4)||r!==98&&r!==99||(Li===null?Li=new Set([e]):Li.add(e)),Zr(e,t)),Bv=e}function np(e,n){e.lanes|=n;var t=e.alternate;for(t!==null&&(t.lanes|=n),t=e,e=e.return;e!==null;)e.childLanes|=n,t=e.alternate,t!==null&&(t.childLanes|=n),t=e,e=e.return;return t.tag===3?t.stateNode:null}function Zr(e,n){for(var t=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,h=e.pendingLanes;0<h;){var c=31-yo(h),p=1<<c,m=a[c];if(m===-1){if(!(p&r)||p&i){m=n,Ks(p);var g=dn;a[c]=10<=g?m+250:6<=g?m+5e3:-1}}else m<=n&&(e.expiredLanes|=p);h&=~p}if(r=Tu(e,e===dr?lr:0),n=dn,r===0)t!==null&&(t!==$m&&Pv(t),e.callbackNode=null,e.callbackPriority=0);else{if(t!==null){if(e.callbackPriority===n)return;t!==$m&&Pv(t)}n===15?(t=Gv.bind(null,e),Oi===null?(Oi=[t],$d=uw(Qh,CR)):Oi.push(t),t=$m):n===14?t=_u(99,Gv.bind(null,e)):(t=t5(n),t=_u(t,ZR.bind(null,e))),e.callbackPriority=n,e.callbackNode=t}}function ZR(e){if(Zd=-1,Xd=Ai=0,kt&48)throw Error($e(327));var n=e.callbackNode;if(Co()&&e.callbackNode!==n)return null;var t=Tu(e,e===dr?lr:0);if(t===0)return null;var r=t,i=kt;kt|=16;var a=JR();(dr!==e||lr!==r)&&(Ua(),wa(e,r));do try{f4();break}catch(c){KR(e,c)}while(!0);if(cw(),Eh.current=a,kt=i,In!==null?r=0:(dr=null,lr=0,r=Kn),za&Va)wa(e,0);else if(r!==0){if(r===2&&(kt|=64,e.hydrate&&(e.hydrate=!1,aw(e.containerInfo)),t=iR(e),t!==0&&(r=Ul(e,t))),r===1)throw n=tp,wa(e,0),ya(e,t),Zr(e,ar()),n;switch(e.finishedWork=e.current.alternate,e.finishedLanes=t,r){case 0:case 1:throw Error($e(345));case 2:Vo(e);break;case 3:if(ya(e,t),(t&62914560)===t&&(r=Ew+500-ar(),10<r)){if(Tu(e,0)!==0)break;if(i=e.suspendedLanes,(i&t)!==t){jr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=DC(Vo.bind(null,e),r);break}Vo(e);break;case 4:if(ya(e,t),(t&4186112)===t)break;for(r=e.eventTimes,i=-1;0<t;){var h=31-yo(t);a=1<<h,h=r[h],h>i&&(i=h),t&=~a}if(t=i,t=ar()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*d4(t/1960))-t,10<t){e.timeoutHandle=DC(Vo.bind(null,e),t);break}Vo(e);break;case 5:Vo(e);break;default:throw Error($e(329))}}return Zr(e,ar()),e.callbackNode===n?ZR.bind(null,e):null}function ya(e,n){for(n&=~Sw,n&=~Va,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-yo(n),r=1<<t;e[t]=-1,n&=~r}}function Gv(e){if(kt&48)throw Error($e(327));if(Co(),e===dr&&e.expiredLanes&lr){var n=lr,t=Ul(e,n);za&Va&&(n=Tu(e,n),t=Ul(e,n))}else n=Tu(e,0),t=Ul(e,n);if(e.tag!==0&&t===2&&(kt|=64,e.hydrate&&(e.hydrate=!1,aw(e.containerInfo)),n=iR(e),n!==0&&(t=Ul(e,n))),t===1)throw t=tp,wa(e,0),ya(e,n),Zr(e,ar()),t;return e.finishedWork=e.current.alternate,e.finishedLanes=n,Vo(e),Zr(e,ar()),null}function h4(){if(Li!==null){var e=Li;Li=null,e.forEach(function(n){n.expiredLanes|=24&n.pendingLanes,Zr(n,ar())})}Si()}function XR(e,n){var t=kt;kt|=1;try{return e(n)}finally{kt=t,kt===0&&(Ua(),Si())}}function YR(e,n){var t=kt;kt&=-2,kt|=8;try{return e(n)}finally{kt=t,kt===0&&(Ua(),Si())}}function kd(e,n){_n(Fv,us),us|=n,za|=n}function Tw(){us=Fv.current,mn(Fv)}function wa(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,q5(t)),In!==null)for(t=In.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&dh();break;case 3:_a(),mn(wr),mn(ur),fw();break;case 5:pw(r);break;case 4:_a();break;case 13:mn(kn);break;case 19:mn(kn);break;case 10:dw(r);break;case 23:case 24:Tw()}t=t.return}dr=e,In=bo(e.current,null),lr=us=za=n,Kn=0,tp=null,Sw=Va=Uu=0}function KR(e,n){do{var t=In;try{if(cw(),iu.current=Sh,yh){for(var r=Rn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yh=!1}if(Du=0,Yn=or=Rn=null,ou=!1,bw.current=null,t===null||t.return===null){Kn=1,tp=n,In=null;break}e:{var a=e,h=t.return,c=t,p=n;if(n=lr,c.flags|=2048,c.firstEffect=c.lastEffect=null,p!==null&&typeof p=="object"&&typeof p.then=="function"){var m=p;if(!(c.mode&2)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var b=(kn.current&1)!==0,S=h;do{var T;if(T=S.tag===13){var _=S.memoizedState;if(_!==null)T=_.dehydrated!==null;else{var k=S.memoizedProps;T=k.fallback===void 0?!1:k.unstable_avoidThisFallback!==!0?!0:!b}}if(T){var C=S.updateQueue;if(C===null){var P=new Set;P.add(m),S.updateQueue=P}else C.add(m);if(!(S.mode&2)){if(S.flags|=64,c.flags|=16384,c.flags&=-2981,c.tag===1)if(c.alternate===null)c.tag=17;else{var A=uo(-1,1);A.tag=2,co(c,A)}c.lanes|=1;break e}p=void 0,c=n;var N=a.pingCache;if(N===null?(N=a.pingCache=new s4,p=new Set,N.set(m,p)):(p=N.get(m),p===void 0&&(p=new Set,N.set(m,p))),!p.has(c)){p.add(c);var W=w4.bind(null,a,m,c);m.then(W,W)}S.flags|=4096,S.lanes=n;break e}S=S.return}while(S!==null);p=Error((da(c.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Kn!==5&&(Kn=2),p=xw(p,c),S=h;do{switch(S.tag){case 3:a=p,S.flags|=4096,n&=-n,S.lanes|=n;var Z=GR(S,a,n);BC(S,Z);break e;case 1:a=p;var H=S.type,ie=S.stateNode;if(!(S.flags&64)&&(typeof H.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(vi===null||!vi.has(ie)))){S.flags|=4096,n&=-n,S.lanes|=n;var ne=qR(S,a,n);BC(S,ne);break e}}S=S.return}while(S!==null)}eO(t)}catch(ae){n=ae,In===t&&t!==null&&(In=t=t.return);continue}break}while(!0)}function JR(){var e=Eh.current;return Eh.current=Sh,e===null?Sh:e}function Ul(e,n){var t=kt;kt|=16;var r=JR();dr===e&&lr===n||wa(e,n);do try{p4();break}catch(i){KR(e,i)}while(!0);if(cw(),kt=t,Eh.current=r,In!==null)throw Error($e(261));return dr=null,lr=0,Kn}function p4(){for(;In!==null;)QR(In)}function f4(){for(;In!==null&&!X5();)QR(In)}function QR(e){var n=nO(e.alternate,e,us);e.memoizedProps=e.pendingProps,n===null?eO(e):In=n,bw.current=null}function eO(e){var n=e;do{var t=n.alternate;if(e=n.return,n.flags&2048){if(t=o4(n),t!==null){t.flags&=2047,In=t;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(t=i4(t,n,us),t!==null){In=t;return}if(t=n,t.tag!==24&&t.tag!==23||t.memoizedState===null||us&1073741824||!(t.mode&4)){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=n.firstEffect),n.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=n.firstEffect),e.lastEffect=n.lastEffect),1<n.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=n:e.firstEffect=n,e.lastEffect=n))}if(n=n.sibling,n!==null){In=n;return}In=n=e}while(n!==null);Kn===0&&(Kn=5)}function Vo(e){var n=ka();return ls(99,m4.bind(null,e,n)),null}function m4(e,n){do Co();while(su!==null);if(kt&48)throw Error($e(327));var t=e.finishedWork;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error($e(177));e.callbackNode=null;var r=t.lanes|t.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var h=e.eventTimes,c=e.expirationTimes;0<a;){var p=31-yo(a),m=1<<p;i[p]=0,h[p]=-1,c[p]=-1,a&=~m}if(Li!==null&&!(r&24)&&Li.has(e)&&Li.delete(e),e===dr&&(In=dr=null,lr=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=kt,kt|=32,bw.current=null,Wm=Ud,h=CC(),bv(h)){if("selectionStart"in h)c={start:h.selectionStart,end:h.selectionEnd};else e:if(c=(c=h.ownerDocument)&&c.defaultView||window,(m=c.getSelection&&c.getSelection())&&m.rangeCount!==0){c=m.anchorNode,a=m.anchorOffset,p=m.focusNode,m=m.focusOffset;try{c.nodeType,p.nodeType}catch{c=null;break e}var g=0,b=-1,S=-1,T=0,_=0,k=h,C=null;t:for(;;){for(var P;k!==c||a!==0&&k.nodeType!==3||(b=g+a),k!==p||m!==0&&k.nodeType!==3||(S=g+m),k.nodeType===3&&(g+=k.nodeValue.length),(P=k.firstChild)!==null;)C=k,k=P;for(;;){if(k===h)break t;if(C===c&&++T===a&&(b=g),C===p&&++_===m&&(S=g),(P=k.nextSibling)!==null)break;k=C,C=k.parentNode}k=P}c=b===-1||S===-1?null:{start:b,end:S}}else c=null;c=c||{start:0,end:0}}else c=null;Gm={focusedElem:h,selectionRange:c},Ud=!1,lu=null,Yd=!1,at=r;do try{g4()}catch(ae){if(at===null)throw Error($e(330));fo(at,ae),at=at.nextEffect}while(at!==null);lu=null,at=r;do try{for(h=e;at!==null;){var A=at.flags;if(A&16&&xu(at.stateNode,""),A&128){var N=at.alternate;if(N!==null){var W=N.ref;W!==null&&(typeof W=="function"?W(null):W.current=null)}}switch(A&1038){case 2:cP(at),at.flags&=-3;break;case 6:cP(at),at.flags&=-3,Jm(at.alternate,at);break;case 1024:at.flags&=-1025;break;case 1028:at.flags&=-1025,Jm(at.alternate,at);break;case 4:Jm(at.alternate,at);break;case 8:c=at,$R(h,c);var Z=c.alternate;lP(c),Z!==null&&lP(Z)}at=at.nextEffect}}catch(ae){if(at===null)throw Error($e(330));fo(at,ae),at=at.nextEffect}while(at!==null);if(W=Gm,N=CC(),A=W.focusedElem,h=W.selectionRange,N!==A&&A&&A.ownerDocument&&hR(A.ownerDocument.documentElement,A)){for(h!==null&&bv(A)&&(N=h.start,W=h.end,W===void 0&&(W=N),"selectionStart"in A?(A.selectionStart=N,A.selectionEnd=Math.min(W,A.value.length)):(W=(N=A.ownerDocument||document)&&N.defaultView||window,W.getSelection&&(W=W.getSelection(),c=A.textContent.length,Z=Math.min(h.start,c),h=h.end===void 0?Z:Math.min(h.end,c),!W.extend&&Z>h&&(c=h,h=Z,Z=c),c=TC(A,Z),a=TC(A,h),c&&a&&(W.rangeCount!==1||W.anchorNode!==c.node||W.anchorOffset!==c.offset||W.focusNode!==a.node||W.focusOffset!==a.offset)&&(N=N.createRange(),N.setStart(c.node,c.offset),W.removeAllRanges(),Z>h?(W.addRange(N),W.extend(a.node,a.offset)):(N.setEnd(a.node,a.offset),W.addRange(N)))))),N=[],W=A;W=W.parentNode;)W.nodeType===1&&N.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<N.length;A++)W=N[A],W.element.scrollLeft=W.left,W.element.scrollTop=W.top}Ud=!!Wm,Gm=Wm=null,e.current=t,at=r;do try{for(A=e;at!==null;){var H=at.flags;if(H&36&&u4(A,at.alternate,at),H&128){N=void 0;var ie=at.ref;if(ie!==null){var ne=at.stateNode;switch(at.tag){case 5:N=ne;break;default:N=ne}typeof ie=="function"?ie(N):ie.current=N}}at=at.nextEffect}}catch(ae){if(at===null)throw Error($e(330));fo(at,ae),at=at.nextEffect}while(at!==null);at=null,K5(),kt=i}else e.current=t;if(xo)xo=!1,su=e,Vl=n;else for(at=r;at!==null;)n=at.nextEffect,at.nextEffect=null,at.flags&8&&(H=at,H.sibling=null,H.stateNode=null),at=n;if(r=e.pendingLanes,r===0&&(vi=null),r===1?e===Wv?au++:(au=0,Wv=e):au=0,t=t.stateNode,rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(lw,t,void 0,(t.current.flags&64)===64)}catch{}if(Zr(e,ar()),Th)throw Th=!1,e=zv,zv=null,e;return kt&8||Si(),null}function g4(){for(;at!==null;){var e=at.alternate;Yd||lu===null||(at.flags&8?cC(at,lu)&&(Yd=!0):at.tag===13&&c4(e,at)&&cC(at,lu)&&(Yd=!0));var n=at.flags;n&256&&l4(e,at),!(n&512)||xo||(xo=!0,_u(97,function(){return Co(),null})),at=at.nextEffect}}function Co(){if(Vl!==90){var e=97<Vl?97:Vl;return Vl=90,ls(e,y4)}return!1}function v4(e,n){Vv.push(n,e),xo||(xo=!0,_u(97,function(){return Co(),null}))}function tO(e,n){Uv.push(n,e),xo||(xo=!0,_u(97,function(){return Co(),null}))}function y4(){if(su===null)return!1;var e=su;if(su=null,kt&48)throw Error($e(331));var n=kt;kt|=32;var t=Uv;Uv=[];for(var r=0;r<t.length;r+=2){var i=t[r],a=t[r+1],h=i.destroy;if(i.destroy=void 0,typeof h=="function")try{h()}catch(p){if(a===null)throw Error($e(330));fo(a,p)}}for(t=Vv,Vv=[],r=0;r<t.length;r+=2){i=t[r],a=t[r+1];try{var c=i.create;i.destroy=c()}catch(p){if(a===null)throw Error($e(330));fo(a,p)}}for(c=e.current.firstEffect;c!==null;)e=c.nextEffect,c.nextEffect=null,c.flags&8&&(c.sibling=null,c.stateNode=null),c=e;return kt=n,Si(),!0}function hP(e,n,t){n=xw(t,n),n=GR(e,n,1),co(e,n),n=jr(),e=np(e,1),e!==null&&(Zh(e,1,n),Zr(e,n))}function fo(e,n){if(e.tag===3)hP(e,e,n);else for(var t=e.return;t!==null;){if(t.tag===3){hP(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vi===null||!vi.has(r))){e=xw(n,e);var i=qR(t,e,1);if(co(t,i),i=jr(),t=np(t,1),t!==null)Zh(t,1,i),Zr(t,i);else if(typeof r.componentDidCatch=="function"&&(vi===null||!vi.has(r)))try{r.componentDidCatch(n,e)}catch{}break}}t=t.return}}function w4(e,n,t){var r=e.pingCache;r!==null&&r.delete(n),n=jr(),e.pingedLanes|=e.suspendedLanes&t,dr===e&&(lr&t)===t&&(Kn===4||Kn===3&&(lr&62914560)===lr&&500>ar()-Ew?wa(e,0):Sw|=t),Zr(e,n)}function x4(e,n){var t=e.stateNode;t!==null&&t.delete(n),n=0,n===0&&(n=e.mode,n&2?n&4?(Ai===0&&(Ai=za),n=Js(62914560&~Ai),n===0&&(n=4194304)):n=ka()===99?1:2:n=1),t=jr(),e=np(e,n),e!==null&&(Zh(e,n,t),Zr(e,t))}var nO;nO=function(e,n,t){var r=n.lanes;if(e!==null)if(e.memoizedProps!==n.pendingProps||wr.current)ii=!0;else if(t&r)ii=!!(e.flags&16384);else{switch(ii=!1,n.tag){case 3:JC(n),Xm();break;case 5:UC(n);break;case 1:xr(n.type)&&qd(n);break;case 4:Rv(n,n.stateNode.containerInfo);break;case 10:r=n.memoizedProps.value;var i=n.type._context;_n(hh,i._currentValue),i._currentValue=r;break;case 13:if(n.memoizedState!==null)return t&n.child.childLanes?QC(e,n,t):(_n(kn,kn.current&1),n=Ii(e,n,t),n!==null?n.sibling:null);_n(kn,kn.current&1);break;case 19:if(r=(t&n.childLanes)!==0,e.flags&64){if(r)return iP(e,n,t);n.flags|=64}if(i=n.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_n(kn,kn.current),r)break;return null;case 23:case 24:return n.lanes=0,Ym(e,n,t)}return Ii(e,n,t)}else ii=!1;switch(n.lanes=0,n.tag){case 2:if(r=n.type,e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,i=Pa(n,ur.current),ga(n,t),i=gw(null,n,r,e,i,t),n.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,xr(r)){var a=!0;qd(n)}else a=!1;n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hw(n);var h=r.getDerivedStateFromProps;typeof h=="function"&&mh(n,r,h,e),i.updater=ep,n.stateNode=i,i._reactInternals=n,_v(n,r,e,t),n=Mv(null,n,r,!0,a,t)}else n.tag=0,yr(null,n,i,t),n=n.child;return n;case 16:i=n.elementType;e:{switch(e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,a=i._init,i=a(i._payload),n.type=i,a=n.tag=S4(i),e=ri(i,e),a){case 0:n=Dv(null,n,i,e,t);break e;case 1:n=KC(null,n,i,e,t);break e;case 11:n=XC(null,n,i,e,t);break e;case 14:n=YC(null,n,i,ri(i.type,e),r,t);break e}throw Error($e(306,i,""))}return n;case 0:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:ri(r,i),Dv(e,n,r,i,t);case 1:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:ri(r,i),KC(e,n,r,i,t);case 3:if(JC(n),r=n.updateQueue,e===null||r===null)throw Error($e(282));if(r=n.pendingProps,i=n.memoizedState,i=i!==null?i.element:null,kR(e,n),Ru(n,r,null,t),r=n.memoizedState.element,r===i)Xm(),n=Ii(e,n,t);else{if(i=n.stateNode,(a=i.hydrate)&&(io=ma(n.stateNode.containerInfo.firstChild),Mi=n,a=wi=!0),a){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)a=e[i],a._workInProgressVersionPrimary=e[i+1],va.push(a);for(t=AR(n,null,r,t),n.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else yr(e,n,r,t),Xm();n=n.child}return n;case 5:return UC(n),e===null&&Ov(n),r=n.type,i=n.pendingProps,a=e!==null?e.memoizedProps:null,h=i.children,Tv(r,i)?h=null:a!==null&&Tv(r,a)&&(n.flags|=16),zR(e,n),yr(e,n,h,t),n.child;case 6:return e===null&&Ov(n),null;case 13:return QC(e,n,t);case 4:return Rv(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=gh(n,null,r,t):yr(e,n,r,t),n.child;case 11:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:ri(r,i),XC(e,n,r,i,t);case 7:return yr(e,n,n.pendingProps,t),n.child;case 8:return yr(e,n,n.pendingProps.children,t),n.child;case 12:return yr(e,n,n.pendingProps.children,t),n.child;case 10:e:{r=n.type._context,i=n.pendingProps,h=n.memoizedProps,a=i.value;var c=n.type._context;if(_n(hh,c._currentValue),c._currentValue=a,h!==null)if(c=h.value,a=Ur(c,a)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(c,a):1073741823)|0,a===0){if(h.children===i.children&&!wr.current){n=Ii(e,n,t);break e}}else for(c=n.child,c!==null&&(c.return=n);c!==null;){var p=c.dependencies;if(p!==null){h=c.child;for(var m=p.firstContext;m!==null;){if(m.context===r&&m.observedBits&a){c.tag===1&&(m=uo(-1,t&-t),m.tag=2,co(c,m)),c.lanes|=t,m=c.alternate,m!==null&&(m.lanes|=t),PR(c.return,t),p.lanes|=t;break}m=m.next}}else h=c.tag===10&&c.type===n.type?null:c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===n){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}yr(e,n,i.children,t),n=n.child}return n;case 9:return i=n.type,a=n.pendingProps,r=a.children,ga(n,t),i=$r(i,a.unstable_observedBits),r=r(i),n.flags|=1,yr(e,n,r,t),n.child;case 14:return i=n.type,a=ri(i,n.pendingProps),a=ri(i.type,a),YC(e,n,i,a,r,t);case 15:return HR(e,n,n.type,n.pendingProps,r,t);case 17:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:ri(r,i),e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),n.tag=1,xr(r)?(e=!0,qd(n)):e=!1,ga(n,t),RR(n,r,i),_v(n,r,i,t),Mv(null,n,r,!0,e,t);case 19:return iP(e,n,t);case 23:return Ym(e,n,t);case 24:return Ym(e,n,t)}throw Error($e(156,n.tag))};function b4(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(e,n,t,r){return new b4(e,n,t,r)}function Cw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function S4(e){if(typeof e=="function")return Cw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gh)return 11;if(e===qh)return 14}return 2}function bo(e,n){var t=e.alternate;return t===null?(t=Wr(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Kd(e,n,t,r,i,a){var h=2;if(r=e,typeof e=="function")Cw(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case to:return xa(t.children,i,a,n);case M1:h=8,i|=16;break;case zy:h=8,i|=1;break;case Kl:return e=Wr(12,t,n,i|8),e.elementType=Kl,e.type=Kl,e.lanes=a,e;case Jl:return e=Wr(13,t,n,i),e.type=Jl,e.elementType=Jl,e.lanes=a,e;case rh:return e=Wr(19,t,n,i),e.elementType=rh,e.lanes=a,e;case $y:return Pw(t,i,a,n);case sv:return e=Wr(24,t,n,i),e.elementType=sv,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vy:h=10;break e;case Uy:h=9;break e;case Gh:h=11;break e;case qh:h=14;break e;case Wy:h=16,r=null;break e;case Gy:h=22;break e}throw Error($e(130,e==null?e:typeof e,""))}return n=Wr(h,t,n,i),n.elementType=e,n.type=r,n.lanes=a,n}function xa(e,n,t,r){return e=Wr(7,e,r,n),e.lanes=t,e}function Pw(e,n,t,r){return e=Wr(23,e,r,n),e.elementType=$y,e.lanes=t,e}function Qm(e,n,t){return e=Wr(6,e,null,n),e.lanes=t,e}function eg(e,n,t){return n=Wr(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function E4(e,n,t){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Nm(0),this.expirationTimes=Nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nm(0),this.mutableSourceEagerHydrationData=null}function T4(e,n,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yo,key:r==null?null:""+r,children:e,containerInfo:n,implementation:t}}function Ch(e,n,t,r){var i=n.current,a=jr(),h=ho(i);e:if(t){t=t._reactInternals;t:{if(ps(t)!==t||t.tag!==1)throw Error($e(170));var c=t;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(xr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(c!==null);throw Error($e(171))}if(t.tag===1){var p=t.type;if(xr(p)){t=wR(t,p,c);break e}}t=c}else t=wo;return n.context===null?n.context=t:n.pendingContext=t,n=uo(a,h),n.payload={element:e},r=r===void 0?null:r,r!==null&&(n.callback=r),co(i,n),po(i,h,a),h}function tg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pP(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function kw(e,n){pP(e,n),(e=e.alternate)&&pP(e,n)}function C4(){return null}function _w(e,n,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new E4(e,n,t!=null&&t.hydrate===!0),n=Wr(3,null,null,n===2?7:n===1?3:0),t.current=n,n.stateNode=t,hw(n),e[Ha]=t.current,fR(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){n=r[e];var i=n._getVersion;i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i)}this._internalRoot=t}_w.prototype.render=function(e){Ch(e,this._internalRoot,null,null)};_w.prototype.unmount=function(){var e=this._internalRoot,n=e.containerInfo;Ch(null,e,null,function(){n[Ha]=null})};function Wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function P4(e,n){if(n||(n=e?e.nodeType===9?e.documentElement:e.firstChild:null,n=!(!n||n.nodeType!==1||!n.hasAttribute("data-reactroot"))),!n)for(var t;t=e.lastChild;)e.removeChild(t);return new _w(e,0,n?{hydrate:!0}:void 0)}function rp(e,n,t,r,i){var a=t._reactRootContainer;if(a){var h=a._internalRoot;if(typeof i=="function"){var c=i;i=function(){var m=tg(h);c.call(m)}}Ch(n,h,e,i)}else{if(a=t._reactRootContainer=P4(t,r),h=a._internalRoot,typeof i=="function"){var p=i;i=function(){var m=tg(h);p.call(m)}}YR(function(){Ch(n,h,e,i)})}return tg(h)}Z1=function(e){if(e.tag===13){var n=jr();po(e,4,n),kw(e,4)}};Jy=function(e){if(e.tag===13){var n=jr();po(e,67108864,n),kw(e,67108864)}};X1=function(e){if(e.tag===13){var n=jr(),t=ho(e);po(e,t,n),kw(e,t)}};Y1=function(e,n){return n()};gv=function(e,n,t){switch(n){case"input":if(lv(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var i=Jh(r);if(!i)throw Error($e(90));L1(r),lv(r,i)}}}break;case"textarea":N1(e,t);break;case"select":n=t.value,n!=null&&ha(e,!!t.multiple,n,!1)}};Xy=XR;W1=function(e,n,t,r,i){var a=kt;kt|=4;try{return ls(98,e.bind(null,n,t,r,i))}finally{kt=a,kt===0&&(Ua(),Si())}};Yy=function(){!(kt&49)&&(h4(),Co())};G1=function(e,n){var t=kt;kt|=2;try{return e(n)}finally{kt=t,kt===0&&(Ua(),Si())}};function rO(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wu(n))throw Error($e(200));return T4(e,n,null,t)}var k4={Events:[zu,ia,Jh,V1,U1,Co,{current:!1}]},Ml={findFiberByHostInstance:Jo,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},_4={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||C4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{lw=_d.inject(_4),rs=_d}catch{}}Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k4;Xr.createPortal=rO;Xr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error($e(188)):Error($e(268,Object.keys(e)));return e=$1(n),e=e===null?null:e.stateNode,e};Xr.flushSync=function(e,n){var t=kt;if(t&48)return e(n);kt|=1;try{if(e)return ls(99,e.bind(null,n))}finally{kt=t,Si()}};Xr.hydrate=function(e,n,t){if(!Wu(n))throw Error($e(200));return rp(null,e,n,!0,t)};Xr.render=function(e,n,t){if(!Wu(n))throw Error($e(200));return rp(null,e,n,!1,t)};Xr.unmountComponentAtNode=function(e){if(!Wu(e))throw Error($e(40));return e._reactRootContainer?(YR(function(){rp(null,null,e,!1,function(){e._reactRootContainer=null,e[Ha]=null})}),!0):!1};Xr.unstable_batchedUpdates=XR;Xr.unstable_createPortal=function(e,n){return rO(e,n,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Xr.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Wu(t))throw Error($e(200));if(e==null||e._reactInternals===void 0)throw Error($e(38));return rp(e,n,t,!1,r)};Xr.version="17.0.2";function iO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iO)}catch(e){console.error(e)}}iO(),R1.exports=Xr;var Fr=R1.exports;const Wl=u1(Fr);(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('@charset "UTF-8";@import"https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css";@import"https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Martel+Sans:wght@200&family=Martel:wght@400;700&family=Taviraj:wght@300;500&display=swap";@import"https://fonts.googleapis.com/icon?family=Material+Icons";@import"https://use.fontawesome.com/releases/v5.0.8/css/all.css";.r6o-editor{top:0;left:0;margin-left:-19px}.a9s-annotationlayer{position:absolute;top:0;left:0;width:100%;height:100%;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.a9s-annotationlayer.no-cursor,.a9s-annotationlayer.no-cursor *{cursor:none!important}.a9s-crosshair line{stroke-width:1px;stroke:#00000080;pointer-events:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.a9s-selection-mask{stroke:none;fill:transparent;pointer-events:none}.a9s-annotation rect,.a9s-annotation circle,.a9s-annotation ellipse,.a9s-annotation path,.a9s-annotation polygon,.a9s-annotation line,.a9s-selection rect,.a9s-selection circle,.a9s-selection ellipse,.a9s-selection path,.a9s-selection polygon,.a9s-selection line{fill:transparent;cursor:pointer;vector-effect:non-scaling-stroke}.a9s-annotation .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff;stroke-width:1px;fill:transparent}.a9s-annotation .a9s-inner:hover,.a9s-selection .a9s-inner:hover{stroke:#fff000}.a9s-annotation .a9s-outer,.a9s-selection .a9s-outer{stroke:#000000b3;stroke-width:3px;fill:none}.a9s-annotation .a9s-formatter-el,.a9s-selection .a9s-formatter-el{overflow:visible}.a9s-annotation.a9s-point .a9s-inner{display:none}.a9s-annotation.a9s-point .a9s-outer{stroke:#5a5a5a;stroke-width:1.5px;fill:#ffffff80}.a9s-annotation.a9s-point .a9s-outer:hover{fill:#fff000}.a9s-annotation.selected .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff000}.a9s-annotation.editable .a9s-inner{stroke:#fff000;cursor:move!important}.a9s-annotation.editable .a9s-inner:hover{fill:#fff0001a}.a9s-handle{cursor:move}.a9s-handle .a9s-handle-inner{stroke:#fff000;fill:#000}.a9s-handle .a9s-handle-outer{stroke:#000;fill:#fff}.a9s-handle:hover .a9s-handle-inner{fill:#fff000}.r6o-btn{background-color:#4483c4;border:1px solid #4483c4;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin:0;outline:none;text-decoration:none;white-space:nowrap;padding:6px 18px;min-width:70px;vertical-align:middle;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.r6o-btn *{vertical-align:middle;cursor:pointer}.r6o-btn .r6o-icon{margin-right:4px}.r6o-btn:disabled{border-color:#a3c2e2!important;background-color:#a3c2e2!important}.r6o-btn:hover{background-color:#4f92d7;border-color:#4f92d7}.r6o-btn.outline{border:1px solid #4483c4;color:#4483c4;background-color:transparent;text-shadow:none}.r6o-autocomplete{display:inline;position:relative}.r6o-autocomplete div[role=combobox]{display:inline}.r6o-autocomplete input{outline:none;border:none;width:80px;height:100%;line-height:14px;white-space:pre;box-sizing:border-box;background-color:transparent;font-size:14px;color:#3f3f3f}.r6o-autocomplete ul{position:absolute;margin:0;padding:0;list-style-type:none;background-color:#fff;border-radius:3px;border:1px solid #d6d7d9;box-sizing:border-box;box-shadow:0 0 20px #00000040}.r6o-autocomplete ul:empty{display:none}.r6o-autocomplete li{box-sizing:border-box;padding:2px 12px;width:100%;cursor:pointer}.r6o-editable-text{max-height:120px;overflow:auto;outline:none;min-height:2em;font-size:14px;font-family:Lato,sans-serif}.r6o-editable-text:empty:not(:focus):before{content:attr(data-placeholder);color:#c2c2c2}.r6o-widget.comment{font-size:14px;min-height:3em;background-color:#fff;position:relative}.r6o-widget.comment .r6o-editable-text,.r6o-widget.comment .r6o-readonly-comment{padding:10px;width:100%;box-sizing:border-box;outline:none;border:none;background-color:transparent;resize:none}.r6o-widget.comment .r6o-readonly-comment{white-space:pre-line}.r6o-widget.comment .r6o-editable-text::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text::-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-ms-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-lastmodified{border:1px solid #e5e5e5;display:inline-block;border-radius:2px;margin:0 10px 8px;padding:4px 5px;line-height:100%;font-size:12px}.r6o-widget.comment .r6o-lastmodified .r6o-lastmodified-at{color:#757575;padding-left:3px}.r6o-widget.comment .r6o-arrow-down{position:absolute;height:20px;width:20px;top:9px;right:9px;line-height:22px;background-color:#fff;text-align:center;-webkit-font-smoothing:antialiased;border:1px solid #e5e5e5;cursor:pointer;-webkit-border-radius:1px;-khtml-border-radius:1px;-moz-border-radius:1px;border-radius:1px}.r6o-widget.comment .r6o-arrow-down.r6o-menu-open{border-color:#4483c4}.r6o-widget.comment .r6o-comment-dropdown-menu{position:absolute;top:32px;right:8px;background-color:#fff;border:1px solid #e5e5e5;list-style-type:none;margin:0;padding:5px 0;z-index:9999;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px #0003}.r6o-widget.comment .r6o-comment-dropdown-menu li{padding:0 15px;cursor:pointer}.r6o-widget.comment .r6o-comment-dropdown-menu li:hover{background-color:#ecf0f1}.r6o-widget.comment .r6o-purposedropdown{position:relative;z-index:2}.r6o-widget.comment.editable{background-color:#ecf0f1}.r6o-widget.r6o-tag:empty{display:none}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.r6o-widget.tag .r6o-taglist li{height:27px}.r6o-widget.tag .r6o-taglist li .r6o-delete-wrapper .r6o-delete{position:relative;top:-4px}}.r6o-widget.r6o-tag{background-color:#ecf0f1;border-bottom:1px solid #e5e5e5;padding:1px 3px;display:flex}.r6o-widget.r6o-tag ul{margin:0;padding:0;list-style-type:none;z-index:1}.r6o-widget.r6o-tag ul.r6o-taglist{flex:0;white-space:nowrap}.r6o-widget.r6o-tag ul.r6o-taglist li{display:inline-block;margin:1px 1px 1px 0;padding:0;vertical-align:middle;overflow:hidden;font-size:12px;background-color:#fff;border:1px solid #d6d7d9;cursor:pointer;position:relative;line-height:180%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 4px rgba(0,0,0,.1);-moz-box-shadow:0 0 4px rgba(0,0,0,.1);box-shadow:0 0 4px #0000001a}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-label{padding:2px 8px;display:inline-block}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper{display:inline-block;padding:2px 0;color:#fff;width:0;height:100%;background-color:#4483c4;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-khtml-border-radius-topright:2px;-khtml-border-radius-bottomright:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper .r6o-delete{padding:2px 6px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper svg{vertical-align:text-top}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-active{width:24px;transition:width .2s}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-done,.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit{width:24px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit-active{width:0;transition:width .2s}.r6o-widget.r6o-tag .r6o-autocomplete{flex:1;position:relative}.r6o-widget.r6o-tag .r6o-autocomplete li{font-size:14px}.r6o-widget.r6o-tag input{width:100%;padding:0 3px;min-width:80px;outline:none;border:none;line-height:170%;background-color:transparent;color:#3f3f3f}.r6o-widget.r6o-tag input::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input::-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-ms-input-placeholder{color:#c2c2c2}.r6o-editor{position:absolute;z-index:99999;width:400px;color:#3f3f3f;opacity:0;font-family:Lato,sans-serif;font-size:17px;line-height:27px;-webkit-transition:opacity .2s ease-in;-moz-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.r6o-editor .r6o-arrow{position:absolute;overflow:hidden;top:-12px;left:12px;width:28px;height:12px;display:none}.r6o-editor .r6o-arrow:after{content:"";position:absolute;top:5px;left:5px;width:18px;height:18px;background-color:#fff;-webkit-backface-visibility:hidden;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.r6o-editor .r6o-editor-inner{background-color:#fff;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:2px 2px 42px rgba(0,0,0,.4);-moz-box-shadow:2px 2px 42px rgba(0,0,0,.4);box-shadow:2px 2px 42px #0006}.r6o-editor .r6o-editor-inner .r6o-widget:first-child{-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-khtml-border-radius-topleft:2px;-khtml-border-radius-topright:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.r6o-editor .r6o-editor-inner .r6o-widget{border-bottom:1px solid #e5e5e5}.r6o-editor .r6o-footer{position:relative;text-align:right;padding:8px 0}.r6o-editor .r6o-footer .r6o-btn{margin-right:8px}.r6o-editor .r6o-footer .r6o-btn.delete-annotation{position:absolute;top:7px;left:7px;background-color:transparent;border:none;color:#4483c4;width:32px;height:32px;min-width:0;border-radius:100%;padding:0;display:flex;justify-content:center;align-items:center;-webkit-transition:all .1s ease-in;-moz-transition:all .1s ease-in;-o-transition:all .1s ease-in;transition:all .1s ease-in}.r6o-editor .r6o-footer .r6o-btn.delete-annotation:hover{color:#fff;background-color:#ef352c}@media (max-width: 640px){.r6o-editor{width:260px}}.r6o-editor.r6o-arrow-top .r6o-arrow{display:block}.r6o-editor.r6o-arrow-right{margin-left:8px}.r6o-editor.r6o-arrow-right .r6o-arrow{left:auto;right:12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow{display:block;top:auto;bottom:-12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow:after{top:-11px;box-shadow:none}.r6o-editor.pushed .r6o-arrow,.r6o-editor.dragged .r6o-arrow{display:none}.r6o-editor .r6o-draggable{cursor:move}.r6o-purposedropdown{width:150px;display:inline-block}.r6o-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.a9s-annotation.hover .a9s-inner{stroke:#fff000}.a9s-annotation:not(.hover):hover .a9s-inner{stroke:#fff}.a9s-osd-crosshair-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}.editioncrafter *{box-sizing:border-box}.editioncrafter div{width:auto}.editioncrafter body{padding:0;margin:0;box-sizing:border-box}.editioncrafter .warning{color:#ff0}.editioncrafter .fa{width:max(1.5rem,24px);padding:max(.2rem,3.2px) max(.1rem,1.6px) max(.1rem,1.6px);text-align:center}.editioncrafter .fa.active{background-color:#9e9e9e0a;border:max(.2rem,3.2px) solid #FF9800}.editioncrafter .fa-book.active{border-radius:0 max(2rem,32px) max(2rem,32px) 0}.editioncrafter .fa:not(.active){color:gray}.editioncrafter .fa.fa-lock,.editioncrafter .fa.fa-lock-open{border-radius:max(2rem,32px) 0 0 max(2rem,32px)}.editioncrafter .line-clamp{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:3}.editioncrafter .line-clamp.two-lines{-webkit-line-clamp:2}.editioncrafter .flex-parent{display:flex}.editioncrafter .flex-parent.half-width{width:50%}.editioncrafter .flex-parent.full-width{width:100%}.editioncrafter .flex-parent.column{flex-direction:column}.editioncrafter .flex-parent.jc-start{justify-content:flex-start}.editioncrafter .flex-parent.jc-center{justify-content:center}.editioncrafter .flex-parent.jc-end{justify-content:flex-end}.editioncrafter .flex-parent.jc-space-btw{justify-content:space-between}.editioncrafter .flex-parent.jc-space-around{justify-content:space-around}.editioncrafter .flex-parent.ai-start{align-items:flex-start}.editioncrafter .flex-parent.ai-center{align-items:center}.editioncrafter .flex-parent.ai-end{align-items:flex-end}.editioncrafter .flex-parent.wrap{flex-wrap:wrap}.editioncrafter .flex-parent.row-reverse{flex-direction:row-reverse}.editioncrafter .flex-parent.column-reverse{flex-direction:column-reverse}.editioncrafter .flex-parent .flex-1{flex:1}.editioncrafter .flex-parent .flex-2{flex:2}.editioncrafter .flex-parent .flex-3{flex:3}.editioncrafter .flex-parent .flex-4{flex:4}.editioncrafter .flex-parent .flex-5{flex:5}.editioncrafter .flex-parent .flex-6{flex:6}.editioncrafter .flex-parent .flex-7{flex:7}.editioncrafter .flex-parent .flex-8{flex:8}.editioncrafter .flex-parent .flex-9{flex:9}.editioncrafter .flex-parent .flex-10{flex:10}.editioncrafter .flex-parent .flex-11{flex:11}.editioncrafter .flex-parent .flex-12{flex:12}.editioncrafter .bg-maroon-gradient{background-image:linear-gradient(to right,#792421,#66211c,#531d17,#411912,#30140d)}.editioncrafter .bg-dark-gradient-bt{background-image:linear-gradient(to bottom,#f2e6d9,#e6e0c1,#e4d2a5)}.editioncrafter .bg-dark-gradient-tb{background-image:linear-gradient(to bottom,#e4d2a5,#e6e0c1,#f2e6d9)}.editioncrafter .bg-light-gradient-bt{background-image:linear-gradient(to bottom,#fefcfb,#f0eddb,#ede2c4)}.editioncrafter .bg-light-gradient-tb{background-image:linear-gradient(to bottom,#ede2c4,#f0eddb,#fefcfb)}.editioncrafter .accent-bar{height:10px;width:100%}.editioncrafter .invisible{opacity:0}.editioncrafter .disabled{opacity:.5}.editioncrafter .figure-dialog-img-container img{display:block;width:100%;height:auto}.editioncrafter a:hover{text-decoration:underline}.editioncrafter a{color:#792421;text-decoration:none}@-webkit-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@-moz-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@-ms-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@-o-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}.editioncrafter #globalNavigation{display:flex;align-items:center;flex-direction:row-reverse;font-size:max(.9rem,14.4px);position:relative;top:min(-4rem,-64px);right:max(2rem,32px);float:right}@container diplomatic (min-width: 960px){.editioncrafter #globalNavigation{display:block}}.editioncrafter #globalNavigation .expandedViewOnly span,.editioncrafter #globalNavigation .expandedViewOnly a{color:#fff;margin-left:max(1rem,16px);cursor:pointer}.editioncrafter #globalNavigation span .francais{font-weight:100}.editioncrafter #globalNavigation input{height:max(1.5rem,24px);padding:0 0 0 max(.5rem,8px);font-style:italic;border:1px solid rgba(0,0,0,.3882352941);color:#756c6c;background-color:#d8d8d8}.editioncrafter #loadingStateModal{position:fixed;z-index:9000;background-color:#0000007a;width:100vw;height:100vh}.editioncrafter .spinner{width:100%;height:100%;margin:calc(50vh - (max(1rem,16px)/2)) auto 0 auto;text-align:center}.editioncrafter .spinner>div{width:max(1rem,16px);height:max(1rem,16px);background-color:#fff;border-radius:100%;display:inline-block;-webkit-animation:sk-bouncedelay 1.4s infinite ease-in-out both;animation:sk-bouncedelay 1.4s infinite ease-in-out both}.editioncrafter .spinner .bounce1{-webkit-animation-delay:-.32s;animation-delay:-.32s}.editioncrafter .spinner .bounce2{-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes sk-bouncedelay{0%,to,80%{-webkit-transform:scale(0)}40%{-webkit-transform:scale(1)}}@keyframes sk-bouncedelay{0%,to,80%{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}.editioncrafter figure{padding:max(.3rem,4.8px) 0 0;border-radius:max(.2rem,3.2px);margin:0;text-align:center}.editioncrafter figure.current{background-color:#077affd4}.editioncrafter .thumbnail-caption.current{color:#077affd4!important;font-weight:900}.editioncrafter .watermarkContainer .navigationComponent{position:absolute}.editioncrafter .watermark{width:100%;height:100%;margin:calc(50% - (max(10rem,160px)/2)) auto 0 auto}.editioncrafter .transcriptContent .watermark{margin:calc(50% - 12.5rem) auto 0 auto}.editioncrafter .watermark_contents{width:max(10rem,160px);height:max(10rem,160px);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAABKCAYAAAB+UyxeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAB4ISURBVHgB7V1LcBtncu4ZgNRjt4rQLTeOKntgZb0reNd2uWpTReiWnAQdNpbsrRJ88EZyUiXylhupUyonkVVZy9k9CKqyrTg5EDrmJPDmJJsVmN2kdNPw5pwMVa1lPoD50193/4PBiwRAkJJldRUJYGYw8z/678fX3T8CmpDKV65HFIYb5FyBWq3LtX/9TYNe0UtDIU1KQbDKTBHzayGYmZ2nV/RSUZ4mIJYWFWaIa/IhoKZrt5/SK3qpKEcT0MKP3togcnV+++/MGW8zk5QXfvjT/3v8h99+69VJubxUWPjJT64svPZGxP15TN9RCmhMwsDRmd1HrEbeZ4YoiuRIkm1+rfPpS3z8Xu2fP67St4TK7914SI77QdTkv6jrpKpKMDvG6RL/VWufffQ+fQdofFXy/VaRkiDiAeMBFamBQV3mv5Xa/TsXy7/421L53Q9XmVli2jldq9XWmvQikwvOy2uSYMLj9PjO6Wa27dwnnNum7wiNzRi1T/6xzoPUlDUEieGoyt5JxAN7Sy5Idpu1z36zWr56Y4nO7j3ia+u0v7/+wnotYO6AFrkPt8XDCgLtx9m9iKVJkxmH/1yJj8DAjuk7QhMZn/Rs9nz6/uxemQfuGg/spriwLiiwumERvMerzTWYcSKamdkQZkqS9RdSzThaZ+a4xn8NYQ7natzO2J/mtoOpS9mviEo9vVOUxSFqxm3V7n+8RC8JTcYYp3cKzAgl1rdV/lTlgYPk4NUWFuGl4Hzts4/9uQq/VniwHewRliTXTAXdyw7+c6MgiFmi1Zl5uc13VgdekyRN7u88t/sS92eRoD6DPV4E4TovkjXuLxgnppeIJmMMUSG8sjrUrN3/aBVvRGrkgjIPYIEHtJoyD44D+8BEBEHExx6KmmEV9JwZJKZcDrZE2h9ta7gkKgYGKdSmk1O4Zpv7vsWfYzG8v7d3k9ohS0Lt/yAqX+HF0d5vfJtAwMkYQwYr6BiVrjOoNslreC+G6NUPl6jNEmLnVJ2NuYqIYFU/GHBInjVmkK+eI4P4yYrSI0B0iYDNPJB2Es3xaihzn0skHgp7KrmwJnbV17PxoQZ2jm5TkMdzLtK3hCaVGCwNwg73u2Rt0GUwVPmlLuokv1dlNVKnb9hYdY6N12CTsFph2AUY6+CuWP5JAhVTp5OkdhsMKpLCmLNorupNCrltCd2jkJnbtZbZsB5r1XOfyyJtWMpm7v/C06QSI85+OKyzqTphCcIYiDIRqxkW12WOs6xRPh/xEQzgUx7ASvndGzcpcQ9OyFAt8vObwqwdguta4kbWa59qG1jyrdXuj8kU715fYWP8HDPdZb7/mrj4RKnhnhqwJGNYpxeIJlcl7V0ZpHKFO7e7szqKRZ5KELU3yixqCqLfT52q0+4uG3NJQ6384AJWquAhcBOPW80E7gLrD3gj2k5j5O6L3PjxIFU9MTN/zO0vcn+cMQNUL3tBexxaYFefbTRmomUz2F8ImpQxCqkhtcfW+ZixuF47hHZ2oiDMPXFBOxKjDqvVATgDxhDA21likRzLqp42aDY7W+M+fCXvFb3tU4uy8sPcOo1LLtji/6yOwqIY41BPIjFD4ECRXQWVyh4Pe2xXrscviuSYNLoade6QFMT/n5AgRaAyXNLmQeTVA29nf3/V7slShZQJnFOX8MxuBZJEdPcUqFYVJlu3Z5R6zwtTJGFg0m5kEskQBM7uq5gOGC9gaShMweLJsXFL7it5zeVuMdO/MF5LAN2pb1mcwo1Uoyum4fAv/PkI8Dc+lH9xvURtNtIo2BbVgBXuLX3V23Gqv0MRm3rcH2u3m1AnXlVYnkcJmAFhNTHYxJ8ripNQU7wE4CD5PAzVkrXnAcS1qKUeKHtUMrzlJquR1zvHxEbYknuD1K2NVIoFBUNKC4PGR+NI/ClxVf5/znCQiN+zEesCGeMwrI/LcCdFeQr2q0QzbBQFNVJ0DxPBnMwT4Vi0gwALhyGQSxhK24b2Zeke4xi1QQ+QifaE+IkamiT3T5KCMAtPOksAHuCgKZMPCkQMlwVLgO5X97gormIYLDJDIez/QDwaiOuZmRJBupzdq/EkD2ZqnRgj3M8V7BX2Q0S9i8GFeP45ys8wU2PB5GJ5RqvVkDYxE8p1cL+JGVltCrjvTWFW2Er63Cfc+XllJjGwGzYekTEknn1BXrEwMTYBOibSxI/FvIxHkqzxIrpFx0x5uF88KYiU3uVJusgPvssdbw55uEw+X7/YddTlhq7QAUZjTGOSIqtuSUSxY28ml49MWvjVign1KicSZhkjPiMGNOwMhuy7TsiKl4mI+75zhSXl2b2SSDJFcjcFBcPEk6gLTDSkBn833GbJAYn6gCXt2oFtUZwnYsnVsOdE3ijm+VmH9Cy/88ul2ue/PvA+R6U07K4iPLhN1GKGmNkQ1HIAc4jqSAQOX5XP4qdDFZyMSJQVpvEMlmJtHrwZSC8M3qJJspqt1hJpD+fk8zcCsA1k4JQx4KYGfO+2U+kXhpJewJOpC0I9ipuM7DJD9KlbXdGeWUXtiVQ8D8aycYvM4znqGNw97sBk6pVI469c5/D5TIWXyUUMCnPm0z7OTEIM7kr55x/UpGEQj63dmE6I/MCqy5sv2+DXAVDxJG6LOHds7wROjb9A4Osyr8IlHtAnfO1mr2cDA9SCfPWe4NlTexZAuBV2L0tir8NzcrTF6Gc9aLfnXRBU7Sub/LwafX2qSt9nfMKFG+n92rBLaDo0O7vMfb3L7y7TMVGXu2rMUeXOVyQRJ5ffuHz1xlcb9+/cSy/SgFIz5VZnWMQJU5/L2xZ7aF6tf9gljKxCjDuo6mRVxHHICGeQRzoAUNZqH8rKABQfR19xb9xvjo9tsCRtqq4XKbAujAhGSZJrTg3RLX7+WhaQYwnR3eB+I3XyvoORr97YPE6V0ueuyoCH+4gDQDTewmqQFZM9z2I8NSqn2OFJSVze+3eUmaEKJbuMCub6NgB5o90CZzuHJKLzYguw4cso64bkjpD05bKoyGezMMDrpHYLpANUCTME39ex9xaGD5lZinLs2ey52qe/KvahtG0dl/I7f31TPmvQMaIpkdgqudxil3E/RRoIcIlBeuV6kdqtgPK5usQxrly/mIpFHkD+W+MBrVqm1olLjEHUYyQuidE6MwO9D3UgriYkhDI60M6AXWKAWmLcFczrapiaQYxHvQE1aCvmAW3CSD/UzQSau7eHmNCWqaLpL6DELfN92S6cvko5UOvZSooliQVuooreOD0vRtvX0biBpedBho9UCFB0x5tpGm4D9HFFjjiH95AQms+q6mNLvIyEttgtL434SIX0kcTEng0/G/hIzRuy0yIxaveT4rRVyqHmkDBHm5kDojPglfPNqaUXPo+TugJUiyr2AzJAyvAQURPblkBU1hS/4J43QM2LQNALTI+g2k1BRp27NU5wz3AKMN0W33vpOGI+/Iw1VpnVaXopI9nJKXPkxB0D6lmiF4w6qXZh2RJsYiIDmmAvYcUqUyxKog2kAuBp5yom5iWlLwMmgSqGUawLVhMmZQm4JeKm1sQ9hipltfO8w+mwlejZqfentWhHdqCYKxkedggZz/FfzMyxTFOiNGOKo6ujrkbV22HZoHzNrNLVPS8uKQeufKWcfGGfDeqZmaKIdk1ivkcBR3OdqAugr5sGczcF+xBElO+prnBJ7qG2hrPjkgXPsZuSeC7ETAU32SU1xDxOWqqqERpWDsokG4fG8qzL7/3NbUEgsRqHAGCTEDMd9C4AJkC+r/euPqtlqcgKB+kEPbXvbKdxFDUoedLwHi6lMM68xS0KMvmSkifJu400Xc9xACtAsg7iIHzcPAqVKAyJQ8oEkryzLMG8PNvsrs3SQpBNze5CvgUkUS53U1x6H29S1VSnEyABG5N2NA17YzzG0DwKACvbsrrarfpRG2HSgnW5ru7uINYHPBl5QOEIqAGomtP4Bk9um8V7XnJPGxaQQwnAkmWHeXh8S1Y+0vD+mG/01IlUCKpCXUiXws4S1Q2K5F1Lj10g6ReEupp2u2gBR6gcZUowXiLf2ZRnOjE4NRioObJq5EICHaNEsZqe6lFV2/iMoWIVQFLRVsrlSS1tYzQYeJvka2EliBQ80MF23XUdqhb4PHkYPE7tA+89IHoJDKKHEUboF1DR970qE4MOBifxsQMSaARcg/RwMhZqm4QSLPMeD8CvJyxJzgmDS+BQgLeYNPK8BeY+aCJFbWLcmTkP65PB+7ePWjE3HmNoMAvGZ00wDDXeoJcvTsKhmv2190hwBAwm1AADSAEbhI4kCnlJJIRmZMO+uZRpuTKCo8YgiTBWOyCCxU4gK0ASAxTPinysY6T7QOVJpZ4E+LxUceoNUcOkConk8JJNc15hLNcFdGMbJat6JMM8ELtIFoJPdziwHZC07aB0FGk+HmPAhWvlCQEz48wnmZyL98dhDvF0kGyrIhtA2S2ONC+y77hKEk6HbSCJO0X7yrYgkBjgnpjGSM9ThLCkMRVvG5BGQ/EsSD8lgcqlT5Ai7KoOCnyBCUZhxAyz4P5z5hEp5uzM2PVMgryPU6cigfd10W1p7MdxRJmvYfeZ2zKaJwlVOcE4eZqYMezhKm6dw0DOM8ZxeWTxnYpqT4hoBhGpmogVaBpsH0xCGVyCxJ4hxixCyXRv8kRUUlWmBJCrSsAfYORCJfjEIjUq0cYLbGOtj7MqU1UchrEwiqoazxgcjOTXmXBRJEySQPXM6Zg436Zxx3jVR8HHpfFyPtVazzYK1j/rskCTZs7uPeQVcnHEhlepizF88g8P1rNTr0/dOMufbrCE0/snUH134sxZrcfV9ggcTt6GUbsj7r2dFlblH/Hr3Kjemd2n6p+Z3kulCjNMqyDZXZBocLe1LQUD57ZFipzd+8pKJhuHht7ZCMVeJpNk24dpJ0ejct+R/TbrztayNDphH/7s7l3p6CFkiSgY0Ka8Ppt9nTu/jpV8HBa75XY2TSpdG9CeJUnzR+U+JAnKG7A6h4hiO47EmVUevxU6Stu4vxx7gW1RlXa4BO3A+BTUWxO7Z96kVpUlyy3JspuZeXjgfSUgGo4zvympxEBW0Hsf3uzkVcrRpqWZmfiUNLiyVLd7Ap6AxkmirossTa8xsuSQ7wVbaXnjux9GhjROhdiOeWigVUxaWRaL2gvD2/wsYCaXu3JE/5ivS2p/kkQEiYGK93c/9G3tze/0iTkkzHH1RoUZaSqSTiD5dz9EemVRgnzAUgJRfyVBXfMc8m9LEnZ86L3YPrIyjFUag5QxdII0RY199q6MpbMoDyBE8hgSDvi9JcaCQkQeaVm+F4YF1dMCgClzXL1x63BX1gMIpPUdSW4i17eXzDiOSJN3G7pNQ7AkfdUoKRJ0V7idT23y2QuRUgiTLFKz2uyAYoEa2Wof4L4rinaKq40IZzxlSSdM6N1O8+B4bFiSJeKSR1piMQKFiUSUxwHalDFg8bZpWbyETMKsdTTVYTyAm13fdoI1FFLIOAgemNF0TQaNXUBmjuE4hxYalSGKRU+76Saz8Mt5WS2B1HZUSPASnnjkUPRMIrdhza4BxYTw+6cfDdXf3K+mMoTwNd6XWOp+hXJGloBLdHSK+o4E9KR2X1RYrNABg2UjUO2Tj+tSclFeGtmIV8bQdL2IDQbWbTOwEaoDb9Bd4Y6WBvT1bJXO7K2KqmkbFKxZ0Cz2WGwjl+PnH8SDjCSbvAq2O+KBLhGNuALGILPKVw+9Tm2GQ69Lr1dmr2Uqy6g23UDavBVfKbUQKQ7THFOfLDwyzTJym+yBYVdHuTxMH4L4QZIDlLvOcYnBxhQbmD2dn9cgEkuVUAAcwRhEbCtQBOCmwLGFjQMNoDYyr0jRzp38eB1+ziSGI7LDph1dFbzD0bRIFmEgmXelUa7PpPaxtGCdK64NI01DLO11RuJghUfmeRQFlBFmIAOOOHCFHFBELzvGq0DfLDkGSgQZ2Pt31lh0n/s25HocN+kiwqIKtntOxXQEknRAr/YPoZQxLAtrW4wUuEw51pk9EykIYJ5dOehiFNnAvfNVZN+cqkK3in5lQMqCW7dI60GbkgSTz9+WPUJf0cEkScviIc6lkrZlVXxHJcM2DrusC/lUS373LhI+RG8iknoI0pbmM3r7IzReC826hwXvABzJ+XUYptkI6isaTClKCuNewvvBpWyNy5HuPQJcHgxskCV8SDCGZm4eFqmzKGnR/Pwo3WEnsCxr9fcXDaDZ1JI93YNr1JjDd52mPU6IVR1UFTcwViIuXrvVpN2zVVYZVYsQdm1kYhHJEvkUe/j3ug9E7DsiUge71eRyBUu5A+TcEIRUP/td8uTeds/iIHxfmPTZ9wQrGDZIg44L02ZALPmMcoKMlzTOTjdZL6SHovSdL3rOkqYAesq+p6kbriOQX8zDJNBgxlBw6JHgFCQRPsYl9hmyzpd6uUzsEKTMqcizu7YYgDlVEMM0OynIXUgSv59mZFcj1P7IPqOxyHrq90z0vD/u389nrgCDnUuBqGwtqy+W1syviBTV9WHvgg9pp/fXzwULmFHnPkRdx7ITjIUxjJDRhb9sQTcKxjW6GvXc056Xqe7vPHc+c/4pBTRcguj3OxFkuYd89lX6m1LW2WotD4IShkZXTcc9DJxblRI8pK6pGrgwLGiUqhRMnIaVm6ntEdggYPBV0lySyTAY2UoV5jVe0kNe6gwj20oBb0de+cPd5/7jYZfhN+x73ZSdmG7Kehpx//dcJ9qqgTzPrCqFIHky/T10bAY9C9/JS2YcShsgrcu9Fx9cV2LMIZE9ZFMjP2FAsY0v2JVVg4f6jnTS9OO003oultzREBlNUoDc1DxMJN6kg4K/edLcTke+kssXC2vrm+lq6PRoLruLoD1vy57du9cWUXbrhcEUd33KSgb0VYqrhXEiW/1NqcPRNlSpwwgFOS79JRooJXxppDLVJdKxWxdp7JD5LjkjUL9PDSPK0oO+vg1+hp1DfgfFw4q9D83HsEnXXxtwkhA7MFtL1E+rVZQPPSpk4H0B6TLjpEXKWsV+SWD1DkWCkXRWSER+og64v6gsapFsHi/iuscY1gzvFB72mWnyjFZr0AYvcdcD/CrNYgLqnjes/rckW1A/m00DiZpIjRwMlCIg4Zj7NDND6XOhajxpfTBL6KTm0wrTfBIkJPvNaLSdGEfZVJfV/NQq0katK6laIktM4OJMh/uu9YMsd2/Fw6rUerdPsKqtyHCPiLKTISsmzff0n5u2f5aooICC2sZnv3pgkUS0AWL8HOnWRprQ6wfUT6AZkgOz0nX3Y/3zBIbPy94ckXzWzWSy0qlhk1riGV+pfXbnfHpPnVgkUmt2WJJ0XPsu1YG9T5EYFABPKmfGC6J/JZtFn7YTJaKWRT+tX0cYp67kkXHpOW7ck1G5U7O+5G1MVjsqxzPuUidTXGDxrIHpSb6rK9/jJXxdWwJ1ZbFnEt0dz1ZyZN/XxBtncHu3wdlh7OzWTygNwH08Q8zOxiJnBnkimBAk2GjNa7atRXt2VWpcpMwTOASrxXCAwQoJ5L0YzyQOv+bwUYexlOFXSPc9b2TGJ/UIBXhkb/JEywfM3rDfKeFGtMPF2uf/NP5Odv5+6Ggm61lyJ8AYPhcS1LHMbbDAmGh1riGqQmOAuLYpaGuG+txWUS9Ecl1GSphXRV6UmyqI+hrcwWmU0BavAjSh13tBHRsLKkuZtCTGO+tzyf/MuPVDx4fHI5v4a1IbdsdFkVJqjHYY0koGplWuOH7OJ+wNFmeyUrUirUZjkuV5LKE6zHdASuwSt9wn1v0kqSUdCVOy2wwGqX16Zy1VXZ5xQIDpJ9llb+brKLXw/Q56tkGr/3xo+n4H54hYJJSovV9DKMAYBdsrbKdMBVKGxFjiOcrkgZuTX21wbG99M7uaem2aJXerMxamfpRqCIZq3sbuxrjJ2b00FmNIxzWJdw66rHz1+hp3YO1Q7v8rtidQHERYQXm9NklKWSBLVJXUiKb6tpsgLjNJwX3AFQZkJ/MzEb4SbJD6yNgZ9uxiqjr8Dn1DjNtBdkkKX2uN7LbZHjFLxFgkhK+ub7UaI7vTshNxJ6/DCqRQVHXPcBFTqfJbMTFhkWZ3PhwhnHEQjb8B7OzsKht8D+Xhp06v0i5yMWjpwO/ssQjN7TIbhgWpuUBV15nd3slv6IoXjAOGo7p5fmKTXdbnVLSkXV3FZ3bxviaG7M6Oeg+aEKa76mURyA5zoOCH34dFS7ap4/QgCZNKK9gSuMsuUgz2ijBwGImtCYinbSzKvXXbyZoBdEVJSUgyKkY3gu30CZu6aD1tiTrFVA0xTANa7ENyvWuuRjHeFcS7oW78xqr1b7FURmbZRMbo2BIDZMbiBou5ixZsKx+Eu6e1FSBzZel7uxWogvQabDj2bHbZioT9gGeMMvJ7WCkaiJ1xTvN9kL6X9Ryy5BFHpeig1LYBUHeUvvPuq9gMmIiZYt8NMMlH2Ge0qy22l0ePRK0QJIbWvPTbPGCqZ7Nde4tZFHV+khrjiRhDHmpIJare5X2rVT/I4LE61JLA5UgIQu5HNp9xZ6fKg1qx4pwotbQPwiuyRmIakwmyzMQqQgp3zpOv3/Ab3HZqXHGPOL1PFsDKMhZ0uqmyXjXW1SafIc/2CsbDtzE1ajV9END2tm60zxMMo9TcY7ETNGZ0Ket6ZnYrrMkBfM//zgrUSlpEtb+ehQhg5DN6/aRrH7URaGLGsIdixS8C15A9sg/YVMUitUWbEKy4+ZQxbBuEcXMlU0+jWzLQUVeteCoW15ByTJvcIMxdAFZCx0wG/nVFtRX3cemEj1X1Bw8wY+iPQpNuMi+EhB4xGs/s3hVE7vQBOYUcGWWdZ6tjr9C1LVweCCeNPZF90LyKW6xWDEDXIKTIrLqXkRyE22iruktH4xh+181/7pyL6STIb2KbJd3uCqkL2A0ZOykXU1RWbJvUoK733g4qCe4u93N1VIaa6Ad5s7Tww5/+Gzfs79TYo6cLP/zJ24//57++6Ltu4e3TtJ97jJW8cOENNoqCysKfvf4U1y78+A1hjKP+AO7j3/9ng9vTrP3Lr/vu87jxxc7j//6PmK/5Es+Rv//93Zdy7g+/7WPKx4/5ev6j50ALP37rbX4JuK319NiP3jrDY/w5T2xj4Qd//iXlW6pGULGmpZanoVoWXnujgD723fO1NxqwCxd+8LPPR+nXkSQGSEGVDy5TOPOIUbdlyuculd/5JfWib93WtWyGxjZB/jZz8jy1Zb8NQO41OiI97y2Pjo0gEXyA0pPGe+qjfF3m6eqNeyLdR9jl78gSA/T497/7kjmS4d4cY/nuL5lz7/DKLfBK3Bx0/cKf/qxBs1L93TSg7DS/PmZOfyA/oV0s/gmvCpEyeD9oRb/MtPCjN+WlW2K8+RcwriEVRZrxmIwr0fg7XyxcePP6wmtvPj1MOk/6eyV9ZO7qPSlaSmTL6Qpz6O2B10J6JJIAFEhI3LwIMZKQZJzPd9zBF2QP0RMltYNkWynJyNescY00H5VcC9HZ24fVsx7JKxlEYowC+gWTILaiUG0fyNIL3rzK/ewmM6TL9rExje2T0nsD30Ck9oANb6bPGJ3knmWJaxzwSwav6PnRYcwxFRsjS9B9bF/ApbpP35z5B8rtf46kEz62xediekUvBPFcNNhuCXhu/p69wzO9nuTUbIwsCQfmODx/ZndF3qvNcahee0UnS1qZliyzd7jSOzfHwhjy0E8EaNmGAWrMcVkKnEfYVOVloUwp59Hvxfc5jrGTeVLQrKuEdOo2Ri9Zyt5cGlORzCbbrlFJU+Kz6fC9P7InLbU9PT36OGp2dH+NR2SvMR2e8R0POBZlMsC3qZOxhX5sdV2p10WGSq7K7sc+A83/JpvGa5ojtAkZYRorybl1aqeb2/rv+qTj+QHfzWyS29WnyEIUwJCK2Y3fjp0xQJJ9ZDvv2/uG1LoOi6v4SGenDqObWpnNWzwNuxakOZqNNJ4yhQjo86CugNwUt1/QmJebDxzVfLDtZBjDsoqQqoZMrdpn08tmfkVHI8umQ1rlumSItdvyQ4knwhjSAP191gLp7rg+p6DQk0dZoKP+4MvwQp/e655mRHGhL59T8z4Kdi62M9uU3ZJ6lHZD/UHCzdiP+vmQu1KceR51korSrHhKd0fuiP1mWu7oyypQHe9y7H6Gw/udrf7rrgTM1ufEJL/L4honxhgg7JwjZY9h7p78dqlPsOku3xusKo5CvWrGknHHqVmdhLIZYNNSXYYTZcsaCl0lDFmmymbVy7lAfhyg64YD2oZn/D8pcUShcyMVEAAAAABJRU5ErkJggg==);background-size:100%;background-repeat:no-repeat;margin:auto}.editioncrafter .third_pane_blank{min-width:8px}.editioncrafter .navigationComponent{position:sticky;display:none;z-index:2;height:48px;width:100%;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:4px;background-color:#fff;border-radius:max(.3rem,4.8px)}.editioncrafter .navigationComponent #tool-bar-buttons{font-size:15px}@container diplomatic (min-width: 600px){.editioncrafter .navigationComponent{top:80px}}@container diplomatic (min-width: 960px){.editioncrafter .navigationComponent{top:0;left:0;display:flex}}.editioncrafter .navigationComponent button{cursor:pointer}.editioncrafter .navigationComponentNarrow{display:flex;width:auto;z-index:2;height:48px;width:100%;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:4px;background-color:#fff}.editioncrafter .navigationComponentNarrow #tool-bar-buttons{font-size:15px}@container diplomatic (min-width: 960px){.editioncrafter .navigationComponentNarrow{display:none}}.editioncrafter .navigationComponentNarrow button{cursor:pointer}.editioncrafter .navigationRow{display:none;justify-content:space-between;align-items:center;gap:10px;width:100%;padding:12px 10px}@container diplomatic (min-width: 960px){.editioncrafter .navigationRow{display:flex}}.editioncrafter .navigationRowNarrow{display:flex;justify-content:space-between;align-items:center;gap:10px;width:100%;padding:6px 5px}@container diplomatic (min-width: 960px){.editioncrafter .navigationRowNarrow{display:none}}.editioncrafter .helpIcon{display:inline-block;margin-top:6px;margin-right:16px}@container diplomatic (min-width: 960px){.editioncrafter .helpIcon{display:block}}.editioncrafter .dropdownV2{width:150px;margin-right:10px}.editioncrafter .imageViewComponent .navigationComponent{background-color:#4a4a4a;border-radius:max(.3rem,4.8px);opacity:.8}@container diplomatic (min-width: 960px){.editioncrafter .imageViewComponent .navigationComponent{background-color:#000;color:#fff;border-radius:0;opacity:1}}.editioncrafter .imageViewComponent .navigationComponentNarrow{background-color:#000;color:#fff;border-radius:0;opacity:1}.editioncrafter .transcriptionViewComponent .navigationComponent{background-color:#fff;color:#000}.editioncrafter #doc-type-help:after{color:#978e8e}.editioncrafter #doc-type-help .dark .MuiSvgIcon-root.MuiSelect-icon{color:#fff}.editioncrafter .breadcrumbs{overflow-x:hidden;display:hidden;align-items:baseline;max-width:70%}@container diplomatic (min-width: 960px){.editioncrafter .breadcrumbs{display:flex}}.editioncrafter .breadcrumbsNarrow{overflow-x:hidden;display:flex;align-items:baseline;max-width:70%}@container diplomatic (min-width: 960px){.editioncrafter .breadcrumbsNarrow{display:none}}.editioncrafter .breadcrumbs .folioName,.editioncrafter .breadcrumbsNarrow .folioName{display:inline;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:900;text-decoration:underline}.editioncrafter .closeX{float:right;padding:3px;font-style:bold}.editioncrafter .closeX:hover{cursor:pointer}.editioncrafter .helpContainer .MuiListItem-root{display:flex;gap:10px}.editioncrafter .helpContainer{padding:12px;width:335px;height:min(600px,100vh - 40px);position:relative;top:40px;overflow-x:auto}.editioncrafter .helpContainer .readingGuide td{padding:8px}.editioncrafter .helpContainer .readingGuide h2{margin-top:16px;margin-bottom:10px}.editioncrafter .searchHelpContainer{padding:10px 15px 10px 0;width:335px}.editioncrafter .helpHeader{text-align:center}.editioncrafter .paginationComponent{white-space:nowrap;text-align:center;font-size:max(1.2rem,19.2px);font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:52px}@container diplomatic (min-width: 960px){.editioncrafter .paginationComponent{margin-bottom:0}}.editioncrafter .paginationComponent.bottom{margin-top:0}.editioncrafter .paginationControl{padding:16px}.editioncrafter .paginationControl .arrow{font-size:max(1.8rem,28.8px);color:#4a4a4a;margin:max(1rem,16px) max(1rem,16px) 0;cursor:pointer;display:inline-block}.editioncrafter .arrow svg{font-size:inherit!important}.editioncrafter .paginationControl .folioName{position:relative;top:min(-.2rem,-3.2px);color:#4a4a4a}#diplomatic.editioncrafter{container-type:inline-size;container-name:diplomatic}#diplomatic.editioncrafter #content-view h1,#diplomatic.editioncrafter #content-view h2,#diplomatic.editioncrafter #content-view h3,#diplomatic.editioncrafter #content-view h4,#diplomatic.editioncrafter .header-wrapper h1,#diplomatic.editioncrafter .header-wrapper h2,#diplomatic.editioncrafter .header-wrapper h3,#diplomatic.editioncrafter .header-wrapper h4,#diplomatic.editioncrafter #entry-list-view h1,#diplomatic.editioncrafter #entry-list-view h2,#diplomatic.editioncrafter #entry-list-view h3,#diplomatic.editioncrafter #entry-list-view h4,#diplomatic.editioncrafter #annotation-list-view h1,#diplomatic.editioncrafter #annotation-list-view h2,#diplomatic.editioncrafter #annotation-list-view h3,#diplomatic.editioncrafter #annotation-list-view h4{font-family:Lato,sans-serif;color:#000;padding:0;margin:0}#diplomatic.editioncrafter #content-view h1,#diplomatic.editioncrafter .header-wrapper h1,#diplomatic.editioncrafter #entry-list-view h1,#diplomatic.editioncrafter #annotation-list-view h1{font-family:Taviraj,serif;font-size:32px}#diplomatic.editioncrafter #content-view h2,#diplomatic.editioncrafter #content-view h3,#diplomatic.editioncrafter .header-wrapper h2,#diplomatic.editioncrafter .header-wrapper h3,#diplomatic.editioncrafter #entry-list-view h2,#diplomatic.editioncrafter #entry-list-view h3,#diplomatic.editioncrafter #annotation-list-view h2,#diplomatic.editioncrafter #annotation-list-view h3{font-weight:700}#diplomatic.editioncrafter #content-view h2,#diplomatic.editioncrafter .header-wrapper h2,#diplomatic.editioncrafter #entry-list-view h2,#diplomatic.editioncrafter #annotation-list-view h2{font-size:22px}#diplomatic.editioncrafter #content-view h3,#diplomatic.editioncrafter .header-wrapper h3,#diplomatic.editioncrafter #entry-list-view h3,#diplomatic.editioncrafter #annotation-list-view h3{font-size:18px}#diplomatic.editioncrafter #content-view h4,#diplomatic.editioncrafter .header-wrapper h4,#diplomatic.editioncrafter #entry-list-view h4,#diplomatic.editioncrafter #annotation-list-view h4{font-size:18px;font-weight:700}#diplomatic.editioncrafter #content-view p,#diplomatic.editioncrafter .header-wrapper p,#diplomatic.editioncrafter #entry-list-view p,#diplomatic.editioncrafter #annotation-list-view p{font-family:Martel,serif;line-height:1.25}#diplomatic.editioncrafter #content-view span,#diplomatic.editioncrafter .header-wrapper span,#diplomatic.editioncrafter #entry-list-view span,#diplomatic.editioncrafter #annotation-list-view span{font-family:Martel,serif;line-height:1.25;margin:0}#diplomatic.editioncrafter #content-view a.MuiButton-containedPrimary.cta-button,#diplomatic.editioncrafter .header-wrapper a.MuiButton-containedPrimary.cta-button,#diplomatic.editioncrafter #entry-list-view a.MuiButton-containedPrimary.cta-button,#diplomatic.editioncrafter #annotation-list-view a.MuiButton-containedPrimary.cta-button{color:#fff;padding:10px 70px;border-radius:0}#diplomatic.editioncrafter #content-view a.MuiButton-containedPrimary.cta-button .MuiButton-label span,#diplomatic.editioncrafter .header-wrapper a.MuiButton-containedPrimary.cta-button .MuiButton-label span,#diplomatic.editioncrafter #entry-list-view a.MuiButton-containedPrimary.cta-button .MuiButton-label span,#diplomatic.editioncrafter #annotation-list-view a.MuiButton-containedPrimary.cta-button .MuiButton-label span{font-family:Lato,sans-serif;font-size:20px}#diplomatic.editioncrafter #content-view a,#diplomatic.editioncrafter .header-wrapper a,#diplomatic.editioncrafter #entry-list-view a,#diplomatic.editioncrafter #annotation-list-view a{color:#792421}#diplomatic.editioncrafter #content-view a:hover,#diplomatic.editioncrafter .header-wrapper a:hover,#diplomatic.editioncrafter #entry-list-view a:hover,#diplomatic.editioncrafter #annotation-list-view a:hover{color:#cba374}#diplomatic.editioncrafter #content-view .cta-link.MuiLink-underlineHover:hover,#diplomatic.editioncrafter .header-wrapper .cta-link.MuiLink-underlineHover:hover,#diplomatic.editioncrafter #entry-list-view .cta-link.MuiLink-underlineHover:hover,#diplomatic.editioncrafter #annotation-list-view .cta-link.MuiLink-underlineHover:hover{text-decoration:none}#diplomatic.editioncrafter #content-view a.cta-link,#diplomatic.editioncrafter .header-wrapper a.cta-link,#diplomatic.editioncrafter #entry-list-view a.cta-link,#diplomatic.editioncrafter #annotation-list-view a.cta-link{color:#000;text-align:center;width:fit-content;text-decoration:none;font-family:Lato,sans-serif;font-size:16px;font-weight:700;position:relative;cursor:pointer;margin-bottom:5px}@container diplomatic (min-width: 960px){#diplomatic.editioncrafter #content-view a.cta-link,#diplomatic.editioncrafter .header-wrapper a.cta-link,#diplomatic.editioncrafter #entry-list-view a.cta-link,#diplomatic.editioncrafter #annotation-list-view a.cta-link{font-size:18px}}#diplomatic.editioncrafter #content-view a.cta-link.with-icon:after,#diplomatic.editioncrafter .header-wrapper a.cta-link.with-icon:after,#diplomatic.editioncrafter #entry-list-view a.cta-link.with-icon:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link.with-icon:after{font-family:"Font Awesome 5 Free";margin-left:7px;font-weight:600;content:"";font-size:15px}#diplomatic.editioncrafter #content-view a.cta-link:before,#diplomatic.editioncrafter .header-wrapper a.cta-link:before,#diplomatic.editioncrafter #entry-list-view a.cta-link:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link:before{position:absolute;content:"";height:2px;background-color:#000;width:50%;right:30%;bottom:-5px;border-radius:2px}#diplomatic.editioncrafter #content-view a.cta-link:hover:before,#diplomatic.editioncrafter .header-wrapper a.cta-link:hover:before,#diplomatic.editioncrafter #entry-list-view a.cta-link:hover:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link:hover:before{background-color:#792421;text-decoration:none;height:6px;bottom:-9px;-webkit-animation:slide-down .2s;-moz-animation:slide-down .2s;-ms-animation:slide-down .2s;-o-animation:slide-down .2s;animation:slide-down .2s}#diplomatic.editioncrafter #content-view a.cta-link:hover:after,#diplomatic.editioncrafter .header-wrapper a.cta-link:hover:after,#diplomatic.editioncrafter #entry-list-view a.cta-link:hover:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link:hover:after{color:#792421}#diplomatic.editioncrafter #content-view a.cta-link.active:before,#diplomatic.editioncrafter .header-wrapper a.cta-link.active:before,#diplomatic.editioncrafter #entry-list-view a.cta-link.active:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link.active:before{background-color:#792421;text-decoration:none;height:6px;bottom:-9px;-webkit-animation:slide-down .2s;-moz-animation:slide-down .2s;-ms-animation:slide-down .2s;-o-animation:slide-down .2s;animation:slide-down .2s}#diplomatic.editioncrafter #content-view a.cta-link.active:after,#diplomatic.editioncrafter .header-wrapper a.cta-link.active:after,#diplomatic.editioncrafter #entry-list-view a.cta-link.active:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link.active:after{color:#792421}#diplomatic.editioncrafter #content-view a.cta-link.light,#diplomatic.editioncrafter .header-wrapper a.cta-link.light,#diplomatic.editioncrafter #entry-list-view a.cta-link.light,#diplomatic.editioncrafter #annotation-list-view a.cta-link.light{color:#444}#diplomatic.editioncrafter #content-view a.cta-link.light:before,#diplomatic.editioncrafter .header-wrapper a.cta-link.light:before,#diplomatic.editioncrafter #entry-list-view a.cta-link.light:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link.light:before{background-color:#444}#diplomatic.editioncrafter #content-view a.cta-link.light:hover:before,#diplomatic.editioncrafter .header-wrapper a.cta-link.light:hover:before,#diplomatic.editioncrafter #entry-list-view a.cta-link.light:hover:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link.light:hover:before{background-color:#792421}#diplomatic.editioncrafter #content-view a.cta-link.video-link:after,#diplomatic.editioncrafter .header-wrapper a.cta-link.video-link:after,#diplomatic.editioncrafter #entry-list-view a.cta-link.video-link:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link.video-link:after{content:"";font-size:12px;margin-bottom:-2px}#diplomatic.editioncrafter #content-view a.cta-link.search-link:after,#diplomatic.editioncrafter .header-wrapper a.cta-link.search-link:after,#diplomatic.editioncrafter #entry-list-view a.cta-link.search-link:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link.search-link:after{font-family:Material Icons;content:"search";font-size:16px}#diplomatic.editioncrafter #header{width:100%;padding:0 20px;background-color:#fff;border-radius:0}@container diplomatic (min-width: 1280px){#diplomatic.editioncrafter #header{padding:5px 50px}}#diplomatic.editioncrafter #header img{width:210px}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #header img{width:300px}}@container diplomatic (min-width: 960px){#diplomatic.editioncrafter #header img{width:300px}}#diplomatic.editioncrafter #header .expandedViewOnly{width:100%}#diplomatic.editioncrafter #header .nav-item{font-size:16px;margin-right:5px;white-space:nowrap;margin-bottom:15px}#diplomatic.editioncrafter #header .search-btn{margin-bottom:10px;font-size:18px}#diplomatic.editioncrafter .maroon-dropdown{background-color:#460c0a;border-radius:0;-webkit-box-shadow:inset 0 5px 5px -5px rgba(0,0,0,.8),0 5px 5px -5px rgba(0,0,0,.8);-moz-box-shadow:inset 0 5px 5px -5px rgba(0,0,0,.8),0 5px 5px -5px rgba(0,0,0,.8);box-shadow:inset 0 5px 5px -5px #000c,0 5px 5px -5px #000c}#diplomatic.editioncrafter .mobile-menu{padding:50px 0}#diplomatic.editioncrafter .mobile-menu .list-container{position:relative}#diplomatic.editioncrafter .mobile-menu .list-container .list{color:"white"}#diplomatic.editioncrafter .search-bar{height:162px}#diplomatic.editioncrafter .search-bar .label{font-size:32px;color:#fff;font-weight:400;white-space:nowrap}#diplomatic.editioncrafter .search-bar .content{width:50%}#diplomatic.editioncrafter .search-bar #search input{border:1px solid #DEDEDF;border-radius:4px;width:300px;height:38px;font-size:14px;padding:5px 15px;font-family:Lato,sans-serif}#diplomatic.editioncrafter.sticky .header-wrapper.sticky{position:sticky;top:0;z-index:2}#diplomatic.editioncrafter #footer{color:#fff;background-color:#460c0a;display:flex;flex-direction:column;padding:10px 20px}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #footer{padding:20px 30px}}@container diplomatic (min-width: 960px){#diplomatic.editioncrafter #footer{padding:30px 40px}}#diplomatic.editioncrafter #footer p,#diplomatic.editioncrafter #footer a{font-family:Lato,sans-serif;font-size:16px;color:#fafafa;line-height:1.5;margin:0}#diplomatic.editioncrafter #footer a:hover{color:#cba374;fill:#cba374}#diplomatic.editioncrafter #footer .top{margin-bottom:10px}#diplomatic.editioncrafter #footer .top p{margin:0 5px;white-space:nowrap}#diplomatic.editioncrafter #footer .doi{text-align:center}#diplomatic.editioncrafter #footer .copyright .symbols{text-decoration:none}#diplomatic.editioncrafter #footer .copyright svg{width:14px;height:14px}#diplomatic.editioncrafter #footer .logos{margin-bottom:10px}#diplomatic.editioncrafter #footer .logos img{width:150px}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #footer .logos img{width:200px}}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #footer .logos img{width:250px}}#diplomatic.editioncrafter #footer .footer-links{width:100%;text-align:center;font-size:12px;line-height:2}#diplomatic.editioncrafter{background:#fff;width:auto;height:min(100%,100dvh);overflow-y:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:OpenSans,sans-serif;font-size:max(.9rem,14.4px)}#diplomatic.editioncrafter #content{line-height:max(1.2rem,19.2px)}#diplomatic.editioncrafter h1,#diplomatic.editioncrafter h2,#diplomatic.editioncrafter h3,#diplomatic.editioncrafter h4{color:#000000b8;font-family:OpenSans,sans-serif;font-weight:700;padding:0;line-height:max(1.5rem,24px)}.editioncrafter .imageGridComponent{background-color:#000;font-size:max(.8rem,12.8px);overflow:scroll;height:100%;max-height:100dvh}.editioncrafter .imageGridComponent .thumbnail{background-color:inherit;border:none}.editioncrafter .imageGridComponent>ul{display:flex;flex-wrap:wrap;list-style:none;padding-left:0;margin:max(1.5rem,24px) 0 max(8rem,128px) max(2rem,32px)}.editioncrafter .imageGridComponent>ul>li{margin-bottom:20px;width:150px}.editioncrafter .imageGridComponent>ul>li>figure{margin:8px}.editioncrafter .imageGridComponent>ul>li>figure:hover{border:2px #eee solid;margin:6px}.editioncrafter .imageGridComponent>ul>li>.thumbnail-caption{text-align:center;color:#fff;margin:0 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.editioncrafter .hidden{display:none}.editioncrafter .imageGridComponent .imageGridToolbar{padding:5px;color:#fff}.editioncrafter .imageGridComponent .imageGridToolbar .jump-to{float:right;display:"inline";margin-right:30px}.editioncrafter .imageGridComponent .imageGridToolbar .jump-to #jump-to-input{margin-left:5px}.editioncrafter .imageGridComponent .imageGridToolbar .jump-to #jump-to-button{margin-left:5px;cursor:pointer}.editioncrafter .imageGridComponent .imageGridToolbar .doc-select{display:inline;margin-left:30px;font-size:max(.8rem,12.8px)}.editioncrafter .imageGridComponent .imageGridToolbar .doc-select .MuiInputBase-root{font-size:max(.8rem,12.8px)}.editioncrafter .split-pane-view{height:100%;width:100%;display:grid}.editioncrafter .split-pane-view.two-pane{grid-template-areas:"image_viewer divider transcription"}.editioncrafter .split-pane-view.three-pane{grid-template-areas:"image_viewer divider transcription divider_two third_pane"}.editioncrafter .split-pane-view>.divider{z-index:2;width:max(1rem,16px);background:#bbb;cursor:ew-resize;display:flex}.editioncrafter .split-pane-view>.divider.first_divider{grid-area:divider}.editioncrafter .split-pane-view>.divider.second_divider{grid-area:divider_two}.editioncrafter .split-pane-view>.divider>.drawer-button{align-self:center;cursor:auto}.editioncrafter .split-pane-view>.divider>.drawer-button:hover{color:#fff}.editioncrafter .split-pane-view>.divider>.hidden{display:none}.editioncrafter .split-pane-view #annotation-view{font-size:16px}.editioncrafter #image-view-seadragon-left,.editioncrafter #image-view-seadragon-right,.editioncrafter #image-view-seadragon-third{width:100%;height:100%;max-height:100dvh;grid-area:image_viewer;background:#000}.editioncrafter .imageViewComponent{position:relative;padding:0;margin:0;width:100%;height:100%;max-height:100dvh}.editioncrafter .imageViewComponent .navigationComponent{position:absolute}.editioncrafter .a9s-annotation.a9s-annotation.selected>rect,.editioncrafter .a9s-annotation.a9s-annotation.selected>polygon{stroke:#4385f6!important;stroke-linejoin:round;fill:#4385f61a!important}.editioncrafter .a9s-annotation.a9s-annotation.hover>rect,.editioncrafter .a9s-annotation.a9s-annotation.hover>polygon{stroke:#4385f6!important;stroke-linejoin:round}.editioncrafter .ImageZoomControl{position:absolute;z-index:1;top:max(8rem,128px);color:#fff;list-style:none;background:#4a4a4a;opacity:.4;margin:0;padding:max(.4rem,6.4px) max(.5rem,8px);border-radius:max(.3rem,4.8px)}@container diplomatic (min-width: 960px){.editioncrafter .ImageZoomControl{top:max(4rem,64px);left:max(2rem,32px)}}.editioncrafter .ImageZoomControl>li{color:#e0e0e0;margin:0!important}.editioncrafter .ImageZoomControl>li>.zoom-in{margin-top:8px}.editioncrafter .ImageZoomControl>li:hover{color:#fff}.editioncrafter .ImageZoomControl>li>.zoom-3{margin-top:8px}.editioncrafter .ImageZoomControl>li>.zoom-2{margin-top:8px;margin-left:5px}.editioncrafter .ImageZoomControl>li>.zoom-1{margin-top:8px;margin-left:7px}.editioncrafter .ImageZoomControl>li>.zoom-out{margin-top:8px}.editioncrafter .ImageZoomControl>li>.zoom-grid{margin-top:30px}.editioncrafter .transcriptionViewComponent .transcriptContent{padding:50px 16px;font-size:max(.9rem,14.4px);-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}@container diplomatic (min-width: 960px){.editioncrafter .transcriptionViewComponent .transcriptContent{padding:5px 16px}}.editioncrafter .transcriptionViewComponent .transcriptContent figure{display:inline-flex;flex-direction:column;width:100%;align-items:center;gap:6px}.editioncrafter .transcriptionViewComponent .transcriptContent .block[data-layout=right-middle],.editioncrafter .transcriptionViewComponent .transcriptContent .block[data-layout=right-top],.editioncrafter .transcriptionViewComponent .transcriptContent .block[data-layout=right-bottom]{max-width:250px}.editioncrafter .transcriptionViewComponent .transcriptContent .x-small-inline-figure{margin:5px;border:1px solid gray;width:30px}.editioncrafter .transcriptionViewComponent .transcriptContent .small-inline-figure{margin:5px;border:1px solid gray;width:60px}.editioncrafter .transcriptionViewComponent .transcriptContent .medium-inline-figure{margin:5px;border:1px solid gray;width:200px}.editioncrafter .transcriptionViewComponent .transcriptContent .large-inline-figure{margin:5px;border:1px solid gray;width:350px}.editioncrafter .transcriptionViewComponent .transcriptContent .surface{grid-area:transcription;margin:0;padding:0;list-style:none}.editioncrafter .transcriptionViewComponent .transcriptContent .grid-mode{display:grid;grid-auto-rows:minmax(min-content,0fr);grid-gap:2px}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>.small-font{font-size:11pt}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>div{padding:10px}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z0{grid-area:z0}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z1{grid-area:z1}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z2{grid-area:z2}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z3{grid-area:z3}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z4{grid-area:z4}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z5{grid-area:z5}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z6{grid-area:z6}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z7{grid-area:z7}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z8{grid-area:z8}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z9{grid-area:z9}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z10{grid-area:z10}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z11{grid-area:z11}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z12{grid-area:z12}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z13{grid-area:z13}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z14{grid-area:z14}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z15{grid-area:z15}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z16{grid-area:z16}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z17{grid-area:z17}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z18{grid-area:z18}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z19{grid-area:z19}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z20{grid-area:z20}.editioncrafter .transcriptionViewComponent .transcriptContent .highlight{background-color:#ff0}.editioncrafter tei-line{display:block}.editioncrafter tei-add{color:#00f;vertical-align:super;font-size:10pt}.editioncrafter .selected-zone{background:#eaf1fd;border-radius:5px}.editioncrafter .editor-comment-content{word-wrap:break-word}.editioncrafter .inline-image{max-width:90%;max-height:360px;margin:auto;text-align:center}.editioncrafter .xmlViewComponent .navigationComponent{background-color:#fff;color:#000}.editioncrafter .xmlContent{padding:0;margin:4.5rem 0 0;width:calc(100% - 1.2rem);max-height:100vh;min-height:100%;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;min-width:max(10rem,160px)}.editioncrafter .xmlViewComponent{overflow:auto;margin:0 0 0 max(1rem,16px);max-height:calc(100vh - max(7rem,112px))}.editioncrafter .xmlContentInner{max-height:100%}.editioncrafter .xmlContentInner pre{overflow-x:auto}.editioncrafter #glossaryView #glossaryViewInner{margin:5px 0 0;width:calc(100% - 1.2rem);max-height:calc(100vh - 170px);padding:5px 16px}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView #glossaryViewInner{margin:52px 0 0}}.editioncrafter #glossaryView .cite-header{text-align:center;margin-bottom:5px}.editioncrafter #glossaryView .cite-instructions{margin:20px 15%}.editioncrafter #glossaryView .glossaryNav{background:#fff;padding:5px;position:relative}.editioncrafter #glossaryView .glossaryNav #glossary-filter{margin-right:10px}.editioncrafter #glossaryView .glossaryNav .alphaNav{display:none}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView .glossaryNav .alphaNav{display:block}}.editioncrafter #glossaryView .alphaNav{color:#00f;display:inline}.editioncrafter #glossaryView .title{white-space:nowrap;position:relative;width:calc(100% - max(1.7rem,27.2px));text-align:center;top:-2em;font-size:max(1.8rem,28.8px);font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView .title{top:-1em}}.editioncrafter #glossaryView .subtitle{white-space:nowrap;position:relative;width:calc(100% - max(1.7rem,27.2px));text-align:center;top:-2em;font-style:italic;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView .subtitle{top:-1em}}.editioncrafter #glossaryView #glossaryContent{padding:max(80px,5rem) 0 0;max-height:100vh;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;min-width:max(10rem,160px)}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView #glossaryContent{padding:max(3.5rem,56px) 0 0}}.editioncrafter .jumpToFolio_component{margin:max(1rem,16px) 0 0 min(-4.5rem,-72px);padding:max(.6rem,9.6px);height:max(1.2rem,19.2px);width:max(9.5rem,152px);background:#e7e7e7;border:1px solid rgba(90,98,102,.53);border-radius:max(.3rem,4.8px);-webkit-box-shadow:6px 6px 5px 0 rgba(0,0,0,.211765);-moz-box-shadow:6px 6px 5px 0 rgba(0,0,0,.211765);box-shadow:6px 6px 5px #00000036;font-family:sans-serif}.editioncrafter .jumpToFolio_component input:focus{outline:none}.editioncrafter .jumpToFolio_component:after,.editioncrafter .jumpToFolio_component:before{bottom:100%;left:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.editioncrafter .jumpToFolio_component:after{border-color:#fff0;border-bottom-color:#e7e7e7;border-width:9px;margin-left:-9px}.editioncrafter .jumpToFolio_component:before{border-color:#c2e1f500;border-bottom-color:#5a626687;border-width:11px;margin-left:-11px}.editioncrafter [lang=ar],.editioncrafter [lang=ota],.editioncrafter [lang=fa],.editioncrafter [lang=he],.editioncrafter [lang*=-Arab-AR]{direction:rtl;text-align:right}.editioncrafter [lang=en],.editioncrafter [lang=fr],.editioncrafter [lang=de],.editioncrafter [lang=it],.editioncrafter [lang*=ar-Latn-],.editioncrafter [lang*=ota-Latn-]{direction:ltr;text-align:left}.editioncrafter tei-choice tei-abbr+tei-expan:before,.editioncrafter tei-choice tei-expan+tei-abbr:before,.editioncrafter tei-choice tei-sic+tei-corr:before,.editioncrafter tei-choice tei-corr+tei-sic:before,.editioncrafter tei-choice tei-orig+tei-reg:before,.editioncrafter tei-choice tei-reg+tei-orig:before{content:" ("}.editioncrafter tei-choice tei-abbr+tei-expan:after,.editioncrafter tei-choice tei-expan+tei-abbr:after,.editioncrafter tei-choice tei-sic+tei-corr:after,.editioncrafter tei-choice tei-corr+tei-sic:after,.editioncrafter tei-choice tei-orig+tei-reg:after,.editioncrafter tei-choice tei-reg+tei-orig:after{content:")"}.editioncrafter tei-ab{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-accMat{display:block}.editioncrafter tei-accMat:before{content:"accompanying materials: "}.editioncrafter tei-acquisition{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-acquisition:before{font-weight:700;content:"acquisition"}.editioncrafter tei-activity{display:block}.editioncrafter tei-activity:before{content:"activity: "}.editioncrafter tei-add[place=above]{color:#00f;vertical-align:super;font-size:10pt}.editioncrafter tei-add[place=inline]:before{content:""}.editioncrafter tei-add[place=inline]:after{content:""}.editioncrafter tei-add[place=below]{vertical-align:sub}.editioncrafter tei-additional{display:block}.editioncrafter tei-additions{display:block}.editioncrafter tei-additions:before{content:"Significant additions within the document: "}.editioncrafter tei-addrLine{display:block}.editioncrafter tei-address[data-tei-rend~=block],.editioncrafter addresss[data-tei-rendition~="#block"]{display:block}.editioncrafter tei-adminInfo{display:block}.editioncrafter tei-app tei-note{display:none}.editioncrafter tei-appInfo{display:block}.editioncrafter tei-appInfo:before{content:"Application information: "}.editioncrafter tei-application{display:block}.editioncrafter tei-application:after{content:" " attr(version)}.editioncrafter tei-argument{display:block}.editioncrafter tei-att{font-family:Courier,monospace}.editioncrafter tei-att:before{content:"@"}.editioncrafter tei-titlestmt>tei-author{display:block;margin-bottom:1em}.editioncrafter tei-publicationstmt>tei-availability{font-size:80%}.editioncrafter tei-publicationstmt>tei-availability:before{font-weight:700;content:"Availability: "}.editioncrafter tei-publicationstmt>tei-availability[data-tei-status]:before{font-weight:700;content:"Availability (" attr(status) "): "}.editioncrafter tei-back{display:block}.editioncrafter tei-bibl[data-tei-rend~=block],.editioncrafter bibl[data-tei-rendition~="#block"]{display:block;padding-left:2em;text-indent:-2em}.editioncrafter tei-biblFull{display:block}.editioncrafter tei-binding{display:block}.editioncrafter tei-binding:before{content:"Binding: \\a";white-space:pre-wrap}.editioncrafter tei-binding[data-tei-contemporary]:before{content:"Binding: \\a" "Contemporary: " attr(contemporary) "\\a";white-space:pre-wrap}.editioncrafter tei-bindingdesc{display:block}.editioncrafter tei-bindngdesc:before{content:"Binding description: \\a"}.editioncrafter tei-birth{display:block}.editioncrafter tei-birth:before{content:"Birth: "}.editioncrafter tei-cRefPattern{display:none}.editioncrafter tei-caption{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-case[data-tei-value]:before{font-weight:700;content:attr(value) " "}.editioncrafter tei-castgroup{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-castitem{display:list-item}.editioncrafter tei-castlist{display:block;list-style-type:none;margin-top:1em;margin-bottom:1em;margin-left:2em}.editioncrafter tei-cb{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-cb:before{content:"[column break]"}.editioncrafter tei-cell{border-right:thin solid black;border-bottom:thin solid black;padding:2px}.editioncrafter tei-cell[data-tei-role=label]{font-weight:700}.editioncrafter tei-climate{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-climate:before{font-weight:700;content:"Climate: "}.editioncrafter tei-code{font-family:Courier,monospace}.editioncrafter tei-collation{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-condition{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution:before{font-weight:700;content:"Constitution: "}.editioncrafter tei-constitution[data-tei-type]{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution[data-tei-type]:before{font-weight:700;content:"Constitution (" attr(type) "): "}.editioncrafter tei-constitution[data-tei-type=frags]{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution[data-tei-type=frags]:before{font-weight:700;content:"Constitution (fragments): "}.editioncrafter tei-custevent{display:list-item}.editioncrafter tei-custodialhist{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-date[data-tei-when]:empty:before{content:attr(when)}.editioncrafter tei-del{color:red}.editioncrafter tei-editionstmt{display:block}.editioncrafter teieg-egxml{display:block;font-size:80%;margin-left:1em;padding-left:1em;border-left:1px solid #aaaaaa;margin-top:.75em;margin-bottom:.75em;padding-top:.75em;padding-bottom:.75em;font-family:monospace;white-space:pre}.editioncrafter tei-emph{font-style:italic}.editioncrafter tei-encodingdesc{display:none}.editioncrafter tei-epigraph{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-explicit{font-style:italic}.editioncrafter tei-filedesc>tei-extent{display:none}.editioncrafter tei-figure{display:block;text-align:center;margin-left:auto;margin-right:auto}.editioncrafter tei-gap[data-tei-reason=lost]:before{content:"["}.editioncrafter tei-gap[data-tei-reason=lost]:after{content:attr(data-content) "]"}.editioncrafter tei-gap[data-tei-reason=illegible]:after{content:attr(data-content)}.editioncrafter tei-gi{font-family:Courier,monospace}.editioncrafter tei-gi:before{content:"<"}.editioncrafter tei-gi:after{content:">"}.editioncrafter tei-head{display:block;font-family:OpenSans,sans-serif;font-weight:700;font-size:1.5em;line-height:max(1.5rem,24px)}.editioncrafter tei-body>tei-head{font-size:180%;text-indent:-.5em}.editioncrafter tei-div.textpart{display:none}.editioncrafter tei-div>tei-head{font-size:170%;text-indent:-.5em}.editioncrafter tei-div>tei-div>tei-head{font-size:155%}.editioncrafter tei-div>tei-div>tei-div>tei-head{font-size:140%}.editioncrafter tei-div>tei-div>tei-div>tei-div>tei-head,.editioncrafter list>tei-head{font-size:130%}.editioncrafter tei-div>tei-div>tei-div>tei-div>tei-div>tei-head{font-size:120%}.editioncrafter tei-div>tei-div>tei-div>tei-div>tei-div>tei-div tei-head{font-size:110%}.editioncrafter tei-figure>tei-head{display:block;margin:1.5em auto;padding:.5em 1.5em 1.5em;border:1px solid black;border-radius:15px;width:325px;position:relative;border:1px solid #aaaaaa;background:#fafafa;text-indent:0;font-size:85%;text-align:justify;-webkit-box-shadow:0px 1px 3px rgba(0,0,0,.25);-moz-box-shadow:0px 1px 3px rgba(0,0,0,.25);box-shadow:0 1px 3px #00000040;width:85%;font-family:Georgia,Serif;font-size:13pt}.editioncrafter tei-hi[rend~=caps]{font-weight:700}.editioncrafter tei-hi[rend~=italic]{font-style:italic}.editioncrafter tei-hi[rend~=underline]{text-decoration:underline}.editioncrafter tei-ident{font-family:Courier,monospace}.editioncrafter tei-incipit{font-style:italic}.editioncrafter tei-item{display:list-item;margin-left:1em}.editioncrafter tei-cell item{margin-left:1em}.editioncrafter tei-l{display:block}.editioncrafter tei-l[data-lineno]:before{content:attr(data-lineno);position:absolute;left:2em}.editioncrafter tei-lb:after{content:"\\a";white-space:pre}.editioncrafter tei-lg{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-list{display:block;margin-top:1em;margin-bottom:1em;list-style-type:none}.editioncrafter tei-item>tei-list{margin-top:0}.editioncrafter tei-sourcedesc tei-list{list-style-type:none}.editioncrafter tei-sourcedesc>tei-list>tei-head{font-size:140%;font-weight:700}.editioncrafter tei-sourcedesc tei-list>tei-item{display:list-item}.editioncrafter tei-text tei-list[type=simple]{list-style-type:none}.editioncrafter tei-text tei-list[type=bulleted]{list-style-type:disc}.editioncrafter tei-text tei-list[type=ordered]{list-style-type:none;counter-reset:items 0}.editioncrafter tei-text tei-list[type=ordered]>tei-item{display:list-item;margin-left:0}.editioncrafter tei-text tei-list[type=ordered]>item:before{counter-increment:items 1;content:counter(items,decimal) ". "}.editioncrafter tei-text tei-list[type=gloss]{list-style-type:none}.editioncrafter tei-list[type=gloss]>tei-label{display:block;margin-top:.25em;margin-bottom:.25em;font-weight:700}.editioncrafter tei-list[type=gloss]>tei-item{margin-left:2em}.editioncrafter tei-item>tei-list[type=ordered]{margin-left:1em}.editioncrafter tei-listapp{display:block;margin:1em;padding:1em}.editioncrafter tei-listbibl{display:block;list-style-type:none;margin-left:.5 em;margin-top:.5em}.editioncrafter tei-listbibl>tei-head{font-size:120%;font-weight:700}.editioncrafter tei-listbibl>tei-bibl{display:list-item;margin-left:.5em}.editioncrafter tei-listwit{display:block;list-style-type:none;margin-left:.5em}.editioncrafter tei-listwit>tei-head{font-size:120%;font-weight:700}.editioncrafter tei-listwit>tei-witness{display:list-item;margin-left:2em;text-indent:-1.1em}.editioncrafter tei-witness>tei-listwit{display:inline}.editioncrafter tei-witness>tei-listwit>tei-head{display:inline}.editioncrafter tei-witness>tei-listwit>tei-witness{display:inline}.editioncrafter tei-locus{display:none}.editioncrafter tei-milestone{display:none;margin-left:auto;margin-right:auto;text-align:center}.editioncrafter tei-musicNotation{font-weight:700}.editioncrafter tei-musicNotation:before{font-weight:700;content:"Musical Notation: "}.editioncrafter tei-node{display:none}.editioncrafter tei-note{display:none}.editioncrafter tei-notesstmt{display:none}.editioncrafter tei-ovar{font-style:italic}.editioncrafter tei-origPlace{font-weight:700}.editioncrafter tei-origPlace:before{font-weight:700;content:"Place of Origin: "}.editioncrafter tei-p{display:block;margin-top:1em;margin-bottom:1em;text-align:justify}.editioncrafter *[data-tei-rendition~="#center"] p{text-align:center}.editioncrafter tei-availability>p:first-child{margin-top:0}.editioncrafter tei-performance{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-person{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-personGrp{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-postscript{display:block;margin-top:2em}.editioncrafter tei-principal{font-weight:700}.editioncrafter tei-principal:before{font-weight:700;content:"Principal: "}.editioncrafter tei-profiledesc{display:none}.editioncrafter tei-publicationstmt>*{display:none}.editioncrafter tei-publicationstmt{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-publicationstmt>date{display:none}.editioncrafter tei-publicationstmt>publisher{display:none}.editioncrafter tei-q{quotes:"" "" "" "" "" "" "" "" "" "" "" "" "" ""}.editioncrafter tei-q:before{content:""}.editioncrafter tei-q:after{content:""}.editioncrafter tei-q[data-tei-next]:after{content:""!important}.editioncrafter tei-q[data-tei-prev]:before{content:""!important}.editioncrafter tei-quote{font-style:italic}.editioncrafter tei-app tei-rdg{display:none}.editioncrafter tei-re{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-recordhist{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-ref{color:#5f0000}.editioncrafter tei-remarks{font-weight:700}.editioncrafter tei-remarks:before{font-weight:700;content:"remarks: "}.editioncrafter tei-respstmt{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-revisiondesc{display:none}.editioncrafter tei-row{display:grid;grid-auto-flow:column;grid-auto-columns:1fr}.editioncrafter tei-salute{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-samplingdecl{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-scriptnote{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-seal{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-seal:before{font-weight:700;content:"Seal: "}.editioncrafter tei-sealdesc{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-secFol:before{font-weight:700;content:"Second Folio: "}.editioncrafter tei-secl>*:first-child:before{content:"\\a[";white-space:pre}.editioncrafter tei-secl>*:last-child:after{content:"]\\a\\a";white-space:pre}.editioncrafter tei-seg{outline:0px solid transparent}.editioncrafter tei-sense{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-seriesstmt{display:none}.editioncrafter tei-setting{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-signed{display:block;margin-top:2em}.editioncrafter tei-soCalled{quotes:"" "" "" "" "" "" "" "" "" "" "" "" "" ""}.editioncrafter tei-soCalled:before{content:open-quote}.editioncrafter tei-soCalled:after{content:close-quote}.editioncrafter tei-soCalled[data-tei-next]:after{content:""!important}.editioncrafter tei-soCalled[data-tei-prev]:before{content:""!important}.editioncrafter tei-sound{font-style:italic}.editioncrafter tei-source{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-sourcedesc{display:none}.editioncrafter tei-space:before{font-weight:700;content:""}.editioncrafter tei-span[data-tei-data-n]:before{content:attr(data-n)}.editioncrafter tei-speaker{font-weight:700;margin-right:0}.editioncrafter tei-sponsor{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-sponsor:before{font-weight:700;content:"Sponsor:"}.editioncrafter tei-stage{display:block;margin-top:1em;margin-bottom:1em;font-style:italic}.editioncrafter tei-stamp{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-stamp:before{font-weight:700;content:"Stamped: "}.editioncrafter tei-surplus>*:first-child:before{content:"\\a[";white-space:pre}.editioncrafter tei-surplus>*:last-child:after{content:"]\\a\\a";white-space:pre}.editioncrafter tei-tei{display:block}.editioncrafter tei-table{display:block;border-top:thin solid black;border-left:thin solid black}.editioncrafter tei-table{margin-top:2em;margin-bottom:2em;font-size:12pt}.editioncrafter tei-table>tei-head{border-bottom:thin solid black;border-right:thin solid black;font-size:120%;font-weight:700;padding:2px;text-align:center}.editioncrafter tei-teiheader{display:block;margin-top:2em;margin-bottom:2em}.editioncrafter tei-tei>tei-text{display:block;line-height:1.5}.editioncrafter tei-textclass{display:none}.editioncrafter tei-textdesc{display:none}.editioncrafter tei-tei tei-title{display:inline}.editioncrafter tei-tei tei-title[level=a]{quotes:"" "" "" "" "" "" "" "" "" "" "" "" "" ""}.editioncrafter tei-tei tei-title[level=a]:before{content:open-quote}.editioncrafter tei-tei tei-title[level=a]:after{content:close-quote}.editioncrafter tei-tei tei-title[level=a][next]:after{content:""!important}.editioncrafter tei-tei tei-title[level=a][prev]:before{content:""!important}.editioncrafter tei-title[level=m]{font-style:italic}.editioncrafter tei-titlestmt>tei-title{display:block;font-family:Arvo,sans-serif;font-weight:400;font-weight:700!important;font-size:150%}.editioncrafter tei-typedesc{display:none}.editioncrafter tei-u:before{content:"-"}.editioncrafter tei-view{font-style:italic}.editioncrafter tei-wit{display:inline}.editioncrafter tei-witdetail{display:none}.editioncrafter .inline-ring-spinner{display:inline-block;margin-left:10px;margin-right:10px;width:16px;height:16px}.editioncrafter .inline-ring-spinner .light{border:3px solid #fff;border-color:#fff transparent transparent transparent}.editioncrafter .inline-ring-spinner .dark{border:3px solid #000;border-color:#000 transparent transparent transparent}.editioncrafter .inline-ring-spinner div{box-sizing:border-box;display:block;position:absolute;width:16px;height:16px;border-radius:50%;animation:inline-ring-spinner 1.2s cubic-bezier(.5,0,.5,1) infinite}.editioncrafter .inline-ring-spinner div:nth-child(1){animation-delay:-.45s}.editioncrafter .inline-ring-spinner div:nth-child(2){animation-delay:-.3s}.editioncrafter .inline-ring-spinner div:nth-child(3){animation-delay:-.15s}@keyframes inline-ring-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.editioncrafter .big-ring-spinner{width:100%;height:100vh;display:flex;justify-content:center}.editioncrafter .big-ring-spinner div{box-sizing:border-box;display:block;position:absolute;width:128px;height:128px;margin-top:30vh;border-radius:50%;animation:big-ring-spinner 1.2s cubic-bezier(.5,0,.5,1) infinite}.editioncrafter .big-ring-spinner.dark div{border:16px solid #000;border-color:#000 transparent transparent transparent}.editioncrafter .big-ring-spinner.light div{border:16px solid #fff;border-color:#fff transparent transparent transparent}.editioncrafter .big-ring-spinner div:nth-child(1){animation-delay:-.45s}.editioncrafter .big-ring-spinner div:nth-child(2){animation-delay:-.3s}.editioncrafter .big-ring-spinner div:nth-child(3){animation-delay:-.15s}@keyframes big-ring-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.editioncrafter .single-pane-view{height:100%;width:100%;overflow:auto}.editioncrafter .single-pane-view>div{height:100%}')),document.head.appendChild(e)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();var R4=Object.defineProperty,O4=(e,n,t)=>n in e?R4(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Mr=(e,n,t)=>O4(e,typeof n!="symbol"?n+"":n,t),zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function A4(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var oO={exports:{}},$s={},ng,fP;function D4(){if(fP)return ng;fP=1;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function r(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function i(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var h={},c=0;c<10;c++)h["_"+String.fromCharCode(c)]=c;var p=Object.getOwnPropertyNames(h).map(function(g){return h[g]});if(p.join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(g){m[g]=g}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return ng=i()?Object.assign:function(a,h){for(var c,p=r(a),m,g=1;g<arguments.length;g++){c=Object(arguments[g]);for(var b in c)n.call(c,b)&&(p[b]=c[b]);if(e){m=e(c);for(var S=0;S<m.length;S++)t.call(c,m[S])&&(p[m[S]]=c[m[S]])}}return p},ng}var mP;function M4(){if(mP)return $s;mP=1;/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */D4();var e=dt,n=60103;if($s.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var t=Symbol.for;n=t("react.element"),$s.Fragment=t("react.fragment")}var r=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,a={key:!0,ref:!0,__self:!0,__source:!0};function h(c,p,m){var g,b={},S=null,T=null;m!==void 0&&(S=""+m),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(T=p.ref);for(g in p)i.call(p,g)&&!a.hasOwnProperty(g)&&(b[g]=p[g]);if(c&&c.defaultProps)for(g in p=c.defaultProps,p)b[g]===void 0&&(b[g]=p[g]);return{$$typeof:n,type:c,key:S,ref:T,props:b,_owner:r.current}}return $s.jsx=h,$s.jsxs=h,$s}oO.exports=M4();var ee=oO.exports;function Rw(e,n){return function(){return null}}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ce.apply(this,arguments)}function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cs(e)}function rg(e){return e&&cs(e)==="object"&&e.constructor===Object}function Ra(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},r=t.clone?Ce({},e):e;return rg(e)&&rg(n)&&Object.keys(n).forEach(function(i){i!=="__proto__"&&(rg(n[i])&&i in e?r[i]=Ra(e[i],n[i],t):r[i]=n[i])}),r}var sO={exports:{}},ig,gP;function I4(){if(gP)return ig;gP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ig=e,ig}var og,vP;function L4(){if(vP)return og;vP=1;var e=I4();function n(){}function t(){}return t.resetWarningCache=n,og=function(){function r(h,c,p,m,g,b){if(b!==e){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:n};return a.PropTypes=a,a},og}sO.exports=L4()();var Wa=sO.exports;const ut=Hi(Wa);var j4=Rw(ut.element);j4.isRequired=Rw(ut.element.isRequired);Rw(Wa.elementType);function N4(e,n){if(cs(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(cs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function aO(e){var n=N4(e,"string");return cs(n)==="symbol"?n:String(n)}function ba(e,n,t){return n=aO(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Oa(e){for(var n="https://mui.com/production-error/?code="+e,t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified Material-UI error #"+e+"; visit "+n+" for the full message."}var an={},yP;function F4(){if(yP)return an;yP=1;/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=60103,n=60106,t=60107,r=60108,i=60114,a=60109,h=60110,c=60112,p=60113,m=60120,g=60115,b=60116,S=60121,T=60122,_=60117,k=60129,C=60131;if(typeof Symbol=="function"&&Symbol.for){var P=Symbol.for;e=P("react.element"),n=P("react.portal"),t=P("react.fragment"),r=P("react.strict_mode"),i=P("react.profiler"),a=P("react.provider"),h=P("react.context"),c=P("react.forward_ref"),p=P("react.suspense"),m=P("react.suspense_list"),g=P("react.memo"),b=P("react.lazy"),S=P("react.block"),T=P("react.server.block"),_=P("react.fundamental"),k=P("react.debug_trace_mode"),C=P("react.legacy_hidden")}function A(he){if(typeof he=="object"&&he!==null){var Ae=he.$$typeof;switch(Ae){case e:switch(he=he.type,he){case t:case i:case r:case p:case m:return he;default:switch(he=he&&he.$$typeof,he){case h:case c:case b:case g:case a:return he;default:return Ae}}case n:return Ae}}}var N=a,W=e,Z=c,H=t,ie=b,ne=g,ae=n,Se=i,me=r,fe=p;return an.ContextConsumer=h,an.ContextProvider=N,an.Element=W,an.ForwardRef=Z,an.Fragment=H,an.Lazy=ie,an.Memo=ne,an.Portal=ae,an.Profiler=Se,an.StrictMode=me,an.Suspense=fe,an.isAsyncMode=function(){return!1},an.isConcurrentMode=function(){return!1},an.isContextConsumer=function(he){return A(he)===h},an.isContextProvider=function(he){return A(he)===a},an.isElement=function(he){return typeof he=="object"&&he!==null&&he.$$typeof===e},an.isForwardRef=function(he){return A(he)===c},an.isFragment=function(he){return A(he)===t},an.isLazy=function(he){return A(he)===b},an.isMemo=function(he){return A(he)===g},an.isPortal=function(he){return A(he)===n},an.isProfiler=function(he){return A(he)===i},an.isStrictMode=function(he){return A(he)===r},an.isSuspense=function(he){return A(he)===p},an.isValidElementType=function(he){return typeof he=="string"||typeof he=="function"||he===t||he===i||he===k||he===r||he===p||he===m||he===C||typeof he=="object"&&he!==null&&(he.$$typeof===b||he.$$typeof===g||he.$$typeof===a||he.$$typeof===h||he.$$typeof===c||he.$$typeof===_||he.$$typeof===S||he[0]===T)},an.typeOf=A,an}F4();ut.oneOfType([ut.func,ut.object]);function lO(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(n,e),t)}function B4(e){e=e.substr(1);var n=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),t=e.match(n);return t&&t[0].length===1&&(t=t.map(function(r){return r+r})),t?"rgb".concat(t.length===4?"a":"","(").concat(t.map(function(r,i){return i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3}).join(", "),")"):""}function H4(e){e=Aa(e);var n=e,t=n.values,r=t[0],i=t[1]/100,a=t[2]/100,h=i*Math.min(a,1-a),c=function(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(g+r/30)%12;return a-h*Math.max(Math.min(b-3,9-b,1),-1)},p="rgb",m=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return e.type==="hsla"&&(p+="a",m.push(t[3])),Ow({type:p,values:m})}function Aa(e){if(e.type)return e;if(e.charAt(0)==="#")return Aa(B4(e));var n=e.indexOf("("),t=e.substring(0,n);if(["rgb","rgba","hsl","hsla"].indexOf(t)===-1)throw new Error(Oa(3,e));var r=e.substring(n+1,e.length-1).split(",");return r=r.map(function(i){return parseFloat(i)}),{type:t,values:r}}function Ow(e){var n=e.type,t=e.values;return n.indexOf("rgb")!==-1?t=t.map(function(r,i){return i<3?parseInt(r,10):r}):n.indexOf("hsl")!==-1&&(t[1]="".concat(t[1],"%"),t[2]="".concat(t[2],"%")),"".concat(n,"(").concat(t.join(", "),")")}function z4(e,n){var t=wP(e),r=wP(n);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function wP(e){e=Aa(e);var n=e.type==="hsl"?Aa(H4(e)).values:e.values;return n=n.map(function(t){return t/=255,t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}function V4(e,n){if(e=Aa(e),n=lO(n),e.type.indexOf("hsl")!==-1)e.values[2]*=1-n;else if(e.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)e.values[t]*=1-n;return Ow(e)}function U4(e,n){if(e=Aa(e),n=lO(n),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*n;else if(e.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)e.values[t]+=(255-e.values[t])*n;return Ow(e)}function ms(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function Ft(e,n){if(e==null)return{};var t=ms(e,n),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var zr=["xs","sm","md","lg","xl"];function W4(e){var n=e.values,t=n===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:n,r=e.unit,i=r===void 0?"px":r,a=e.step,h=a===void 0?5:a,c=Ft(e,["values","unit","step"]);function p(T){var _=typeof t[T]=="number"?t[T]:T;return"@media (min-width:".concat(_).concat(i,")")}function m(T){var _=zr.indexOf(T)+1,k=t[zr[_]];if(_===zr.length)return p("xs");var C=typeof k=="number"&&_>0?k:T;return"@media (max-width:".concat(C-h/100).concat(i,")")}function g(T,_){var k=zr.indexOf(_);return k===zr.length-1?p(T):"@media (min-width:".concat(typeof t[T]=="number"?t[T]:T).concat(i,") and ")+"(max-width:".concat((k!==-1&&typeof t[zr[k+1]]=="number"?t[zr[k+1]]:_)-h/100).concat(i,")")}function b(T){return g(T,T)}function S(T){return t[T]}return Ce({keys:zr,values:t,up:p,down:m,between:g,only:b,width:S},c)}function G4(e,n,t){var r;return Ce({gutters:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),Ce({paddingLeft:n(2),paddingRight:n(2)},i,ba({},e.up("sm"),Ce({paddingLeft:n(3),paddingRight:n(3)},i[e.up("sm")])))},toolbar:(r={minHeight:56},ba(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),ba(r,e.up("sm"),{minHeight:64}),r)},t)}var Ph={black:"#000",white:"#fff"},Aw={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},sg={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},ag={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},lg={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ug={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},cg={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},dg={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},xP={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ph.white,default:Aw[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},hg={text:{primary:Ph.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Aw[800],default:"#303030"},action:{active:Ph.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function bP(e,n,t,r){var i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=U4(e.main,i):n==="dark"&&(e.dark=V4(e.main,a)))}function q4(e){var n=e.primary,t=n===void 0?{light:sg[300],main:sg[500],dark:sg[700]}:n,r=e.secondary,i=r===void 0?{light:ag.A200,main:ag.A400,dark:ag.A700}:r,a=e.error,h=a===void 0?{light:lg[300],main:lg[500],dark:lg[700]}:a,c=e.warning,p=c===void 0?{light:ug[300],main:ug[500],dark:ug[700]}:c,m=e.info,g=m===void 0?{light:cg[300],main:cg[500],dark:cg[700]}:m,b=e.success,S=b===void 0?{light:dg[300],main:dg[500],dark:dg[700]}:b,T=e.type,_=T===void 0?"light":T,k=e.contrastThreshold,C=k===void 0?3:k,P=e.tonalOffset,A=P===void 0?.2:P,N=Ft(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function W(ne){var ae=z4(ne,hg.text.primary)>=C?hg.text.primary:xP.text.primary;return ae}var Z=function(ne){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,me=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(ne=Ce({},ne),!ne.main&&ne[ae]&&(ne.main=ne[ae]),!ne.main)throw new Error(Oa(4,ae));if(typeof ne.main!="string")throw new Error(Oa(5,JSON.stringify(ne.main)));return bP(ne,"light",Se,A),bP(ne,"dark",me,A),ne.contrastText||(ne.contrastText=W(ne.main)),ne},H={dark:hg,light:xP},ie=Ra(Ce({common:Ph,type:_,primary:Z(t),secondary:Z(i,"A400","A200","A700"),error:Z(h),warning:Z(p),info:Z(g),success:Z(S),grey:Aw,contrastThreshold:C,getContrastText:W,augmentColor:Z,tonalOffset:A},H[_]),N);return ie}function uO(e){return Math.round(e*1e5)/1e5}function $4(e){return uO(e)}var SP={textTransform:"uppercase"},EP='"Roboto", "Helvetica", "Arial", sans-serif';function Z4(e,n){var t=typeof n=="function"?n(e):n,r=t.fontFamily,i=r===void 0?EP:r,a=t.fontSize,h=a===void 0?14:a,c=t.fontWeightLight,p=c===void 0?300:c,m=t.fontWeightRegular,g=m===void 0?400:m,b=t.fontWeightMedium,S=b===void 0?500:b,T=t.fontWeightBold,_=T===void 0?700:T,k=t.htmlFontSize,C=k===void 0?16:k,P=t.allVariants,A=t.pxToRem,N=Ft(t,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),W=h/14,Z=A||function(ne){return"".concat(ne/C*W,"rem")},H=function(ne,ae,Se,me,fe){return Ce({fontFamily:i,fontWeight:ne,fontSize:Z(ae),lineHeight:Se},i===EP?{letterSpacing:"".concat(uO(me/ae),"em")}:{},fe,P)},ie={h1:H(p,96,1.167,-1.5),h2:H(p,60,1.2,-.5),h3:H(g,48,1.167,0),h4:H(g,34,1.235,.25),h5:H(g,24,1.334,0),h6:H(S,20,1.6,.15),subtitle1:H(g,16,1.75,.15),subtitle2:H(S,14,1.57,.1),body1:H(g,16,1.5,.15),body2:H(g,14,1.43,.15),button:H(S,14,1.75,.4,SP),caption:H(g,12,1.66,.4),overline:H(g,12,2.66,1,SP)};return Ra(Ce({htmlFontSize:C,pxToRem:Z,round:$4,fontFamily:i,fontSize:h,fontWeightLight:p,fontWeightRegular:g,fontWeightMedium:S,fontWeightBold:_},ie),N,{clone:!1})}var X4=.2,Y4=.14,K4=.12;function gn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(X4,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(Y4,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(K4,")")].join(",")}var J4=["none",gn(0,2,1,-1,0,1,1,0,0,1,3,0),gn(0,3,1,-2,0,2,2,0,0,1,5,0),gn(0,3,3,-2,0,3,4,0,0,1,8,0),gn(0,2,4,-1,0,4,5,0,0,1,10,0),gn(0,3,5,-1,0,5,8,0,0,1,14,0),gn(0,3,5,-1,0,6,10,0,0,1,18,0),gn(0,4,5,-2,0,7,10,1,0,2,16,1),gn(0,5,5,-3,0,8,10,1,0,3,14,2),gn(0,5,6,-3,0,9,12,1,0,3,16,2),gn(0,6,6,-3,0,10,14,1,0,4,18,3),gn(0,6,7,-4,0,11,15,1,0,4,20,3),gn(0,7,8,-4,0,12,17,2,0,5,22,4),gn(0,7,8,-4,0,13,19,2,0,5,24,4),gn(0,7,9,-4,0,14,21,2,0,5,26,4),gn(0,8,9,-5,0,15,22,2,0,6,28,5),gn(0,8,10,-5,0,16,24,2,0,6,30,5),gn(0,8,11,-5,0,17,26,2,0,6,32,5),gn(0,9,11,-5,0,18,28,2,0,7,34,6),gn(0,9,12,-6,0,19,29,2,0,7,36,6),gn(0,10,13,-6,0,20,31,3,0,8,38,7),gn(0,10,13,-6,0,21,33,3,0,8,40,7),gn(0,10,14,-6,0,22,35,3,0,8,42,7),gn(0,11,14,-7,0,23,36,3,0,9,44,8),gn(0,11,15,-7,0,24,38,3,0,9,46,8)],Q4={borderRadius:4};function qv(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function eU(e){if(Array.isArray(e))return qv(e)}function tU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cO(e,n){if(e){if(typeof e=="string")return qv(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qv(e,n)}}function nU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dw(e){return eU(e)||tU(e)||cO(e)||nU()}function rU(e){if(Array.isArray(e))return e}function iU(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,i,a,h,c=[],p=!0,m=!1;try{if(a=(t=t.call(e)).next,n!==0)for(;!(p=(r=a.call(t)).done)&&(c.push(r.value),c.length!==n);p=!0);}catch(g){m=!0,i=g}finally{try{if(!p&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(m)throw i}}return c}}function oU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mw(e,n){return rU(e)||iU(e,n)||cO(e,n)||oU()}function sU(e){var n=e.spacing||8;return typeof n=="number"?function(t){return n*t}:Array.isArray(n)?function(t){return n[t]}:typeof n=="function"?n:function(){}}function aU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(e.mui)return e;var n=sU({spacing:e}),t=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length===0?n(1):i.length===1?n(i[0]):i.map(function(h){if(typeof h=="string")return h;var c=n(h);return typeof c=="number"?"".concat(c,"px"):c}).join(" ")};return Object.defineProperty(t,"unit",{get:function(){return e}}),t.mui=!0,t}var TP={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kh={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function CP(e){return"".concat(Math.round(e),"ms")}const lU={easing:TP,duration:kh,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.duration,r=t===void 0?kh.standard:t,i=n.easing,a=i===void 0?TP.easeInOut:i,h=n.delay,c=h===void 0?0:h;return Ft(n,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map(function(p){return"".concat(p," ").concat(typeof r=="string"?r:CP(r)," ").concat(a," ").concat(typeof c=="string"?c:CP(c))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var n=e/36;return Math.round((4+15*Math.pow(n,.25)+n/5)*10)}};var dO={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function hO(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.breakpoints,t=n===void 0?{}:n,r=e.mixins,i=r===void 0?{}:r,a=e.palette,h=a===void 0?{}:a,c=e.spacing,p=e.typography,m=p===void 0?{}:p,g=Ft(e,["breakpoints","mixins","palette","spacing","typography"]),b=q4(h),S=W4(t),T=aU(c),_=Ra({breakpoints:S,direction:"ltr",mixins:G4(S,T,i),overrides:{},palette:b,props:{},shadows:J4,typography:Z4(b,m),spacing:T,shape:Q4,transitions:lU,zIndex:dO},g),k=arguments.length,C=new Array(k>1?k-1:0),P=1;P<k;P++)C[P-1]=arguments[P];return _=C.reduce(function(A,N){return Ra(A,N)},_),_}var uU=typeof Symbol=="function"&&Symbol.for;const pO=uU?Symbol.for("mui.nested"):"__THEME_NESTED__";var cU=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function dU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.disableGlobal,t=n===void 0?!1:n,r=e.productionPrefix,i=r===void 0?"jss":r,a=e.seed,h=a===void 0?"":a,c=h===""?"":"".concat(h,"-"),p=0,m=function(){return p+=1,p};return function(g,b){var S=b.options.name;if(S&&S.indexOf("Mui")===0&&!b.options.link&&!t){if(cU.indexOf(g.key)!==-1)return"Mui-".concat(g.key);var T="".concat(c).concat(S,"-").concat(g.key);return!b.options.theme[pO]||h!==""?T:"".concat(T,"-").concat(m())}return"".concat(c).concat(i).concat(m())}}function ip(e){var n=e.theme,t=e.name,r=e.props;if(!n||!n.props||!n.props[t])return r;var i=n.props[t],a;for(a in i)r[a]===void 0&&(r[a]=i[a]);return r}var PP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu=(typeof window>"u"?"undefined":PP(window))==="object"&&(typeof document>"u"?"undefined":PP(document))==="object"&&document.nodeType===9;function hU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aO(r.key),r)}}function Iw(e,n,t){return n&&hU(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $v(e,n){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},$v(e,n)}function op(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,$v(e,n)}function Zv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var pU={}.constructor;function Xv(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(Xv);if(e.constructor!==pU)return e;var n={};for(var t in e)n[t]=Xv(e[t]);return n}function Lw(e,n,t){e===void 0&&(e="unnamed");var r=t.jss,i=Xv(n),a=r.plugins.onCreateRule(e,i,t);return a||(e[0],null)}var kP=function(e,n){for(var t="",r=0;r<e.length&&e[r]!=="!important";r++)t&&(t+=n),t+=e[r];return t},is=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var t=0;t<e.length&&e[t]!=="!important";t++)n&&(n+=", "),n+=kP(e[t]," ");else n=kP(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function Ga(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Il(e,n){for(var t="",r=0;r<n;r++)t+="  ";return t+e}function Mu(e,n,t){t===void 0&&(t={});var r="";if(!n)return r;var i=t,a=i.indent,h=a===void 0?0:a,c=n.fallbacks;t.format===!1&&(h=-1/0);var p=Ga(t),m=p.linebreak,g=p.space;if(e&&h++,c)if(Array.isArray(c))for(var b=0;b<c.length;b++){var S=c[b];for(var T in S){var _=S[T];_!=null&&(r&&(r+=m),r+=Il(T+":"+g+is(_)+";",h))}}else for(var k in c){var C=c[k];C!=null&&(r&&(r+=m),r+=Il(k+":"+g+is(C)+";",h))}for(var P in n){var A=n[P];A!=null&&P!=="fallbacks"&&(r&&(r+=m),r+=Il(P+":"+g+is(A)+";",h))}return!r&&!t.allowEmpty||!e?r:(h--,r&&(r=""+m+r+m),Il(""+e+g+"{"+r,h)+Il("}",h))}var fU=/([[\].#*$><+~=|^:(),"'`\s])/g,_P=typeof CSS<"u"&&CSS.escape,jw=function(e){return _P?_P(e):e.replace(fU,"\\$1")},fO=function(){function e(t,r,i){this.type="style",this.isProcessed=!1;var a=i.sheet,h=i.Renderer;this.key=t,this.options=i,this.style=r,a?this.renderer=a.renderer:h&&(this.renderer=new h)}var n=e.prototype;return n.prop=function(t,r,i){if(r===void 0)return this.style[t];var a=i?i.force:!1;if(!a&&this.style[t]===r)return this;var h=r;(!i||i.process!==!1)&&(h=this.options.jss.plugins.onChangeValue(r,t,this));var c=h==null||h===!1,p=t in this.style;if(c&&!p&&!a)return this;var m=c&&p;if(m?delete this.style[t]:this.style[t]=h,this.renderable&&this.renderer)return m?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,h),this;var g=this.options.sheet;return g&&g.attached,this},e}(),Yv=function(e){op(n,e);function n(r,i,a){var h;h=e.call(this,r,i,a)||this;var c=a.selector,p=a.scoped,m=a.sheet,g=a.generateId;return c?h.selectorText=c:p!==!1&&(h.id=g(Zv(Zv(h)),m),h.selectorText="."+jw(h.id)),h}var t=n.prototype;return t.applyTo=function(r){var i=this.renderer;if(i){var a=this.toJSON();for(var h in a)i.setProperty(r,h,a[h])}return this},t.toJSON=function(){var r={};for(var i in this.style){var a=this.style[i];typeof a!="object"?r[i]=a:Array.isArray(a)&&(r[i]=is(a))}return r},t.toString=function(r){var i=this.options.sheet,a=i?i.options.link:!1,h=a?Ce({},r,{allowEmpty:!0}):r;return Mu(this.selectorText,this.style,h)},Iw(n,[{key:"selector",set:function(r){if(r!==this.selectorText){this.selectorText=r;var i=this.renderer,a=this.renderable;if(!(!a||!i)){var h=i.setSelector(a,r);h||i.replaceRule(a,this)}}},get:function(){return this.selectorText}}]),n}(fO),mU={onCreateRule:function(e,n,t){return e[0]==="@"||t.parent&&t.parent.type==="keyframes"?null:new Yv(e,n,t)}},pg={indent:1,children:!0},gU=/@([\w-]+)/,vU=function(){function e(t,r,i){this.type="conditional",this.isProcessed=!1,this.key=t;var a=t.match(gU);this.at=a?a[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new sp(Ce({},i,{parent:this}));for(var h in r)this.rules.add(h,r[h]);this.rules.process()}var n=e.prototype;return n.getRule=function(t){return this.rules.get(t)},n.indexOf=function(t){return this.rules.indexOf(t)},n.addRule=function(t,r,i){var a=this.rules.add(t,r,i);return a?(this.options.jss.plugins.onProcessRule(a),a):null},n.replaceRule=function(t,r,i){var a=this.rules.replace(t,r,i);return a&&this.options.jss.plugins.onProcessRule(a),a},n.toString=function(t){t===void 0&&(t=pg);var r=Ga(t),i=r.linebreak;if(t.indent==null&&(t.indent=pg.indent),t.children==null&&(t.children=pg.children),t.children===!1)return this.query+" {}";var a=this.rules.toString(t);return a?this.query+" {"+i+a+i+"}":""},e}(),yU=/@container|@media|@supports\s+/,wU={onCreateRule:function(e,n,t){return yU.test(e)?new vU(e,n,t):null}},fg={indent:1,children:!0},xU=/@keyframes\s+([\w-]+)/,Kv=function(){function e(t,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var a=t.match(xU);a&&a[1]?this.name=a[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var h=i.scoped,c=i.sheet,p=i.generateId;this.id=h===!1?this.name:jw(p(this,c)),this.rules=new sp(Ce({},i,{parent:this}));for(var m in r)this.rules.add(m,r[m],Ce({},i,{parent:this}));this.rules.process()}var n=e.prototype;return n.toString=function(t){t===void 0&&(t=fg);var r=Ga(t),i=r.linebreak;if(t.indent==null&&(t.indent=fg.indent),t.children==null&&(t.children=fg.children),t.children===!1)return this.at+" "+this.id+" {}";var a=this.rules.toString(t);return a&&(a=""+i+a+i),this.at+" "+this.id+" {"+a+"}"},e}(),bU=/@keyframes\s+/,SU=/\$([\w-]+)/g,Jv=function(e,n){return typeof e=="string"?e.replace(SU,function(t,r){return r in n?n[r]:t}):e},RP=function(e,n,t){var r=e[n],i=Jv(r,t);i!==r&&(e[n]=i)},EU={onCreateRule:function(e,n,t){return typeof e=="string"&&bU.test(e)?new Kv(e,n,t):null},onProcessStyle:function(e,n,t){return n.type!=="style"||!t||("animation-name"in e&&RP(e,"animation-name",t.keyframes),"animation"in e&&RP(e,"animation",t.keyframes)),e},onChangeValue:function(e,n,t){var r=t.options.sheet;if(!r)return e;switch(n){case"animation":return Jv(e,r.keyframes);case"animation-name":return Jv(e,r.keyframes);default:return e}}},TU=function(e){op(n,e);function n(){return e.apply(this,arguments)||this}var t=n.prototype;return t.toString=function(r){var i=this.options.sheet,a=i?i.options.link:!1,h=a?Ce({},r,{allowEmpty:!0}):r;return Mu(this.key,this.style,h)},n}(fO),CU={onCreateRule:function(e,n,t){return t.parent&&t.parent.type==="keyframes"?new TU(e,n,t):null}},PU=function(){function e(t,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=t,this.style=r,this.options=i}var n=e.prototype;return n.toString=function(t){var r=Ga(t),i=r.linebreak;if(Array.isArray(this.style)){for(var a="",h=0;h<this.style.length;h++)a+=Mu(this.at,this.style[h]),this.style[h+1]&&(a+=i);return a}return Mu(this.at,this.style,t)},e}(),kU=/@font-face/,_U={onCreateRule:function(e,n,t){return kU.test(e)?new PU(e,n,t):null}},RU=function(){function e(t,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=t,this.style=r,this.options=i}var n=e.prototype;return n.toString=function(t){return Mu(this.key,this.style,t)},e}(),OU={onCreateRule:function(e,n,t){return e==="@viewport"||e==="@-ms-viewport"?new RU(e,n,t):null}},AU=function(){function e(t,r,i){this.type="simple",this.isProcessed=!1,this.key=t,this.value=r,this.options=i}var n=e.prototype;return n.toString=function(t){if(Array.isArray(this.value)){for(var r="",i=0;i<this.value.length;i++)r+=this.key+" "+this.value[i]+";",this.value[i+1]&&(r+=`
`);return r}return this.key+" "+this.value+";"},e}(),DU={"@charset":!0,"@import":!0,"@namespace":!0},MU={onCreateRule:function(e,n,t){return e in DU?new AU(e,n,t):null}},OP=[mU,wU,EU,CU,_U,OU,MU],IU={process:!0},AP={force:!0,process:!0},sp=function(){function e(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var n=e.prototype;return n.add=function(t,r,i){var a=this.options,h=a.parent,c=a.sheet,p=a.jss,m=a.Renderer,g=a.generateId,b=a.scoped,S=Ce({classes:this.classes,parent:h,sheet:c,jss:p,Renderer:m,generateId:g,scoped:b,name:t,keyframes:this.keyframes,selector:void 0},i),T=t;t in this.raw&&(T=t+"-d"+this.counter++),this.raw[T]=r,T in this.classes&&(S.selector="."+jw(this.classes[T]));var _=Lw(T,r,S);if(!_)return null;this.register(_);var k=S.index===void 0?this.index.length:S.index;return this.index.splice(k,0,_),_},n.replace=function(t,r,i){var a=this.get(t),h=this.index.indexOf(a);a&&this.remove(a);var c=i;return h!==-1&&(c=Ce({},i,{index:h})),this.add(t,r,c)},n.get=function(t){return this.map[t]},n.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},n.indexOf=function(t){return this.index.indexOf(t)},n.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},n.register=function(t){this.map[t.key]=t,t instanceof Yv?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof Kv&&this.keyframes&&(this.keyframes[t.name]=t.id)},n.unregister=function(t){delete this.map[t.key],t instanceof Yv?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof Kv&&delete this.keyframes[t.name]},n.update=function(){var t,r,i;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]):(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.get(t),r,i);else for(var a=0;a<this.index.length;a++)this.updateOne(this.index[a],r,i)},n.updateOne=function(t,r,i){i===void 0&&(i=IU);var a=this.options,h=a.jss.plugins,c=a.sheet;if(t.rules instanceof e){t.rules.update(r,i);return}var p=t.style;if(h.onUpdate(r,t,c,i),i.process&&p&&p!==t.style){h.onProcessStyle(t.style,t,c);for(var m in t.style){var g=t.style[m],b=p[m];g!==b&&t.prop(m,g,AP)}for(var S in p){var T=t.style[S],_=p[S];T==null&&T!==_&&t.prop(S,null,AP)}}},n.toString=function(t){for(var r="",i=this.options.sheet,a=i?i.options.link:!1,h=Ga(t),c=h.linebreak,p=0;p<this.index.length;p++){var m=this.index[p],g=m.toString(t);!g&&!a||(r&&(r+=c),r+=g)}return r},e}(),mO=function(){function e(t,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Ce({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new sp(this.options);for(var i in t)this.rules.add(i,t[i]);this.rules.process()}var n=e.prototype;return n.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},n.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},n.addRule=function(t,r,i){var a=this.queue;this.attached&&!a&&(this.queue=[]);var h=this.rules.add(t,r,i);return h?(this.options.jss.plugins.onProcessRule(h),this.attached?(this.deployed&&(a?a.push(h):(this.insertRule(h),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),h):(this.deployed=!1,h)):null},n.replaceRule=function(t,r,i){var a=this.rules.get(t);if(!a)return this.addRule(t,r,i);var h=this.rules.replace(t,r,i);return h&&this.options.jss.plugins.onProcessRule(h),this.attached?(this.deployed&&this.renderer&&(h?a.renderable&&this.renderer.replaceRule(a.renderable,h):this.renderer.deleteRule(a)),h):(this.deployed=!1,h)},n.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},n.addRules=function(t,r){var i=[];for(var a in t){var h=this.addRule(a,t[a],r);h&&i.push(h)}return i},n.getRule=function(t){return this.rules.get(t)},n.deleteRule=function(t){var r=typeof t=="object"?t:this.rules.get(t);return!r||this.attached&&!r.renderable?!1:(this.rules.remove(r),this.attached&&r.renderable&&this.renderer?this.renderer.deleteRule(r.renderable):!0)},n.indexOf=function(t){return this.rules.indexOf(t)},n.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},n.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},n.updateOne=function(t,r,i){return this.rules.updateOne(t,r,i),this},n.toString=function(t){return this.rules.toString(t)},e}(),LU=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var n=e.prototype;return n.onCreateRule=function(t,r,i){for(var a=0;a<this.registry.onCreateRule.length;a++){var h=this.registry.onCreateRule[a](t,r,i);if(h)return h}return null},n.onProcessRule=function(t){if(!t.isProcessed){for(var r=t.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](t,r);t.style&&this.onProcessStyle(t.style,t,r),t.isProcessed=!0}},n.onProcessStyle=function(t,r,i){for(var a=0;a<this.registry.onProcessStyle.length;a++)r.style=this.registry.onProcessStyle[a](r.style,r,i)},n.onProcessSheet=function(t){for(var r=0;r<this.registry.onProcessSheet.length;r++)this.registry.onProcessSheet[r](t)},n.onUpdate=function(t,r,i,a){for(var h=0;h<this.registry.onUpdate.length;h++)this.registry.onUpdate[h](t,r,i,a)},n.onChangeValue=function(t,r,i){for(var a=t,h=0;h<this.registry.onChangeValue.length;h++)a=this.registry.onChangeValue[h](a,r,i);return a},n.use=function(t,r){r===void 0&&(r={queue:"external"});var i=this.plugins[r.queue];i.indexOf(t)===-1&&(i.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(a,h){for(var c in h)c in a&&a[c].push(h[c]);return a},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),jU=function(){function e(){this.registry=[]}var n=e.prototype;return n.add=function(t){var r=this.registry,i=t.options.index;if(r.indexOf(t)===-1){if(r.length===0||i>=this.index){r.push(t);return}for(var a=0;a<r.length;a++)if(r[a].options.index>i){r.splice(a,0,t);return}}},n.reset=function(){this.registry=[]},n.remove=function(t){var r=this.registry.indexOf(t);this.registry.splice(r,1)},n.toString=function(t){for(var r=t===void 0?{}:t,i=r.attached,a=ms(r,["attached"]),h=Ga(a),c=h.linebreak,p="",m=0;m<this.registry.length;m++){var g=this.registry[m];i!=null&&g.attached!==i||(p&&(p+=c),p+=g.toString(a))}return p},Iw(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),uu=new jU,Qv=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),ey="2f1acc6c3a606b082e5eef5e54414ffb";Qv[ey]==null&&(Qv[ey]=0);var DP=Qv[ey]++,MP=function(e){e===void 0&&(e={});var n=0,t=function(r,i){n+=1;var a="",h="";return i&&(i.options.classNamePrefix&&(h=i.options.classNamePrefix),i.options.jss.id!=null&&(a=String(i.options.jss.id))),e.minify?""+(h||"c")+DP+a+n:h+r.key+"-"+DP+(a?"-"+a:"")+"-"+n};return t},gO=function(e){var n;return function(){return n||(n=e()),n}},NU=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},FU=function(e,n,t){try{var r=t;if(Array.isArray(t)&&(r=is(t)),e.attributeStyleMap)e.attributeStyleMap.set(n,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(n,a,i>-1?"important":"")}}catch{return!1}return!0},BU=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},HU=function(e,n){return e.selectorText=n,e.selectorText===n},vO=gO(function(){return document.querySelector("head")});function zU(e,n){for(var t=0;t<e.length;t++){var r=e[t];if(r.attached&&r.options.index>n.index&&r.options.insertionPoint===n.insertionPoint)return r}return null}function VU(e,n){for(var t=e.length-1;t>=0;t--){var r=e[t];if(r.attached&&r.options.insertionPoint===n.insertionPoint)return r}return null}function UU(e){for(var n=vO(),t=0;t<n.childNodes.length;t++){var r=n.childNodes[t];if(r.nodeType===8&&r.nodeValue.trim()===e)return r}return null}function WU(e){var n=uu.registry;if(n.length>0){var t=zU(n,e);if(t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element};if(t=VU(n,e),t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&typeof r=="string"){var i=UU(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function GU(e,n){var t=n.insertionPoint,r=WU(n);if(r!==!1&&r.parent){r.parent.insertBefore(e,r.node);return}if(t&&typeof t.nodeType=="number"){var i=t,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling);return}vO().appendChild(e)}var qU=gO(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),IP=function(e,n,t){try{"insertRule"in e?e.insertRule(n,t):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[t]},LP=function(e,n){var t=e.cssRules.length;return n===void 0||n>t?t:n},$U=function(){var e=document.createElement("style");return e.textContent=`
`,e},ZU=function(){function e(t){this.getPropertyValue=NU,this.setProperty=FU,this.removeProperty=BU,this.setSelector=HU,this.hasInsertedRules=!1,this.cssRules=[],t&&uu.add(t),this.sheet=t;var r=this.sheet?this.sheet.options:{},i=r.media,a=r.meta,h=r.element;this.element=h||$U(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),a&&this.element.setAttribute("data-meta",a);var c=qU();c&&this.element.setAttribute("nonce",c)}var n=e.prototype;return n.attach=function(){if(!(this.element.parentNode||!this.sheet)){GU(this.element,this.sheet.options);var t=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},n.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},n.deploy=function(){var t=this.sheet;if(t){if(t.options.link){this.insertRules(t.rules);return}this.element.textContent=`
`+t.toString()+`
`}},n.insertRules=function(t,r){for(var i=0;i<t.index.length;i++)this.insertRule(t.index[i],i,r)},n.insertRule=function(t,r,i){if(i===void 0&&(i=this.element.sheet),t.rules){var a=t,h=i;if(t.type==="conditional"||t.type==="keyframes"){var c=LP(i,r);if(h=IP(i,a.toString({children:!1}),c),h===!1)return!1;this.refCssRule(t,c,h)}return this.insertRules(a.rules,h),h}var p=t.toString();if(!p)return!1;var m=LP(i,r),g=IP(i,p,m);return g===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(t,m,g),g)},n.refCssRule=function(t,r,i){t.renderable=i,t.options.parent instanceof mO&&this.cssRules.splice(r,0,i)},n.deleteRule=function(t){var r=this.element.sheet,i=this.indexOf(t);return i===-1?!1:(r.deleteRule(i),this.cssRules.splice(i,1),!0)},n.indexOf=function(t){return this.cssRules.indexOf(t)},n.replaceRule=function(t,r){var i=this.indexOf(t);return i===-1?!1:(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(r,i))},n.getRules=function(){return this.element.sheet.cssRules},e}(),XU=0,YU=function(){function e(t){this.id=XU++,this.version="10.10.0",this.plugins=new LU,this.options={id:{minify:!1},createGenerateId:MP,Renderer:Gu?ZU:null,plugins:[]},this.generateId=MP({minify:!1});for(var r=0;r<OP.length;r++)this.plugins.use(OP[r],{queue:"internal"});this.setup(t)}var n=e.prototype;return n.setup=function(t){return t===void 0&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Ce({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),t.insertionPoint!=null&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},n.createStyleSheet=function(t,r){r===void 0&&(r={});var i=r,a=i.index;typeof a!="number"&&(a=uu.index===0?0:uu.index+1);var h=new mO(t,Ce({},r,{jss:this,generateId:r.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:a}));return this.plugins.onProcessSheet(h),h},n.removeStyleSheet=function(t){return t.detach(),uu.remove(t),this},n.createRule=function(t,r,i){if(r===void 0&&(r={}),i===void 0&&(i={}),typeof t=="object")return this.createRule(void 0,t,r);var a=Ce({},i,{name:t,jss:this,Renderer:this.options.Renderer});a.generateId||(a.generateId=this.generateId),a.classes||(a.classes={}),a.keyframes||(a.keyframes={});var h=Lw(t,r,a);return h&&this.plugins.onProcessRule(h),h},n.use=function(){for(var t=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.forEach(function(h){t.plugins.use(h)}),this},e}(),yO=function(e){return new YU(e)},Nw=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function wO(e){var n=null;for(var t in e){var r=e[t],i=typeof r;if(i==="function")n||(n={}),n[t]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var a=wO(r);a&&(n||(n={}),n[t]=a)}}return n}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */yO();var xO=Date.now(),mg="fnValues"+xO,gg="fnStyle"+ ++xO,KU=function(){return{onCreateRule:function(e,n,t){if(typeof n!="function")return null;var r=Lw(e,{},t);return r[gg]=n,r},onProcessStyle:function(e,n){if(mg in n||gg in n)return e;var t={};for(var r in e){var i=e[r];typeof i=="function"&&(delete e[r],t[r]=i)}return n[mg]=t,e},onUpdate:function(e,n,t,r){var i=n,a=i[gg];if(a&&(i.style=a(e)||{},!1))for(var h in i.style);var c=i[mg];if(c)for(var p in c)i.prop(p,c[p](e),r)}}},mo="@global",ty="@global ",JU=function(){function e(t,r,i){this.type="global",this.at=mo,this.isProcessed=!1,this.key=t,this.options=i,this.rules=new sp(Ce({},i,{parent:this}));for(var a in r)this.rules.add(a,r[a]);this.rules.process()}var n=e.prototype;return n.getRule=function(t){return this.rules.get(t)},n.addRule=function(t,r,i){var a=this.rules.add(t,r,i);return a&&this.options.jss.plugins.onProcessRule(a),a},n.replaceRule=function(t,r,i){var a=this.rules.replace(t,r,i);return a&&this.options.jss.plugins.onProcessRule(a),a},n.indexOf=function(t){return this.rules.indexOf(t)},n.toString=function(t){return this.rules.toString(t)},e}(),QU=function(){function e(t,r,i){this.type="global",this.at=mo,this.isProcessed=!1,this.key=t,this.options=i;var a=t.substr(ty.length);this.rule=i.jss.createRule(a,r,Ce({},i,{parent:this}))}var n=e.prototype;return n.toString=function(t){return this.rule?this.rule.toString(t):""},e}(),eW=/\s*,\s*/g;function bO(e,n){for(var t=e.split(eW),r="",i=0;i<t.length;i++)r+=n+" "+t[i].trim(),t[i+1]&&(r+=", ");return r}function tW(e,n){var t=e.options,r=e.style,i=r?r[mo]:null;if(i){for(var a in i)n.addRule(a,i[a],Ce({},t,{selector:bO(a,e.selector)}));delete r[mo]}}function nW(e,n){var t=e.options,r=e.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,mo.length)!==mo)){var a=bO(i.substr(mo.length),e.selector);n.addRule(a,r[i],Ce({},t,{selector:a})),delete r[i]}}function rW(){function e(t,r,i){if(!t)return null;if(t===mo)return new JU(t,r,i);if(t[0]==="@"&&t.substr(0,ty.length)===ty)return new QU(t,r,i);var a=i.parent;return a&&(a.type==="global"||a.options.parent&&a.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=t),null}function n(t,r){t.type!=="style"||!r||(tW(t,r),nW(t,r))}return{onCreateRule:e,onProcessRule:n}}var jP=/\s*,\s*/g,iW=/&/g,oW=/\$([\w-]+)/g;function sW(){function e(i,a){return function(h,c){var p=i.getRule(c)||a&&a.getRule(c);return p?p.selector:c}}function n(i,a){for(var h=a.split(jP),c=i.split(jP),p="",m=0;m<h.length;m++)for(var g=h[m],b=0;b<c.length;b++){var S=c[b];p&&(p+=", "),p+=S.indexOf("&")!==-1?S.replace(iW,g):g+" "+S}return p}function t(i,a,h){if(h)return Ce({},h,{index:h.index+1});var c=i.options.nestingLevel;c=c===void 0?1:c+1;var p=Ce({},i.options,{nestingLevel:c,index:a.indexOf(i)+1});return delete p.name,p}function r(i,a,h){if(a.type!=="style")return i;var c=a,p=c.options.parent,m,g;for(var b in i){var S=b.indexOf("&")!==-1,T=b[0]==="@";if(!(!S&&!T)){if(m=t(c,p,m),S){var _=n(b,c.selector);g||(g=e(p,h)),_=_.replace(oW,g);var k=c.key+"-"+b;"replaceRule"in p?p.replaceRule(k,i[b],Ce({},m,{selector:_})):p.addRule(k,i[b],Ce({},m,{selector:_}))}else T&&p.addRule(b,{},m).addRule(c.key,i[b],{selector:c.selector});delete i[b]}}return i}return{onProcessStyle:r}}var aW=/[A-Z]/g,lW=/^ms-/,vg={};function uW(e){return"-"+e.toLowerCase()}function SO(e){if(vg.hasOwnProperty(e))return vg[e];var n=e.replace(aW,uW);return vg[e]=lW.test(n)?"-"+n:n}function _h(e){var n={};for(var t in e){var r=t.indexOf("--")===0?t:SO(t);n[r]=e[t]}return e.fallbacks&&(Array.isArray(e.fallbacks)?n.fallbacks=e.fallbacks.map(_h):n.fallbacks=_h(e.fallbacks)),n}function cW(){function e(t){if(Array.isArray(t)){for(var r=0;r<t.length;r++)t[r]=_h(t[r]);return t}return _h(t)}function n(t,r,i){if(r.indexOf("--")===0)return t;var a=SO(r);return r===a?t:(i.prop(a,t),null)}return{onProcessStyle:e,onChangeValue:n}}var Oe=Nw&&CSS?CSS.px:"px",Rd=Nw&&CSS?CSS.ms:"ms",Zs=Nw&&CSS?CSS.percent:"%",dW={"animation-delay":Rd,"animation-duration":Rd,"background-position":Oe,"background-position-x":Oe,"background-position-y":Oe,"background-size":Oe,border:Oe,"border-bottom":Oe,"border-bottom-left-radius":Oe,"border-bottom-right-radius":Oe,"border-bottom-width":Oe,"border-left":Oe,"border-left-width":Oe,"border-radius":Oe,"border-right":Oe,"border-right-width":Oe,"border-top":Oe,"border-top-left-radius":Oe,"border-top-right-radius":Oe,"border-top-width":Oe,"border-width":Oe,"border-block":Oe,"border-block-end":Oe,"border-block-end-width":Oe,"border-block-start":Oe,"border-block-start-width":Oe,"border-block-width":Oe,"border-inline":Oe,"border-inline-end":Oe,"border-inline-end-width":Oe,"border-inline-start":Oe,"border-inline-start-width":Oe,"border-inline-width":Oe,"border-start-start-radius":Oe,"border-start-end-radius":Oe,"border-end-start-radius":Oe,"border-end-end-radius":Oe,margin:Oe,"margin-bottom":Oe,"margin-left":Oe,"margin-right":Oe,"margin-top":Oe,"margin-block":Oe,"margin-block-end":Oe,"margin-block-start":Oe,"margin-inline":Oe,"margin-inline-end":Oe,"margin-inline-start":Oe,padding:Oe,"padding-bottom":Oe,"padding-left":Oe,"padding-right":Oe,"padding-top":Oe,"padding-block":Oe,"padding-block-end":Oe,"padding-block-start":Oe,"padding-inline":Oe,"padding-inline-end":Oe,"padding-inline-start":Oe,"mask-position-x":Oe,"mask-position-y":Oe,"mask-size":Oe,height:Oe,width:Oe,"min-height":Oe,"max-height":Oe,"min-width":Oe,"max-width":Oe,bottom:Oe,left:Oe,top:Oe,right:Oe,inset:Oe,"inset-block":Oe,"inset-block-end":Oe,"inset-block-start":Oe,"inset-inline":Oe,"inset-inline-end":Oe,"inset-inline-start":Oe,"box-shadow":Oe,"text-shadow":Oe,"column-gap":Oe,"column-rule":Oe,"column-rule-width":Oe,"column-width":Oe,"font-size":Oe,"font-size-delta":Oe,"letter-spacing":Oe,"text-decoration-thickness":Oe,"text-indent":Oe,"text-stroke":Oe,"text-stroke-width":Oe,"word-spacing":Oe,motion:Oe,"motion-offset":Oe,outline:Oe,"outline-offset":Oe,"outline-width":Oe,perspective:Oe,"perspective-origin-x":Zs,"perspective-origin-y":Zs,"transform-origin":Zs,"transform-origin-x":Zs,"transform-origin-y":Zs,"transform-origin-z":Zs,"transition-delay":Rd,"transition-duration":Rd,"vertical-align":Oe,"flex-basis":Oe,"shape-margin":Oe,size:Oe,gap:Oe,grid:Oe,"grid-gap":Oe,"row-gap":Oe,"grid-row-gap":Oe,"grid-column-gap":Oe,"grid-template-rows":Oe,"grid-template-columns":Oe,"grid-auto-rows":Oe,"grid-auto-columns":Oe,"box-shadow-x":Oe,"box-shadow-y":Oe,"box-shadow-blur":Oe,"box-shadow-spread":Oe,"font-line-height":Oe,"text-shadow-x":Oe,"text-shadow-y":Oe,"text-shadow-blur":Oe};function EO(e){var n=/(-[a-z])/g,t=function(a){return a[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(n,t)]=e[i];return r}var hW=EO(dW);function cu(e,n,t){if(n==null)return n;if(Array.isArray(n))for(var r=0;r<n.length;r++)n[r]=cu(e,n[r],t);else if(typeof n=="object")if(e==="fallbacks")for(var i in n)n[i]=cu(i,n[i],t);else for(var a in n)n[a]=cu(e+"-"+a,n[a],t);else if(typeof n=="number"&&isNaN(n)===!1){var h=t[e]||hW[e];return h&&!(n===0&&h===Oe)?typeof h=="function"?h(n).toString():""+n+h:n.toString()}return n}function pW(e){e===void 0&&(e={});var n=EO(e);function t(i,a){if(a.type!=="style")return i;for(var h in i)i[h]=cu(h,i[h],n);return i}function r(i,a){return cu(a,i,n)}return{onProcessStyle:t,onChangeValue:r}}var Gl="",ny="",TO="",CO="",fW=Gu&&"ontouchstart"in document.documentElement;if(Gu){var yg={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},mW=document.createElement("p"),wg=mW.style,gW="Transform";for(var xg in yg)if(xg+gW in wg){Gl=xg,ny=yg[xg];break}Gl==="Webkit"&&"msHyphens"in wg&&(Gl="ms",ny=yg.ms,CO="edge"),Gl==="Webkit"&&"-apple-trailing-word"in wg&&(TO="apple")}var Lt={js:Gl,css:ny,vendor:TO,browser:CO,isTouch:fW};function vW(e){return e[1]==="-"||Lt.js==="ms"?e:"@"+Lt.css+"keyframes"+e.substr(10)}var yW={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:Lt.js==="ms"?"-webkit-"+e:Lt.css+e}},wW={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:Lt.js==="Webkit"?Lt.css+"print-"+e:e}},xW=/[-\s]+(.)?/g;function bW(e,n){return n?n.toUpperCase():""}function Fw(e){return e.replace(xW,bW)}function So(e){return Fw("-"+e)}var SW={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(Lt.js==="Webkit"){var t="mask-image";if(Fw(t)in n)return e;if(Lt.js+So(t)in n)return Lt.css+e}return e}},EW={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:Lt.vendor==="apple"&&!Lt.isTouch?Lt.css+e:e}},TW={noPrefill:["transform"],supportedProperty:function(e,n,t){return e!=="transform"?!1:t.transform?e:Lt.css+e}},CW={noPrefill:["transition"],supportedProperty:function(e,n,t){return e!=="transition"?!1:t.transition?e:Lt.css+e}},PW={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:Lt.js==="Webkit"||Lt.js==="ms"&&Lt.browser!=="edge"?Lt.css+e:e}},kW={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:Lt.js==="Moz"||Lt.js==="ms"||Lt.vendor==="apple"?Lt.css+e:e}},_W={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(Lt.js==="Webkit"){var t="WebkitColumn"+So(e);return t in n?Lt.css+"column-"+e:!1}if(Lt.js==="Moz"){var r="page"+So(e);return r in n?"page-"+e:!1}return!1}},RW={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(Lt.js==="Moz")return e;var t=e.replace("-inline","");return Lt.js+So(t)in n?Lt.css+t:!1}},OW={supportedProperty:function(e,n){return Fw(e)in n?e:!1}},AW={supportedProperty:function(e,n){var t=So(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:Lt.js+t in n?Lt.css+e:Lt.js!=="Webkit"&&"Webkit"+t in n?"-webkit-"+e:!1}},DW={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:Lt.js==="ms"?""+Lt.css+e:e}},MW={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:Lt.js==="ms"?Lt.css+"scroll-chaining":e}},IW={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},LW={supportedProperty:function(e,n){var t=IW[e];return t&&Lt.js+So(t)in n?Lt.css+t:!1}},PO={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},jW=Object.keys(PO),NW=function(e){return Lt.css+e},FW={supportedProperty:function(e,n,t){var r=t.multiple;if(jW.indexOf(e)>-1){var i=PO[e];if(!Array.isArray(i))return Lt.js+So(i)in n?Lt.css+i:!1;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(Lt.js+So(i[0])in n))return!1;return i.map(NW)}return!1}},kO=[yW,wW,SW,EW,TW,CW,PW,kW,_W,RW,OW,AW,DW,MW,LW,FW],NP=kO.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),BW=kO.filter(function(e){return e.noPrefill}).reduce(function(e,n){return e.push.apply(e,Dw(n.noPrefill)),e},[]),ql,$o={};if(Gu){ql=document.createElement("p");var bg=window.getComputedStyle(document.documentElement,"");for(var Sg in bg)isNaN(Sg)||($o[bg[Sg]]=bg[Sg]);BW.forEach(function(e){return delete $o[e]})}function ry(e,n){if(n===void 0&&(n={}),!ql)return e;if($o[e]!=null)return $o[e];(e==="transition"||e==="transform")&&(n[e]=e in ql.style);for(var t=0;t<NP.length&&($o[e]=NP[t](e,ql.style,n),!$o[e]);t++);try{ql.style[e]=""}catch{return!1}return $o[e]}var Xs={},HW={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},zW=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Qi;function VW(e,n,t){if(n==="var")return"var";if(n==="all")return"all";if(t==="all")return", all";var r=n?ry(n):", "+ry(t);return r||n||t}Gu&&(Qi=document.createElement("p"));function FP(e,n){var t=n;if(!Qi||e==="content")return n;if(typeof t!="string"||!isNaN(parseInt(t,10)))return t;var r=e+t;if(Xs[r]!=null)return Xs[r];try{Qi.style[e]=t}catch{return Xs[r]=!1,!1}if(HW[e])t=t.replace(zW,VW);else if(Qi.style[e]===""&&(t=Lt.css+t,t==="-ms-flex"&&(Qi.style[e]="-ms-flexbox"),Qi.style[e]=t,Qi.style[e]===""))return Xs[r]=!1,!1;return Qi.style[e]="",Xs[r]=t,Xs[r]}function UW(){function e(i){if(i.type==="keyframes"){var a=i;a.at=vW(a.at)}}function n(i){for(var a in i){var h=i[a];if(a==="fallbacks"&&Array.isArray(h)){i[a]=h.map(n);continue}var c=!1,p=ry(a);p&&p!==a&&(c=!0);var m=!1,g=FP(p,is(h));g&&g!==h&&(m=!0),(c||m)&&(c&&delete i[a],i[p||a]=g||h)}return i}function t(i,a){return a.type!=="style"?i:n(i)}function r(i,a){return FP(a,is(i))||i}return{onProcessRule:e,onProcessStyle:t,onChangeValue:r}}function WW(){var e=function(n,t){return n.length===t.length?n>t?1:-1:n.length-t.length};return{onProcessStyle:function(n,t){if(t.type!=="style")return n;for(var r={},i=Object.keys(n).sort(e),a=0;a<i.length;a++)r[i[a]]=n[i[a]];return r}}}function GW(){return{plugins:[KU(),rW(),sW(),cW(),pW(),typeof window>"u"?null:UW(),WW()]}}function Bw(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.baseClasses,t=e.newClasses;if(e.Component,!t)return n;var r=Ce({},n);return Object.keys(t).forEach(function(i){t[i]&&(r[i]="".concat(n[i]," ").concat(t[i]))}),r}var aa={set:function(e,n,t,r){var i=e.get(n);i||(i=new Map,e.set(n,i)),i.set(t,r)},get:function(e,n,t){var r=e.get(n);return r?r.get(t):void 0},delete:function(e,n,t){var r=e.get(n);r.delete(t)}},_O=dt.createContext(null);function gs(){var e=dt.useContext(_O);return e}var qW=yO(GW()),$W=dU(),ZW=new Map,XW={disableGeneration:!1,generateClassName:$W,jss:qW,sheetsCache:null,sheetsManager:ZW,sheetsRegistry:null},YW=dt.createContext(XW),BP=-1e9;function KW(){return BP+=1,BP}var JW={};function QW(e){var n=typeof e=="function";return{create:function(t,r){var i;try{i=n?e(t):e}catch(c){throw c}if(!r||!t.overrides||!t.overrides[r])return i;var a=t.overrides[r],h=Ce({},i);return Object.keys(a).forEach(function(c){h[c]=Ra(h[c],a[c])}),h},options:{}}}function eG(e,n,t){var r=e.state,i=e.stylesOptions;if(i.disableGeneration)return n||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var a=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,a=!0),n!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=n,a=!0),a&&(r.cacheClasses.value=Bw({baseClasses:r.cacheClasses.lastJSS,newClasses:n,Component:t})),r.cacheClasses.value}function tG(e,n){var t=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,h=e.name;if(!i.disableGeneration){var c=aa.get(i.sheetsManager,a,r);c||(c={refs:0,staticSheet:null,dynamicStyles:null},aa.set(i.sheetsManager,a,r,c));var p=Ce({},a.options,i,{theme:r,flip:typeof i.flip=="boolean"?i.flip:r.direction==="rtl"});p.generateId=p.serverGenerateClassName||p.generateClassName;var m=i.sheetsRegistry;if(c.refs===0){var g;i.sheetsCache&&(g=aa.get(i.sheetsCache,a,r));var b=a.create(r,h);g||(g=i.jss.createStyleSheet(b,Ce({link:!1},p)),g.attach(),i.sheetsCache&&aa.set(i.sheetsCache,a,r,g)),m&&m.add(g),c.staticSheet=g,c.dynamicStyles=wO(b)}if(c.dynamicStyles){var S=i.jss.createStyleSheet(c.dynamicStyles,Ce({link:!0},p));S.update(n),S.attach(),t.dynamicSheet=S,t.classes=Bw({baseClasses:c.staticSheet.classes,newClasses:S.classes}),m&&m.add(S)}else t.classes=c.staticSheet.classes;c.refs+=1}}function nG(e,n){var t=e.state;t.dynamicSheet&&t.dynamicSheet.update(n)}function rG(e){var n=e.state,t=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=aa.get(r.sheetsManager,i,t);a.refs-=1;var h=r.sheetsRegistry;a.refs===0&&(aa.delete(r.sheetsManager,i,t),r.jss.removeStyleSheet(a.staticSheet),h&&h.remove(a.staticSheet)),n.dynamicSheet&&(r.jss.removeStyleSheet(n.dynamicSheet),h&&h.remove(n.dynamicSheet))}}function iG(e,n){var t=dt.useRef([]),r,i=dt.useMemo(function(){return{}},n);t.current!==i&&(t.current=i,r=e()),dt.useEffect(function(){return function(){r&&r()}},[i])}function oG(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.name,r=n.classNamePrefix,i=n.Component,a=n.defaultTheme,h=a===void 0?JW:a,c=Ft(n,["name","classNamePrefix","Component","defaultTheme"]),p=QW(e),m=t||r||"makeStyles";p.options={index:KW(),name:t,meta:m,classNamePrefix:m};var g=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=gs()||h,T=Ce({},dt.useContext(YW),c),_=dt.useRef(),k=dt.useRef();iG(function(){var P={name:t,state:{},stylesCreator:p,stylesOptions:T,theme:S};return tG(P,b),k.current=!1,_.current=P,function(){rG(P)}},[S,p]),dt.useEffect(function(){k.current&&nG(_.current,b),k.current=!0});var C=eG(_.current,b.classes,i);return C};return g}function sG(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function RO(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=RO(e[n]))&&(r&&(r+=" "),r+=t);else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ln(){for(var e,n,t=0,r="";t<arguments.length;)(e=arguments[t++])&&(n=RO(e))&&(r&&(r+=" "),r+=n);return r}var OO={exports:{}},en={},HP;function aG(){if(HP)return en;HP=1;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=typeof Symbol=="function"&&Symbol.for,n=e?Symbol.for("react.element"):60103,t=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,h=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,p=e?Symbol.for("react.async_mode"):60111,m=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,b=e?Symbol.for("react.suspense"):60113,S=e?Symbol.for("react.suspense_list"):60120,T=e?Symbol.for("react.memo"):60115,_=e?Symbol.for("react.lazy"):60116,k=e?Symbol.for("react.block"):60121,C=e?Symbol.for("react.fundamental"):60117,P=e?Symbol.for("react.responder"):60118,A=e?Symbol.for("react.scope"):60119;function N(Z){if(typeof Z=="object"&&Z!==null){var H=Z.$$typeof;switch(H){case n:switch(Z=Z.type,Z){case p:case m:case r:case a:case i:case b:return Z;default:switch(Z=Z&&Z.$$typeof,Z){case c:case g:case _:case T:case h:return Z;default:return H}}case t:return H}}}function W(Z){return N(Z)===m}return en.AsyncMode=p,en.ConcurrentMode=m,en.ContextConsumer=c,en.ContextProvider=h,en.Element=n,en.ForwardRef=g,en.Fragment=r,en.Lazy=_,en.Memo=T,en.Portal=t,en.Profiler=a,en.StrictMode=i,en.Suspense=b,en.isAsyncMode=function(Z){return W(Z)||N(Z)===p},en.isConcurrentMode=W,en.isContextConsumer=function(Z){return N(Z)===c},en.isContextProvider=function(Z){return N(Z)===h},en.isElement=function(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n},en.isForwardRef=function(Z){return N(Z)===g},en.isFragment=function(Z){return N(Z)===r},en.isLazy=function(Z){return N(Z)===_},en.isMemo=function(Z){return N(Z)===T},en.isPortal=function(Z){return N(Z)===t},en.isProfiler=function(Z){return N(Z)===a},en.isStrictMode=function(Z){return N(Z)===i},en.isSuspense=function(Z){return N(Z)===b},en.isValidElementType=function(Z){return typeof Z=="string"||typeof Z=="function"||Z===r||Z===m||Z===a||Z===i||Z===b||Z===S||typeof Z=="object"&&Z!==null&&(Z.$$typeof===_||Z.$$typeof===T||Z.$$typeof===h||Z.$$typeof===c||Z.$$typeof===g||Z.$$typeof===C||Z.$$typeof===P||Z.$$typeof===A||Z.$$typeof===k)},en.typeOf=N,en}OO.exports=aG();var lG=OO.exports,Hw=lG,uG={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},cG={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},dG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},AO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zw={};zw[Hw.ForwardRef]=dG;zw[Hw.Memo]=AO;function zP(e){return Hw.isMemo(e)?AO:zw[e.$$typeof]||uG}var hG=Object.defineProperty,pG=Object.getOwnPropertyNames,VP=Object.getOwnPropertySymbols,fG=Object.getOwnPropertyDescriptor,mG=Object.getPrototypeOf,UP=Object.prototype;function DO(e,n,t){if(typeof n!="string"){if(UP){var r=mG(n);r&&r!==UP&&DO(e,r,t)}var i=pG(n);VP&&(i=i.concat(VP(n)));for(var a=zP(e),h=zP(n),c=0;c<i.length;++c){var p=i[c];if(!cG[p]&&!(t&&t[p])&&!(h&&h[p])&&!(a&&a[p])){var m=fG(n,p);try{hG(e,p,m)}catch{}}}}return e}var gG=DO;const Rh=Hi(gG);function vG(e,n){if(typeof n=="function"){var t=n(e);return t}return Ce({},e,n)}function yG(e){var n=e.children,t=e.theme,r=gs(),i=dt.useMemo(function(){var a=r===null?t:vG(r,t);return a!=null&&(a[pO]=r!==null),a},[t,r]);return dt.createElement(_O.Provider,{value:i},n)}var wG=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(t){var r=n.defaultTheme,i=n.withTheme,a=i===void 0?!1:i,h=n.name,c=Ft(n,["defaultTheme","withTheme","name"]),p=h,m=oG(e,Ce({defaultTheme:r,Component:t,name:h||t.displayName,classNamePrefix:p},c)),g=dt.forwardRef(function(b,S){b.classes;var T=b.innerRef,_=Ft(b,["classes","innerRef"]),k=m(Ce({},t.defaultProps,b)),C,P=_;return(typeof h=="string"||a)&&(C=gs()||r,h&&(P=ip({theme:C,name:h,props:_})),a&&!P.theme&&(P.theme=C)),dt.createElement(t,Ce({ref:T||S,classes:k},P))});return Rh(g,t),g}},MO=hO();function qa(){var e=gs()||MO;return e}function Un(e,n){return wG(e,Ce({defaultTheme:MO},n))}function IO(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=gs(),r=ip({theme:t,name:"MuiUseMediaQuery",props:{}}),i=typeof e=="function"?e(t):e;i=i.replace(/^@media( ?)/m,"");var a=typeof window<"u"&&typeof window.matchMedia<"u",h=Ce({},r,n),c=h.defaultMatches,p=c===void 0?!1:c,m=h.matchMedia,g=m===void 0?a?window.matchMedia:null:m,b=h.noSsr,S=b===void 0?!1:b,T=h.ssrMatchMedia,_=T===void 0?null:T,k=z.useState(function(){return S&&a?g(i).matches:_?_(i).matches:p}),C=k[0],P=k[1];return z.useEffect(function(){var A=!0;if(a){var N=g(i),W=function(){A&&P(N.matches)};return W(),N.addListener(W),function(){A=!1,N.removeListener(W)}}},[i,g,a]),C}var xG=function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t?zr.indexOf(e)<=zr.indexOf(n):zr.indexOf(e)<zr.indexOf(n)},bG=typeof window>"u"?z.useEffect:z.useLayoutEffect,LO=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(n){var t=e.withTheme,r=t===void 0?!1:t,i=e.noSSR,a=i===void 0?!1:i,h=e.initialWidth;function c(p){var m=qa(),g=p.theme||m,b=ip({theme:g,name:"MuiWithWidth",props:Ce({},p)}),S=b.initialWidth,T=b.width,_=Ft(b,["initialWidth","width"]),k=z.useState(!1),C=k[0],P=k[1];bG(function(){P(!0)},[]);var A=g.breakpoints.keys.slice().reverse(),N=A.reduce(function(Z,H){var ie=IO(g.breakpoints.up(H));return!Z&&ie?H:Z},null),W=Ce({width:T||(C||a?N:void 0)||S||h},r?{theme:g}:{},_);return W.width===void 0?null:z.createElement(n,W)}return Rh(c,n),c}},la;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(la||(la={}));var WP=function(e){return e},GP="beforeunload",SG="popstate";function EG(e){e===void 0&&(e={});var n=e,t=n.window,r=t===void 0?document.defaultView:t,i=r.history;function a(){var ie=r.location,ne=ie.pathname,ae=ie.search,Se=ie.hash,me=i.state||{};return[me.idx,WP({pathname:ne,search:ae,hash:Se,state:me.usr||null,key:me.key||"default"})]}var h=null;function c(){if(h)T.call(h),h=null;else{var ie=la.Pop,ne=a(),ae=ne[0],Se=ne[1];if(T.length){if(ae!=null){var me=g-ae;me&&(h={action:ie,location:Se,retry:function(){Z(me*-1)}},Z(me))}}else A(ie)}}r.addEventListener(SG,c);var p=la.Pop,m=a(),g=m[0],b=m[1],S=$P(),T=$P();g==null&&(g=0,i.replaceState(Ce({},i.state,{idx:g}),""));function _(ie){return typeof ie=="string"?ie:CG(ie)}function k(ie,ne){return ne===void 0&&(ne=null),WP(Ce({pathname:b.pathname,hash:"",search:""},typeof ie=="string"?PG(ie):ie,{state:ne,key:TG()}))}function C(ie,ne){return[{usr:ie.state,key:ie.key,idx:ne},_(ie)]}function P(ie,ne,ae){return!T.length||(T.call({action:ie,location:ne,retry:ae}),!1)}function A(ie){p=ie;var ne=a();g=ne[0],b=ne[1],S.call({action:p,location:b})}function N(ie,ne){var ae=la.Push,Se=k(ie,ne);function me(){N(ie,ne)}if(P(ae,Se,me)){var fe=C(Se,g+1),he=fe[0],Ae=fe[1];try{i.pushState(he,"",Ae)}catch{r.location.assign(Ae)}A(ae)}}function W(ie,ne){var ae=la.Replace,Se=k(ie,ne);function me(){W(ie,ne)}if(P(ae,Se,me)){var fe=C(Se,g),he=fe[0],Ae=fe[1];i.replaceState(he,"",Ae),A(ae)}}function Z(ie){i.go(ie)}var H={get action(){return p},get location(){return b},createHref:_,push:N,replace:W,go:Z,back:function(){Z(-1)},forward:function(){Z(1)},listen:function(ie){return S.push(ie)},block:function(ie){var ne=T.push(ie);return T.length===1&&r.addEventListener(GP,qP),function(){ne(),T.length||r.removeEventListener(GP,qP)}}};return H}function qP(e){e.preventDefault(),e.returnValue=""}function $P(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(t){return t!==n})}},call:function(n){e.forEach(function(t){return t&&t(n)})}}}function TG(){return Math.random().toString(36).substr(2,8)}function CG(e){var n=e.pathname,t=n===void 0?"/":n,r=e.search,i=r===void 0?"":r,a=e.hash,h=a===void 0?"":a;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),h&&h!=="#"&&(t+=h.charAt(0)==="#"?h:"#"+h),t}function PG(e){var n={};if(e){var t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));var r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}var jO={exports:{}},Eg={},ZP;function kG(){if(ZP)return Eg;ZP=1;/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=dt;function n(b,S){return b===S&&(b!==0||1/b===1/S)||b!==b&&S!==S}var t=typeof Object.is=="function"?Object.is:n,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,h=e.useDebugValue;function c(b,S){var T=S(),_=r({inst:{value:T,getSnapshot:S}}),k=_[0].inst,C=_[1];return a(function(){k.value=T,k.getSnapshot=S,p(k)&&C({inst:k})},[b,T,S]),i(function(){return p(k)&&C({inst:k}),b(function(){p(k)&&C({inst:k})})},[b]),h(T),T}function p(b){var S=b.getSnapshot;b=b.value;try{var T=S();return!t(b,T)}catch{return!0}}function m(b,S){return S()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return Eg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Eg}jO.exports=kG();var NO=jO.exports,Tg={},XP;function _G(){if(XP)return Tg;XP=1;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=dt,n=NO;function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,i=n.useSyncExternalStore,a=e.useRef,h=e.useEffect,c=e.useMemo,p=e.useDebugValue;return Tg.useSyncExternalStoreWithSelector=function(m,g,b,S,T){var _=a(null);if(_.current===null){var k={hasValue:!1,value:null};_.current=k}else k=_.current;_=c(function(){function P(H){if(!A){if(A=!0,N=H,H=S(H),T!==void 0&&k.hasValue){var ie=k.value;if(T(ie,H))return W=ie}return W=H}if(ie=W,r(N,H))return ie;var ne=S(H);return T!==void 0&&T(ie,ne)?ie:(N=H,W=ne)}var A=!1,N,W,Z=b===void 0?null:b;return[function(){return P(g())},Z===null?void 0:function(){return P(Z())}]},[g,b,S,T]);var C=i(m,_[0],_[1]);return h(function(){k.hasValue=!0,k.value=C},[C]),p(C),C},Tg}_G();function RG(e){e()}let FO=RG;const OG=e=>FO=e,AG=()=>FO,BO=z.createContext(null),DG=()=>{throw new Error("uSES not initialized!")};var HO={exports:{}},tn={},YP;function MG(){if(YP)return tn;YP=1;/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),h=Symbol.for("react.context"),c=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function k(C){if(typeof C=="object"&&C!==null){var P=C.$$typeof;switch(P){case e:switch(C=C.type,C){case t:case i:case r:case m:case g:return C;default:switch(C=C&&C.$$typeof,C){case c:case h:case p:case S:case b:case a:return C;default:return P}}case n:return P}}}return tn.ContextConsumer=h,tn.ContextProvider=a,tn.Element=e,tn.ForwardRef=p,tn.Fragment=t,tn.Lazy=S,tn.Memo=b,tn.Portal=n,tn.Profiler=i,tn.StrictMode=r,tn.Suspense=m,tn.SuspenseList=g,tn.isAsyncMode=function(){return!1},tn.isConcurrentMode=function(){return!1},tn.isContextConsumer=function(C){return k(C)===h},tn.isContextProvider=function(C){return k(C)===a},tn.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},tn.isForwardRef=function(C){return k(C)===p},tn.isFragment=function(C){return k(C)===t},tn.isLazy=function(C){return k(C)===S},tn.isMemo=function(C){return k(C)===b},tn.isPortal=function(C){return k(C)===n},tn.isProfiler=function(C){return k(C)===i},tn.isStrictMode=function(C){return k(C)===r},tn.isSuspense=function(C){return k(C)===m},tn.isSuspenseList=function(C){return k(C)===g},tn.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===t||C===i||C===r||C===m||C===g||C===T||typeof C=="object"&&C!==null&&(C.$$typeof===S||C.$$typeof===b||C.$$typeof===a||C.$$typeof===h||C.$$typeof===p||C.$$typeof===_||C.getModuleId!==void 0)},tn.typeOf=k,tn}HO.exports=MG();var IG=HO.exports;const LG=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function jG(e,n,t,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:h}){let c=!1,p,m,g,b,S;function T(A,N){return p=A,m=N,g=e(p,m),b=n(r,m),S=t(g,b,m),c=!0,S}function _(){return g=e(p,m),n.dependsOnOwnProps&&(b=n(r,m)),S=t(g,b,m),S}function k(){return e.dependsOnOwnProps&&(g=e(p,m)),n.dependsOnOwnProps&&(b=n(r,m)),S=t(g,b,m),S}function C(){const A=e(p,m),N=!h(A,g);return g=A,N&&(S=t(g,b,m)),S}function P(A,N){const W=!a(N,m),Z=!i(A,p,N,m);return p=A,m=N,W&&Z?_():W?k():Z?C():S}return function(A,N){return c?P(A,N):T(A,N)}}function NG(e,n){let{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:i}=n,a=ms(n,LG);const h=t(e,a),c=r(e,a),p=i(e,a);return jG(h,c,p,e,a)}function zO(e){return function(n){const t=e(n);function r(){return t}return r.dependsOnOwnProps=!1,r}}function KP(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function FG(e,n){return function(t,{displayName:r}){const i=function(a,h){return i.dependsOnOwnProps?i.mapToProps(a,h):i.mapToProps(a,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(a,h){i.mapToProps=e,i.dependsOnOwnProps=KP(e);let c=i(a,h);return typeof c=="function"&&(i.mapToProps=c,i.dependsOnOwnProps=KP(c),c=i(a,h)),c},i}}function BG(e,n){return(t,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${n} argument when connecting component ${r.wrappedComponentName}.`)}}function HG(e){return zO(n=>({dispatch:n}))}function zG(e){return e?typeof e=="function"?FG(e):BG(e,"mapStateToProps"):zO(()=>({}))}function VG(e,n,t){return Ce({},t,e,n)}function UG(e){return()=>VG}function WG(){const e=AG();let n=null,t=null;return{clear(){n=null,t=null},notify(){e(()=>{let r=n;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=n;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:n=a,function(){!i||n===null||(i=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}const JP={notify(){},get:()=>[]};function VO(e,n){let t,r=JP;function i(b){return p(),r.subscribe(b)}function a(){r.notify()}function h(){g.onStateChange&&g.onStateChange()}function c(){return!!t}function p(){t||(t=n?n.addNestedSub(h):e.subscribe(h),r=WG())}function m(){t&&(t(),t=void 0,r.clear(),r=JP)}const g={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:h,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return g}const GG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oh=GG?z.useLayoutEffect:z.useEffect;function QP(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function Cg(e,n){if(QP(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(n,t[i])||!QP(e[t[i]],n[t[i]]))return!1;return!0}const qG=["reactReduxForwardedRef"];let UO=DG;const $G=e=>{UO=e},ZG=[null,null];function XG(e,n,t){Oh(()=>e(...n),t)}function YG(e,n,t,r,i,a){e.current=r,t.current=!1,i.current&&(i.current=null,a())}function KG(e,n,t,r,i,a,h,c,p,m,g){if(!e)return()=>{};let b=!1,S=null;const T=()=>{if(b||!c.current)return;const _=n.getState();let k,C;try{k=r(_,i.current)}catch(P){C=P,S=P}C||(S=null),k===a.current?h.current||m():(a.current=k,p.current=k,h.current=!0,g())};return t.onStateChange=T,t.trySubscribe(),T(),()=>{if(b=!0,t.tryUnsubscribe(),t.onStateChange=null,S)throw S}}function JG(e,n){return e===n}function Yr(e,n,t,{pure:r,areStatesEqual:i=JG,areOwnPropsEqual:a=Cg,areStatePropsEqual:h=Cg,areMergedPropsEqual:c=Cg,forwardRef:p=!1,context:m=BO}={}){const g=m,b=zG(e),S=HG(),T=UG(),_=!!e;return k=>{const C=k.displayName||k.name||"Component",P=`Connect(${C})`,A={shouldHandleStateChanges:_,displayName:P,wrappedComponentName:C,WrappedComponent:k,initMapStateToProps:b,initMapDispatchToProps:S,initMergeProps:T,areStatesEqual:i,areStatePropsEqual:h,areOwnPropsEqual:a,areMergedPropsEqual:c};function N(Z){const[H,ie,ne]=z.useMemo(()=>{const{reactReduxForwardedRef:gt}=Z,Ke=ms(Z,qG);return[Z.context,gt,Ke]},[Z]),ae=z.useMemo(()=>H&&H.Consumer&&IG.isContextConsumer(dt.createElement(H.Consumer,null))?H:g,[H,g]),Se=z.useContext(ae),me=!!Z.store&&!!Z.store.getState&&!!Z.store.dispatch,fe=!!Se&&!!Se.store,he=me?Z.store:Se.store,Ae=fe?Se.getServerState:he.getState,Le=z.useMemo(()=>NG(he.dispatch,A),[he]),[ve,de]=z.useMemo(()=>{if(!_)return ZG;const gt=VO(he,me?void 0:Se.subscription),Ke=gt.notifyNestedSubs.bind(gt);return[gt,Ke]},[he,me,Se]),Ee=z.useMemo(()=>me?Se:Ce({},Se,{subscription:ve}),[me,Se,ve]),be=z.useRef(),q=z.useRef(ne),ge=z.useRef(),De=z.useRef(!1);z.useRef(!1);const $=z.useRef(!1),Qe=z.useRef();Oh(()=>($.current=!0,()=>{$.current=!1}),[]);const et=z.useMemo(()=>()=>ge.current&&ne===q.current?ge.current:Le(he.getState(),ne),[he,ne]),ot=z.useMemo(()=>gt=>ve?KG(_,he,ve,Le,q,be,De,$,ge,de,gt):()=>{},[ve]);XG(YG,[q,be,De,ne,ge,de]);let ct;try{ct=UO(ot,et,Ae?()=>Le(Ae(),ne):et)}catch(gt){throw Qe.current&&(gt.message+=`
The error may be correlated with this previous error:
${Qe.current.stack}

`),gt}Oh(()=>{Qe.current=void 0,ge.current=void 0,be.current=ct});const yt=z.useMemo(()=>dt.createElement(k,Ce({},ct,{ref:ie})),[ie,k,ct]);return z.useMemo(()=>_?dt.createElement(ae.Provider,{value:Ee},yt):yt,[ae,yt,Ee])}const W=dt.memo(N);if(W.WrappedComponent=k,W.displayName=N.displayName=P,p){const Z=dt.forwardRef(function(H,ie){return dt.createElement(W,Ce({},H,{reactReduxForwardedRef:ie}))});return Z.displayName=P,Z.WrappedComponent=k,Rh(Z,k)}return Rh(W,k)}}function QG({store:e,context:n,children:t,serverState:r}){const i=z.useMemo(()=>{const c=VO(e);return{store:e,subscription:c,getServerState:r?()=>r:void 0}},[e,r]),a=z.useMemo(()=>e.getState(),[e]);Oh(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const h=n||BO;return dt.createElement(h.Provider,{value:i},t)}$G(NO.useSyncExternalStore);OG(Fr.unstable_batchedUpdates);/**
 * @remix-run/router v1.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Iu.apply(this,arguments)}var oo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oo||(oo={}));const ek="popstate";function e8(e){e===void 0&&(e={});function n(i,a){let{pathname:h="/",search:c="",hash:p=""}=vs(i.location.hash.substr(1));return iy("",{pathname:h,search:c,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let h=i.document.querySelector("base"),c="";if(h&&h.getAttribute("href")){let p=i.location.href,m=p.indexOf("#");c=m===-1?p:p.slice(0,m)}return c+"#"+(typeof a=="string"?a:WO(a))}function r(i,a){ap(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return n8(n,t,r,e)}function Dn(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function ap(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function t8(){return Math.random().toString(36).substr(2,8)}function tk(e,n){return{usr:e.state,key:e.key,idx:n}}function iy(e,n,t,r){return t===void 0&&(t=null),Iu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?vs(n):n,{state:t,key:n&&n.key||r||t8()})}function WO(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function vs(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function n8(e,n,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,h=i.history,c=oo.Pop,p=null,m=g();m==null&&(m=0,h.replaceState(Iu({},h.state,{idx:m}),""));function g(){return(h.state||{idx:null}).idx}function b(){c=oo.Pop;let C=g(),P=C==null?null:C-m;m=C,p&&p({action:c,location:k.location,delta:P})}function S(C,P){c=oo.Push;let A=iy(k.location,C,P);t&&t(A,C),m=g()+1;let N=tk(A,m),W=k.createHref(A);try{h.pushState(N,"",W)}catch{i.location.assign(W)}a&&p&&p({action:c,location:k.location,delta:1})}function T(C,P){c=oo.Replace;let A=iy(k.location,C,P);t&&t(A,C),m=g();let N=tk(A,m),W=k.createHref(A);h.replaceState(N,"",W),a&&p&&p({action:c,location:k.location,delta:0})}function _(C){let P=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof C=="string"?C:WO(C);return Dn(P,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,P)}let k={get action(){return c},get location(){return e(i,h)},listen(C){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(ek,b),p=C,()=>{i.removeEventListener(ek,b),p=null}},createHref(C){return n(i,C)},createURL:_,encodeLocation(C){let P=_(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:S,replace:T,go(C){return h.go(C)}};return k}var nk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nk||(nk={}));function r8(e,n,t){t===void 0&&(t="/");let r=typeof n=="string"?vs(n):n,i=$O(r.pathname||"/",t);if(i==null)return null;let a=GO(e);i8(a);let h=null;for(let c=0;h==null&&c<a.length;++c)h=p8(a[c],g8(i));return h}function GO(e,n,t,r){n===void 0&&(n=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,h,c)=>{let p={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:h,route:a};p.relativePath.startsWith("/")&&(Dn(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let m=os([r,p.relativePath]),g=t.concat(p);a.children&&a.children.length>0&&(Dn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),GO(a.children,n,g,m)),!(a.path==null&&!a.index)&&n.push({path:m,score:d8(m,a.index),routesMeta:g})};return e.forEach((a,h)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,h);else for(let p of qO(a.path))i(a,h,p)}),n}function qO(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let h=qO(r.join("/")),c=[];return c.push(...h.map(p=>p===""?a:[a,p].join("/"))),i&&c.push(...h),c.map(p=>e.startsWith("/")&&p===""?"/":p)}function i8(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:h8(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const o8=/^:\w+$/,s8=3,a8=2,l8=1,u8=10,c8=-2,rk=e=>e==="*";function d8(e,n){let t=e.split("/"),r=t.length;return t.some(rk)&&(r+=c8),n&&(r+=a8),t.filter(i=>!rk(i)).reduce((i,a)=>i+(o8.test(a)?s8:a===""?l8:u8),r)}function h8(e,n){return e.length===n.length&&e.slice(0,-1).every((t,r)=>t===n[r])?e[e.length-1]-n[n.length-1]:0}function p8(e,n){let{routesMeta:t}=e,r={},i="/",a=[];for(let h=0;h<t.length;++h){let c=t[h],p=h===t.length-1,m=i==="/"?n:n.slice(i.length)||"/",g=f8({path:c.relativePath,caseSensitive:c.caseSensitive,end:p},m);if(!g)return null;Object.assign(r,g.params);let b=c.route;a.push({params:r,pathname:os([i,g.pathname]),pathnameBase:x8(os([i,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(i=os([i,g.pathnameBase]))}return a}function f8(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=m8(e.path,e.caseSensitive,e.end),i=n.match(t);if(!i)return null;let a=i[0],h=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,m,g)=>{if(m==="*"){let b=c[g]||"";h=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}return p[m]=v8(c[g]||"",m),p},{}),pathname:a,pathnameBase:h,pattern:e}}function m8(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),ap(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,h)=>(r.push(h),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function g8(e){try{return decodeURI(e)}catch(n){return ap(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function v8(e,n){try{return decodeURIComponent(e)}catch(t){return ap(!1,'The value for the URL param "'+n+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),e}}function $O(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function y8(e,n){n===void 0&&(n="/");let{pathname:t,search:r="",hash:i=""}=typeof e=="string"?vs(e):e;return{pathname:t?t.startsWith("/")?t:w8(t,n):n,search:b8(r),hash:S8(i)}}function w8(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Pg(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZO(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function XO(e,n,t,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=vs(e):(i=Iu({},e),Dn(!i.pathname||!i.pathname.includes("?"),Pg("?","pathname","search",i)),Dn(!i.pathname||!i.pathname.includes("#"),Pg("#","pathname","hash",i)),Dn(!i.search||!i.search.includes("#"),Pg("#","search","hash",i)));let a=e===""||i.pathname==="",h=a?"/":i.pathname,c;if(r||h==null)c=t;else{let b=n.length-1;if(h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;i.pathname=S.join("/")}c=b>=0?n[b]:"/"}let p=y8(i,c),m=h&&h!=="/"&&h.endsWith("/"),g=(a||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}const os=e=>e.join("/").replace(/\/\/+/g,"/"),x8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),b8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,S8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function E8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const YO=["post","put","patch","delete"];new Set(YO);const T8=["get",...YO];new Set(T8);/**
 * React Router v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ah.apply(this,arguments)}const KO=z.createContext(null),C8=z.createContext(null),lp=z.createContext(null),up=z.createContext(null),Po=z.createContext({outlet:null,matches:[],isDataRoute:!1}),JO=z.createContext(null);function qu(){return z.useContext(up)!=null}function ys(){return qu()||Dn(!1),z.useContext(up).location}function QO(e){z.useContext(lp).static||z.useLayoutEffect(e)}function cp(){let{isDataRoute:e}=z.useContext(Po);return e?B8():P8()}function P8(){qu()||Dn(!1);let{basename:e,navigator:n}=z.useContext(lp),{matches:t}=z.useContext(Po),{pathname:r}=ys(),i=JSON.stringify(ZO(t).map(h=>h.pathnameBase)),a=z.useRef(!1);return QO(()=>{a.current=!0}),z.useCallback(function(h,c){if(c===void 0&&(c={}),!a.current)return;if(typeof h=="number"){n.go(h);return}let p=XO(h,JSON.parse(i),r,c.relative==="path");e!=="/"&&(p.pathname=p.pathname==="/"?e:os([e,p.pathname])),(c.replace?n.replace:n.push)(p,c.state,c)},[e,n,i,r])}function k8(){let{matches:e}=z.useContext(Po),n=e[e.length-1];return n?n.params:{}}function _8(e,n){return R8(e,n)}function R8(e,n,t){qu()||Dn(!1);let{navigator:r}=z.useContext(lp),{matches:i}=z.useContext(Po),a=i[i.length-1],h=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let p=ys(),m;if(n){var g;let k=typeof n=="string"?vs(n):n;c==="/"||(g=k.pathname)!=null&&g.startsWith(c)||Dn(!1),m=k}else m=p;let b=m.pathname||"/",S=c==="/"?b:b.slice(c.length)||"/",T=r8(e,{pathname:S}),_=I8(T&&T.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:os([c,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:os([c,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,t);return n&&_?z.createElement(up.Provider,{value:{location:Ah({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:oo.Pop}},_):_}function O8(){let e=F8(),n=E8(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},n),t?z.createElement("pre",{style:i},t):null,null)}const A8=z.createElement(O8,null);class D8 extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error||t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error?z.createElement(Po.Provider,{value:this.props.routeContext},z.createElement(JO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function M8(e){let{routeContext:n,match:t,children:r}=e,i=z.useContext(KO);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(Po.Provider,{value:n},r)}function I8(e,n,t){var r;if(n===void 0&&(n=[]),t===void 0&&(t=null),e==null){var i;if((i=t)!=null&&i.errors)e=t.matches;else return null}let a=e,h=(r=t)==null?void 0:r.errors;if(h!=null){let c=a.findIndex(p=>p.route.id&&(h==null?void 0:h[p.route.id]));c>=0||Dn(!1),a=a.slice(0,Math.min(a.length,c+1))}return a.reduceRight((c,p,m)=>{let g=p.route.id?h==null?void 0:h[p.route.id]:null,b=null;t&&(b=p.route.errorElement||A8);let S=n.concat(a.slice(0,m+1)),T=()=>{let _;return g?_=b:p.route.Component?_=z.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=c,z.createElement(M8,{match:p,routeContext:{outlet:c,matches:S,isDataRoute:t!=null},children:_})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?z.createElement(D8,{location:t.location,revalidation:t.revalidation,component:b,error:g,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}var oy;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(oy||(oy={}));var Lu;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Lu||(Lu={}));function L8(e){let n=z.useContext(KO);return n||Dn(!1),n}function j8(e){let n=z.useContext(C8);return n||Dn(!1),n}function N8(e){let n=z.useContext(Po);return n||Dn(!1),n}function eA(e){let n=N8(),t=n.matches[n.matches.length-1];return t.route.id||Dn(!1),t.route.id}function F8(){var e;let n=z.useContext(JO),t=j8(Lu.UseRouteError),r=eA(Lu.UseRouteError);return n||((e=t.errors)==null?void 0:e[r])}function B8(){let{router:e}=L8(oy.UseNavigateStable),n=eA(Lu.UseNavigateStable),t=z.useRef(!1);return QO(()=>{t.current=!0}),z.useCallback(function(r,i){i===void 0&&(i={}),t.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Ah({fromRouteId:n},i)))},[e,n])}function H8(e){let{to:n,replace:t,state:r,relative:i}=e;qu()||Dn(!1);let{matches:a}=z.useContext(Po),{pathname:h}=ys(),c=cp(),p=XO(n,ZO(a).map(g=>g.pathnameBase),h,i==="path"),m=JSON.stringify(p);return z.useEffect(()=>c(JSON.parse(m),{replace:t,state:r,relative:i}),[c,m,i,t,r]),null}function Uo(e){Dn(!1)}function z8(e){let{basename:n="/",children:t=null,location:r,navigationType:i=oo.Pop,navigator:a,static:h=!1}=e;qu()&&Dn(!1);let c=n.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:c,navigator:a,static:h}),[c,a,h]);typeof r=="string"&&(r=vs(r));let{pathname:m="/",search:g="",hash:b="",state:S=null,key:T="default"}=r,_=z.useMemo(()=>{let k=$O(m,c);return k==null?null:{location:{pathname:k,search:g,hash:b,state:S,key:T},navigationType:i}},[c,m,g,b,S,T,i]);return _==null?null:z.createElement(lp.Provider,{value:p},z.createElement(up.Provider,{children:t,value:_}))}function V8(e){let{children:n,location:t}=e;return _8(sy(n),t)}var ik;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(ik||(ik={}));new Promise(()=>{});function sy(e,n){n===void 0&&(n=[]);let t=[];return z.Children.forEach(e,(r,i)=>{if(!z.isValidElement(r))return;let a=[...n,i];if(r.type===z.Fragment){t.push.apply(t,sy(r.props.children,a));return}r.type!==Uo&&Dn(!1),!r.props.index||!r.props.children||Dn(!1);let h={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=sy(r.props.children,a)),t.push(h)}),t}function Dh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let r=e[t];return n.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function U8(e,n){let t=Dh(e);if(n)for(let r of n.keys())t.has(r)||n.getAll(r).forEach(i=>{t.append(r,i)});return t}function W8(e){let{basename:n,children:t,window:r}=e,i=z.useRef();i.current==null&&(i.current=e8({window:r,v5Compat:!0}));let a=i.current,[h,c]=z.useState({action:a.action,location:a.location});return z.useLayoutEffect(()=>a.listen(c),[a]),z.createElement(z8,{basename:n,children:t,location:h.location,navigationType:h.action,navigator:a})}var ok;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(ok||(ok={}));var sk;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sk||(sk={}));function tA(e){let n=z.useRef(Dh(e)),t=z.useRef(!1),r=ys(),i=z.useMemo(()=>U8(r.search,t.current?null:n.current),[r.search]),a=cp(),h=z.useCallback((c,p)=>{const m=Dh(typeof c=="function"?c(i):c);t.current=!0,a("?"+m,p)},[a,i]);return[i,h]}function ak(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function lk(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ak(Object(t),!0).forEach(function(r){ba(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ak(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ir(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var uk=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),kg=function(){return Math.random().toString(36).substring(7).split("").join(".")},Mh={INIT:"@@redux/INIT"+kg(),REPLACE:"@@redux/REPLACE"+kg(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+kg()}};function G8(e){if(typeof e!="object"||e===null)return!1;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function nA(e,n,t){var r;if(typeof n=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ir(0));if(typeof n=="function"&&typeof t>"u"&&(t=n,n=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ir(1));return t(nA)(e,n)}if(typeof e!="function")throw new Error(ir(2));var i=e,a=n,h=[],c=h,p=!1;function m(){c===h&&(c=h.slice())}function g(){if(p)throw new Error(ir(3));return a}function b(k){if(typeof k!="function")throw new Error(ir(4));if(p)throw new Error(ir(5));var C=!0;return m(),c.push(k),function(){if(C){if(p)throw new Error(ir(6));C=!1,m();var P=c.indexOf(k);c.splice(P,1),h=null}}}function S(k){if(!G8(k))throw new Error(ir(7));if(typeof k.type>"u")throw new Error(ir(8));if(p)throw new Error(ir(9));try{p=!0,a=i(a,k)}finally{p=!1}for(var C=h=c,P=0;P<C.length;P++){var A=C[P];A()}return k}function T(k){if(typeof k!="function")throw new Error(ir(10));i=k,S({type:Mh.REPLACE})}function _(){var k,C=b;return k={subscribe:function(P){if(typeof P!="object"||P===null)throw new Error(ir(11));function A(){P.next&&P.next(g())}A();var N=C(A);return{unsubscribe:N}}},k[uk]=function(){return this},k}return S({type:Mh.INIT}),r={dispatch:S,subscribe:b,getState:g,replaceReducer:T},r[uk]=_,r}function q8(e){Object.keys(e).forEach(function(n){var t=e[n],r=t(void 0,{type:Mh.INIT});if(typeof r>"u")throw new Error(ir(12));if(typeof t(void 0,{type:Mh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ir(13))})}function $8(e){for(var n=Object.keys(e),t={},r=0;r<n.length;r++){var i=n[r];typeof e[i]=="function"&&(t[i]=e[i])}var a=Object.keys(t),h;try{q8(t)}catch(c){h=c}return function(c,p){if(c===void 0&&(c={}),h)throw h;for(var m=!1,g={},b=0;b<a.length;b++){var S=a[b],T=t[S],_=c[S],k=T(_,p);if(typeof k>"u")throw p&&p.type,new Error(ir(14));g[S]=k,m=m||k!==_}return m=m||a.length!==Object.keys(c).length,m?g:c}}function rA(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.length===0?function(r){return r}:n.length===1?n[0]:n.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Z8(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(r){return function(){var i=r.apply(void 0,arguments),a=function(){throw new Error(ir(15))},h={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},c=n.map(function(p){return p(h)});return a=rA.apply(void 0,c)(i.dispatch),lk(lk({},i),{},{dispatch:a})}}}var oi=function(e){return"@@redux-saga/"+e},X8=oi("CANCEL_PROMISE"),iA=oi("CHANNEL_END"),oA=oi("IO"),ck=oi("MATCH"),sA=oi("MULTICAST"),aA=oi("SAGA_ACTION"),Y8=oi("SELF_CANCELLATION"),K8=oi("TASK"),Sa=oi("TASK_CANCEL"),lA=oi("TERMINATE"),J8=oi("LOCATION"),uA=function(e){return e==null},Jd=function(e){return e!=null},Er=function(e){return typeof e=="function"},Vw=function(e){return typeof e=="string"},ko=Array.isArray,dp=function(e){return e&&Er(e.then)},Uw=function(e){return e&&Er(e.next)&&Er(e.throw)},dk=function e(n){return n&&(Vw(n)||dA(n)||Er(n)||ko(n)&&n.every(e))},Ww=function(e){return e&&Er(e.take)&&Er(e.close)},cA=function(e){return Er(e)&&e.hasOwnProperty("toString")},dA=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},Q8=function(e){return Ww(e)&&e[sA]},e7=function(e){return function(){return e}},t7=e7(!0),cr=function(){},hA=function(e){return e},Gw=function(e,n){Ce(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(t){e[t]=n[t]})},n7=function(e,n){var t;return(t=[]).concat.apply(t,n.map(e))};function hp(e,n){var t=e.indexOf(n);t>=0&&e.splice(t,1)}function r7(e){var n=!1;return function(){n||(n=!0,e())}}var i7=function(e){throw e},o7=function(e){return{value:e,done:!0}};function ay(e,n,t){n===void 0&&(n=i7),t===void 0&&(t="iterator");var r={meta:{name:t},next:e,throw:n,return:o7,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function s7(e,n){var t=n.sagaStack;console.error(e),console.error(t)}var pA=function(e){return Array.apply(null,new Array(e))},a7=function(e){return function(n){return e(Object.defineProperty(n,aA,{value:!0}))}},fA=function(e){return e===lA},mA=function(e){return e===Sa},gA=function(e){return fA(e)||mA(e)};function vA(e,n){var t=Object.keys(e),r=t.length,i=0,a,h=ko(e)?pA(r):{},c={};function p(){i===r&&(a=!0,n(h))}return t.forEach(function(m){var g=function(b,S){a||(S||gA(b)?(n.cancel(),n(b,S)):(h[m]=b,i++,p()))};g.cancel=cr,c[m]=g}),n.cancel=function(){a||(a=!0,t.forEach(function(m){return c[m].cancel()}))},c}function qw(e){return{name:e.name||"anonymous",location:yA(e)}}function yA(e){return e[J8]}var l7="Channel's Buffer overflow!",u7=1,c7=3,wA=4;function d7(e,n){e===void 0&&(e=10);var t=new Array(e),r=0,i=0,a=0,h=function(m){t[i]=m,i=(i+1)%e,r++},c=function(){if(r!=0){var m=t[a];return t[a]=null,r--,a=(a+1)%e,m}},p=function(){for(var m=[];r;)m.push(c());return m};return{isEmpty:function(){return r==0},put:function(m){if(r<e)h(m);else{var g;switch(n){case u7:throw new Error(l7);case c7:t[i]=m,i=(i+1)%e,a=i;break;case wA:g=2*e,t=p(),r=t.length,i=t.length,a=0,t.length=g,e=g,h(m);break}}},take:c,flush:p}}var h7=function(e){return d7(e,wA)},Qd="TAKE",xA="PUT",bA="ALL",p7="RACE",f7="CALL",m7="CPS",SA="FORK",g7="JOIN",v7="CANCEL",EA="SELECT",y7="ACTION_CHANNEL",w7="CANCELLED",x7="FLUSH",b7="GET_CONTEXT",S7="SET_CONTEXT",ss=function(e,n){var t;return t={},t[oA]=!0,t.combinator=!1,t.type=e,t.payload=n,t};function E7(e,n){if(e===void 0&&(e="*"),dk(e))return Jd(n)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),ss(Qd,{pattern:e});if(Q8(e)&&Jd(n)&&dk(n))return ss(Qd,{channel:e,pattern:n});if(Ww(e))return Jd(n)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),ss(Qd,{channel:e})}function T7(e,n){return uA(n)&&(n=e,e=void 0),ss(xA,{channel:e,action:n})}function C7(e){var n=ss(bA,e);return n.combinator=!0,n}function P7(e,n){var t=null,r;return Er(e)?r=e:(ko(e)?(t=e[0],r=e[1]):(t=e.context,r=e.fn),t&&Vw(r)&&Er(t[r])&&(r=t[r])),{context:t,fn:r,args:n}}function TA(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return ss(SA,P7(e,t))}function $w(e){e===void 0&&(e=hA);for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return ss(EA,{selector:e,args:t})}function k7(){var e={};return e.promise=new Promise(function(n,t){e.resolve=n,e.reject=t}),e}var CA=[],pp=0;function _7(e){try{Zw(),e()}finally{_A()}}function PA(e){CA.push(e),pp||(Zw(),RA())}function kA(e){try{return Zw(),e()}finally{RA()}}function Zw(){pp++}function _A(){pp--}function RA(){_A();for(var e;!pp&&(e=CA.shift())!==void 0;)_7(e)}var R7=function(e){return function(n){return e.some(function(t){return Xw(t)(n)})}},O7=function(e){return function(n){return e(n)}},hk=function(e){return function(n){return n.type===String(e)}},A7=function(e){return function(n){return n.type===e}},OA=function(){return t7};function Xw(e){var n=e==="*"?OA:Vw(e)?hk:ko(e)?R7:cA(e)?hk:Er(e)?O7:dA(e)?A7:null;if(n===null)throw new Error("invalid pattern: "+e);return n(e)}var du={type:iA},Yw=function(e){return e&&e.type===iA};function D7(e){e===void 0&&(e=h7());var n=!1,t=[];function r(c){if(!n){if(t.length===0)return e.put(c);var p=t.shift();p(c)}}function i(c){n&&e.isEmpty()?c(du):e.isEmpty()?(t.push(c),c.cancel=function(){hp(t,c)}):c(e.take())}function a(c){if(n&&e.isEmpty()){c(du);return}c(e.flush())}function h(){if(!n){n=!0;var c=t;t=[];for(var p=0,m=c.length;p<m;p++){var g=c[p];g(du)}}}return{take:i,put:r,flush:a,close:h}}function M7(){var e,n=!1,t=[],r=t,i=function(){r===t&&(r=t.slice())},a=function(){n=!0;var h=t=r;r=[],h.forEach(function(c){c(du)})};return e={},e[sA]=!0,e.put=function(h){if(!n){if(Yw(h)){a();return}for(var c=t=r,p=0,m=c.length;p<m;p++){var g=c[p];g[ck](h)&&(g.cancel(),g(h))}}},e.take=function(h,c){if(c===void 0&&(c=OA),n){h(du);return}h[ck]=c,i(),r.push(h),h.cancel=r7(function(){i(),hp(r,h)})},e.close=a,e}function AA(){var e=M7(),n=e.put;return e.put=function(t){if(t[aA]){n(t);return}PA(function(){n(t)})},e}var Zo=0,Di=1,eh=2,DA=3;function Kw(e,n){var t=e[X8];Er(t)&&(n.cancel=t),e.then(n,function(r){n(r,!0)})}var $u=0,MA=function(){return++$u},Xn;function I7(e,n){return e.isSagaIterator?{name:e.meta.name}:qw(n)}function L7(e){var n=e.context,t=e.fn,r=e.args;try{var i=t.apply(n,r);if(Uw(i))return i;var a=!1,h=function(c){return a?{value:c,done:!0}:(a=!0,{value:i,done:!dp(i)})};return ay(h)}catch(c){return ay(function(){throw c})}}function j7(e,n,t){var r=n.channel,i=n.action,a=n.resolve;PA(function(){var h;try{h=(r?r.put:e.dispatch)(i)}catch(c){t(c,!0);return}a&&dp(h)?Kw(h,t):t(h)})}function N7(e,n,t){var r=n.channel,i=r===void 0?e.channel:r,a=n.pattern,h=n.maybe,c=function(p){if(p instanceof Error){t(p,!0);return}if(Yw(p)&&!h){t(lA);return}t(p)};try{i.take(c,Jd(a)?Xw(a):null)}catch(p){t(p,!0);return}t.cancel=c.cancel}function F7(e,n,t,r){var i=n.context,a=n.fn,h=n.args,c=r.task;try{var p=a.apply(i,h);if(dp(p)){Kw(p,t);return}if(Uw(p)){fp(e,p,c.context,$u,qw(a),!1,t);return}t(p)}catch(m){t(m,!0)}}function B7(e,n,t){var r=n.context,i=n.fn,a=n.args;try{var h=function(c,p){uA(c)?t(p):t(c,!0)};i.apply(r,a.concat(h)),h.cancel&&(t.cancel=h.cancel)}catch(c){t(c,!0)}}function H7(e,n,t,r){var i=n.context,a=n.fn,h=n.args,c=n.detached,p=r.task,m=L7({context:i,fn:a,args:h}),g=I7(m,a);kA(function(){var b=fp(e,m,p.context,$u,g,c,void 0);c?t(b):b.isRunning()?(p.queue.addTask(b),t(b)):b.isAborted()?p.queue.abort(b.error()):t(b)})}function z7(e,n,t,r){var i=r.task,a=function(c,p){if(c.isRunning()){var m={task:i,cb:p};p.cancel=function(){c.isRunning()&&hp(c.joiners,m)},c.joiners.push(m)}else c.isAborted()?p(c.error(),!0):p(c.result())};if(ko(n)){if(n.length===0){t([]);return}var h=vA(n,t);n.forEach(function(c,p){a(c,h[p])})}else a(n,t)}function _g(e){e.isRunning()&&e.cancel()}function V7(e,n,t,r){var i=r.task;n===Y8?_g(i):ko(n)?n.forEach(_g):_g(n),t()}function U7(e,n,t,r){var i=r.digestEffect,a=$u,h=Object.keys(n);if(h.length===0){t(ko(n)?[]:{});return}var c=vA(n,t);h.forEach(function(p){i(n[p],a,c[p],p)})}function W7(e,n,t,r){var i=r.digestEffect,a=$u,h=Object.keys(n),c=ko(n)?pA(h.length):{},p={},m=!1;h.forEach(function(g){var b=function(S,T){m||(T||gA(S)?(t.cancel(),t(S,T)):(t.cancel(),m=!0,c[g]=S,t(c)))};b.cancel=cr,p[g]=b}),t.cancel=function(){m||(m=!0,h.forEach(function(g){return p[g].cancel()}))},h.forEach(function(g){m||i(n[g],a,p[g],g)})}function G7(e,n,t){var r=n.selector,i=n.args;try{var a=r.apply(void 0,[e.getState()].concat(i));t(a)}catch(h){t(h,!0)}}function q7(e,n,t){var r=n.pattern,i=n.buffer,a=D7(i),h=Xw(r),c=function m(g){Yw(g)||e.channel.take(m,h),a.put(g)},p=a.close;a.close=function(){c.cancel(),p()},e.channel.take(c,h),t(a)}function $7(e,n,t,r){var i=r.task;t(i.isCancelled())}function Z7(e,n,t){n.flush(t)}function X7(e,n,t,r){var i=r.task;t(i.context[n])}function Y7(e,n,t,r){var i=r.task;Gw(i.context,n),t()}var K7=(Xn={},Xn[Qd]=N7,Xn[xA]=j7,Xn[bA]=U7,Xn[p7]=W7,Xn[f7]=F7,Xn[m7]=B7,Xn[SA]=H7,Xn[g7]=z7,Xn[v7]=V7,Xn[EA]=G7,Xn[y7]=q7,Xn[w7]=$7,Xn[x7]=Z7,Xn[b7]=X7,Xn[S7]=Y7,Xn);function J7(e,n,t){var r=[],i,a=!1;p(e);var h=function(){return r};function c(g){n(),m(),t(g,!0)}function p(g){r.push(g),g.cont=function(b,S){a||(hp(r,g),g.cont=cr,S?c(b):(g===e&&(i=b),r.length||(a=!0,t(i))))}}function m(){a||(a=!0,r.forEach(function(g){g.cont=cr,g.cancel()}),r=[])}return{addTask:p,cancelAll:m,abort:c,getTasks:h}}function IA(e,n){return e+"?"+n}function Q7(e){var n=yA(e);if(n){var t=n.code,r=n.fileName,i=n.lineNumber,a=t+"  "+IA(r,i);return a}return""}function pk(e){var n=e.name,t=e.location;return t?n+"  "+IA(t.fileName,t.lineNumber):n}function eq(e){var n=n7(function(t){return t.cancelledTasks},e);return n.length?["Tasks cancelled due to error:"].concat(n).join(`
`):""}var Jw=null,hu=[],tq=function(e){e.crashedEffect=Jw,hu.push(e)},LA=function(){Jw=null,hu.length=0},nq=function(e){Jw=e},rq=function(){var e=hu[0],n=hu.slice(1),t=e.crashedEffect?Q7(e.crashedEffect):null,r="The above error occurred in task "+pk(e.meta)+(t?` 
 when executing effect `+t:"");return[r].concat(n.map(function(i){return"    created by "+pk(i.meta)}),[eq(hu)]).join(`
`)};function iq(e,n,t,r,i,a,h){var c;h===void 0&&(h=cr);var p=Zo,m,g,b=null,S=[],T=Object.create(t),_=J7(n,function(){S.push.apply(S,_.getTasks().map(function(W){return W.meta.name}))},C);function k(){p===Zo&&(p=Di,_.cancelAll(),C(Sa,!1))}function C(W,Z){if(!Z)W===Sa?p=Di:p!==Di&&(p=DA),m=W,b&&b.resolve(W);else{if(p=eh,tq({meta:i,cancelledTasks:S}),N.isRoot){var H=rq();LA(),e.onError(W,{sagaStack:H})}g=W,b&&b.reject(W)}N.cont(W,Z),N.joiners.forEach(function(ie){ie.cb(W,Z)}),N.joiners=null}function P(W){Gw(T,W)}function A(){return b||(b=k7(),p===eh?b.reject(g):p!==Zo&&b.resolve(m)),b.promise}var N=(c={},c[K8]=!0,c.id=r,c.meta=i,c.isRoot=a,c.context=T,c.joiners=[],c.queue=_,c.cancel=k,c.cont=h,c.end=C,c.setContext=P,c.toPromise=A,c.isRunning=function(){return p===Zo},c.isCancelled=function(){return p===Di||p===Zo&&n.status===Di},c.isAborted=function(){return p===eh},c.result=function(){return m},c.error=function(){return g},c);return N}function fp(e,n,t,r,i,a,h){var c=e.finalizeRunEffect(T);S.cancel=cr;var p={meta:i,cancel:b,status:Zo},m=iq(e,p,t,r,i,a,h),g={task:m,digestEffect:_};function b(){p.status===Zo&&(p.status=Di,S(Sa))}return h&&(h.cancel=m.cancel),S(),m;function S(k,C){try{var P;C?(P=n.throw(k),LA()):mA(k)?(p.status=Di,S.cancel(),P=Er(n.return)?n.return(Sa):{done:!0,value:Sa}):fA(k)?P=Er(n.return)?n.return():{done:!0}:P=n.next(k),P.done?(p.status!==Di&&(p.status=DA),p.cont(P.value)):_(P.value,r,S)}catch(A){if(p.status===Di)throw A;p.status=eh,p.cont(A,!0)}}function T(k,C,P){if(dp(k))Kw(k,P);else if(Uw(k))fp(e,k,m.context,C,i,!1,P);else if(k&&k[oA]){var A=K7[k.type];A(e,k.payload,P,g)}else P(k)}function _(k,C,P,A){A===void 0&&(A="");var N=MA();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:N,parentEffectId:C,label:A,effect:k});var W;function Z(H,ie){W||(W=!0,P.cancel=cr,e.sagaMonitor&&(ie?e.sagaMonitor.effectRejected(N,H):e.sagaMonitor.effectResolved(N,H)),ie&&nq(k),P(H,ie))}Z.cancel=cr,P.cancel=function(){W||(W=!0,Z.cancel(),Z.cancel=cr,e.sagaMonitor&&e.sagaMonitor.effectCancelled(N))},c(k,N,Z)}}function oq(e,n){for(var t=e.channel,r=t===void 0?AA():t,i=e.dispatch,a=e.getState,h=e.context,c=h===void 0?{}:h,p=e.sagaMonitor,m=e.effectMiddlewares,g=e.onError,b=g===void 0?s7:g,S=arguments.length,T=new Array(S>2?S-2:0),_=2;_<S;_++)T[_-2]=arguments[_];var k=n.apply(void 0,T),C=MA();p&&(p.rootSagaStarted=p.rootSagaStarted||cr,p.effectTriggered=p.effectTriggered||cr,p.effectResolved=p.effectResolved||cr,p.effectRejected=p.effectRejected||cr,p.effectCancelled=p.effectCancelled||cr,p.actionDispatched=p.actionDispatched||cr,p.rootSagaStarted({effectId:C,saga:n,args:T}));var P;if(m){var A=rA.apply(void 0,m);P=function(W){return function(Z,H,ie){var ne=function(ae){return W(ae,H,ie)};return A(ne)(Z)}}}else P=hA;var N={channel:r,dispatch:a7(i),getState:a,sagaMonitor:p,onError:b,finalizeRunEffect:P};return kA(function(){var W=fp(N,k,c,C,qw(n),!0,void 0);return p&&p.effectResolved(C,W),W})}function sq(e){var n={},t=n.context,r=t===void 0?{}:t,i=n.channel,a=i===void 0?AA():i,h=n.sagaMonitor,c=ms(n,["context","channel","sagaMonitor"]),p;function m(g){var b=g.getState,S=g.dispatch;return p=oq.bind(null,Ce({},c,{context:r,channel:a,dispatch:S,getState:b,sagaMonitor:h})),function(T){return function(_){h&&h.actionDispatched&&h.actionDispatched(_);var k=T(_);return a.put(_),k}}}return m.run=function(){return p.apply(void 0,arguments)},m.setContext=function(g){Gw(r,g)},m}var fk=function(e){return{done:!0,value:e}},Rg={};function aq(e){return Ww(e)?"channel":cA(e)?String(e):Er(e)?e.name:String(e)}function lq(e,n,t){var r,i,a,h=n;function c(p,m){if(h===Rg)return fk(p);if(m&&!i)throw h=Rg,m;r&&r(p);var g=m?e[i](m):e[h]();return h=g.nextState,a=g.effect,r=g.stateUpdater,i=g.errorState,h===Rg?fk(p):a}return ay(c,function(p){return c(null,p)},t)}function uq(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var a={done:!1,value:E7(e)},h=function(m){return{done:!1,value:TA.apply(void 0,[n].concat(r,[m]))}},c,p=function(m){return c=m};return lq({q1:function(){return{nextState:"q2",effect:a,stateUpdater:p}},q2:function(){return{nextState:"q1",effect:h(c)}}},"q1","takeEvery("+aq(e)+", "+n.name+")")}function cq(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];return TA.apply(void 0,[uq,e,n].concat(r))}const jA={};jA.setFixedFrameMode=function(e,n){return{...e,fixedFrameMode:n}};const Qw={},dq="https://github.com/cu-mkp/editioncrafter-project/text-partial-resource.md";Qw.loadDocument=function(e,n){const t=vq(n,e.transcriptionTypes),{folioIndex:r,folioByName:i}=hq(t);return{...e,loaded:!0,folios:t,folioIndex:r,folioByName:i}};Qw.loadFolio=function(e,n){const t=e.folioIndex[n.id],r=e.folios.indexOf(t);return e.folios[r]=n,e.folioIndex[n.id]=n,e.folioByName[n.name]=n,{...e}};function hq(e){const n={},t={};for(let r=0;r<e.length;r++){const i=e[r];n[i.id]=i,t[i.name]=i}return{folioIndex:n,folioByName:t}}function sr(e){throw new Error(`IIIF manifest parser error: ${e}`)}function pq(e){console.warn(`IIIF manifest parser warning: ${e}`)}function fq(e){for(const n of e.items){n.type!=="AnnotationPage"&&sr(`Expected AnnotationPage in items property of ${e.id}`),n.items||sr(`Expected items property in AnnotationPage ${n.id}`);for(const t of n.items)if(t.type!=="Annotation"&&sr(`Expected Annotation in items property of ${n.id}`),t.motivation==="painting")return t.body||sr(`Expected body property in Annotation ${t.id}`),t.body.id?t.body.service?{bodyId:t.body.id,imageURL:`${t.body.id}/info.json`,imageType:"iiif"}:{bodyId:t.body.id,imageURL:t.body.id,imageType:"image"}:null}return sr(`Unable to find painting Annotation for canvas: ${e.id}`),null}function mq(e){return e.label?e.label.none[0]:(pq(`${e.id} does not have a label property.`),"")}function gq(e,n){const t={};if(e.annotations){for(const r of e.annotations)if(r.type==="AnnotationPage"){r.items||sr(`Expected items property in AnnotationPage ${r.id}`);for(const i of r.items)if(i.type!=="Annotation"&&sr(`Expected Annotation in items property of ${r.id}`),i.motivation==="supplementing"){i.body||sr(`Expected body property in Annotation ${i.id}`);const{body:a}=i;if(a.profile===dq&&a.type==="TextPartial"){a.id||sr(`Expected id property in TextPartial in ${i.id}`),a.format||sr(`Expected format property in TextPartial in ${i.id}`);const{id:h,format:c}=a,p=h.split("/");p.length<5&&sr(`TextPartial id property is in the wrong format: ${h}`);const m=p[p.length-2];n[m]&&(t[m]||(t[m]={}),c==="text/html"&&(t[m].htmlURL=h),c==="text/xml"&&(t[m].xmlURL=h))}}}}return t}const Od=130;function vq(e,n){if(e.type==="variorum"){let t=[];return Object.keys(e.documentData).forEach(r=>{t=t.concat(mk(e.documentData[r],n[r],r))}),t}return mk(e,n)}function mk(e,n,t){const r=[];(!e["@context"]||!e["@context"].includes("http://iiif.io/api/presentation/3/context.json"))&&sr("Expected root object to have a @context containing: http://iiif.io/api/presentation/3/context.json"),e.type!=="Manifest"&&sr("Expected root object of type 'Manifest'."),e.items||sr("Expected manifest to have an items property.");const i=e.items;for(let a=0;a<i.length;a++){const h=i[a];h.type!=="Canvas"&&sr(`Expected items[${a}] to be of type 'Canvas'.`),h.id||sr(`Expected items[${a}] to have an id property.`);const c=fq(h);if(c){const p=h.id.substr(h.id.lastIndexOf("/")+1),m=mq(h),{bodyId:g,imageURL:b,imageType:S}=c,T=gq(h,n),_=h.width/h.height;let k=[];_>1?k=[Od,Math.round(Od/_)]:k=[Math.round(Od*_),Od];const C=S==="iiif"?`${g}/full/${k.join(",")}/0/default.jpg`:b,P={id:t?`${t}_${p}`:p,doc_id:t||e.id,name:m,pageNumber:a,image_zoom_url:b,image_thumbnail_url:C,annotationURLs:T,annotations:h.annotations?h.annotations.filter(A=>A.motivation==="tagging"):[]};r.push(P)}}return r}const NA={};NA.loadGlossary=function(e,n){return{...e,loaded:!0,glossary:n}};const yq={fixedFrameMode:!1};function wq(e,n,t,r=!1,i=null,a=!1){return{documentName:n,derivativeNames:i,manifestURL:e,transcriptionTypes:t,variorum:r,threePanel:a,folios:[],loaded:!1,folioIndex:{},folioByName:{}}}function xq(e){return{glossary:{},loaded:!1,URL:e}}function bq(e){const{documentName:n,documentInfo:t,glossaryURL:r,threePanel:i=!1}=e,a=t&&Object.keys(t).length>1,h={},c={},p={};a&&Object.keys(e.documentInfo).forEach(S=>{h[S]=e.documentInfo[S].transcriptionTypes,c[S]=e.documentInfo[S].iiifManifest,p[S]=e.documentInfo[S].documentName});const m=a?h:e.transcriptionTypes,g=a?c:e.iiifManifest,b=a&&p;return $8({diplomatic:Ag("DiplomaticActions",jA,yq),document:Ag("DocumentActions",Qw,wq(g,n,m,a,b,i)),glossary:Ag("GlossaryActions",NA,xq(r))})}var FA={exports:{}};(function(e){//! openseadragon 4.1.0
//! Built on 2023-05-25
//! Git commit: v4.1.0-0-8849681
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function n(t){return new n.Viewer(t)}(function(t){t.version={versionStr:"4.1.0",major:parseInt("4",10),minor:parseInt("1",10),revision:parseInt("0",10)};var r={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},i=Object.prototype.toString,a=Object.prototype.hasOwnProperty;t.isFunction=function(h){return t.type(h)==="function"},t.isArray=Array.isArray||function(h){return t.type(h)==="array"},t.isWindow=function(h){return h&&typeof h=="object"&&"setInterval"in h},t.type=function(h){return h==null?String(h):r[i.call(h)]||"object"},t.isPlainObject=function(h){if(!h||n.type(h)!=="object"||h.nodeType||t.isWindow(h)||h.constructor&&!a.call(h,"constructor")&&!a.call(h.constructor.prototype,"isPrototypeOf"))return!1;var c;for(var p in h)c=p;return c===void 0||a.call(h,c)},t.isEmptyObject=function(h){for(var c in h)return!1;return!0},t.freezeObject=function(h){return Object.freeze?t.freezeObject=Object.freeze:t.freezeObject=function(c){return c},t.freezeObject(h)},t.supportsCanvas=function(){var h=document.createElement("canvas");return!!(t.isFunction(h.getContext)&&h.getContext("2d"))}(),t.isCanvasTainted=function(h){var c=!1;try{h.getContext("2d").getImageData(0,0,1,1)}catch{c=!0}return c},t.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),t.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),t.supportsEventListenerOptions=function(){var h=0;if(t.supportsAddEventListener)try{var c={get capture(){return h++,!1},get once(){return h++,!1},get passive(){return h++,!1}};window.addEventListener("test",null,c),window.removeEventListener("test",null,c)}catch{h=0}return h>=3}(),t.getCurrentPixelDensityRatio=function(){if(t.supportsCanvas){var h=document.createElement("canvas").getContext("2d"),c=window.devicePixelRatio||1,p=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return Math.max(c,1)/p}else return 1},t.pixelDensityRatio=t.getCurrentPixelDensityRatio()})(n),function(t){t.extend=function(){var p,m,g,b,S,T,_=arguments[0]||{},k=arguments.length,C=!1,P=1;for(typeof _=="boolean"&&(C=_,_=arguments[1]||{},P=2),typeof _!="object"&&!n.isFunction(_)&&(_={}),k===P&&(_=this,--P);P<k;P++)if(p=arguments[P],p!==null||p!==void 0)for(m in p){var A=Object.getOwnPropertyDescriptor(p,m);if(A!==void 0){if(A.get||A.set){Object.defineProperty(_,m,A);continue}b=A.value}else{t.console.warn('Could not copy inherited property "'+m+'".');continue}_!==b&&(C&&b&&(n.isPlainObject(b)||(S=n.isArray(b)))?(g=_[m],S?(S=!1,T=g&&n.isArray(g)?g:[]):T=g&&n.isPlainObject(g)?g:{},_[m]=n.extend(C,T,b)):b!==void 0&&(_[m]=b))}return _};var r=function(){if(typeof navigator!="object")return!1;var p=navigator.userAgent;return typeof p!="string"?!1:p.indexOf("iPhone")!==-1||p.indexOf("iPad")!==-1||p.indexOf("iPod")!==-1};t.extend(t,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:r(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(p,m){return function(){var g=arguments;return g===void 0&&(g=[]),m.apply(p,g)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(p){return t._viewers.get(this.getElement(p))},getElement:function(p){return typeof p=="string"&&(p=document.getElementById(p)),p},getElementPosition:function(p){var m=new t.Point,g,b;for(p=t.getElement(p),g=t.getElementStyle(p).position==="fixed",b=c(p,g);b;)m.x+=p.offsetLeft,m.y+=p.offsetTop,g&&(m=m.plus(t.getPageScroll())),p=b,g=t.getElementStyle(p).position==="fixed",b=c(p,g);return m},getElementOffset:function(p){p=t.getElement(p);var m=p&&p.ownerDocument,g,b,S={top:0,left:0};return m?(g=m.documentElement,typeof p.getBoundingClientRect<"u"&&(S=p.getBoundingClientRect()),b=m===m.window?m:m.nodeType===9?m.defaultView||m.parentWindow:!1,new t.Point(S.left+(b.pageXOffset||g.scrollLeft)-(g.clientLeft||0),S.top+(b.pageYOffset||g.scrollTop)-(g.clientTop||0))):new t.Point},getElementSize:function(p){return p=t.getElement(p),new t.Point(p.clientWidth,p.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(p){return p=t.getElement(p),p.currentStyle}:function(p){return p=t.getElement(p),window.getComputedStyle(p,"")},getCssPropertyWithVendorPrefix:function(p){var m={};return t.getCssPropertyWithVendorPrefix=function(g){if(m[g]!==void 0)return m[g];var b=document.createElement("div").style,S=null;if(b[g]!==void 0)S=g;else for(var T=["Webkit","Moz","MS","O","webkit","moz","ms","o"],_=t.capitalizeFirstLetter(g),k=0;k<T.length;k++){var C=T[k]+_;if(b[C]!==void 0){S=C;break}}return m[g]=S,S},t.getCssPropertyWithVendorPrefix(p)},capitalizeFirstLetter:function(p){return p.charAt(0).toUpperCase()+p.slice(1)},positiveModulo:function(p,m){var g=p%m;return g<0&&(g+=m),g},pointInElement:function(p,m){p=t.getElement(p);var g=t.getElementOffset(p),b=t.getElementSize(p);return m.x>=g.x&&m.x<g.x+b.x&&m.y<g.y+b.y&&m.y>=g.y},getMousePosition:function(p){if(typeof p.pageX=="number")t.getMousePosition=function(m){var g=new t.Point;return g.x=m.pageX,g.y=m.pageY,g};else if(typeof p.clientX=="number")t.getMousePosition=function(m){var g=new t.Point;return g.x=m.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,g.y=m.clientY+document.body.scrollTop+document.documentElement.scrollTop,g};else throw new Error("Unknown event mouse position, no known technique.");return t.getMousePosition(p)},getPageScroll:function(){var p=document.documentElement||{},m=document.body||{};if(typeof window.pageXOffset=="number")t.getPageScroll=function(){return new t.Point(window.pageXOffset,window.pageYOffset)};else if(m.scrollLeft||m.scrollTop)t.getPageScroll=function(){return new t.Point(document.body.scrollLeft,document.body.scrollTop)};else if(p.scrollLeft||p.scrollTop)t.getPageScroll=function(){return new t.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new t.Point(0,0);return t.getPageScroll()},setPageScroll:function(p){if(typeof window.scrollTo<"u")t.setPageScroll=function(b){window.scrollTo(b.x,b.y)};else{var m=t.getPageScroll();if(m.x===p.x&&m.y===p.y)return;document.body.scrollLeft=p.x,document.body.scrollTop=p.y;var g=t.getPageScroll();if(g.x!==m.x&&g.y!==m.y){t.setPageScroll=function(b){document.body.scrollLeft=b.x,document.body.scrollTop=b.y};return}if(document.documentElement.scrollLeft=p.x,document.documentElement.scrollTop=p.y,g=t.getPageScroll(),g.x!==m.x&&g.y!==m.y){t.setPageScroll=function(b){document.documentElement.scrollLeft=b.x,document.documentElement.scrollTop=b.y};return}t.setPageScroll=function(b){}}t.setPageScroll(p)},getWindowSize:function(){var p=document.documentElement||{},m=document.body||{};if(typeof window.innerWidth=="number")t.getWindowSize=function(){return new t.Point(window.innerWidth,window.innerHeight)};else if(p.clientWidth||p.clientHeight)t.getWindowSize=function(){return new t.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(m.clientWidth||m.clientHeight)t.getWindowSize=function(){return new t.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return t.getWindowSize()},makeCenteredNode:function(p){p=t.getElement(p);var m=[t.makeNeutralElement("div"),t.makeNeutralElement("div"),t.makeNeutralElement("div")];return t.extend(m[0].style,{display:"table",height:"100%",width:"100%"}),t.extend(m[1].style,{display:"table-row"}),t.extend(m[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),m[0].appendChild(m[1]),m[1].appendChild(m[2]),m[2].appendChild(p),m[0]},makeNeutralElement:function(p){var m=document.createElement(p),g=m.style;return g.background="transparent none",g.border="none",g.margin="0px",g.padding="0px",g.position="static",m},now:function(){return Date.now?t.now=Date.now:t.now=function(){return new Date().getTime()},t.now()},makeTransparentImage:function(p){var m=t.makeNeutralElement("img");return m.src=p,m},setElementOpacity:function(p,m,g){var b,S;p=t.getElement(p),g&&!t.Browser.alpha&&(m=Math.round(m)),t.Browser.opacity?p.style.opacity=m<1?m:"":m<1?(b=Math.round(100*m),S="alpha(opacity="+b+")",p.style.filter=S):p.style.filter=""},setElementTouchActionNone:function(p){p=t.getElement(p),typeof p.style.touchAction<"u"?p.style.touchAction="none":typeof p.style.msTouchAction<"u"&&(p.style.msTouchAction="none")},setElementPointerEvents:function(p,m){p=t.getElement(p),typeof p.style<"u"&&typeof p.style.pointerEvents<"u"&&(p.style.pointerEvents=m)},setElementPointerEventsNone:function(p){t.setElementPointerEvents(p,"none")},addClass:function(p,m){p=t.getElement(p),p.className?(" "+p.className+" ").indexOf(" "+m+" ")===-1&&(p.className+=" "+m):p.className=m},indexOf:function(p,m,g){return Array.prototype.indexOf?this.indexOf=function(b,S,T){return b.indexOf(S,T)}:this.indexOf=function(b,S,T){var _,k=T||0,C;if(!b)throw new TypeError;if(C=b.length,C===0||k>=C)return-1;for(k<0&&(k=C-Math.abs(k)),_=k;_<C;_++)if(b[_]===S)return _;return-1},this.indexOf(p,m,g)},removeClass:function(p,m){var g,b=[],S;for(p=t.getElement(p),g=p.className.split(/\s+/),S=0;S<g.length;S++)g[S]&&g[S]!==m&&b.push(g[S]);p.className=b.join(" ")},normalizeEventListenerOptions:function(p){var m;return typeof p<"u"?typeof p=="boolean"?m=t.supportsEventListenerOptions?{capture:p}:p:m=t.supportsEventListenerOptions?p:typeof p.capture<"u"?p.capture:!1:m=t.supportsEventListenerOptions?{capture:!1}:!1,m},addEvent:function(){if(t.supportsAddEventListener)return function(p,m,g,b){b=t.normalizeEventListenerOptions(b),p=t.getElement(p),p.addEventListener(m,g,b)};if(document.documentElement.attachEvent&&document.attachEvent)return function(p,m,g){p=t.getElement(p),p.attachEvent("on"+m,g)};throw new Error("No known event model.")}(),removeEvent:function(){if(t.supportsRemoveEventListener)return function(p,m,g,b){b=t.normalizeEventListenerOptions(b),p=t.getElement(p),p.removeEventListener(m,g,b)};if(document.documentElement.detachEvent&&document.detachEvent)return function(p,m,g){p=t.getElement(p),p.detachEvent("on"+m,g)};throw new Error("No known event model.")}(),cancelEvent:function(p){p.preventDefault()},eventIsCanceled:function(p){return p.defaultPrevented},stopEvent:function(p){p.stopPropagation()},createCallback:function(p,m){var g=[],b;for(b=2;b<arguments.length;b++)g.push(arguments[b]);return function(){var S=g.concat([]),T;for(T=0;T<arguments.length;T++)S.push(arguments[T]);return m.apply(p,S)}},getUrlParameter:function(p){var m=h[p];return m||null},getUrlProtocol:function(p){var m=p.match(/^([a-z]+:)\/\//i);return m===null?window.location.protocol:m[1].toLowerCase()},createAjaxRequest:function(p){var m;try{m=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{m=!1}if(m)window.XMLHttpRequest?t.createAjaxRequest=function(g){return g?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:t.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)t.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return t.createAjaxRequest(p)},makeAjaxRequest:function(p,m,g){var b,S,T,_;t.isPlainObject(p)&&(m=p.success,g=p.error,b=p.withCredentials,S=p.headers,T=p.responseType||null,_=p.postData||null,p=p.url);var k=t.getUrlProtocol(p),C=t.createAjaxRequest(k==="file:");if(!t.isFunction(m))throw new Error("makeAjaxRequest requires a success callback");C.onreadystatechange=function(){C.readyState===4&&(C.onreadystatechange=function(){},C.status>=200&&C.status<300||C.status===0&&k!=="http:"&&k!=="https:"?m(C):t.isFunction(g)?g(C):t.console.error("AJAX request returned %d: %s",C.status,p))};var P=_?"POST":"GET";try{if(C.open(P,p,!0),T&&(C.responseType=T),S)for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&S[A]&&C.setRequestHeader(A,S[A]);b&&(C.withCredentials=!0),C.send(_)}catch(N){t.console.error("%s while making AJAX request: %s",N.name,N.message),C.onreadystatechange=function(){},t.isFunction(g)&&g(C,N)}return C},jsonp:function(p){var m,g=p.url,b=document.head||document.getElementsByTagName("head")[0]||document.documentElement,S=p.callbackName||"openseadragon"+t.now(),T=window[S],_="$1"+S+"$2",k=p.param||"callback",C=p.callback;g=g.replace(/(=)\?(&|$)|\?\?/i,_),g+=(/\?/.test(g)?"&":"?")+k+"="+S,window[S]=function(P){if(T)window[S]=T;else try{delete window[S]}catch{}C&&t.isFunction(C)&&C(P)},m=document.createElement("script"),(p.async!==void 0||p.async!==!1)&&(m.async="async"),p.scriptCharset&&(m.charset=p.scriptCharset),m.src=g,m.onload=m.onreadystatechange=function(P,A){(A||!m.readyState||/loaded|complete/.test(m.readyState))&&(m.onload=m.onreadystatechange=null,b&&m.parentNode&&b.removeChild(m),m=void 0)},b.insertBefore(m,b.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(p){if(window.DOMParser)t.parseXml=function(m){var g=null,b;return b=new DOMParser,g=b.parseFromString(m,"text/xml"),g};else if(window.ActiveXObject)t.parseXml=function(m){var g=null;return g=new ActiveXObject("Microsoft.XMLDOM"),g.async=!1,g.loadXML(m),g};else throw new Error("Browser doesn't support XML DOM.");return t.parseXml(p)},parseJSON:function(p){return t.parseJSON=window.JSON.parse,t.parseJSON(p)},imageFormatSupported:function(p){return p=p||"",!!a[p.toLowerCase()]},setImageFormatsSupported:function(p){t.extend(a,p)}});var i=function(p){};t.console=window.console||{log:i,debug:i,info:i,warn:i,error:i,assert:i},t.Browser={vendor:t.BROWSERS.UNKNOWN,version:0,alpha:!0};var a={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},h={};(function(){var p=navigator.appVersion,m=navigator.userAgent,g;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(m.substring(m.indexOf("MSIE")+5,m.indexOf(";",m.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(m.indexOf("Edge")>=0?(t.Browser.vendor=t.BROWSERS.EDGE,t.Browser.version=parseFloat(m.substring(m.indexOf("Edge")+5))):m.indexOf("Edg")>=0?(t.Browser.vendor=t.BROWSERS.CHROMEEDGE,t.Browser.version=parseFloat(m.substring(m.indexOf("Edg")+4))):m.indexOf("Firefox")>=0?(t.Browser.vendor=t.BROWSERS.FIREFOX,t.Browser.version=parseFloat(m.substring(m.indexOf("Firefox")+8))):m.indexOf("Safari")>=0?(t.Browser.vendor=m.indexOf("Chrome")>=0?t.BROWSERS.CHROME:t.BROWSERS.SAFARI,t.Browser.version=parseFloat(m.substring(m.substring(0,m.indexOf("Safari")).lastIndexOf("/")+1,m.indexOf("Safari")))):(g=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),g.exec(m)!==null&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":t.Browser.vendor=t.BROWSERS.OPERA,t.Browser.version=parseFloat(p);break}var b=window.location.search.substring(1),S=b.split("&"),T,_,k;for(k=0;k<S.length;k++)if(T=S[k],_=T.indexOf("="),_>0){var C=T.substring(0,_),P=T.substring(_+1);try{h[C]=decodeURIComponent(P)}catch{t.console.error("Ignoring malformed URL parameter: %s=%s",C,P)}}t.Browser.alpha=!(t.Browser.vendor===t.BROWSERS.CHROME&&t.Browser.version<2),t.Browser.opacity=!0,t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<11&&t.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(p){var m=p.requestAnimationFrame||p.mozRequestAnimationFrame||p.webkitRequestAnimationFrame||p.msRequestAnimationFrame,g=p.cancelAnimationFrame||p.mozCancelAnimationFrame||p.webkitCancelAnimationFrame||p.msCancelAnimationFrame;if(m&&g)t.requestAnimationFrame=function(){return m.apply(p,arguments)},t.cancelAnimationFrame=function(){return g.apply(p,arguments)};else{var b=[],S=[],T=0,_;t.requestAnimationFrame=function(k){return b.push([++T,k]),_||(_=setInterval(function(){if(b.length){var C=t.now(),P=S;for(S=b,b=P;S.length;)S.shift()[1](C)}else clearInterval(_),_=void 0},1e3/50)),T},t.cancelAnimationFrame=function(k){var C,P;for(C=0,P=b.length;C<P;C+=1)if(b[C][0]===k){b.splice(C,1);return}for(C=0,P=S.length;C<P;C+=1)if(S[C][0]===k){S.splice(C,1);return}}}}(window);function c(p,m){return m&&p!==document.body?document.body:p.offsetParent}}(n),function(t,r){e.exports?e.exports=r():t.OpenSeadragon=r()}(zn,function(){return n}),function(t){var r={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.fullscreenElement},r.requestFullScreen=function(i){return i.requestFullscreen()},r.exitFullScreen=function(){document.exitFullscreen()},r.fullScreenEventName="fullscreenchange",r.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.msFullscreenElement},r.requestFullScreen=function(i){return i.msRequestFullscreen()},r.exitFullScreen=function(){document.msExitFullscreen()},r.fullScreenEventName="MSFullscreenChange",r.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.webkitFullscreenElement},r.requestFullScreen=function(i){return i.webkitRequestFullscreen()},r.exitFullScreen=function(){document.webkitExitFullscreen()},r.fullScreenEventName="webkitfullscreenchange",r.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},r.requestFullScreen=function(i){return i.webkitRequestFullScreen()},r.exitFullScreen=function(){document.webkitCancelFullScreen()},r.fullScreenEventName="webkitfullscreenchange",r.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.mozFullScreenElement},r.requestFullScreen=function(i){return i.mozRequestFullScreen()},r.exitFullScreen=function(){document.mozCancelFullScreen()},r.fullScreenEventName="mozfullscreenchange",r.fullScreenErrorEventName="mozfullscreenerror"),r.isFullScreen=function(){return r.getFullScreenElement()!==null},r.cancelFullScreen=function(){t.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),r.exitFullScreen()},t.extend(t,r)}(n),function(t){t.EventSource=function(){this.events={}},t.EventSource.prototype={addOnceHandler:function(r,i,a,h,c){var p=this;h=h||1;var m=0,g=function(b){return m++,m===h&&p.removeHandler(r,g),i(b)};this.addHandler(r,g,a,c)},addHandler:function(r,i,a,h){var c=this.events[r];if(c||(this.events[r]=c=[]),i&&t.isFunction(i)){var p=c.length,m={handler:i,userData:a||null,priority:h||0};for(c[p]=m;p>0&&c[p-1].priority<c[p].priority;)c[p]=c[p-1],c[p-1]=m,p--}},removeHandler:function(r,i){var a=this.events[r],h=[],c;if(a&&t.isArray(a)){for(c=0;c<a.length;c++)a[c].handler!==i&&h.push(a[c]);this.events[r]=h}},numberOfHandlers:function(r){var i=this.events[r];return i?i.length:0},removeAllHandlers:function(r){if(r)this.events[r]=[];else for(var i in this.events)this.events[i]=[]},getHandler:function(r){var i=this.events[r];return!i||!i.length?null:(i=i.length===1?[i[0]]:Array.apply(null,i),function(a,h){var c,p=i.length;for(c=0;c<p;c++)i[c]&&(h.eventSource=a,h.userData=i[c].userData,i[c].handler(h))})},raiseEvent:function(r,i){var a=this.getHandler(r);if(a)return a(this,i||{})}}}(n),function(t){var r={};t.MouseTracker=function(L){var j=arguments;t.isPlainObject(L)||(L={element:j[0],clickTimeThreshold:j[1],clickDistThreshold:j[2]}),this.hash=Math.random(),this.element=t.getElement(L.element),this.clickTimeThreshold=L.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=L.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=L.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=L.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=L.userData||null,this.stopDelay=L.stopDelay||50,this.preProcessEventHandler=L.preProcessEventHandler||null,this.contextMenuHandler=L.contextMenuHandler||null,this.enterHandler=L.enterHandler||null,this.leaveHandler=L.leaveHandler||null,this.exitHandler=L.exitHandler||null,this.overHandler=L.overHandler||null,this.outHandler=L.outHandler||null,this.pressHandler=L.pressHandler||null,this.nonPrimaryPressHandler=L.nonPrimaryPressHandler||null,this.releaseHandler=L.releaseHandler||null,this.nonPrimaryReleaseHandler=L.nonPrimaryReleaseHandler||null,this.moveHandler=L.moveHandler||null,this.scrollHandler=L.scrollHandler||null,this.clickHandler=L.clickHandler||null,this.dblClickHandler=L.dblClickHandler||null,this.dragHandler=L.dragHandler||null,this.dragEndHandler=L.dragEndHandler||null,this.pinchHandler=L.pinchHandler||null,this.stopHandler=L.stopHandler||null,this.keyDownHandler=L.keyDownHandler||null,this.keyUpHandler=L.keyUpHandler||null,this.keyHandler=L.keyHandler||null,this.focusHandler=L.focusHandler||null,this.blurHandler=L.blurHandler||null;var U=this;r[this.hash]={click:function(X){N(U,X)},dblclick:function(X){W(U,X)},keydown:function(X){Z(U,X)},keyup:function(X){H(U,X)},keypress:function(X){ie(U,X)},focus:function(X){ne(U,X)},blur:function(X){ae(U,X)},contextmenu:function(X){Se(U,X)},wheel:function(X){me(U,X)},mousewheel:function(X){fe(U,X)},DOMMouseScroll:function(X){fe(U,X)},MozMousePixelScroll:function(X){fe(U,X)},losecapture:function(X){Ae(U,X)},mouseenter:function(X){$(U,X)},mouseleave:function(X){Qe(U,X)},mouseover:function(X){et(U,X)},mouseout:function(X){ot(U,X)},mousedown:function(X){ct(U,X)},mouseup:function(X){yt(U,X)},mousemove:function(X){Ot(U,X)},touchstart:function(X){Le(U,X)},touchend:function(X){ve(U,X)},touchmove:function(X){de(U,X)},touchcancel:function(X){Ee(U,X)},gesturestart:function(X){be(U,X)},gesturechange:function(X){q(U,X)},gotpointercapture:function(X){ge(U,X)},lostpointercapture:function(X){De(U,X)},pointerenter:function(X){$(U,X)},pointerleave:function(X){Qe(U,X)},pointerover:function(X){et(U,X)},pointerout:function(X){ot(U,X)},pointerdown:function(X){ct(U,X)},pointerup:function(X){yt(U,X)},pointermove:function(X){Ot(U,X)},pointercancel:function(X){un(U,X)},pointerupcaptured:function(X){gt(U,X)},pointermovecaptured:function(X){Nt(U,X)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,t.MouseTracker.havePointerEvents&&t.setElementPointerEvents(this.element,"auto"),this.exitHandler&&t.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),L.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){p(this),this.element=null,r[this.hash]=null,delete r[this.hash]},isTracking:function(){return r[this.hash].tracking},setTracking:function(L){return L?c(this):p(this),this},getActivePointersListByType:function(L){var j=r[this.hash],U,X=j.activePointersLists.length,we;for(U=0;U<X;U++)if(j.activePointersLists[U].type===L)return j.activePointersLists[U];return we=new t.MouseTracker.GesturePointList(L),j.activePointersLists.push(we),we},getActivePointerCount:function(){var L=r[this.hash],j,U=L.activePointersLists.length,X=0;for(j=0;j<U;j++)X+=L.activePointersLists[j].getLength();return X},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var i=function(){try{return window.self!==window.top}catch{return!0}}();function a(L){try{return L.addEventListener&&L.removeEventListener}catch{return!1}}t.MouseTracker.gesturePointVelocityTracker=function(){var L=[],j=0,U=0,X=function(Xe,Ye){return Xe.hash.toString()+Ye.type+Ye.id.toString()},we=function(){var Xe,Ye=L.length,wn,Bt,ei=t.now(),Ka,sc,bs;for(Ka=ei-U,U=ei,Xe=0;Xe<Ye;Xe++)wn=L[Xe],Bt=wn.gPoint,Bt.direction=Math.atan2(Bt.currentPos.y-wn.lastPos.y,Bt.currentPos.x-wn.lastPos.x),sc=wn.lastPos.distanceTo(Bt.currentPos),wn.lastPos=Bt.currentPos,bs=1e3*sc/(Ka+1),Bt.speed=.75*bs+.25*Bt.speed},je=function(Xe,Ye){var wn=X(Xe,Ye);L.push({guid:wn,gPoint:Ye,lastPos:Ye.currentPos}),L.length===1&&(U=t.now(),j=window.setInterval(we,50))},lt=function(Xe,Ye){var wn=X(Xe,Ye),Bt,ei=L.length;for(Bt=0;Bt<ei;Bt++)if(L[Bt].guid===wn){L.splice(Bt,1),ei--,ei===0&&window.clearInterval(j);break}};return{addPoint:je,removePoint:lt}}(),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName=t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",t.MouseTracker.wheelEventName],t.MouseTracker.wheelEventName==="DOMMouseScroll"&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.havePointerCapture=function(){var L=document.createElement("div");return t.isFunction(L.setPointerCapture)&&t.isFunction(L.releasePointerCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(t.MouseTracker.havePointerEvents=!1,t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.havePointerCapture=function(){var L=document.createElement("div");return t.isFunction(L.setCapture)&&t.isFunction(L.releaseCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),t.MouseTracker.GesturePointList=function(L){this._gPoints=[],this.type=L,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(L){return this._gPoints.push(L)},removeById:function(L){var j,U=this._gPoints.length;for(j=0;j<U;j++)if(this._gPoints[j].id===L){this._gPoints.splice(j,1);break}return this._gPoints.length},getByIndex:function(L){return L<this._gPoints.length?this._gPoints[L]:null},getById:function(L){var j,U=this._gPoints.length;for(j=0;j<U;j++)if(this._gPoints[j].id===L)return this._gPoints[j];return null},getPrimary:function(L){var j,U=this._gPoints.length;for(j=0;j<U;j++)if(this._gPoints[j].isPrimary)return this._gPoints[j];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(t.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function h(L){var j=r[L.hash],U,X,we,je,lt,Xe=j.activePointersLists.length;for(U=0;U<Xe;U++)if(we=j.activePointersLists[U],we.getLength()>0){for(lt=[],je=we.asArray(),X=0;X<je.length;X++)lt.push(je[X]);for(X=0;X<lt.length;X++)jt(L,we,lt[X])}for(U=0;U<Xe;U++)j.activePointersLists.pop();j.sentDragEvent=!1}function c(L){var j=r[L.hash],U,X;if(!j.tracking){for(X=0;X<t.MouseTracker.subscribeEvents.length;X++)U=t.MouseTracker.subscribeEvents[X],t.addEvent(L.element,U,j[U],U===t.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);h(L),j.tracking=!0}}function p(L){var j=r[L.hash],U,X;if(j.tracking){for(X=0;X<t.MouseTracker.subscribeEvents.length;X++)U=t.MouseTracker.subscribeEvents[X],t.removeEvent(L.element,U,j[U],!1);h(L),j.tracking=!1}}function m(L,j){var U=r[L.hash];if(j==="pointerevent")return{upName:"pointerup",upHandler:U.pointerupcaptured,moveName:"pointermove",moveHandler:U.pointermovecaptured};if(j==="mouse")return{upName:"pointerup",upHandler:U.pointerupcaptured,moveName:"pointermove",moveHandler:U.pointermovecaptured};if(j==="touch")return{upName:"touchend",upHandler:U.touchendcaptured,moveName:"touchmove",moveHandler:U.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function g(L,j){var U;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents)try{L.element.setPointerCapture(j.id)}catch{t.console.warn("setPointerCapture() called on invalid pointer ID");return}else L.element.setCapture(!0);else U=m(L,t.MouseTracker.havePointerEvents?"pointerevent":j.type),i&&a(window.top)&&t.addEvent(window.top,U.upName,U.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,U.upName,U.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,U.moveName,U.moveHandler,!0);pe(L,j,!0)}function b(L,j){var U,X,we;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents){if(X=L.getActivePointersListByType(j.type),we=X.getById(j.id),!we||!we.captured)return;try{L.element.releasePointerCapture(j.id)}catch{}}else L.element.releaseCapture();else U=m(L,t.MouseTracker.havePointerEvents?"pointerevent":j.type),i&&a(window.top)&&t.removeEvent(window.top,U.upName,U.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,U.moveName,U.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,U.upName,U.upHandler,!0);pe(L,j,!1)}function S(L){return t.MouseTracker.havePointerEvents?L.pointerId:t.MouseTracker.mousePointerId}function T(L){return t.MouseTracker.havePointerEvents?L.pointerType||(t.Browser.vendor===t.BROWSERS.IE?"mouse":""):"mouse"}function _(L){return t.MouseTracker.havePointerEvents?L.isPrimary:!0}function k(L){return t.getMousePosition(L)}function C(L,j){return P(k(L),j)}function P(L,j){var U=t.getElementOffset(j);return L.minus(U)}function A(L,j){return new t.Point((L.x+j.x)/2,(L.y+j.y)/2)}function N(L,j){var U={originalEvent:j,eventType:"click",pointerType:"mouse",isEmulated:!1};Y(L,U),U.preventDefault&&!U.defaultPrevented&&t.cancelEvent(j),U.stopPropagation&&t.stopEvent(j)}function W(L,j){var U={originalEvent:j,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};Y(L,U),U.preventDefault&&!U.defaultPrevented&&t.cancelEvent(j),U.stopPropagation&&t.stopEvent(j)}function Z(L,j){var U=null,X={originalEvent:j,eventType:"keydown",pointerType:"",isEmulated:!1};Y(L,X),L.keyDownHandler&&!X.preventGesture&&!X.defaultPrevented&&(U={eventSource:L,keyCode:j.keyCode?j.keyCode:j.charCode,ctrl:j.ctrlKey,shift:j.shiftKey,alt:j.altKey,meta:j.metaKey,originalEvent:j,preventDefault:X.preventDefault||X.defaultPrevented,userData:L.userData},L.keyDownHandler(U)),(U&&U.preventDefault||X.preventDefault&&!X.defaultPrevented)&&t.cancelEvent(j),X.stopPropagation&&t.stopEvent(j)}function H(L,j){var U=null,X={originalEvent:j,eventType:"keyup",pointerType:"",isEmulated:!1};Y(L,X),L.keyUpHandler&&!X.preventGesture&&!X.defaultPrevented&&(U={eventSource:L,keyCode:j.keyCode?j.keyCode:j.charCode,ctrl:j.ctrlKey,shift:j.shiftKey,alt:j.altKey,meta:j.metaKey,originalEvent:j,preventDefault:X.preventDefault||X.defaultPrevented,userData:L.userData},L.keyUpHandler(U)),(U&&U.preventDefault||X.preventDefault&&!X.defaultPrevented)&&t.cancelEvent(j),X.stopPropagation&&t.stopEvent(j)}function ie(L,j){var U=null,X={originalEvent:j,eventType:"keypress",pointerType:"",isEmulated:!1};Y(L,X),L.keyHandler&&!X.preventGesture&&!X.defaultPrevented&&(U={eventSource:L,keyCode:j.keyCode?j.keyCode:j.charCode,ctrl:j.ctrlKey,shift:j.shiftKey,alt:j.altKey,meta:j.metaKey,originalEvent:j,preventDefault:X.preventDefault||X.defaultPrevented,userData:L.userData},L.keyHandler(U)),(U&&U.preventDefault||X.preventDefault&&!X.defaultPrevented)&&t.cancelEvent(j),X.stopPropagation&&t.stopEvent(j)}function ne(L,j){var U={originalEvent:j,eventType:"focus",pointerType:"",isEmulated:!1};Y(L,U),L.focusHandler&&!U.preventGesture&&L.focusHandler({eventSource:L,originalEvent:j,userData:L.userData})}function ae(L,j){var U={originalEvent:j,eventType:"blur",pointerType:"",isEmulated:!1};Y(L,U),L.blurHandler&&!U.preventGesture&&L.blurHandler({eventSource:L,originalEvent:j,userData:L.userData})}function Se(L,j){var U=null,X={originalEvent:j,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};Y(L,X),L.contextMenuHandler&&!X.preventGesture&&!X.defaultPrevented&&(U={eventSource:L,position:P(k(j),L.element),originalEvent:X.originalEvent,preventDefault:X.preventDefault||X.defaultPrevented,userData:L.userData},L.contextMenuHandler(U)),(U&&U.preventDefault||X.preventDefault&&!X.defaultPrevented)&&t.cancelEvent(j),X.stopPropagation&&t.stopEvent(j)}function me(L,j){he(L,j,j)}function fe(L,j){var U={target:j.target||j.srcElement,type:"wheel",shiftKey:j.shiftKey||!1,clientX:j.clientX,clientY:j.clientY,pageX:j.pageX?j.pageX:j.clientX,pageY:j.pageY?j.pageY:j.clientY,deltaMode:j.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};t.MouseTracker.wheelEventName==="mousewheel"?U.deltaY=-j.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:U.deltaY=j.detail,he(L,U,j)}function he(L,j,U){var X=0,we,je=null;X=j.deltaY<0?1:-1,we={originalEvent:j,eventType:"wheel",pointerType:"mouse",isEmulated:j!==U},Y(L,we),L.scrollHandler&&!we.preventGesture&&!we.defaultPrevented&&(je={eventSource:L,pointerType:"mouse",position:C(j,L.element),scroll:X,shift:j.shiftKey,isTouchEvent:!1,originalEvent:U,preventDefault:we.preventDefault||we.defaultPrevented,userData:L.userData},L.scrollHandler(je)),we.stopPropagation&&t.stopEvent(U),(je&&je.preventDefault||we.preventDefault&&!we.defaultPrevented)&&t.cancelEvent(U)}function Ae(L,j){var U={id:t.MouseTracker.mousePointerId,type:"mouse"},X={originalEvent:j,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};Y(L,X),j.target===L.element&&pe(L,U,!1),X.stopPropagation&&t.stopEvent(j)}function Le(L,j){var U,X,we=j.changedTouches.length,je,lt=L.getActivePointersListByType("touch");U=t.now(),lt.getLength()>j.touches.length-we&&t.console.warn("Tracked touch contact count doesn't match event.touches.length");var Xe={originalEvent:j,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(Y(L,Xe),X=0;X<we;X++)je={id:j.changedTouches[X].identifier,type:"touch",isPrimary:lt.getLength()===0,currentPos:k(j.changedTouches[X]),currentTime:U},Me(L,Xe,je),pt(L,Xe,je,0),pe(L,je,!0);Xe.preventDefault&&!Xe.defaultPrevented&&t.cancelEvent(j),Xe.stopPropagation&&t.stopEvent(j)}function ve(L,j){var U,X,we=j.changedTouches.length,je;U=t.now();var lt={originalEvent:j,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(Y(L,lt),X=0;X<we;X++)je={id:j.changedTouches[X].identifier,type:"touch",currentPos:k(j.changedTouches[X]),currentTime:U},Tt(L,lt,je,0),pe(L,je,!1),_e(L,lt,je);lt.preventDefault&&!lt.defaultPrevented&&t.cancelEvent(j),lt.stopPropagation&&t.stopEvent(j)}function de(L,j){var U,X,we=j.changedTouches.length,je;U=t.now();var lt={originalEvent:j,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(Y(L,lt),X=0;X<we;X++)je={id:j.changedTouches[X].identifier,type:"touch",currentPos:k(j.changedTouches[X]),currentTime:U},Pt(L,lt,je);lt.preventDefault&&!lt.defaultPrevented&&t.cancelEvent(j),lt.stopPropagation&&t.stopEvent(j)}function Ee(L,j){var U=j.changedTouches.length,X,we,je={originalEvent:j,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(Y(L,je),X=0;X<U;X++)we={id:j.changedTouches[X].identifier,type:"touch"},le(L,je,we);je.stopPropagation&&t.stopEvent(j)}function be(L,j){return t.eventIsCanceled(j)||j.preventDefault(),!1}function q(L,j){return t.eventIsCanceled(j)||j.preventDefault(),!1}function ge(L,j){var U={originalEvent:j,eventType:"gotpointercapture",pointerType:T(j),isEmulated:!1};Y(L,U),j.target===L.element&&pe(L,{id:j.pointerId,type:T(j)},!0),U.stopPropagation&&t.stopEvent(j)}function De(L,j){var U={originalEvent:j,eventType:"lostpointercapture",pointerType:T(j),isEmulated:!1};Y(L,U),j.target===L.element&&pe(L,{id:j.pointerId,type:T(j)},!1),U.stopPropagation&&t.stopEvent(j)}function $(L,j){var U={id:S(j),type:T(j),isPrimary:_(j),currentPos:k(j),currentTime:t.now()},X={originalEvent:j,eventType:"pointerenter",pointerType:U.type,isEmulated:!1};Y(L,X),Me(L,X,U)}function Qe(L,j){var U={id:S(j),type:T(j),isPrimary:_(j),currentPos:k(j),currentTime:t.now()},X={originalEvent:j,eventType:"pointerleave",pointerType:U.type,isEmulated:!1};Y(L,X),_e(L,X,U)}function et(L,j){var U={id:S(j),type:T(j),isPrimary:_(j),currentPos:k(j),currentTime:t.now()},X={originalEvent:j,eventType:"pointerover",pointerType:U.type,isEmulated:!1};Y(L,X),qe(L,X,U),X.preventDefault&&!X.defaultPrevented&&t.cancelEvent(j),X.stopPropagation&&t.stopEvent(j)}function ot(L,j){var U={id:S(j),type:T(j),isPrimary:_(j),currentPos:k(j),currentTime:t.now()},X={originalEvent:j,eventType:"pointerout",pointerType:U.type,isEmulated:!1};Y(L,X),He(L,X,U),X.preventDefault&&!X.defaultPrevented&&t.cancelEvent(j),X.stopPropagation&&t.stopEvent(j)}function ct(L,j){var U={id:S(j),type:T(j),isPrimary:_(j),currentPos:k(j),currentTime:t.now()},X=t.MouseTracker.havePointerEvents&&U.type==="touch"&&t.Browser.vendor!==t.BROWSERS.IE,we={originalEvent:j,eventType:"pointerdown",pointerType:U.type,isEmulated:!1};Y(L,we),pt(L,we,U,j.button),we.preventDefault&&!we.defaultPrevented&&t.cancelEvent(j),we.stopPropagation&&t.stopEvent(j),we.shouldCapture&&(X?pe(L,U,!0):g(L,U))}function yt(L,j){Ke(L,j)}function gt(L,j){var U=L.getActivePointersListByType(T(j));U.getById(j.pointerId)&&Ke(L,j),t.stopEvent(j)}function Ke(L,j){var U;U={id:S(j),type:T(j),isPrimary:_(j),currentPos:k(j),currentTime:t.now()};var X={originalEvent:j,eventType:"pointerup",pointerType:U.type,isEmulated:!1};Y(L,X),Tt(L,X,U,j.button),X.preventDefault&&!X.defaultPrevented&&t.cancelEvent(j),X.stopPropagation&&t.stopEvent(j),X.shouldReleaseCapture&&(j.target===L.element?b(L,U):pe(L,U,!1))}function Ot(L,j){_t(L,j)}function Nt(L,j){var U=L.getActivePointersListByType(T(j));U.getById(j.pointerId)&&_t(L,j),t.stopEvent(j)}function _t(L,j){var U={id:S(j),type:T(j),isPrimary:_(j),currentPos:k(j),currentTime:t.now()},X={originalEvent:j,eventType:"pointermove",pointerType:U.type,isEmulated:!1};Y(L,X),Pt(L,X,U),X.preventDefault&&!X.defaultPrevented&&t.cancelEvent(j),X.stopPropagation&&t.stopEvent(j)}function un(L,j){var U={id:j.pointerId,type:T(j)},X={originalEvent:j,eventType:"pointercancel",pointerType:U.type,isEmulated:!1};Y(L,X),le(L,X,U),X.stopPropagation&&t.stopEvent(j)}function Et(L,j){return j.speed=0,j.direction=0,j.contactPos=j.currentPos,j.contactTime=j.currentTime,j.lastPos=j.currentPos,j.lastTime=j.currentTime,L.add(j)}function jt(L,j,U){var X,we=j.getById(U.id);return we?(we.captured&&(t.console.warn("stopTrackingPointer() called on captured pointer"),b(L,we)),j.removeContact(),X=j.removeById(U.id)):X=j.getLength(),X}function M(L,j){switch(j.eventType){case"pointermove":j.isStoppable=!0,j.isCancelable=!0,j.preventDefault=!1,j.preventGesture=!L.hasGestureHandlers,j.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":j.isStoppable=!0,j.isCancelable=!0,j.preventDefault=!1,j.preventGesture=!1,j.stopPropagation=!1;break;case"pointerdown":j.isStoppable=!0,j.isCancelable=!0,j.preventDefault=!1,j.preventGesture=!L.hasGestureHandlers,j.stopPropagation=!1;break;case"pointerup":j.isStoppable=!0,j.isCancelable=!0,j.preventDefault=!1,j.preventGesture=!L.hasGestureHandlers,j.stopPropagation=!1;break;case"wheel":j.isStoppable=!0,j.isCancelable=!0,j.preventDefault=!1,j.preventGesture=!L.hasScrollHandler,j.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":j.isStoppable=!0,j.isCancelable=!1,j.preventDefault=!1,j.preventGesture=!1,j.stopPropagation=!1;break;case"click":j.isStoppable=!0,j.isCancelable=!0,j.preventDefault=!!L.clickHandler,j.preventGesture=!1,j.stopPropagation=!1;break;case"dblclick":j.isStoppable=!0,j.isCancelable=!0,j.preventDefault=!!L.dblClickHandler,j.preventGesture=!1,j.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:j.isStoppable=!1,j.isCancelable=!1,j.preventDefault=!1,j.preventGesture=!1,j.stopPropagation=!1;break}}function Y(L,j){j.eventSource=L,j.eventPhase=j.originalEvent&&typeof j.originalEvent.eventPhase<"u"?j.originalEvent.eventPhase:0,j.defaultPrevented=t.eventIsCanceled(j.originalEvent),j.shouldCapture=!1,j.shouldReleaseCapture=!1,j.userData=L.userData,M(L,j),L.preProcessEventHandler&&L.preProcessEventHandler(j)}function pe(L,j,U){var X=L.getActivePointersListByType(j.type),we=X.getById(j.id);we?U&&!we.captured?(we.captured=!0,X.captureCount++):!U&&we.captured&&(we.captured=!1,X.captureCount--,X.captureCount<0&&(X.captureCount=0,t.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):t.console.warn("updatePointerCaptured() called on untracked pointer")}function Me(L,j,U){var X=L.getActivePointersListByType(U.type),we;we=X.getById(U.id),we?(we.insideElement=!0,we.lastPos=we.currentPos,we.lastTime=we.currentTime,we.currentPos=U.currentPos,we.currentTime=U.currentTime,U=we):(U.captured=!1,U.insideElementPressed=!1,U.insideElement=!0,Et(X,U)),L.enterHandler&&L.enterHandler({eventSource:L,pointerType:U.type,position:P(U.currentPos,L.element),buttons:X.buttons,pointers:L.getActivePointerCount(),insideElementPressed:U.insideElementPressed,buttonDownAny:X.buttons!==0,isTouchEvent:U.type==="touch",originalEvent:j.originalEvent,userData:L.userData})}function _e(L,j,U){var X=L.getActivePointersListByType(U.type),we,je;we=X.getById(U.id),we?(we.captured?(we.insideElement=!1,we.lastPos=we.currentPos,we.lastTime=we.currentTime,we.currentPos=U.currentPos,we.currentTime=U.currentTime):jt(L,X,we),U=we):(U.captured=!1,U.insideElementPressed=!1),(L.leaveHandler||L.exitHandler)&&(je={eventSource:L,pointerType:U.type,position:U.currentPos&&P(U.currentPos,L.element),buttons:X.buttons,pointers:L.getActivePointerCount(),insideElementPressed:U.insideElementPressed,buttonDownAny:X.buttons!==0,isTouchEvent:U.type==="touch",originalEvent:j.originalEvent,userData:L.userData},L.leaveHandler&&L.leaveHandler(je),L.exitHandler&&L.exitHandler(je))}function qe(L,j,U){var X,we;X=L.getActivePointersListByType(U.type),we=X.getById(U.id),we?U=we:(U.captured=!1,U.insideElementPressed=!1),L.overHandler&&L.overHandler({eventSource:L,pointerType:U.type,position:P(U.currentPos,L.element),buttons:X.buttons,pointers:L.getActivePointerCount(),insideElementPressed:U.insideElementPressed,buttonDownAny:X.buttons!==0,isTouchEvent:U.type==="touch",originalEvent:j.originalEvent,userData:L.userData})}function He(L,j,U){var X,we;X=L.getActivePointersListByType(U.type),we=X.getById(U.id),we?U=we:(U.captured=!1,U.insideElementPressed=!1),L.outHandler&&L.outHandler({eventSource:L,pointerType:U.type,position:U.currentPos&&P(U.currentPos,L.element),buttons:X.buttons,pointers:L.getActivePointerCount(),insideElementPressed:U.insideElementPressed,buttonDownAny:X.buttons!==0,isTouchEvent:U.type==="touch",originalEvent:j.originalEvent,userData:L.userData})}function pt(L,j,U,X){var we=r[L.hash],je=L.getActivePointersListByType(U.type),lt;if(typeof j.originalEvent.buttons<"u"?je.buttons=j.originalEvent.buttons:X===0?je.buttons|=1:X===1?je.buttons|=4:X===2?je.buttons|=2:X===3?je.buttons|=8:X===4?je.buttons|=16:X===5&&(je.buttons|=32),X!==0){j.shouldCapture=!1,j.shouldReleaseCapture=!1,L.nonPrimaryPressHandler&&!j.preventGesture&&!j.defaultPrevented&&(j.preventDefault=!0,L.nonPrimaryPressHandler({eventSource:L,pointerType:U.type,position:P(U.currentPos,L.element),button:X,buttons:je.buttons,isTouchEvent:U.type==="touch",originalEvent:j.originalEvent,userData:L.userData}));return}lt=je.getById(U.id),lt?(lt.insideElementPressed=!0,lt.insideElement=!0,lt.originalTarget=j.originalEvent.target,lt.contactPos=U.currentPos,lt.contactTime=U.currentTime,lt.lastPos=lt.currentPos,lt.lastTime=lt.currentTime,lt.currentPos=U.currentPos,lt.currentTime=U.currentTime,U=lt):(U.captured=!1,U.insideElementPressed=!0,U.insideElement=!0,U.originalTarget=j.originalEvent.target,Et(je,U)),je.addContact(),!j.preventGesture&&!j.defaultPrevented?(j.shouldCapture=!0,j.shouldReleaseCapture=!1,j.preventDefault=!0,(L.dragHandler||L.dragEndHandler||L.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint(L,U),je.contacts===1?L.pressHandler&&!j.preventGesture&&L.pressHandler({eventSource:L,pointerType:U.type,position:P(U.contactPos,L.element),buttons:je.buttons,isTouchEvent:U.type==="touch",originalEvent:j.originalEvent,userData:L.userData}):je.contacts===2&&L.pinchHandler&&U.type==="touch"&&(we.pinchGPoints=je.asArray(),we.lastPinchDist=we.currentPinchDist=we.pinchGPoints[0].currentPos.distanceTo(we.pinchGPoints[1].currentPos),we.lastPinchCenter=we.currentPinchCenter=A(we.pinchGPoints[0].currentPos,we.pinchGPoints[1].currentPos))):(j.shouldCapture=!1,j.shouldReleaseCapture=!1)}function Tt(L,j,U,X){var we=r[L.hash],je=L.getActivePointersListByType(U.type),lt,Xe,Ye,wn=!1,Bt;if(typeof j.originalEvent.buttons<"u"?je.buttons=j.originalEvent.buttons:X===0?je.buttons^=-2:X===1?je.buttons^=-5:X===2?je.buttons^=-3:X===3?je.buttons^=-9:X===4?je.buttons^=-17:X===5&&(je.buttons^=-33),j.shouldCapture=!1,X!==0){j.shouldReleaseCapture=!1,L.nonPrimaryReleaseHandler&&!j.preventGesture&&!j.defaultPrevented&&(j.preventDefault=!0,L.nonPrimaryReleaseHandler({eventSource:L,pointerType:U.type,position:P(U.currentPos,L.element),button:X,buttons:je.buttons,isTouchEvent:U.type==="touch",originalEvent:j.originalEvent,userData:L.userData}));return}Ye=je.getById(U.id),Ye?(je.removeContact(),Ye.captured&&(wn=!0),Ye.lastPos=Ye.currentPos,Ye.lastTime=Ye.currentTime,Ye.currentPos=U.currentPos,Ye.currentTime=U.currentTime,Ye.insideElement||jt(L,je,Ye),lt=Ye.currentPos,Xe=Ye.currentTime):(U.captured=!1,U.insideElementPressed=!1,U.insideElement=!0,Et(je,U),Ye=U),!j.preventGesture&&!j.defaultPrevented&&(wn?(j.shouldReleaseCapture=!0,j.preventDefault=!0,(L.dragHandler||L.dragEndHandler||L.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint(L,Ye),je.contacts===0?(L.releaseHandler&&lt&&L.releaseHandler({eventSource:L,pointerType:Ye.type,position:P(lt,L.element),buttons:je.buttons,insideElementPressed:Ye.insideElementPressed,insideElementReleased:Ye.insideElement,isTouchEvent:Ye.type==="touch",originalEvent:j.originalEvent,userData:L.userData}),L.dragEndHandler&&we.sentDragEvent&&L.dragEndHandler({eventSource:L,pointerType:Ye.type,position:P(Ye.currentPos,L.element),speed:Ye.speed,direction:Ye.direction,shift:j.originalEvent.shiftKey,isTouchEvent:Ye.type==="touch",originalEvent:j.originalEvent,userData:L.userData}),we.sentDragEvent=!1,(L.clickHandler||L.dblClickHandler)&&Ye.insideElement&&(Bt=Xe-Ye.contactTime<=L.clickTimeThreshold&&Ye.contactPos.distanceTo(lt)<=L.clickDistThreshold,L.clickHandler&&L.clickHandler({eventSource:L,pointerType:Ye.type,position:P(Ye.currentPos,L.element),quick:Bt,shift:j.originalEvent.shiftKey,isTouchEvent:Ye.type==="touch",originalEvent:j.originalEvent,originalTarget:Ye.originalTarget,userData:L.userData}),L.dblClickHandler&&Bt&&(je.clicks++,je.clicks===1?(we.lastClickPos=lt,we.dblClickTimeOut=setTimeout(function(){je.clicks=0},L.dblClickTimeThreshold)):je.clicks===2&&(clearTimeout(we.dblClickTimeOut),je.clicks=0,we.lastClickPos.distanceTo(lt)<=L.dblClickDistThreshold&&L.dblClickHandler({eventSource:L,pointerType:Ye.type,position:P(Ye.currentPos,L.element),shift:j.originalEvent.shiftKey,isTouchEvent:Ye.type==="touch",originalEvent:j.originalEvent,userData:L.userData}),we.lastClickPos=null)))):je.contacts===2&&L.pinchHandler&&Ye.type==="touch"&&(we.pinchGPoints=je.asArray(),we.lastPinchDist=we.currentPinchDist=we.pinchGPoints[0].currentPos.distanceTo(we.pinchGPoints[1].currentPos),we.lastPinchCenter=we.currentPinchCenter=A(we.pinchGPoints[0].currentPos,we.pinchGPoints[1].currentPos))):(j.shouldReleaseCapture=!1,L.releaseHandler&&lt&&(L.releaseHandler({eventSource:L,pointerType:Ye.type,position:P(lt,L.element),buttons:je.buttons,insideElementPressed:Ye.insideElementPressed,insideElementReleased:Ye.insideElement,isTouchEvent:Ye.type==="touch",originalEvent:j.originalEvent,userData:L.userData}),j.preventDefault=!0)))}function Pt(L,j,U){var X=r[L.hash],we=L.getActivePointersListByType(U.type),je,lt,Xe;if(typeof j.originalEvent.buttons<"u"&&(we.buttons=j.originalEvent.buttons),je=we.getById(U.id),je)je.lastPos=je.currentPos,je.lastTime=je.currentTime,je.currentPos=U.currentPos,je.currentTime=U.currentTime;else return;j.shouldCapture=!1,j.shouldReleaseCapture=!1,L.stopHandler&&U.type==="mouse"&&(clearTimeout(L.stopTimeOut),L.stopTimeOut=setTimeout(function(){ke(L,j.originalEvent,U.type)},L.stopDelay)),we.contacts===0?L.moveHandler&&L.moveHandler({eventSource:L,pointerType:U.type,position:P(U.currentPos,L.element),buttons:we.buttons,isTouchEvent:U.type==="touch",originalEvent:j.originalEvent,userData:L.userData}):we.contacts===1?(L.moveHandler&&(je=we.asArray()[0],L.moveHandler({eventSource:L,pointerType:je.type,position:P(je.currentPos,L.element),buttons:we.buttons,isTouchEvent:je.type==="touch",originalEvent:j.originalEvent,userData:L.userData})),L.dragHandler&&!j.preventGesture&&!j.defaultPrevented&&(je=we.asArray()[0],Xe=je.currentPos.minus(je.lastPos),L.dragHandler({eventSource:L,pointerType:je.type,position:P(je.currentPos,L.element),buttons:we.buttons,delta:Xe,speed:je.speed,direction:je.direction,shift:j.originalEvent.shiftKey,isTouchEvent:je.type==="touch",originalEvent:j.originalEvent,userData:L.userData}),j.preventDefault=!0,X.sentDragEvent=!0)):we.contacts===2&&(L.moveHandler&&(lt=we.asArray(),L.moveHandler({eventSource:L,pointerType:lt[0].type,position:P(A(lt[0].currentPos,lt[1].currentPos),L.element),buttons:we.buttons,isTouchEvent:lt[0].type==="touch",originalEvent:j.originalEvent,userData:L.userData})),L.pinchHandler&&U.type==="touch"&&!j.preventGesture&&!j.defaultPrevented&&(Xe=X.pinchGPoints[0].currentPos.distanceTo(X.pinchGPoints[1].currentPos),Xe!==X.currentPinchDist&&(X.lastPinchDist=X.currentPinchDist,X.currentPinchDist=Xe,X.lastPinchCenter=X.currentPinchCenter,X.currentPinchCenter=A(X.pinchGPoints[0].currentPos,X.pinchGPoints[1].currentPos),L.pinchHandler({eventSource:L,pointerType:"touch",gesturePoints:X.pinchGPoints,lastCenter:P(X.lastPinchCenter,L.element),center:P(X.currentPinchCenter,L.element),lastDistance:X.lastPinchDist,distance:X.currentPinchDist,shift:j.originalEvent.shiftKey,originalEvent:j.originalEvent,userData:L.userData}),j.preventDefault=!0)))}function le(L,j,U){var X=L.getActivePointersListByType(U.type),we;we=X.getById(U.id),we&&jt(L,X,we)}function ke(L,j,U){L.stopHandler&&L.stopHandler({eventSource:L,pointerType:U,position:C(j,L.element),buttons:L.getActivePointersListByType(U).buttons,isTouchEvent:U==="touch",originalEvent:j,userData:L.userData})}}(n),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(r,i,a){var h=r.parentNode;typeof i=="number"&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),i={anchor:i}),i.attachToViewer=typeof i.attachToViewer>"u"?!0:i.attachToViewer,this.autoFade=typeof i.autoFade>"u"?!0:i.autoFade,this.element=r,this.anchor=i.anchor,this.container=a,this.anchor===t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof i.top=="number"?i.top+"px":i.top,this.wrapper.style.left=typeof i.left=="number"?i.left+"px":i.left,this.wrapper.style.height=typeof i.height=="number"?i.height+"px":i.height,this.wrapper.style.width=typeof i.width=="number"?i.width+"px":i.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),i.attachToViewer?this.anchor===t.ControlAnchor.TOP_RIGHT||this.anchor===t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):h.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==t.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(r){this.wrapper.style.display=r?this.anchor===t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(r){this.element[t.SIGNAL]&&t.Browser.vendor===t.BROWSERS.IE?t.setElementOpacity(this.element,r,!0):t.setElementOpacity(this.wrapper,r,!0)}}}(n),function(t){t.ControlDock=function(i){var a=["topleft","topright","bottomright","bottomleft"],h,c;for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(Math.random()*1e6),container:t.makeNeutralElement("div"),controls:[]},i),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),c=0;c<a.length;c++)h=a[c],this.controls[h]=t.makeNeutralElement("div"),this.controls[h].style.position="absolute",h.match("left")&&(this.controls[h].style.left="0px"),h.match("right")&&(this.controls[h].style.right="0px"),h.match("top")&&(this.controls[h].style.top="0px"),h.match("bottom")&&(this.controls[h].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(i,a){i=t.getElement(i);var h=null;if(!(r(this,i)>=0)){switch(a.anchor){case t.ControlAnchor.TOP_RIGHT:h=this.controls.topright,i.style.position="relative",i.style.paddingRight="0px",i.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:h=this.controls.bottomright,i.style.position="relative",i.style.paddingRight="0px",i.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:h=this.controls.bottomleft,i.style.position="relative",i.style.paddingLeft="0px",i.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:h=this.controls.topleft,i.style.position="relative",i.style.paddingLeft="0px",i.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:h=this.container,i.style.margin="0px",i.style.padding="0px";break;default:case t.ControlAnchor.NONE:h=this.container,i.style.margin="0px",i.style.padding="0px";break}this.controls.push(new t.Control(i,a,h)),i.style.display="inline-block"}},removeControl:function(i){i=t.getElement(i);var a=r(this,i);return a>=0&&(this.controls[a].destroy(),this.controls.splice(a,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var i;for(i=this.controls.length-1;i>=0;i--)if(this.controls[i].isVisible())return!0;return!1},setControlsEnabled:function(i){var a;for(a=this.controls.length-1;a>=0;a--)this.controls[a].setVisible(i);return this}};function r(i,a){var h=i.controls,c;for(c=h.length-1;c>=0;c--)if(h[c].element===a)return c;return-1}}(n),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(n),function(t){var r={},i=1;t.Viewer=function(M){var Y=arguments,pe=this,Me;if(t.isPlainObject(M)||(M={id:Y[0],xmlPath:Y.length>1?Y[1]:void 0,prefixUrl:Y.length>2?Y[2]:void 0,controls:Y.length>3?Y[3]:void 0,overlays:Y.length>4?Y[4]:void 0}),M.config&&(t.extend(!0,M,M.config),delete M.config),t.extend(!0,this,{id:M.id,hash:M.hash||i++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},t.DEFAULT_SETTINGS,M),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof r[this.hash]<"u"&&t.console.warn("Hash "+this.hash+" has already been used."),r[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",function(_e){var qe=t.getString("Errors.OpenFailed",_e.eventSource,_e.message);pe._showMessage(qe)}),t.ControlDock.call(this,M),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(_e){_e.width="100%",_e.height="100%",_e.overflow="hidden",_e.position="absolute",_e.top="0px",_e.left="0px"}(this.canvas.style),t.setElementTouchActionNone(this.canvas),M.tabIndex!==""&&(this.canvas.tabIndex=M.tabIndex===void 0?0:M.tabIndex),this.container.className="openseadragon-container",function(_e){_e.width="100%",_e.height="100%",_e.position="relative",_e.overflow="hidden",_e.left="0px",_e.top="0px",_e.textAlign="left"}(this.container.style),t.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:t.delegate(this,C),keyDownHandler:t.delegate(this,P),keyHandler:t.delegate(this,A),clickHandler:t.delegate(this,N),dblClickHandler:t.delegate(this,W),dragHandler:t.delegate(this,Z),dragEndHandler:t.delegate(this,H),enterHandler:t.delegate(this,ie),leaveHandler:t.delegate(this,ne),pressHandler:t.delegate(this,ae),releaseHandler:t.delegate(this,Se),nonPrimaryPressHandler:t.delegate(this,me),nonPrimaryReleaseHandler:t.delegate(this,fe),scrollHandler:t.delegate(this,ve),pinchHandler:t.delegate(this,he),focusHandler:t.delegate(this,Ae),blurHandler:t.delegate(this,Le)}),this.outerTracker=new t.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,de),leaveHandler:t.delegate(this,Ee)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),r[this.hash].prevContainerSize=a(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){r[pe.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new t.World({viewer:this}),this.world.addHandler("add-item",function(_e){pe.source=pe.world.getItemAt(0).source,r[pe.hash].forceRedraw=!0,pe._updateRequestId||(pe._updateRequestId=m(pe,be))}),this.world.addHandler("remove-item",function(_e){pe.world.getItemCount()?pe.source=pe.world.getItemAt(0).source:pe.source=null,r[pe.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(_e){pe.viewport&&pe.viewport._setContentBounds(pe.world.getHomeBounds(),pe.world.getContentFactor())}),this.world.addHandler("item-index-change",function(_e){pe.source=pe.world.getItemAt(0).source}),this.viewport=new t.Viewport({containerSize:r[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:M.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new t.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(Me=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(Me,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(Me=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(Me,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new t.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),Me=0;Me<this.customControls.length;Me++)this.addControl(this.customControls[Me].id,{anchor:this.customControls[Me].anchor});t.requestAnimationFrame(function(){b(pe)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),t._viewers.set(this.element,this)},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(M){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(M)},openTileSource:function(M){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(M)},get buttons(){return t.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(M,Y){var pe=this;if(this.close(),!M)return this;if(this.sequenceMode&&t.isArray(M))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof Y<"u"&&!isNaN(Y)&&(this.initialPage=Y),this.tileSources=M,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(t.isArray(M)||(M=[M]),!M.length)return this;this._opening=!0;for(var Me=M.length,_e=0,qe=0,He,pt=function(){if(_e+qe===Me)if(_e){(pe._firstOpen||!pe.preserveViewport)&&(pe.viewport.goHome(!0),pe.viewport.update()),pe._firstOpen=!1;var le=M[0];if(le.tileSource&&(le=le.tileSource),pe.overlays&&!pe.preserveOverlays)for(var ke=0;ke<pe.overlays.length;ke++)pe.currentOverlays[ke]=c(pe,pe.overlays[ke]);pe._drawOverlays(),pe._opening=!1,pe.raiseEvent("open",{source:le})}else pe._opening=!1,pe.raiseEvent("open-failed",He)},Tt=function(le){(!t.isPlainObject(le)||!le.tileSource)&&(le={tileSource:le}),le.index!==void 0&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete le.index),le.collectionImmediately===void 0&&(le.collectionImmediately=!0);var ke=le.success;le.success=function(j){if(_e++,le.tileSource.overlays)for(var U=0;U<le.tileSource.overlays.length;U++)pe.addOverlay(le.tileSource.overlays[U]);ke&&ke(j),pt()};var L=le.error;le.error=function(j){qe++,He||(He=j),L&&L(j),pt()},pe.addTiledImage(le)},Pt=0;Pt<M.length;Pt++)Tt(M[Pt]);return this},close:function(){return r[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),r[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(r[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),r[this.navigator.hash]=null,delete r[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),r[this.hash]=null,delete r[this.hash],this.canvas=null,this.container=null,t._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(M){return this.innerTracker.setTracking(M),this.outerTracker.setTracking(M),this.raiseEvent("mouse-enabled",{enabled:M}),this},areControlsEnabled:function(){var M=this.controls.length,Y;for(Y=0;Y<this.controls.length;Y++)M=M&&this.controls[Y].isVisible();return M},setControlsEnabled:function(M){return M?T(this):b(this),this.raiseEvent("controls-enabled",{enabled:M}),this},setDebugMode:function(M){for(var Y=0;Y<this.world.getItemCount();Y++)this.world.getItemAt(Y).debugMode=M;this.debugMode=M,this.forceRedraw()},setAjaxHeaders:function(M,Y){if(M===null&&(M={}),!t.isPlainObject(M)){console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}if(Y===void 0&&(Y=!0),this.ajaxHeaders=M,Y){for(var pe=0;pe<this.world.getItemCount();pe++)this.world.getItemAt(pe)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var Me in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[Me].setAjaxHeaders(this.ajaxHeaders,!0)}},addButton:function(M){this.buttonGroup.addButton(M)},isFullPage:function(){return r[this.hash].fullPage},setFullPage:function(M){var Y=document.body,pe=Y.style,Me=document.documentElement.style,_e=this,qe,He;if(M===this.isFullPage())return this;var pt={fullPage:M,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",pt),pt.preventDefaultAction)return this;if(M){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=pe.margin,this.docMargin=Me.margin,pe.margin="0",Me.margin="0",this.bodyPadding=pe.padding,this.docPadding=Me.padding,pe.padding="0",Me.padding="0",this.bodyWidth=pe.width,this.docWidth=Me.width,pe.width="100%",Me.width="100%",this.bodyHeight=pe.height,this.docHeight=Me.height,pe.height="100%",Me.height="100%",this.bodyDisplay=pe.display,pe.display="block",this.previousBody=[],r[this.hash].prevElementParent=this.element.parentNode,r[this.hash].prevNextSibling=this.element.nextSibling,r[this.hash].prevElementWidth=this.element.style.width,r[this.hash].prevElementHeight=this.element.style.height,qe=Y.childNodes.length,He=0;He<qe;He++)this.previousBody.push(Y.childNodes[0]),Y.removeChild(Y.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,Y.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),Y.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),r[this.hash].fullPage=!0,t.delegate(this,de)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,pe.margin=this.bodyMargin,Me.margin=this.docMargin,pe.padding=this.bodyPadding,Me.padding=this.docPadding,pe.width=this.bodyWidth,Me.width=this.docWidth,pe.height=this.bodyHeight,Me.height=this.docHeight,pe.display=this.bodyDisplay,Y.removeChild(this.element),qe=this.previousBody.length,He=0;He<qe;He++)Y.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),r[this.hash].prevElementParent.insertBefore(this.element,r[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(Y.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=r[this.hash].prevElementWidth,this.element.style.height=r[this.hash].prevElementHeight;var Tt=0,Pt=function(){t.setPageScroll(_e.pageScroll);var le=t.getPageScroll();Tt++,Tt<10&&(le.x!==_e.pageScroll.x||le.y!==_e.pageScroll.y)&&t.requestAnimationFrame(Pt)};t.requestAnimationFrame(Pt),r[this.hash].fullPage=!1,t.delegate(this,Ee)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:M}),this},setFullScreen:function(M){var Y=this;if(!t.supportsFullScreen)return this.setFullPage(M);if(t.isFullScreen()===M)return this;var pe={fullScreen:M,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",pe),pe.preventDefaultAction)return this;if(M){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var Me=function(){var _e=t.isFullScreen();_e||(t.removeEvent(document,t.fullScreenEventName,Me),t.removeEvent(document,t.fullScreenErrorEventName,Me),Y.setFullPage(!1),Y.isFullPage()&&(Y.element.style.width=Y.fullPageStyleWidth,Y.element.style.height=Y.fullPageStyleHeight)),Y.navigator&&Y.viewport&&setTimeout(function(){Y.navigator.update(Y.viewport)}),Y.raiseEvent("full-screen",{fullScreen:_e})};t.addEvent(document,t.fullScreenEventName,Me),t.addEvent(document,t.fullScreenErrorEventName,Me),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return t.isFullScreen()&&this.isFullPage()},setVisible:function(M){return this.container.style.visibility=M?"":"hidden",this.raiseEvent("visible",{visible:M}),this},addTiledImage:function(M){t.console.assert(M,"[Viewer.addTiledImage] options is required"),t.console.assert(M.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!M.replace||M.index>-1&&M.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var Y=this;M.replace&&(M.replaceItem=Y.world.getItemAt(M.index)),this._hideMessage(),M.placeholderFillStyle===void 0&&(M.placeholderFillStyle=this.placeholderFillStyle),M.opacity===void 0&&(M.opacity=this.opacity),M.preload===void 0&&(M.preload=this.preload),M.compositeOperation===void 0&&(M.compositeOperation=this.compositeOperation),M.crossOriginPolicy===void 0&&(M.crossOriginPolicy=M.tileSource.crossOriginPolicy!==void 0?M.tileSource.crossOriginPolicy:this.crossOriginPolicy),M.ajaxWithCredentials===void 0&&(M.ajaxWithCredentials=this.ajaxWithCredentials),M.loadTilesWithAjax===void 0&&(M.loadTilesWithAjax=this.loadTilesWithAjax),t.isPlainObject(M.ajaxHeaders)||(M.ajaxHeaders={});var pe={options:M};function Me(He){for(var pt=0;pt<Y._loadQueue.length;pt++)if(Y._loadQueue[pt]===pe){Y._loadQueue.splice(pt,1);break}Y._loadQueue.length===0&&_e(pe),Y.raiseEvent("add-item-failed",He),M.error&&M.error(He)}function _e(He){Y.collectionMode&&(Y.world.arrange({immediately:He.options.collectionImmediately,rows:Y.collectionRows,columns:Y.collectionColumns,layout:Y.collectionLayout,tileSize:Y.collectionTileSize,tileMargin:Y.collectionTileMargin}),Y.world.setAutoRefigureSizes(!0))}if(t.isArray(M.tileSource)){setTimeout(function(){Me({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:M.tileSource,options:M})});return}this._loadQueue.push(pe);function qe(){for(var He,pt,Tt;Y._loadQueue.length&&(He=Y._loadQueue[0],!!He.tileSource);){if(Y._loadQueue.splice(0,1),He.options.replace){var Pt=Y.world.getIndexOfItem(He.options.replaceItem);Pt!==-1&&(He.options.index=Pt),Y.world.removeItem(He.options.replaceItem)}pt=new t.TiledImage({viewer:Y,source:He.tileSource,viewport:Y.viewport,drawer:Y.drawer,tileCache:Y.tileCache,imageLoader:Y.imageLoader,x:He.options.x,y:He.options.y,width:He.options.width,height:He.options.height,fitBounds:He.options.fitBounds,fitBoundsPlacement:He.options.fitBoundsPlacement,clip:He.options.clip,placeholderFillStyle:He.options.placeholderFillStyle,opacity:He.options.opacity,preload:He.options.preload,degrees:He.options.degrees,flipped:He.options.flipped,compositeOperation:He.options.compositeOperation,springStiffness:Y.springStiffness,animationTime:Y.animationTime,minZoomImageRatio:Y.minZoomImageRatio,wrapHorizontal:Y.wrapHorizontal,wrapVertical:Y.wrapVertical,immediateRender:Y.immediateRender,blendTime:Y.blendTime,alwaysBlend:Y.alwaysBlend,minPixelRatio:Y.minPixelRatio,smoothTileEdgesMinZoom:Y.smoothTileEdgesMinZoom,iOSDevice:Y.iOSDevice,crossOriginPolicy:He.options.crossOriginPolicy,ajaxWithCredentials:He.options.ajaxWithCredentials,loadTilesWithAjax:He.options.loadTilesWithAjax,ajaxHeaders:He.options.ajaxHeaders,debugMode:Y.debugMode,subPixelRoundingForTransparency:Y.subPixelRoundingForTransparency}),Y.collectionMode&&Y.world.setAutoRefigureSizes(!1),Y.navigator&&(Tt=t.extend({},He.options,{replace:!1,originalTiledImage:pt,tileSource:He.tileSource}),Y.navigator.addTiledImage(Tt)),Y.world.addItem(pt,{index:He.options.index}),Y._loadQueue.length===0&&_e(He),Y.world.getItemCount()===1&&!Y.preserveViewport&&Y.viewport.goHome(!0),He.options.success&&He.options.success({item:pt})}}h(this,M.tileSource,M,function(He){pe.tileSource=He,qe()},function(He){He.options=M,Me(He),qe()})},addSimpleImage:function(M){t.console.assert(M,"[Viewer.addSimpleImage] options is required"),t.console.assert(M.url,"[Viewer.addSimpleImage] options.url is required");var Y=t.extend({},M,{tileSource:{type:"image",url:M.url}});delete Y.url,this.addTiledImage(Y)},addLayer:function(M){var Y=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var pe=t.extend({},M,{success:function(Me){Y.raiseEvent("add-layer",{options:M,drawer:Me.item})},error:function(Me){Y.raiseEvent("add-layer-failed",Me)}});return this.addTiledImage(pe),this},getLayerAtLevel:function(M){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(M)},getLevelOfLayer:function(M){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(M)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(M,Y){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(M,Y)},removeLayer:function(M){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(M)},forceRedraw:function(){return r[this.hash].forceRedraw=!0,this},forceResize:function(){r[this.hash].needsResize=!0,r[this.hash].forceResize=!0},bindSequenceControls:function(){var M=t.delegate(this,_),Y=t.delegate(this,k),pe=t.delegate(this,this.goToNextPage),Me=t.delegate(this,this.goToPreviousPage),_e=this.navImages,qe=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(qe=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:$(this.prefixUrl,_e.previous.REST),srcGroup:$(this.prefixUrl,_e.previous.GROUP),srcHover:$(this.prefixUrl,_e.previous.HOVER),srcDown:$(this.prefixUrl,_e.previous.DOWN),onRelease:Me,onFocus:M,onBlur:Y}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:$(this.prefixUrl,_e.next.REST),srcGroup:$(this.prefixUrl,_e.next.GROUP),srcHover:$(this.prefixUrl,_e.next.HOVER),srcDown:$(this.prefixUrl,_e.next.DOWN),onRelease:pe,onFocus:M,onBlur:Y}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),qe&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var M=t.delegate(this,Qe),Y=t.delegate(this,ot),pe=t.delegate(this,gt),Me=t.delegate(this,et),_e=t.delegate(this,Ke),qe=t.delegate(this,Nt),He=t.delegate(this,_t),pt=t.delegate(this,un),Tt=t.delegate(this,Et),Pt=t.delegate(this,jt),le=t.delegate(this,_),ke=t.delegate(this,k),L=this.navImages,j=[],U=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(U=!1),this.showZoomControl&&(j.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:$(this.prefixUrl,L.zoomIn.REST),srcGroup:$(this.prefixUrl,L.zoomIn.GROUP),srcHover:$(this.prefixUrl,L.zoomIn.HOVER),srcDown:$(this.prefixUrl,L.zoomIn.DOWN),onPress:M,onRelease:Y,onClick:pe,onEnter:M,onExit:Y,onFocus:le,onBlur:ke})),j.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:$(this.prefixUrl,L.zoomOut.REST),srcGroup:$(this.prefixUrl,L.zoomOut.GROUP),srcHover:$(this.prefixUrl,L.zoomOut.HOVER),srcDown:$(this.prefixUrl,L.zoomOut.DOWN),onPress:Me,onRelease:Y,onClick:_e,onEnter:Me,onExit:Y,onFocus:le,onBlur:ke}))),this.showHomeControl&&j.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:$(this.prefixUrl,L.home.REST),srcGroup:$(this.prefixUrl,L.home.GROUP),srcHover:$(this.prefixUrl,L.home.HOVER),srcDown:$(this.prefixUrl,L.home.DOWN),onRelease:qe,onFocus:le,onBlur:ke})),this.showFullPageControl&&j.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:$(this.prefixUrl,L.fullpage.REST),srcGroup:$(this.prefixUrl,L.fullpage.GROUP),srcHover:$(this.prefixUrl,L.fullpage.HOVER),srcDown:$(this.prefixUrl,L.fullpage.DOWN),onRelease:He,onFocus:le,onBlur:ke})),this.showRotationControl&&(j.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:$(this.prefixUrl,L.rotateleft.REST),srcGroup:$(this.prefixUrl,L.rotateleft.GROUP),srcHover:$(this.prefixUrl,L.rotateleft.HOVER),srcDown:$(this.prefixUrl,L.rotateleft.DOWN),onRelease:pt,onFocus:le,onBlur:ke})),j.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:$(this.prefixUrl,L.rotateright.REST),srcGroup:$(this.prefixUrl,L.rotateright.GROUP),srcHover:$(this.prefixUrl,L.rotateright.HOVER),srcDown:$(this.prefixUrl,L.rotateright.DOWN),onRelease:Tt,onFocus:le,onBlur:ke}))),this.showFlipControl&&j.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:$(this.prefixUrl,L.flip.REST),srcGroup:$(this.prefixUrl,L.flip.GROUP),srcHover:$(this.prefixUrl,L.flip.HOVER),srcDown:$(this.prefixUrl,L.flip.DOWN),onRelease:Pt,onFocus:le,onBlur:ke})),U?(this.buttonGroup=new t.ButtonGroup({buttons:j,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",t.delegate(this,Ot)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT})):this.customButtons=j),this},currentPage:function(){return this._sequenceIndex},goToPage:function(M){return this.tileSources&&M>=0&&M<this.tileSources.length&&(this._sequenceIndex=M,this._updateSequenceButtons(M),this.open(this.tileSources[M]),this.referenceStrip&&this.referenceStrip.setFocus(M),this.raiseEvent("page",{page:M})),this},addOverlay:function(M,Y,pe,Me){var _e;if(t.isPlainObject(M)?_e=M:_e={element:M,location:Y,placement:pe,onDraw:Me},M=t.getElement(_e.element),p(this.currentOverlays,M)>=0)return this;var qe=c(this,_e);return this.currentOverlays.push(qe),qe.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:M,location:_e.location,placement:_e.placement}),this},updateOverlay:function(M,Y,pe){var Me;return M=t.getElement(M),Me=p(this.currentOverlays,M),Me>=0&&(this.currentOverlays[Me].update(Y,pe),r[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:M,location:Y,placement:pe})),this},removeOverlay:function(M){var Y;return M=t.getElement(M),Y=p(this.currentOverlays,M),Y>=0&&(this.currentOverlays[Y].destroy(),this.currentOverlays.splice(Y,1),r[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:M})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return r[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(M){var Y;return M=t.getElement(M),Y=p(this.currentOverlays,M),Y>=0?this.currentOverlays[Y]:null},_updateSequenceButtons:function(M){this.nextButton&&(!this.tileSources||this.tileSources.length-1===M?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(M>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(M){this._hideMessage();var Y=t.makeNeutralElement("div");Y.appendChild(document.createTextNode(M)),this.messageDiv=t.makeCenteredNode(Y),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var M=this.messageDiv;M&&(M.parentNode.removeChild(M),delete this.messageDiv)},gestureSettingsByDeviceType:function(M){switch(M){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var M,Y=this.currentOverlays.length;for(M=0;M<Y;M++)this.currentOverlays[M].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),t.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){t.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var M=t.pixelDensityRatio,Y=t.getCurrentPixelDensityRatio();M!==Y&&(t.pixelDensityRatio=Y,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var M=this._sequenceIndex-1;this.navPrevNextWrap&&M<0&&(M+=this.tileSources.length),this.goToPage(M)},goToNextPage:function(){var M=this._sequenceIndex+1;this.navPrevNextWrap&&M>=this.tileSources.length&&(M=0),this.goToPage(M)},isAnimating:function(){return r[this.hash].animating}});function a(M){return M=t.getElement(M),new t.Point(M.clientWidth===0?1:M.clientWidth,M.clientHeight===0?1:M.clientHeight)}function h(M,Y,pe,Me,_e){var qe=M;if(t.type(Y)==="string"){if(Y.match(/^\s*<.*>\s*$/))Y=t.parseXml(Y);else if(Y.match(/^\s*[{[].*[}\]]\s*$/))try{var He=t.parseJSON(Y);Y=He}catch{}}function pt(Tt,Pt){Tt.ready?Me(Tt):(Tt.addHandler("ready",function(){Me(Tt)}),Tt.addHandler("open-failed",function(le){_e({message:le.message,source:Pt})}))}setTimeout(function(){if(t.type(Y)==="string")Y=new t.TileSource({url:Y,crossOriginPolicy:pe.crossOriginPolicy!==void 0?pe.crossOriginPolicy:M.crossOriginPolicy,ajaxWithCredentials:M.ajaxWithCredentials,ajaxHeaders:pe.ajaxHeaders?pe.ajaxHeaders:M.ajaxHeaders,splitHashDataForPost:M.splitHashDataForPost,useCanvas:M.useCanvas,success:function(ke){Me(ke.tileSource)}}),Y.addHandler("open-failed",function(ke){_e(ke)});else if(t.isPlainObject(Y)||Y.nodeType)if(Y.crossOriginPolicy===void 0&&(pe.crossOriginPolicy!==void 0||M.crossOriginPolicy!==void 0)&&(Y.crossOriginPolicy=pe.crossOriginPolicy!==void 0?pe.crossOriginPolicy:M.crossOriginPolicy),Y.ajaxWithCredentials===void 0&&(Y.ajaxWithCredentials=M.ajaxWithCredentials),Y.useCanvas===void 0&&(Y.useCanvas=M.useCanvas),t.isFunction(Y.getTileUrl)){var Tt=new t.TileSource(Y);Tt.getTileUrl=Y.getTileUrl,Me(Tt)}else{var Pt=t.TileSource.determineType(qe,Y);if(!Pt){_e({message:"Unable to load TileSource",source:Y});return}var le=Pt.prototype.configure.apply(qe,[Y]);pt(new Pt(le),Y)}else pt(Y,Y)})}function c(M,Y){if(Y instanceof t.Overlay)return Y;var pe=null;if(Y.element)pe=t.getElement(Y.element);else{var Me=Y.id?Y.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);pe=t.getElement(Y.id),pe||(pe=document.createElement("a"),pe.href="#/overlay/"+Me),pe.id=Me,t.addClass(pe,Y.className?Y.className:"openseadragon-overlay")}var _e=Y.location,qe=Y.width,He=Y.height;if(!_e){var pt=Y.x,Tt=Y.y;if(Y.px!==void 0){var Pt=M.viewport.imageToViewportRectangle(new t.Rect(Y.px,Y.py,qe||0,He||0));pt=Pt.x,Tt=Pt.y,qe=qe!==void 0?Pt.width:void 0,He=He!==void 0?Pt.height:void 0}_e=new t.Point(pt,Tt)}var le=Y.placement;return le&&t.type(le)==="string"&&(le=t.Placement[Y.placement.toUpperCase()]),new t.Overlay({element:pe,location:_e,placement:le,onDraw:Y.onDraw,checkResize:Y.checkResize,width:qe,height:He,rotationMode:Y.rotationMode})}function p(M,Y){var pe;for(pe=M.length-1;pe>=0;pe--)if(M[pe].element===Y)return pe;return-1}function m(M,Y){return t.requestAnimationFrame(function(){Y(M)})}function g(M){t.requestAnimationFrame(function(){S(M)})}function b(M){M.autoHideControls&&(M.controlsShouldFade=!0,M.controlsFadeBeginTime=t.now()+M.controlsFadeDelay,window.setTimeout(function(){g(M)},M.controlsFadeDelay))}function S(M){var Y,pe,Me,_e;if(M.controlsShouldFade){for(Y=t.now(),pe=Y-M.controlsFadeBeginTime,Me=1-pe/M.controlsFadeLength,Me=Math.min(1,Me),Me=Math.max(0,Me),_e=M.controls.length-1;_e>=0;_e--)M.controls[_e].autoFade&&M.controls[_e].setOpacity(Me);Me>0&&g(M)}}function T(M){var Y;for(M.controlsShouldFade=!1,Y=M.controls.length-1;Y>=0;Y--)M.controls[Y].setOpacity(1)}function _(){T(this)}function k(){b(this)}function C(M){var Y={tracker:M.eventSource,position:M.position,originalEvent:M.originalEvent,preventDefault:M.preventDefault};this.raiseEvent("canvas-contextmenu",Y),M.preventDefault=Y.preventDefault}function P(M){var Y={originalEvent:M.originalEvent,preventDefaultAction:!1,preventVerticalPan:M.preventVerticalPan||!this.panVertical,preventHorizontalPan:M.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",Y),!Y.preventDefaultAction&&!M.ctrl&&!M.alt&&!M.meta)switch(M.keyCode){case 38:Y.preventVerticalPan||(M.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),M.preventDefault=!0;break;case 40:Y.preventVerticalPan||(M.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),M.preventDefault=!0;break;case 37:Y.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),M.preventDefault=!0;break;case 39:Y.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),M.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),M.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),M.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),M.preventDefault=!0;break;case 87:Y.preventVerticalPan||(M.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),M.preventDefault=!0;break;case 83:Y.preventVerticalPan||(M.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),M.preventDefault=!0;break;case 65:Y.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),M.preventDefault=!0;break;case 68:Y.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),M.preventDefault=!0;break;case 82:M.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),M.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),M.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:M.preventDefault=!1;break}else M.preventDefault=!1}function A(M){var Y={originalEvent:M.originalEvent};this.raiseEvent("canvas-key-press",Y)}function N(M){var Y,pe=document.activeElement===this.canvas;pe||this.canvas.focus(),this.viewport.flipped&&(M.position.x=this.viewport.getContainerSize().x-M.position.x);var Me={tracker:M.eventSource,position:M.position,quick:M.quick,shift:M.shift,originalEvent:M.originalEvent,originalTarget:M.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",Me),!Me.preventDefaultAction&&this.viewport&&M.quick&&(Y=this.gestureSettingsByDeviceType(M.pointerType),Y.clickToZoom===!0&&(this.viewport.zoomBy(M.shift?1/this.zoomPerClick:this.zoomPerClick,Y.zoomToRefPoint?this.viewport.pointFromPixel(M.position,!0):null),this.viewport.applyConstraints()),Y.dblClickDragToZoom&&(r[this.hash].draggingToZoom===!0?(r[this.hash].lastClickTime=null,r[this.hash].draggingToZoom=!1):r[this.hash].lastClickTime=t.now()))}function W(M){var Y,pe={tracker:M.eventSource,position:M.position,shift:M.shift,originalEvent:M.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",pe),!pe.preventDefaultAction&&this.viewport&&(Y=this.gestureSettingsByDeviceType(M.pointerType),Y.dblClickToZoom&&(this.viewport.zoomBy(M.shift?1/this.zoomPerClick:this.zoomPerClick,Y.zoomToRefPoint?this.viewport.pointFromPixel(M.position,!0):null),this.viewport.applyConstraints()))}function Z(M){var Y,pe={tracker:M.eventSource,pointerType:M.pointerType,position:M.position,delta:M.delta,speed:M.speed,direction:M.direction,shift:M.shift,originalEvent:M.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",pe),Y=this.gestureSettingsByDeviceType(M.pointerType),!pe.preventDefaultAction&&this.viewport){if(Y.dblClickDragToZoom&&r[this.hash].draggingToZoom){var Me=Math.pow(this.zoomPerDblClickDrag,M.delta.y/50);this.viewport.zoomBy(Me)}else if(Y.dragToPan&&!r[this.hash].draggingToZoom){if(this.panHorizontal||(M.delta.x=0),this.panVertical||(M.delta.y=0),this.viewport.flipped&&(M.delta.x=-M.delta.x),this.constrainDuringPan){var _e=this.viewport.deltaPointsFromPixels(M.delta.negate());this.viewport.centerSpringX.target.value+=_e.x,this.viewport.centerSpringY.target.value+=_e.y;var qe=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=_e.x,this.viewport.centerSpringY.target.value-=_e.y,qe.xConstrained&&(M.delta.x=0),qe.yConstrained&&(M.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(M.delta.negate()),Y.flickEnabled&&!this.constrainDuringPan)}}}function H(M){var Y,pe={tracker:M.eventSource,pointerType:M.pointerType,position:M.position,speed:M.speed,direction:M.direction,shift:M.shift,originalEvent:M.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",pe),Y=this.gestureSettingsByDeviceType(M.pointerType),!pe.preventDefaultAction&&this.viewport){if(!r[this.hash].draggingToZoom&&Y.flickEnabled&&M.speed>=Y.flickMinSpeed){var Me=0;this.panHorizontal&&(Me=Y.flickMomentum*M.speed*Math.cos(M.direction));var _e=0;this.panVertical&&(_e=Y.flickMomentum*M.speed*Math.sin(M.direction));var qe=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),He=this.viewport.pointFromPixel(new t.Point(qe.x-Me,qe.y-_e));this.viewport.panTo(He,!1)}this.viewport.applyConstraints()}Y.dblClickDragToZoom&&r[this.hash].draggingToZoom===!0&&(r[this.hash].draggingToZoom=!1)}function ie(M){this.raiseEvent("canvas-enter",{tracker:M.eventSource,pointerType:M.pointerType,position:M.position,buttons:M.buttons,pointers:M.pointers,insideElementPressed:M.insideElementPressed,buttonDownAny:M.buttonDownAny,originalEvent:M.originalEvent})}function ne(M){this.raiseEvent("canvas-exit",{tracker:M.eventSource,pointerType:M.pointerType,position:M.position,buttons:M.buttons,pointers:M.pointers,insideElementPressed:M.insideElementPressed,buttonDownAny:M.buttonDownAny,originalEvent:M.originalEvent})}function ae(M){var Y;if(this.raiseEvent("canvas-press",{tracker:M.eventSource,pointerType:M.pointerType,position:M.position,insideElementPressed:M.insideElementPressed,insideElementReleased:M.insideElementReleased,originalEvent:M.originalEvent}),Y=this.gestureSettingsByDeviceType(M.pointerType),Y.dblClickDragToZoom){var pe=r[this.hash].lastClickTime,Me=t.now();if(pe===null)return;Me-pe<this.dblClickTimeThreshold&&(r[this.hash].draggingToZoom=!0),r[this.hash].lastClickTime=null}}function Se(M){this.raiseEvent("canvas-release",{tracker:M.eventSource,pointerType:M.pointerType,position:M.position,insideElementPressed:M.insideElementPressed,insideElementReleased:M.insideElementReleased,originalEvent:M.originalEvent})}function me(M){this.raiseEvent("canvas-nonprimary-press",{tracker:M.eventSource,position:M.position,pointerType:M.pointerType,button:M.button,buttons:M.buttons,originalEvent:M.originalEvent})}function fe(M){this.raiseEvent("canvas-nonprimary-release",{tracker:M.eventSource,position:M.position,pointerType:M.pointerType,button:M.button,buttons:M.buttons,originalEvent:M.originalEvent})}function he(M){var Y,pe,Me,_e,qe={tracker:M.eventSource,pointerType:M.pointerType,gesturePoints:M.gesturePoints,lastCenter:M.lastCenter,center:M.center,lastDistance:M.lastDistance,distance:M.distance,shift:M.shift,originalEvent:M.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",qe),this.viewport&&(Y=this.gestureSettingsByDeviceType(M.pointerType),Y.pinchToZoom&&(!qe.preventDefaultPanAction||!qe.preventDefaultZoomAction)&&(pe=this.viewport.pointFromPixel(M.center,!0),Y.zoomToRefPoint&&!qe.preventDefaultPanAction&&(Me=this.viewport.pointFromPixel(M.lastCenter,!0),_e=Me.minus(pe),this.panHorizontal||(_e.x=0),this.panVertical||(_e.y=0),this.viewport.panBy(_e,!0)),qe.preventDefaultZoomAction||this.viewport.zoomBy(M.distance/M.lastDistance,pe,!0),this.viewport.applyConstraints()),Y.pinchRotate&&!qe.preventDefaultRotateAction)){var He=Math.atan2(M.gesturePoints[0].currentPos.y-M.gesturePoints[1].currentPos.y,M.gesturePoints[0].currentPos.x-M.gesturePoints[1].currentPos.x),pt=Math.atan2(M.gesturePoints[0].lastPos.y-M.gesturePoints[1].lastPos.y,M.gesturePoints[0].lastPos.x-M.gesturePoints[1].lastPos.x);pe=this.viewport.pointFromPixel(M.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(He-pt)*(180/Math.PI),pe,!0)}}function Ae(M){this.raiseEvent("canvas-focus",{tracker:M.eventSource,originalEvent:M.originalEvent})}function Le(M){this.raiseEvent("canvas-blur",{tracker:M.eventSource,originalEvent:M.originalEvent})}function ve(M){var Y,pe,Me,_e,qe;_e=t.now(),qe=_e-this._lastScrollTime,qe>this.minScrollDeltaTime?(this._lastScrollTime=_e,Y={tracker:M.eventSource,position:M.position,scroll:M.scroll,shift:M.shift,originalEvent:M.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",Y),!Y.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(M.position.x=this.viewport.getContainerSize().x-M.position.x),pe=this.gestureSettingsByDeviceType(M.pointerType),pe.scrollToZoom&&(Me=Math.pow(this.zoomPerScroll,M.scroll),this.viewport.zoomBy(Me,pe.zoomToRefPoint?this.viewport.pointFromPixel(M.position,!0):null),this.viewport.applyConstraints())),M.preventDefault=Y.preventDefault):M.preventDefault=!0}function de(M){r[this.hash].mouseInside=!0,T(this),this.raiseEvent("container-enter",{tracker:M.eventSource,pointerType:M.pointerType,position:M.position,buttons:M.buttons,pointers:M.pointers,insideElementPressed:M.insideElementPressed,buttonDownAny:M.buttonDownAny,originalEvent:M.originalEvent})}function Ee(M){M.pointers<1&&(r[this.hash].mouseInside=!1,r[this.hash].animating||b(this)),this.raiseEvent("container-exit",{tracker:M.eventSource,pointerType:M.pointerType,position:M.position,buttons:M.buttons,pointers:M.pointers,insideElementPressed:M.insideElementPressed,buttonDownAny:M.buttonDownAny,originalEvent:M.originalEvent})}function be(M){ge(M),M.isOpen()?M._updateRequestId=m(M,be):M._updateRequestId=!1}function q(M,Y){var pe=M.viewport,Me=pe.getZoom(),_e=pe.getCenter();pe.resize(Y,M.preserveImageSizeOnResize),pe.panTo(_e,!0);var qe;if(M.preserveImageSizeOnResize)qe=r[M.hash].prevContainerSize.x/Y.x;else{var He=new t.Point(0,0),pt=new t.Point(r[M.hash].prevContainerSize.x,r[M.hash].prevContainerSize.y).distanceTo(He),Tt=new t.Point(Y.x,Y.y).distanceTo(He);qe=Tt/pt*r[M.hash].prevContainerSize.x/Y.x}pe.zoomTo(Me*qe,null,!0),r[M.hash].prevContainerSize=Y,r[M.hash].forceRedraw=!0,r[M.hash].needsResize=!1,r[M.hash].forceResize=!1}function ge(M){if(!(M._opening||!r[M.hash])){if(M.autoResize||r[M.hash].forceResize){var Y;if(M._autoResizePolling){Y=a(M.container);var pe=r[M.hash].prevContainerSize;Y.equals(pe)||(r[M.hash].needsResize=!0)}r[M.hash].needsResize&&q(M,Y||a(M.container))}var Me=M.viewport.update(),_e=M.world.update()||Me;Me&&M.raiseEvent("viewport-change"),M.referenceStrip&&(_e=M.referenceStrip.update(M.viewport)||_e);var qe=r[M.hash].animating;!qe&&_e&&(M.raiseEvent("animation-start"),T(M));var He=qe&&!_e;He&&(r[M.hash].animating=!1),(_e||He||r[M.hash].forceRedraw||M.world.needsDraw())&&(De(M),M._drawOverlays(),M.navigator&&M.navigator.update(M.viewport),r[M.hash].forceRedraw=!1,_e&&M.raiseEvent("animation")),He&&(M.raiseEvent("animation-finish"),r[M.hash].mouseInside||b(M)),r[M.hash].animating=_e}}function De(M){M.imageLoader.clear(),M.drawer.clear(),M.world.draw(),M.raiseEvent("update-viewport",{})}function $(M,Y){return M?M+Y:Y}function Qe(){r[this.hash].lastZoomTime=t.now(),r[this.hash].zoomFactor=this.zoomPerSecond,r[this.hash].zooming=!0,ct(this)}function et(){r[this.hash].lastZoomTime=t.now(),r[this.hash].zoomFactor=1/this.zoomPerSecond,r[this.hash].zooming=!0,ct(this)}function ot(){r[this.hash].zooming=!1}function ct(M){t.requestAnimationFrame(t.delegate(M,yt))}function yt(){var M,Y,pe;r[this.hash].zooming&&this.viewport&&(M=t.now(),Y=M-r[this.hash].lastZoomTime,pe=Math.pow(r[this.hash].zoomFactor,Y/1e3),this.viewport.zoomBy(pe),this.viewport.applyConstraints(),r[this.hash].lastZoomTime=M,ct(this))}function gt(){this.viewport&&(r[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Ke(){this.viewport&&(r[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Ot(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Nt(){this.viewport&&this.viewport.goHome()}function _t(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function un(){if(this.viewport){var M=this.viewport.getRotation();this.viewport.flipped?M+=this.rotationIncrement:M-=this.rotationIncrement,this.viewport.setRotation(M)}}function Et(){if(this.viewport){var M=this.viewport.getRotation();this.viewport.flipped?M-=this.rotationIncrement:M+=this.rotationIncrement,this.viewport.setRotation(M)}}function jt(){this.viewport.toggleFlip()}}(n),function(t){t.Navigator=function(m){var g=m.viewer,b=this,S,T;m.element||m.id?(m.element?(m.id&&t.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),m.element.id?m.id=m.element.id:m.id="navigator-"+t.now(),this.element=m.element):this.element=document.getElementById(m.id),m.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(m.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),m.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:m.autoFade},m.position&&(m.position==="BOTTOM_RIGHT"?m.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:m.position==="BOTTOM_LEFT"?m.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:m.position==="TOP_RIGHT"?m.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:m.position==="TOP_LEFT"?m.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:m.position==="ABSOLUTE"&&(m.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,m.controlOptions.top=m.top,m.controlOptions.left=m.left,m.controlOptions.height=m.height,m.controlOptions.width=m.width))),this.element.id=m.id,this.element.className+=" navigator",m=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},m,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:m.animationTime,autoResize:!1,minZoomImageRatio:1,background:m.background,opacity:m.opacity,borderColor:m.borderColor,displayRegionColor:m.displayRegionColor}),m.minPixelRatio=this.minPixelRatio=g.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),m.controlOptions.anchor!==t.ControlAnchor.NONE&&function(C,P){C.margin="0px",C.border=P+"px solid "+m.borderColor,C.padding="0px",C.background=m.background,C.opacity=m.opacity,C.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(C,P){C.position="relative",C.top="0px",C.left="0px",C.fontSize="0px",C.overflow="hidden",C.border=P+"px solid "+m.displayRegionColor,C.margin="0px",C.padding="0px",C.background="transparent",C.float="left",C.cssFloat="left",C.styleFloat="left",C.zIndex=999999999,C.cursor="default",C.boxSizing="content-box"}(this.displayRegion.style,this.borderWidth),t.setElementPointerEventsNone(this.displayRegion),t.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",t.setElementPointerEventsNone(this.displayRegionContainer),t.setElementTouchActionNone(this.displayRegionContainer),g.addControl(this.element,m.controlOptions),this._resizeWithViewer=m.controlOptions.anchor!==t.ControlAnchor.ABSOLUTE&&m.controlOptions.anchor!==t.ControlAnchor.NONE,m.width&&m.height?(this.setWidth(m.width),this.setHeight(m.height)):this._resizeWithViewer&&(S=t.getElementSize(g.element),this.element.style.height=Math.round(S.y*m.sizeRatio)+"px",this.element.style.width=Math.round(S.x*m.sizeRatio)+"px",this.oldViewerSize=S,T=t.getElementSize(this.element),this.elementArea=T.x*T.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[m]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function _(C,P){c(b.displayRegionContainer,C),c(b.displayRegion,-C),b.viewport.setRotation(C,P)}if(m.navigatorRotate){var k=m.viewer.viewport?m.viewer.viewport.getRotation():m.viewer.degrees||0;_(k,!0),m.viewer.addHandler("rotate",function(C){_(C.degrees,C.immediately)})}this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:t.delegate(this,i),clickHandler:t.delegate(this,r),releaseHandler:t.delegate(this,a),scrollHandler:t.delegate(this,h),preProcessEventHandler:function(C){C.eventType==="wheel"&&(C.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",t.setElementPointerEventsNone(this.canvas),t.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){b.viewport&&b.viewport.goHome(!0)}),g.world.addHandler("item-index-change",function(C){window.setTimeout(function(){var P=b.world.getItemAt(C.previousIndex);b.world.setItemIndex(P,C.newIndex)},1)}),g.world.addHandler("remove-item",function(C){var P=C.item,A=b._getMatchingItem(P);A&&b.world.removeItem(A)}),this.update(g.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var m=new t.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);m.equals(this.oldContainerSize)||(this.viewport.resize(m,!0),this.viewport.goHome(!0),this.oldContainerSize=m,this.drawer.clear(),this.world.draw())}},setWidth:function(m){this.width=m,this.element.style.width=typeof m=="number"?m+"px":m,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(m){this.height=m,this.element.style.height=typeof m=="number"?m+"px":m,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(m){return this.viewport.setFlip(m),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(m){p(this.displayRegion,m),p(this.canvas,m),p(this.element,m)},update:function(m){var g,b,S,T,_,k;if(g=t.getElementSize(this.viewer.element),this._resizeWithViewer&&g.x&&g.y&&!g.equals(this.oldViewerSize)&&(this.oldViewerSize=g,this.maintainSizeRatio||!this.elementArea?(b=g.x*this.sizeRatio,S=g.y*this.sizeRatio):(b=Math.sqrt(this.elementArea*(g.x/g.y)),S=this.elementArea/b),this.element.style.width=Math.round(b)+"px",this.element.style.height=Math.round(S)+"px",this.elementArea||(this.elementArea=b*S),this.updateSize()),m&&this.viewport){if(T=m.getBoundsNoRotate(!0),_=this.viewport.pixelFromPointNoRotate(T.getTopLeft(),!1),k=this.viewport.pixelFromPointNoRotate(T.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var C=m.getRotation(!0);c(this.displayRegion,-C)}var P=this.displayRegion.style;P.display=this.world.getItemCount()?"block":"none",P.top=_.y.toFixed(2)+"px",P.left=_.x.toFixed(2)+"px";var A=k.x-_.x,N=k.y-_.y;P.width=Math.round(Math.max(A,0))+"px",P.height=Math.round(Math.max(N,0))+"px"}},addTiledImage:function(m){var g=this,b=m.originalTiledImage;delete m.original;var S=t.extend({},m,{success:function(T){var _=T.item;_._originalForNavigator=b,g._matchBounds(_,b,!0),g._matchOpacity(_,b),g._matchCompositeOperation(_,b);function k(){g._matchBounds(_,b)}function C(){g._matchOpacity(_,b)}function P(){g._matchCompositeOperation(_,b)}b.addHandler("bounds-change",k),b.addHandler("clip-change",k),b.addHandler("opacity-change",C),b.addHandler("composite-operation-change",P)}});return t.Viewer.prototype.addTiledImage.apply(this,[S])},destroy:function(){return t.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(m){for(var g=this.world.getItemCount(),b,S=0;S<g;S++)if(b=this.world.getItemAt(S),b._originalForNavigator===m)return b;return null},_matchBounds:function(m,g,b){var S=g.getBoundsNoRotate();m.setPosition(S.getTopLeft(),b),m.setWidth(S.width,b),m.setRotation(g.getRotation(),b),m.setClip(g.getClip()),m.setFlip(g.getFlip())},_matchOpacity:function(m,g){m.setOpacity(g.opacity)},_matchCompositeOperation:function(m,g){m.setCompositeOperation(g.compositeOperation)}});function r(m){var g={tracker:m.eventSource,position:m.position,quick:m.quick,shift:m.shift,originalEvent:m.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",g),!g.preventDefaultAction&&m.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(m.position.x=this.viewport.getContainerSize().x-m.position.x);var b=this.viewport.pointFromPixel(m.position);this.panVertical?this.panHorizontal||(b.x=this.viewer.viewport.getCenter(!0).x):b.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(b),this.viewer.viewport.applyConstraints()}}function i(m){var g={tracker:m.eventSource,position:m.position,delta:m.delta,speed:m.speed,direction:m.direction,shift:m.shift,originalEvent:m.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",g),!g.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(m.delta.x=0),this.panVertical||(m.delta.y=0),this.viewer.viewport.flipped&&(m.delta.x=-m.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(m.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function a(m){m.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function h(m){var g={tracker:m.eventSource,position:m.position,scroll:m.scroll,shift:m.shift,originalEvent:m.originalEvent,preventDefault:m.preventDefault};this.viewer.raiseEvent("navigator-scroll",g),m.preventDefault=g.preventDefault}function c(m,g){p(m,"rotate("+g+"deg)")}function p(m,g){m.style.webkitTransform=g,m.style.mozTransform=g,m.style.msTransform=g,m.style.oTransform=g,m.style.transform=g}}(n),function(t){var r={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(i){var a=i.split("."),h=null,c=arguments,p=r,m;for(m=0;m<a.length-1;m++)p=p[a[m]]||{};return h=p[a[m]],typeof h!="string"&&(t.console.error("Untranslated source string:",i),h=""),h.replace(/\{\d+\}/g,function(g){var b=parseInt(g.match(/\d+/),10)+1;return b<c.length?c[b]:""})},setString:function(i,a){var h=i.split("."),c=r,p;for(p=0;p<h.length-1;p++)c[h[p]]||(c[h[p]]={}),c=c[h[p]];c[h[p]]=a}})}(n),function(t){t.Point=function(r,i){this.x=typeof r=="number"?r:0,this.y=typeof i=="number"?i:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(r){return new t.Point(this.x+r.x,this.y+r.y)},minus:function(r){return new t.Point(this.x-r.x,this.y-r.y)},times:function(r){return new t.Point(this.x*r,this.y*r)},divide:function(r){return new t.Point(this.x/r,this.y/r)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(r){return Math.sqrt(Math.pow(this.x-r.x,2)+Math.pow(this.y-r.y,2))},squaredDistanceTo:function(r){return Math.pow(this.x-r.x,2)+Math.pow(this.y-r.y,2)},apply:function(r){return new t.Point(r(this.x),r(this.y))},equals:function(r){return r instanceof t.Point&&this.x===r.x&&this.y===r.y},rotate:function(r,i){i=i||new t.Point(0,0);var a,h;if(r%90===0){var c=t.positiveModulo(r,360);switch(c){case 0:a=1,h=0;break;case 90:a=0,h=1;break;case 180:a=-1,h=0;break;case 270:a=0,h=-1;break}}else{var p=r*Math.PI/180;a=Math.cos(p),h=Math.sin(p)}var m=a*(this.x-i.x)-h*(this.y-i.y)+i.x,g=h*(this.x-i.x)+a*(this.y-i.y)+i.y;return new t.Point(m,g)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(n),function(t){t.TileSource=function(i,a,h,c,p,m){var g=this,b=arguments,S,T;if(t.isPlainObject(i)?S=i:S={width:b[0],height:b[1],tileSize:b[2],tileOverlap:b[3],minLevel:b[4],maxLevel:b[5]},t.EventSource.call(this),t.extend(!0,this,S),!this.success){for(T=0;T<arguments.length;T++)if(t.isFunction(arguments[T])){this.success=arguments[T];break}}this.success&&this.addHandler("ready",function(_){g.success(_)}),t.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=S.width&&S.height?S.width/S.height:1,this.dimensions=new t.Point(S.width,S.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=S.tileOverlap?S.tileOverlap:0,this.minLevel=S.minLevel?S.minLevel:0,this.maxLevel=S.maxLevel!==void 0&&S.maxLevel!==null?S.maxLevel:S.width&&S.height?Math.ceil(Math.log(Math.max(S.width,S.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(i){return t.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(i){return this._tileWidth?this._tileWidth:this.getTileSize(i)},getTileHeight:function(i){return this._tileHeight?this._tileHeight:this.getTileSize(i)},setMaxLevel:function(i){this.maxLevel=i,this._memoizeLevelScale()},getLevelScale:function(i){return this._memoizeLevelScale(),this.getLevelScale(i)},_memoizeLevelScale:function(){var i={},a;for(a=0;a<=this.maxLevel;a++)i[a]=1/Math.pow(2,this.maxLevel-a);this.getLevelScale=function(h){return i[h]}},getNumTiles:function(i){var a=this.getLevelScale(i),h=Math.ceil(a*this.dimensions.x/this.getTileWidth(i)),c=Math.ceil(a*this.dimensions.y/this.getTileHeight(i));return new t.Point(h,c)},getPixelRatio:function(i){var a=this.dimensions.times(this.getLevelScale(i)),h=1/a.x*t.pixelDensityRatio,c=1/a.y*t.pixelDensityRatio;return new t.Point(h,c)},getClosestLevel:function(){var i,a;for(i=this.minLevel+1;i<=this.maxLevel&&(a=this.getNumTiles(i),!(a.x>1||a.y>1));i++);return i-1},getTileAtPoint:function(i,a){var h=a.x>=0&&a.x<=1&&a.y>=0&&a.y<=1/this.aspectRatio;t.console.assert(h,"[TileSource.getTileAtPoint] must be called with a valid point.");var c=this.dimensions.x*this.getLevelScale(i),p=a.x*c,m=a.y*c,g=Math.floor(p/this.getTileWidth(i)),b=Math.floor(m/this.getTileHeight(i));a.x>=1&&(g=this.getNumTiles(i).x-1);var S=1e-15;return a.y>=1/this.aspectRatio-S&&(b=this.getNumTiles(i).y-1),new t.Point(g,b)},getTileBounds:function(i,a,h,c){var p=this.dimensions.times(this.getLevelScale(i)),m=this.getTileWidth(i),g=this.getTileHeight(i),b=a===0?0:m*a-this.tileOverlap,S=h===0?0:g*h-this.tileOverlap,T=m+(a===0?1:2)*this.tileOverlap,_=g+(h===0?1:2)*this.tileOverlap,k=1/p.x;return T=Math.min(T,p.x-b),_=Math.min(_,p.y-S),c?new t.Rect(0,0,T,_):new t.Rect(b*k,S*k,T*k,_*k)},getImageInfo:function(i){var a=this,h,c,p,m,g,b,S;i&&(g=i.split("/"),b=g[g.length-1],S=b.lastIndexOf("."),S>-1&&(g[g.length-1]=b.slice(0,S)));var T=null;if(this.splitHashDataForPost){var _=i.indexOf("#");_!==-1&&(T=i.substring(_+1),i=i.substr(0,_))}c=function(k){typeof k=="string"&&(k=t.parseXml(k));var C=t.TileSource.determineType(a,k,i);if(!C){a.raiseEvent("open-failed",{message:"Unable to load TileSource",source:i});return}m=C.prototype.configure.apply(a,[k,i,T]),m.ajaxWithCredentials===void 0&&(m.ajaxWithCredentials=a.ajaxWithCredentials),p=new C(m),a.ready=!0,a.raiseEvent("ready",{tileSource:p})},i.match(/\.js$/)?(h=i.split("/").pop().replace(".js",""),t.jsonp({url:i,async:!1,callbackName:h,callback:c})):t.makeAjaxRequest({url:i,postData:T,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(k){var C=r(k);c(C)},error:function(k,C){var P;try{P="HTTP "+k.status+" attempting to load TileSource: "+i}catch{var A;typeof C>"u"||!C.toString?A="Unknown error":A=C.toString(),P=A+" attempting to load TileSource: "+i}t.console.error(P),a.raiseEvent("open-failed",{message:P,source:i,postData:T})}})},supports:function(i,a){return!1},configure:function(i,a,h){throw new Error("Method not implemented.")},getTileUrl:function(i,a,h){throw new Error("Method not implemented.")},getTilePostData:function(i,a,h){return null},getTileAjaxHeaders:function(i,a,h){return{}},getTileHashKey:function(i,a,h,c,p,m){function g(b){return p?b+"+"+JSON.stringify(p):b}return g(typeof c!="string"?i+"/"+a+"_"+h:c)},tileExists:function(i,a,h){var c=this.getNumTiles(i);return i>=this.minLevel&&i<=this.maxLevel&&a>=0&&h>=0&&a<c.x&&h<c.y},hasTransparency:function(i,a,h,c){return!!i||a.match(".png")},downloadTileStart:function(i){var a=i.userData,h=new Image;a.image=h,a.request=null;var c=function(p){if(!h){i.finish(null,a.request,"Image load failed: undefined Image instance.");return}h.onload=h.onerror=h.onabort=null,i.finish(p?null:h,a.request,p)};h.onload=function(){c()},h.onabort=h.onerror=function(){c("Image load aborted.")},i.loadWithAjax?a.request=t.makeAjaxRequest({url:i.src,withCredentials:i.ajaxWithCredentials,headers:i.ajaxHeaders,responseType:"arraybuffer",postData:i.postData,success:function(p){var m;try{m=new window.Blob([p.response])}catch(S){var g=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(S.name==="TypeError"&&g){var b=new g;b.append(p.response),m=b.getBlob()}}m.size===0?c("Empty image response."):h.src=(window.URL||window.webkitURL).createObjectURL(m)},error:function(p){c("Image load aborted - XHR error")}}):(i.crossOriginPolicy!==!1&&(h.crossOrigin=i.crossOriginPolicy),h.src=i.src)},downloadTileAbort:function(i){i.userData.request&&i.userData.request.abort();var a=i.userData.image;i.userData.image&&(a.onload=a.onerror=a.onabort=null)},createTileCache:function(i,a,h){i._data=a},destroyTileCache:function(i){i._data=null,i._renderedContext=null},getTileCacheData:function(i){return i._data},getTileCacheDataAsImage:function(i){return i._data},getTileCacheDataAsContext2D:function(i){if(!i._renderedContext){var a=document.createElement("canvas");a.width=i._data.width,a.height=i._data.height,i._renderedContext=a.getContext("2d"),i._renderedContext.drawImage(i._data,0,0),i._data=null}return i._renderedContext}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype);function r(i){var a=i.responseText,h=i.status,c,p;if(i){if(i.status!==200&&i.status!==0)throw h=i.status,c=h===404?"Not Found":i.statusText,new Error(t.getString("Errors.Status",h,c))}else throw new Error(t.getString("Errors.Security"));if(a.match(/^\s*<.*/))try{p=i.responseXML&&i.responseXML.documentElement?i.responseXML:t.parseXml(a)}catch{p=i.responseText}else if(a.match(/\s*[{[].*/))try{p=t.parseJSON(a)}catch{p=a}else p=a;return p}t.TileSource.determineType=function(i,a,h){var c;for(c in n)if(c.match(/.+TileSource$/)&&t.isFunction(n[c])&&t.isFunction(n[c].prototype.supports)&&n[c].prototype.supports.call(i,a,h))return n[c];return t.console.error("No TileSource was able to open %s %s",h,a),null}}(n),function(t){t.DziTileSource=function(a,h,c,p,m,g,b,S,T){var _,k,C,P;if(t.isPlainObject(a)?P=a:P={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=P.tilesUrl,this.fileFormat=P.fileFormat,this.displayRects=P.displayRects,this.displayRects)for(_=this.displayRects.length-1;_>=0;_--)for(k=this.displayRects[_],C=k.minLevel;C<=k.maxLevel;C++)this._levelRects[C]||(this._levelRects[C]=[]),this._levelRects[C].push(k);t.TileSource.apply(this,[P])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(a,h){var c;return a.Image?c=a.Image.xmlns:a.documentElement&&(a.documentElement.localName==="Image"||a.documentElement.tagName==="Image")&&(c=a.documentElement.namespaceURI),c=(c||"").toLowerCase(),c.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||c.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(a,h,c){var p;return t.isPlainObject(a)?p=i(this,a):p=r(this,a),h&&!p.tilesUrl&&(p.tilesUrl=h.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),h.search(/\.(dzi|xml|js)\?/)!==-1?p.queryParams=h.match(/\?.*/):p.queryParams=""),p},getTileUrl:function(a,h,c){return[this.tilesUrl,a,"/",h,"_",c,".",this.fileFormat,this.queryParams].join("")},tileExists:function(a,h,c){var p=this._levelRects[a],m,g,b,S,T,_,k;if(this.minLevel&&a<this.minLevel||this.maxLevel&&a>this.maxLevel)return!1;if(!p||!p.length)return!0;for(k=p.length-1;k>=0;k--)if(m=p[k],!(a<m.minLevel||a>m.maxLevel)&&(g=this.getLevelScale(a),b=m.x*g,S=m.y*g,T=b+m.width*g,_=S+m.height*g,b=Math.floor(b/this._tileWidth),S=Math.floor(S/this._tileWidth),T=Math.ceil(T/this._tileWidth),_=Math.ceil(_/this._tileWidth),b<=h&&h<T&&S<=c&&c<_))return!0;return!1}});function r(a,h){if(!h||!h.documentElement)throw new Error(t.getString("Errors.Xml"));var c=h.documentElement,p=c.localName||c.tagName,m=h.documentElement.namespaceURI,g=null,b=[],S,T,_,k,C;if(p==="Image")try{if(k=c.getElementsByTagName("Size")[0],k===void 0&&(k=c.getElementsByTagNameNS(m,"Size")[0]),g={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:c.getAttribute("Url"),Format:c.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(c.getAttribute("Overlap"),10),TileSize:parseInt(c.getAttribute("TileSize"),10),Size:{Height:parseInt(k.getAttribute("Height"),10),Width:parseInt(k.getAttribute("Width"),10)}}},!t.imageFormatSupported(g.Image.Format))throw new Error(t.getString("Errors.ImageFormat",g.Image.Format.toUpperCase()));for(S=c.getElementsByTagName("DisplayRect"),S===void 0&&(S=c.getElementsByTagNameNS(m,"DisplayRect")[0]),C=0;C<S.length;C++)T=S[C],_=T.getElementsByTagName("Rect")[0],_===void 0&&(_=T.getElementsByTagNameNS(m,"Rect")[0]),b.push({Rect:{X:parseInt(_.getAttribute("X"),10),Y:parseInt(_.getAttribute("Y"),10),Width:parseInt(_.getAttribute("Width"),10),Height:parseInt(_.getAttribute("Height"),10),MinLevel:parseInt(T.getAttribute("MinLevel"),10),MaxLevel:parseInt(T.getAttribute("MaxLevel"),10)}});return b.length&&(g.Image.DisplayRect=b),i(a,g)}catch(N){throw N instanceof Error?N:new Error(t.getString("Errors.Dzi"))}else{if(p==="Collection")throw new Error(t.getString("Errors.Dzc"));if(p==="Error"){var P=c.getElementsByTagName("Message")[0],A=P.firstChild.nodeValue;throw new Error(A)}}throw new Error(t.getString("Errors.Dzi"))}function i(a,h){var c=h.Image,p=c.Url,m=c.Format,g=c.Size,b=c.DisplayRect||[],S=parseInt(g.Width,10),T=parseInt(g.Height,10),_=parseInt(c.TileSize,10),k=parseInt(c.Overlap,10),C=[],P,A;for(A=0;A<b.length;A++)P=b[A].Rect,C.push(new t.DisplayRect(parseInt(P.X,10),parseInt(P.Y,10),parseInt(P.Width,10),parseInt(P.Height,10),parseInt(P.MinLevel,10),parseInt(P.MaxLevel,10)));return t.extend(!0,{width:S,height:T,tileSize:_,tileOverlap:k,minLevel:null,maxLevel:null,tilesUrl:p,fileFormat:m,displayRects:C},h)}}(n),function(t){t.IIIFTileSource=function(c){if(t.extend(!0,this,c),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(c.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=c.version,this.tile_width&&this.tile_height)c.tileWidth=this.tile_width,c.tileHeight=this.tile_height;else if(this.tile_width)c.tileSize=this.tile_width;else if(this.tile_height)c.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)c.tileWidth=this.tiles[0].width,c.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var p=0;p<this.tiles.length;p++)for(var m=0;m<this.tiles[p].scaleFactors.length;m++){var g=this.tiles[p].scaleFactors[m];this.scale_factors.push(g),c.tileSizePerScaleFactor[g]={width:this.tiles[p].width,height:this.tiles[p].height||this.tiles[p].width}}}else if(r(c)){for(var b=Math.min(this.height,this.width),S=[256,512,1024],T=[],_=0;_<S.length;_++)S[_]<=b&&T.push(S[_]);T.length>0?c.tileSize=Math.max.apply(null,T):c.tileSize=b}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,c.levels=i(this),t.extend(!0,c,{width:c.levels[c.levels.length-1].width,height:c.levels[c.levels.length-1].height,tileSize:Math.max(c.height,c.width),tileOverlap:0,minLevel:0,maxLevel:c.levels.length-1}),this.levels=c.levels):t.console.error("Nothing in the info.json to construct image pyramids from");if(!c.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)c.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var k=Math.max.apply(null,this.scale_factors);c.maxLevel=Math.round(Math.log(k)*Math.LOG2E)}if(this.sizes){var C=this.sizes.length;(C===c.maxLevel||C===c.maxLevel+1)&&(this.levelSizes=this.sizes,C===c.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}t.TileSource.apply(this,[c])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(c,p){return c.protocol&&c.protocol==="http://iiif.io/api/image"||c["@context"]&&(c["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||c["@context"]==="http://iiif.io/api/image/1/context.json")||c.profile&&c.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||c.identifier&&c.width&&c.height?!0:!!(c.documentElement&&c.documentElement.tagName==="info"&&c.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(c,p,m){if(t.isPlainObject(c)){if(!c["@context"])c["@context"]="http://iiif.io/api/image/1.0/context.json",c["@id"]=p.replace("/info.json",""),c.version=1;else{var g=c["@context"];if(Array.isArray(g)){for(var b=0;b<g.length;b++)if(typeof g[b]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(g[b])||g[b]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){g=g[b];break}}switch(g){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":c.version=1;break;case"http://iiif.io/api/image/2/context.json":c.version=2;break;case"http://iiif.io/api/image/3/context.json":c.version=3;break;default:t.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(c.preferredFormats){for(var S=0;S<c.preferredFormats.length;S++)if(n.imageFormatSupported(c.preferredFormats[S])){c.tileFormat=c.preferredFormats[S];break}}return c}else{var T=a(c);return T["@context"]="http://iiif.io/api/image/1.0/context.json",T["@id"]=p.replace("/info.xml",""),T.version=1,T}},getTileWidth:function(c){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,c);var p=Math.pow(2,this.maxLevel-c);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[p]?this.tileSizePerScaleFactor[p].width:this._tileWidth},getTileHeight:function(c){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,c);var p=Math.pow(2,this.maxLevel-c);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[p]?this.tileSizePerScaleFactor[p].height:this._tileHeight},getLevelScale:function(c){if(this.emulateLegacyImagePyramid){var p=NaN;return this.levels.length>0&&c>=this.minLevel&&c<=this.maxLevel&&(p=this.levels[c].width/this.levels[this.maxLevel].width),p}return t.TileSource.prototype.getLevelScale.call(this,c)},getNumTiles:function(c){if(this.emulateLegacyImagePyramid){var p=this.getLevelScale(c);return p?new t.Point(1,1):new t.Point(0,0)}if(this.levelSizes){var m=this.levelSizes[c],g=Math.ceil(m.width/this.getTileWidth(c)),b=Math.ceil(m.height/this.getTileHeight(c));return new t.Point(g,b)}else return t.TileSource.prototype.getNumTiles.call(this,c)},getTileAtPoint:function(c,p){if(this.emulateLegacyImagePyramid)return new t.Point(0,0);if(this.levelSizes){var m=p.x>=0&&p.x<=1&&p.y>=0&&p.y<=1/this.aspectRatio;t.console.assert(m,"[TileSource.getTileAtPoint] must be called with a valid point.");var g=this.levelSizes[c].width,b=p.x*g,S=p.y*g,T=Math.floor(b/this.getTileWidth(c)),_=Math.floor(S/this.getTileHeight(c));p.x>=1&&(T=this.getNumTiles(c).x-1);var k=1e-15;return p.y>=1/this.aspectRatio-k&&(_=this.getNumTiles(c).y-1),new t.Point(T,_)}return t.TileSource.prototype.getTileAtPoint.call(this,c,p)},getTileUrl:function(c,p,m){if(this.emulateLegacyImagePyramid){var g=null;return this.levels.length>0&&c>=this.minLevel&&c<=this.maxLevel&&(g=this.levels[c].url),g}var b="0",S=Math.pow(.5,this.maxLevel-c),T,_,k,C,P,A,N,W,Z,H,ie,ne,ae,Se,me,fe;return this.levelSizes?(T=this.levelSizes[c].width,_=this.levelSizes[c].height):(T=Math.ceil(this.width*S),_=Math.ceil(this.height*S)),k=this.getTileWidth(c),C=this.getTileHeight(c),P=Math.round(k/S),A=Math.round(C/S),this.version===1?me="native."+this.tileFormat:me="default."+this.tileFormat,T<k&&_<C?(this.version===2&&T===this.width?ne="full":this.version===3&&T===this.width&&_===this.height?ne="max":this.version===3?ne=T+","+_:ne=T+",",N="full"):(W=p*P,Z=m*A,H=Math.min(P,this.width-W),ie=Math.min(A,this.height-Z),p===0&&m===0&&H===this.width&&ie===this.height?N="full":N=[W,Z,H,ie].join(","),ae=Math.min(k,T-p*k),Se=Math.min(C,_-m*C),this.version===2&&ae===this.width?ne="full":this.version===3&&ae===this.width&&Se===this.height?ne="max":this.version===3?ne=ae+","+Se:ne=ae+","),fe=[this._id,N,ne,b,me].join("/"),fe},__testonly__:{canBeTiled:r,constructLevels:i}});function r(c){var p=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],m=Array.isArray(c.profile)?c.profile[0]:c.profile,g=p.indexOf(m)!==-1,b=!1;return c.version===2&&c.profile.length>1&&c.profile[1].supports&&(b=c.profile[1].supports.indexOf("sizeByW")!==-1),c.version===3&&c.extraFeatures&&(b=c.extraFeatures.indexOf("sizeByWh")!==-1),!g||b}function i(c){for(var p=[],m=0;m<c.sizes.length;m++)p.push({url:c._id+"/full/"+c.sizes[m].width+","+(c.version===3?c.sizes[m].height:"")+"/0/default."+c.tileFormat,width:c.sizes[m].width,height:c.sizes[m].height});return p.sort(function(g,b){return g.width-b.width})}function a(c){if(!c||!c.documentElement)throw new Error(t.getString("Errors.Xml"));var p=c.documentElement,m=p.tagName,g=null;if(m==="info")try{return g={},h(p,g),g}catch(b){throw b instanceof Error?b:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}function h(c,p,m){var g,b;if(c.nodeType===3&&m)b=c.nodeValue.trim(),b.match(/^\d*$/)&&(b=Number(b)),p[m]?(t.isArray(p[m])||(p[m]=[p[m]]),p[m].push(b)):p[m]=b;else if(c.nodeType===1)for(g=0;g<c.childNodes.length;g++)h(c.childNodes[g],p,c.nodeName)}}(n),function(t){t.OsmTileSource=function(r,i,a,h,c){var p;t.isPlainObject(r)?p=r:p={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!p.width||!p.height)&&(p.width=65572864,p.height=65572864),p.tileSize||(p.tileSize=256,p.tileOverlap=0),p.tilesUrl||(p.tilesUrl="http://tile.openstreetmap.org/"),p.minLevel=8,t.TileSource.apply(this,[p])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(r,i){return r.type&&r.type==="openstreetmaps"},configure:function(r,i,a){return r},getTileUrl:function(r,i,a){return this.tilesUrl+(r-8)+"/"+i+"/"+a+".png"}})}(n),function(t){t.TmsTileSource=function(r,i,a,h,c){var p;t.isPlainObject(r)?p=r:p={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var m=Math.ceil(p.width/256)*256,g=Math.ceil(p.height/256)*256,b;m>g?b=m/256:b=g/256,p.maxLevel=Math.ceil(Math.log(b)/Math.log(2))-1,p.tileSize=256,p.width=m,p.height=g,t.TileSource.apply(this,[p])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(r,i){return r.type&&r.type==="tiledmapservice"},configure:function(r,i,a){return r},getTileUrl:function(r,i,a){var h=this.getNumTiles(r).y-1;return this.tilesUrl+r+"/"+i+"/"+(h-a)+".png"}})}(n),function(t){t.ZoomifyTileSource=function(r){typeof r.tileSize>"u"&&(r.tileSize=256),typeof r.fileFormat>"u"&&(r.fileFormat="jpg",this.fileFormat=r.fileFormat);var i={x:r.width,y:r.height};for(r.imageSizes=[{x:r.width,y:r.height}],r.gridSize=[this._getGridSize(r.width,r.height,r.tileSize)];parseInt(i.x,10)>r.tileSize||parseInt(i.y,10)>r.tileSize;)i.x=Math.floor(i.x/2),i.y=Math.floor(i.y/2),r.imageSizes.push({x:i.x,y:i.y}),r.gridSize.push(this._getGridSize(i.x,i.y,r.tileSize));r.imageSizes.reverse(),r.gridSize.reverse(),r.minLevel=0,r.maxLevel=r.gridSize.length-1,n.TileSource.apply(this,[r])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(r,i,a){return{x:Math.ceil(r/a),y:Math.ceil(i/a)}},_calculateAbsoluteTileNumber:function(r,i,a){for(var h=0,c={},p=0;p<r;p++)c=this.gridSize[p],h+=c.x*c.y;return c=this.gridSize[r],h+=c.x*a+i,h},supports:function(r,i){return r.type&&r.type==="zoomifytileservice"},configure:function(r,i,a){return r},getTileUrl:function(r,i,a){var h=0,c=this._calculateAbsoluteTileNumber(r,i,a);return h=Math.floor(c/256),this.tilesUrl+"TileGroup"+h+"/"+r+"-"+i+"-"+a+"."+this.fileFormat}})}(n),function(t){t.LegacyTileSource=function(h){var c,p,m;t.isArray(h)&&(c={type:"legacy-image-pyramid",levels:h}),c.levels=r(c.levels),c.levels.length>0?(p=c.levels[c.levels.length-1].width,m=c.levels[c.levels.length-1].height):(p=0,m=0,t.console.error("No supported image formats found")),t.extend(!0,c,{width:p,height:m,tileSize:Math.max(m,p),tileOverlap:0,minLevel:0,maxLevel:c.levels.length>0?c.levels.length-1:0}),t.TileSource.apply(this,[c]),this.levels=c.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(h,c){return h.type&&h.type==="legacy-image-pyramid"||h.documentElement&&h.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(h,c,p){var m;return t.isPlainObject(h)?m=a(this,h):m=i(this,h),m},getLevelScale:function(h){var c=NaN;return this.levels.length>0&&h>=this.minLevel&&h<=this.maxLevel&&(c=this.levels[h].width/this.levels[this.maxLevel].width),c},getNumTiles:function(h){var c=this.getLevelScale(h);return c?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(h,c,p){var m=null;return this.levels.length>0&&h>=this.minLevel&&h<=this.maxLevel&&(m=this.levels[h].url),m}});function r(h){var c=[],p,m;for(m=0;m<h.length;m++)p=h[m],p.height&&p.width&&p.url?c.push({url:p.url,width:Number(p.width),height:Number(p.height)}):t.console.error("Unsupported image format: %s",p.url?p.url:"<no URL>");return c.sort(function(g,b){return g.height-b.height})}function i(h,c){if(!c||!c.documentElement)throw new Error(t.getString("Errors.Xml"));var p=c.documentElement,m=p.tagName,g=null,b=[],S,T;if(m==="image")try{for(g={type:p.getAttribute("type"),levels:[]},b=p.getElementsByTagName("level"),T=0;T<b.length;T++)S=b[T],g.levels.push({url:S.getAttribute("url"),width:parseInt(S.getAttribute("width"),10),height:parseInt(S.getAttribute("height"),10)});return a(h,g)}catch(_){throw _ instanceof Error?_:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(m==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(m==="error")throw new Error("Error: "+c)}throw new Error("Unknown element "+m)}function a(h,c){return c.levels}}(n),function(t){t.ImageTileSource=function(r){r=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},r),t.TileSource.apply(this,[r])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(r,i){return r.type&&r.type==="image"},configure:function(r,i,a){return r},getImageInfo:function(r){var i=this._image=new Image,a=this;this.crossOriginPolicy&&(i.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(i.useCredentials=this.ajaxWithCredentials),t.addEvent(i,"load",function(){a.width=i.naturalWidth,a.height=i.naturalHeight,a.aspectRatio=a.width/a.height,a.dimensions=new t.Point(a.width,a.height),a._tileWidth=a.width,a._tileHeight=a.height,a.tileOverlap=0,a.minLevel=0,a.levels=a._buildLevels(),a.maxLevel=a.levels.length-1,a.ready=!0,a.raiseEvent("ready",{tileSource:a})}),t.addEvent(i,"error",function(){a.raiseEvent("open-failed",{message:"Error loading image at "+r,source:r})}),i.src=r},getLevelScale:function(r){var i=NaN;return r>=this.minLevel&&r<=this.maxLevel&&(i=this.levels[r].width/this.levels[this.maxLevel].width),i},getNumTiles:function(r){var i=this.getLevelScale(r);return i?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(r,i,a){var h=null;return r>=this.minLevel&&r<=this.maxLevel&&(h=this.levels[r].url),h},getContext2D:function(r,i,a){var h=null;return r>=this.minLevel&&r<=this.maxLevel&&(h=this.levels[r].context2D),h},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var r=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!t.supportsCanvas||!this.useCanvas)return delete this._image,r;var i=this._image.naturalWidth,a=this._image.naturalHeight,h=document.createElement("canvas"),c=h.getContext("2d");if(h.width=i,h.height=a,c.drawImage(this._image,0,0,i,a),r[0].context2D=c,delete this._image,t.isCanvasTainted(h))return r;for(;i>=2&&a>=2;){i=Math.floor(i/2),a=Math.floor(a/2);var p=document.createElement("canvas"),m=p.getContext("2d");p.width=i,p.height=a,m.drawImage(h,0,0,i,a),r.splice(0,0,{context2D:m,width:i,height:a}),h=p,c=m}return r},_freeupCanvasMemory:function(){for(var r=0;r<this.levels.length;r++)this.levels[r].context2D&&(this.levels[r].context2D.canvas.height=0,this.levels[r].context2D.canvas.width=0)}})}(n),function(t){t.TileSourceCollection=function(r,i,a,h){t.console.error("TileSourceCollection is deprecated; use World instead")}}(n),function(t){t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(m){var g=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},m),this.element=m.element||t.makeNeutralElement("div"),m.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,t.setElementPointerEventsNone(this.imgRest),t.setElementPointerEventsNone(this.imgGroup),t.setElementPointerEventsNone(this.imgHover),t.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",t.Browser.vendor===t.BROWSERS.FIREFOX&&t.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(b){b.insideElementPressed?(c(g,t.ButtonState.DOWN),g.raiseEvent("enter",{originalEvent:b.originalEvent})):b.buttonDownAny||c(g,t.ButtonState.HOVER)},focusHandler:function(b){g.tracker.enterHandler(b),g.raiseEvent("focus",{originalEvent:b.originalEvent})},leaveHandler:function(b){p(g,t.ButtonState.GROUP),b.insideElementPressed&&g.raiseEvent("exit",{originalEvent:b.originalEvent})},blurHandler:function(b){g.tracker.leaveHandler(b),g.raiseEvent("blur",{originalEvent:b.originalEvent})},pressHandler:function(b){c(g,t.ButtonState.DOWN),g.raiseEvent("press",{originalEvent:b.originalEvent})},releaseHandler:function(b){b.insideElementPressed&&b.insideElementReleased?(p(g,t.ButtonState.HOVER),g.raiseEvent("release",{originalEvent:b.originalEvent})):b.insideElementPressed?p(g,t.ButtonState.GROUP):c(g,t.ButtonState.HOVER)},clickHandler:function(b){b.quick&&g.raiseEvent("click",{originalEvent:b.originalEvent})},keyHandler:function(b){b.keyCode===13?(g.raiseEvent("click",{originalEvent:b.originalEvent}),g.raiseEvent("release",{originalEvent:b.originalEvent}),b.preventDefault=!0):b.preventDefault=!1}}),p(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){c(this,t.ButtonState.GROUP)},notifyGroupExit:function(){p(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function r(m){t.requestAnimationFrame(function(){i(m)})}function i(m){var g,b,S;m.shouldFade&&(g=t.now(),b=g-m.fadeBeginTime,S=1-b/m.fadeLength,S=Math.min(1,S),S=Math.max(0,S),m.imgGroup&&t.setElementOpacity(m.imgGroup,S,!0),S>0&&r(m))}function a(m){m.shouldFade=!0,m.fadeBeginTime=t.now()+m.fadeDelay,window.setTimeout(function(){r(m)},m.fadeDelay)}function h(m){m.shouldFade=!1,m.imgGroup&&t.setElementOpacity(m.imgGroup,1,!0)}function c(m,g){m.element.disabled||(g>=t.ButtonState.GROUP&&m.currentState===t.ButtonState.REST&&(h(m),m.currentState=t.ButtonState.GROUP),g>=t.ButtonState.HOVER&&m.currentState===t.ButtonState.GROUP&&(m.imgHover&&(m.imgHover.style.visibility=""),m.currentState=t.ButtonState.HOVER),g>=t.ButtonState.DOWN&&m.currentState===t.ButtonState.HOVER&&(m.imgDown&&(m.imgDown.style.visibility=""),m.currentState=t.ButtonState.DOWN))}function p(m,g){m.element.disabled||(g<=t.ButtonState.HOVER&&m.currentState===t.ButtonState.DOWN&&(m.imgDown&&(m.imgDown.style.visibility="hidden"),m.currentState=t.ButtonState.HOVER),g<=t.ButtonState.GROUP&&m.currentState===t.ButtonState.HOVER&&(m.imgHover&&(m.imgHover.style.visibility="hidden"),m.currentState=t.ButtonState.GROUP),g<=t.ButtonState.REST&&m.currentState===t.ButtonState.GROUP&&(a(m),m.currentState=t.ButtonState.REST))}}(n),function(t){t.ButtonGroup=function(r){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},r);var i=this.buttons.concat([]),a=this,h;if(this.element=r.element||t.makeNeutralElement("div"),!r.group)for(this.element.style.display="inline-block",h=0;h<i.length;h++)this.element.appendChild(i[h].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(c){var p;for(p=0;p<a.buttons.length;p++)a.buttons[p].notifyGroupEnter()},leaveHandler:function(c){var p;if(!c.insideElementPressed)for(p=0;p<a.buttons.length;p++)a.buttons[p].notifyGroupExit()}})},t.ButtonGroup.prototype={addButton:function(r){this.buttons.push(r),this.element.appendChild(r.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var r=this.buttons.pop();this.element.removeChild(r.element),r.destroy()}this.tracker.destroy(),this.element=null}}}(n),function(t){t.Rect=function(r,i,a,h,c){this.x=typeof r=="number"?r:0,this.y=typeof i=="number"?i:0,this.width=typeof a=="number"?a:0,this.height=typeof h=="number"?h:0,this.degrees=typeof c=="number"?c:0,this.degrees=t.positiveModulo(this.degrees,360);var p,m;this.degrees>=270?(p=this.getTopRight(),this.x=p.x,this.y=p.y,m=this.height,this.height=this.width,this.width=m,this.degrees-=270):this.degrees>=180?(p=this.getBottomRight(),this.x=p.x,this.y=p.y,this.degrees-=180):this.degrees>=90&&(p=this.getBottomLeft(),this.x=p.x,this.y=p.y,m=this.height,this.height=this.width,this.width=m,this.degrees-=90)},t.Rect.fromSummits=function(r,i,a){var h=r.distanceTo(i),c=r.distanceTo(a),p=i.minus(r),m=Math.atan(p.y/p.x);return p.x<0?m+=Math.PI:p.y<0&&(m+=2*Math.PI),new t.Rect(r.x,r.y,h,c,m/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(r){return r instanceof t.Rect&&this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height&&this.degrees===r.degrees},times:function(r){return new t.Rect(this.x*r,this.y*r,this.width*r,this.height*r,this.degrees)},translate:function(r){return new t.Rect(this.x+r.x,this.y+r.y,this.width,this.height,this.degrees)},union:function(r){var i=this.getBoundingBox(),a=r.getBoundingBox(),h=Math.min(i.x,a.x),c=Math.min(i.y,a.y),p=Math.max(i.x+i.width,a.x+a.width),m=Math.max(i.y+i.height,a.y+a.height);return new t.Rect(h,c,p-h,m-c)},intersection:function(r){var i=1e-10,a=[],h=this.getTopLeft();r.containsPoint(h,i)&&a.push(h);var c=this.getTopRight();r.containsPoint(c,i)&&a.push(c);var p=this.getBottomLeft();r.containsPoint(p,i)&&a.push(p);var m=this.getBottomRight();r.containsPoint(m,i)&&a.push(m);var g=r.getTopLeft();this.containsPoint(g,i)&&a.push(g);var b=r.getTopRight();this.containsPoint(b,i)&&a.push(b);var S=r.getBottomLeft();this.containsPoint(S,i)&&a.push(S);var T=r.getBottomRight();this.containsPoint(T,i)&&a.push(T);for(var _=this._getSegments(),k=r._getSegments(),C=0;C<_.length;C++)for(var P=_[C],A=0;A<k.length;A++){var N=k[A],W=Z(P[0],P[1],N[0],N[1]);W&&a.push(W)}function Z(fe,he,Ae,Le){var ve=he.minus(fe),de=Le.minus(Ae),Ee=-de.x*ve.y+ve.x*de.y;if(Ee===0)return null;var be=(ve.x*(fe.y-Ae.y)-ve.y*(fe.x-Ae.x))/Ee,q=(de.x*(fe.y-Ae.y)-de.y*(fe.x-Ae.x))/Ee;return-i<=be&&be<=1-i&&-i<=q&&q<=1-i?new t.Point(fe.x+q*ve.x,fe.y+q*ve.y):null}if(a.length===0)return null;for(var H=a[0].x,ie=a[0].x,ne=a[0].y,ae=a[0].y,Se=1;Se<a.length;Se++){var me=a[Se];me.x<H&&(H=me.x),me.x>ie&&(ie=me.x),me.y<ne&&(ne=me.y),me.y>ae&&(ae=me.y)}return new t.Rect(H,ne,ie-H,ae-ne)},_getSegments:function(){var r=this.getTopLeft(),i=this.getTopRight(),a=this.getBottomLeft(),h=this.getBottomRight();return[[r,i],[i,h],[h,a],[a,r]]},rotate:function(r,i){if(r=t.positiveModulo(r,360),r===0)return this.clone();i=i||this.getCenter();var a=this.getTopLeft().rotate(r,i),h=this.getTopRight().rotate(r,i),c=h.minus(a);c=c.apply(function(m){var g=1e-15;return Math.abs(m)<g?0:m});var p=Math.atan(c.y/c.x);return c.x<0?p+=Math.PI:c.y<0&&(p+=2*Math.PI),new t.Rect(a.x,a.y,this.width,this.height,p/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var r=this.getTopLeft(),i=this.getTopRight(),a=this.getBottomLeft(),h=this.getBottomRight(),c=Math.min(r.x,i.x,a.x,h.x),p=Math.max(r.x,i.x,a.x,h.x),m=Math.min(r.y,i.y,a.y,h.y),g=Math.max(r.y,i.y,a.y,h.y);return new t.Rect(c,m,p-c,g-m)},getIntegerBoundingBox:function(){var r=this.getBoundingBox(),i=Math.floor(r.x),a=Math.floor(r.y),h=Math.ceil(r.width+r.x-i),c=Math.ceil(r.height+r.y-a);return new t.Rect(i,a,h,c)},containsPoint:function(r,i){i=i||0;var a=this.getTopLeft(),h=this.getTopRight(),c=this.getBottomLeft(),p=h.minus(a),m=c.minus(a);return(r.x-a.x)*p.x+(r.y-a.y)*p.y>=-i&&(r.x-h.x)*p.x+(r.y-h.y)*p.y<=i&&(r.x-a.x)*m.x+(r.y-a.y)*m.y>=-i&&(r.x-c.x)*m.x+(r.y-c.y)*m.y<=i},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(n),function(t){var r={};t.ReferenceStrip=function(S){var T=this,_=S.viewer,k=t.getElementSize(_.element),C,P,A;for(S.id||(S.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=S.id,this.element.className="referencestrip"),S=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},S,{element:this.element}),t.extend(this,S),r[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,P=this.element.style,P.marginTop="0px",P.marginRight="0px",P.marginBottom="0px",P.marginLeft="0px",P.left="0px",P.bottom="0px",P.border="0px",P.background="#000",P.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=_,this.tracker=new t.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:t.delegate(this,i),dragHandler:t.delegate(this,a),scrollHandler:t.delegate(this,h),enterHandler:t.delegate(this,p),leaveHandler:t.delegate(this,m),keyDownHandler:t.delegate(this,g),keyHandler:t.delegate(this,b),preProcessEventHandler:function(N){N.eventType==="wheel"&&(N.preventDefault=!0)}}),S.width&&S.height?(this.element.style.width=S.width+"px",this.element.style.height=S.height+"px",_.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):S.scroll==="horizontal"?(this.element.style.width=k.x*S.sizeRatio*_.tileSources.length+12*_.tileSources.length+"px",this.element.style.height=k.y*S.sizeRatio+"px",_.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=k.y*S.sizeRatio*_.tileSources.length+12*_.tileSources.length+"px",this.element.style.width=k.x*S.sizeRatio+"px",_.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=k.x*this.sizeRatio+8,this.panelHeight=k.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},A=0;A<_.tileSources.length;A++)C=t.makeNeutralElement("div"),C.id=this.element.id+"-"+A,C.style.width=T.panelWidth+"px",C.style.height=T.panelHeight+"px",C.style.display="inline",C.style.float="left",C.style.cssFloat="left",C.style.styleFloat="left",C.style.padding="2px",t.setElementTouchActionNone(C),t.setElementPointerEventsNone(C),this.element.appendChild(C),C.activePanel=!1,this.panels.push(C);c(this,this.scroll==="vertical"?k.y:k.x,0),this.setFocus(0)},t.ReferenceStrip.prototype={setFocus:function(S){var T=this.element.querySelector("#"+this.element.id+"-"+S),_=t.getElementSize(this.viewer.canvas),k=Number(this.element.style.width.replace("px","")),C=Number(this.element.style.height.replace("px","")),P=-Number(this.element.style.marginLeft.replace("px","")),A=-Number(this.element.style.marginTop.replace("px","")),N;this.currentSelected!==T&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=T,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(N=Number(S)*(this.panelWidth+3),N>P+_.x-this.panelWidth?(N=Math.min(N,k-_.x),this.element.style.marginLeft=-N+"px",c(this,_.x,-N)):N<P&&(N=Math.max(0,N-_.x/2),this.element.style.marginLeft=-N+"px",c(this,_.x,-N))):(N=Number(S)*(this.panelHeight+3),N>A+_.y-this.panelHeight?(N=Math.min(N,C-_.y),this.element.style.marginTop=-N+"px",c(this,_.y,-N)):N<A&&(N=Math.max(0,N-_.y/2),this.element.style.marginTop=-N+"px",c(this,_.y,-N))),this.currentPage=S,p.call(this,{eventSource:this.tracker}))},update:function(){return!!r[this.id].animating},destroy:function(){if(this.miniViewers)for(var S in this.miniViewers)this.miniViewers[S].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function i(S){if(S.quick){var T;this.scroll==="horizontal"?T=Math.floor(S.position.x/(this.panelWidth+4)):T=Math.floor(S.position.y/this.panelHeight),this.viewer.goToPage(T)}this.element.focus()}function a(S){if(this.dragging=!0,this.element){var T=Number(this.element.style.marginLeft.replace("px","")),_=Number(this.element.style.marginTop.replace("px","")),k=Number(this.element.style.width.replace("px","")),C=Number(this.element.style.height.replace("px","")),P=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-S.delta.x>0?T>-(k-P.x)&&(this.element.style.marginLeft=T+S.delta.x*2+"px",c(this,P.x,T+S.delta.x*2)):-S.delta.x<0&&T<0&&(this.element.style.marginLeft=T+S.delta.x*2+"px",c(this,P.x,T+S.delta.x*2)):-S.delta.y>0?_>-(C-P.y)&&(this.element.style.marginTop=_+S.delta.y*2+"px",c(this,P.y,_+S.delta.y*2)):-S.delta.y<0&&_<0&&(this.element.style.marginTop=_+S.delta.y*2+"px",c(this,P.y,_+S.delta.y*2))}}function h(S){if(this.element){var T=Number(this.element.style.marginLeft.replace("px","")),_=Number(this.element.style.marginTop.replace("px","")),k=Number(this.element.style.width.replace("px","")),C=Number(this.element.style.height.replace("px","")),P=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?S.scroll>0?T>-(k-P.x)&&(this.element.style.marginLeft=T-S.scroll*60+"px",c(this,P.x,T-S.scroll*60)):S.scroll<0&&T<0&&(this.element.style.marginLeft=T-S.scroll*60+"px",c(this,P.x,T-S.scroll*60)):S.scroll<0?_>P.y-C&&(this.element.style.marginTop=_+S.scroll*60+"px",c(this,P.y,_+S.scroll*60)):S.scroll>0&&_<0&&(this.element.style.marginTop=_+S.scroll*60+"px",c(this,P.y,_+S.scroll*60)),S.preventDefault=!0}}function c(S,T,_){var k,C,P,A,N,W;for(S.scroll==="horizontal"?k=S.panelWidth:k=S.panelHeight,C=Math.ceil(T/k)+5,P=Math.ceil((Math.abs(_)+T)/k)+1,C=P-C,C=C<0?0:C,N=C;N<P&&N<S.panels.length;N++)if(W=S.panels[N],!W.activePanel){var Z,H=S.viewer.tileSources[N];H.referenceStripThumbnailUrl?Z={type:"image",url:H.referenceStripThumbnailUrl}:Z=H,A=new t.Viewer({id:W.id,tileSources:[Z],element:W,navigatorSizeRatio:S.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:S.viewer.loadTilesWithAjax,ajaxHeaders:S.viewer.ajaxHeaders,useCanvas:S.useCanvas}),t.setElementPointerEventsNone(A.canvas),t.setElementPointerEventsNone(A.container),A.innerTracker.setTracking(!1),A.outerTracker.setTracking(!1),S.miniViewers[W.id]=A,W.activePanel=!0}}function p(S){var T=S.eventSource.element;this.scroll==="horizontal"?T.style.marginBottom="0px":T.style.marginLeft="0px"}function m(S){var T=S.eventSource.element;this.scroll==="horizontal"?T.style.marginBottom="-"+t.getElementSize(T).y/2+"px":T.style.marginLeft="-"+t.getElementSize(T).x/2+"px"}function g(S){if(!S.ctrl&&!S.alt&&!S.meta)switch(S.keyCode){case 38:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 40:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 37:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 39:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;default:S.preventDefault=!1;break}else S.preventDefault=!1}function b(S){if(!S.ctrl&&!S.alt&&!S.meta)switch(S.keyCode){case 61:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 45:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 48:case 119:case 87:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 115:case 83:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 97:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 100:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;default:S.preventDefault=!1;break}else S.preventDefault=!1}}(n),function(t){t.DisplayRect=function(r,i,a,h,c,p){t.Rect.apply(this,[r,i,a,h]),this.minLevel=c,this.maxLevel=p},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(n),function(t){t.Spring=function(i){var a=arguments;typeof i!="object"&&(i={initial:a.length&&typeof a[0]=="number"?a[0]:void 0,springStiffness:a.length>1?a[1].springStiffness:5,animationTime:a.length>1?a[1].animationTime:1.5}),t.console.assert(typeof i.springStiffness=="number"&&i.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert(typeof i.animationTime=="number"&&i.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),i.exponential&&(this._exponential=!0,delete i.exponential),t.extend(!0,this,i),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(i){t.console.assert(!this._exponential||i!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=i,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(i){t.console.assert(!this._exponential||i!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=i,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(i){this.start.value+=i,this.target.value+=i,this._exponential&&(t.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(i){this._exponential=i,this._exponential&&(t.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=t.now();var i,a;this._exponential?(i=this.start._logValue,a=this.target._logValue):(i=this.start.value,a=this.target.value);var h=this.current.time>=this.target.time?a:i+(a-i)*r(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),c=this.current.value;return this._exponential?this.current.value=Math.exp(h):this.current.value=h,c!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function r(i,a){return(1-Math.exp(i*-a))/(1-Math.exp(-i))}}(n),function(t){t.ImageJob=function(i){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},i),this.data=null,this.userData={},this.errorMsg=null},t.ImageJob.prototype={start:function(){this.tries++;var i=this,a=this.abort;this.jobId=window.setTimeout(function(){i.finish(null,null,"Image load exceeded timeout ("+i.timeout+" ms)")},this.timeout),this.abort=function(){i.source.downloadTileAbort(i),typeof a=="function"&&a()},this.source.downloadTileStart(this)},finish:function(i,a,h){this.data=i,this.request=a,this.errorMsg=h,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(i){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},i)},t.ImageLoader.prototype={addJob:function(i){if(!i.source){t.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var a=t.TileSource.prototype;i.source={downloadTileStart:a.downloadTileStart,downloadTileAbort:a.downloadTileAbort}}var h=this,c=function(g){r(h,g,i.callback)},p={src:i.src,tile:i.tile||{},source:i.source,loadWithAjax:i.loadWithAjax,ajaxHeaders:i.loadWithAjax?i.ajaxHeaders:null,crossOriginPolicy:i.crossOriginPolicy,ajaxWithCredentials:i.ajaxWithCredentials,postData:i.postData,callback:c,abort:i.abort,timeout:this.timeout},m=new t.ImageJob(p);!this.jobLimit||this.jobsInProgress<this.jobLimit?(m.start(),this.jobsInProgress++):this.jobQueue.push(m)},clear:function(){for(var i=0;i<this.jobQueue.length;i++){var a=this.jobQueue[i];typeof a.abort=="function"&&a.abort()}this.jobQueue=[]}};function r(i,a,h){a.errorMsg!==""&&(a.data===null||a.data===void 0)&&a.tries<1+i.tileRetryMax&&i.failedTiles.push(a);var c;i.jobsInProgress--,(!i.jobLimit||i.jobsInProgress<i.jobLimit)&&i.jobQueue.length>0&&(c=i.jobQueue.shift(),c.start(),i.jobsInProgress++),i.tileRetryMax>0&&i.jobQueue.length===0&&(!i.jobLimit||i.jobsInProgress<i.jobLimit)&&i.failedTiles.length>0&&(c=i.failedTiles.shift(),setTimeout(function(){c.start()},i.tileRetryDelay),i.jobsInProgress++),h(a.data,a.errorMsg,a.request)}}(n),function(t){t.Tile=function(r,i,a,h,c,p,m,g,b,S,T,_){this.level=r,this.x=i,this.y=a,this.bounds=h,this.sourceBounds=S,this.exists=c,this._url=p,this.postData=T,this.context2D=m,this.loadWithAjax=g,this.ajaxHeaders=b,_===void 0&&(t.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),_=t.TileSource.prototype.getTileHashKey(r,i,a,p,b,T)),this.cacheKey=_,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(r){if(!this.cacheImageRecord){t.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}if(!this.element){var i=this.getImage();if(!i)return;this.element=t.makeNeutralElement("div"),this.imgElement=i.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==r&&r.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),t.setElementOpacity(this.element,this.opacity)},get image(){return t.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return t.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(r,i,a,h,c,p){var m=this.position.times(t.pixelDensityRatio),g=this.size.times(t.pixelDensityRatio),b;if(!this.context2D&&!this.cacheImageRecord){t.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(b=this.getCanvasContext(),!this.loaded||!b){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}r.save(),r.globalAlpha=this.opacity,typeof a=="number"&&a!==1&&(m=m.times(a),g=g.times(a)),h instanceof t.Point&&(m=m.plus(h)),r.globalAlpha===1&&this.hasTransparency&&(c&&(m.x=Math.round(m.x),m.y=Math.round(m.y),g.x=Math.round(g.x),g.y=Math.round(g.y)),r.clearRect(m.x,m.y,g.x,g.y)),i({context:r,tile:this,rendered:b});var S,T;this.sourceBounds?(S=Math.min(this.sourceBounds.width,b.canvas.width),T=Math.min(this.sourceBounds.height,b.canvas.height)):(S=b.canvas.width,T=b.canvas.height),r.translate(m.x+g.x/2,0),this.flipped&&r.scale(-1,1),r.drawImage(b.canvas,0,0,S,T,-g.x/2,m.y,g.x,g.y),r.restore()},getScaleForEdgeSmoothing:function(){var r;if(this.cacheImageRecord)r=this.cacheImageRecord.getRenderedContext();else if(this.context2D)r=this.context2D;else return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return r.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(r,i,a){var h=Math.max(1,Math.ceil((a.x-i.x)/2)),c=Math.max(1,Math.ceil((a.y-i.y)/2));return new t.Point(h,c).minus(this.position.times(t.pixelDensityRatio).times(r||1).apply(function(p){return p%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(n),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(r,i,a){var h;t.isPlainObject(r)?h=r:h={element:r,location:i,placement:a},this.element=h.element,this.style=h.element.style,this._init(h)},t.Overlay.prototype={_init:function(r){this.location=r.location,this.placement=r.placement===void 0?t.Placement.TOP_LEFT:r.placement,this.onDraw=r.onDraw,this.checkResize=r.checkResize===void 0?!0:r.checkResize,this.width=r.width===void 0?null:r.width,this.height=r.height===void 0?null:r.height,this.rotationMode=r.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(r,i){var a=t.Placement.properties[this.placement];a&&(a.isHorizontallyCentered?r.x-=i.x/2:a.isRight&&(r.x-=i.x),a.isVerticallyCentered?r.y-=i.y/2:a.isBottom&&(r.y-=i.y))},destroy:function(){var r=this.element,i=this.style;r.parentNode&&(r.parentNode.removeChild(r),r.prevElementParent&&(i.display="none",document.body.appendChild(r))),this.onDraw=null,i.top="",i.left="",i.position="",this.width!==null&&(i.width=""),this.height!==null&&(i.height="");var a=t.getCssPropertyWithVendorPrefix("transformOrigin"),h=t.getCssPropertyWithVendorPrefix("transform");a&&h&&(i[a]="",i[h]="")},drawHTML:function(r,i){var a=this.element;a.parentNode!==r&&(a.prevElementParent=a.parentNode,a.prevNextSibling=a.nextSibling,r.appendChild(a),this.style.position="absolute",this.size=t.getElementSize(a));var h=this._getOverlayPositionAndSize(i),c=h.position,p=this.size=h.size,m=h.rotate;if(this.onDraw)this.onDraw(c,p,this.element);else{var g=this.style;g.left=c.x+"px",g.top=c.y+"px",this.width!==null&&(g.width=p.x+"px"),this.height!==null&&(g.height=p.y+"px");var b=t.getCssPropertyWithVendorPrefix("transformOrigin"),S=t.getCssPropertyWithVendorPrefix("transform");b&&S&&(m?(g[b]=this._getTransformOrigin(),g[S]="rotate("+m+"deg)"):(g[b]="",g[S]="")),g.display="block"}},_getOverlayPositionAndSize:function(r){var i=r.pixelFromPoint(this.location,!0),a=this._getSizeInPixels(r);this.adjust(i,a);var h=0;if(r.getRotation(!0)&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var c=new t.Rect(i.x,i.y,a.x,a.y),p=this._getBoundingBox(c,r.getRotation(!0));i=p.getTopLeft(),a=p.getSize()}else h=r.getRotation(!0);return{position:i,size:a,rotate:h}},_getSizeInPixels:function(r){var i=this.size.x,a=this.size.y;if(this.width!==null||this.height!==null){var h=r.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);this.width!==null&&(i=h.x),this.height!==null&&(a=h.y)}if(this.checkResize&&(this.width===null||this.height===null)){var c=this.size=t.getElementSize(this.element);this.width===null&&(i=c.x),this.height===null&&(a=c.y)}return new t.Point(i,a)},_getBoundingBox:function(r,i){var a=this._getPlacementPoint(r);return r.rotate(i,a).getBoundingBox()},_getPlacementPoint:function(r){var i=new t.Point(r.x,r.y),a=t.Placement.properties[this.placement];return a&&(a.isHorizontallyCentered?i.x+=r.width/2:a.isRight&&(i.x+=r.width),a.isVerticallyCentered?i.y+=r.height/2:a.isBottom&&(i.y+=r.height)),i},_getTransformOrigin:function(){var r="",i=t.Placement.properties[this.placement];return i&&(i.isLeft?r="left":i.isRight&&(r="right"),i.isTop?r+=" top":i.isBottom&&(r+=" bottom")),r},update:function(r,i){var a=t.isPlainObject(r)?r:{location:r,placement:i};this._init({location:a.location||this.location,placement:a.placement!==void 0?a.placement:this.placement,onDraw:a.onDraw||this.onDraw,checkResize:a.checkResize||this.checkResize,width:a.width!==void 0?a.width:this.width,height:a.height!==void 0?a.height:this.height,rotationMode:a.rotationMode||this.rotationMode})},getBounds:function(r){t.console.assert(r,"A viewport must now be passed to Overlay.getBounds.");var i=this.width,a=this.height;if(i===null||a===null){var h=r.deltaPointsFromPixelsNoRotate(this.size,!0);i===null&&(i=h.x),a===null&&(a=h.y)}var c=this.location.clone();return this.adjust(c,new t.Point(i,a)),this._adjustBoundsForRotation(r,new t.Rect(c.x,c.y,i,a))},_adjustBoundsForRotation:function(r,i){if(!r||r.getRotation(!0)===0||this.rotationMode===t.OverlayRotationMode.EXACT)return i;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return i;var a=this._getOverlayPositionAndSize(r);return r.viewerElementToViewportRectangle(new t.Rect(a.position.x,a.position.y,a.size.x,a.size.y))}return i.rotate(-r.getRotation(!0),this._getPlacementPoint(i))}}}(n),function(t){t.Drawer=function(r){t.console.assert(r.viewer,"[Drawer] options.viewer is required");var i=arguments;if(t.isPlainObject(r)||(r={source:i[0],viewport:i[1],element:i[2]}),t.console.assert(r.viewport,"[Drawer] options.viewport is required"),t.console.assert(r.element,"[Drawer] options.element is required"),r.source&&t.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=r.viewer,this.viewport=r.viewport,this.debugGridColor=typeof r.debugGridColor=="string"?[r.debugGridColor]:r.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,r.opacity&&t.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=t.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=t.getElement(r.element),this.canvas=t.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var a=this._calculateCanvasSize();this.canvas.width=a.x,this.canvas.height=a.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",t.setElementOpacity(this.canvas,this.opacity,!0),t.setElementPointerEventsNone(this.canvas),t.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},t.Drawer.prototype={addOverlay:function(r,i,a,h){return t.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(r,i,a,h),this},updateOverlay:function(r,i,a){return t.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(r,i,a),this},removeOverlay:function(r){return t.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(r),this},clearOverlays:function(){return t.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(r){var i=this.viewport.pixelFromPointNoRotate(r,!0);return new t.Point(i.x*t.pixelDensityRatio,i.y*t.pixelDensityRatio)},clipWithPolygons:function(r,i){if(this.useCanvas){var a=this._getContext(i);a.beginPath(),r.forEach(function(h){h.forEach(function(c,p){a[p===0?"moveTo":"lineTo"](c.x,c.y)})}),a.clip()}},setOpacity:function(r){t.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var i=this.viewer.world,a=0;a<i.getItemCount();a++)i.getItemAt(a).setOpacity(r);return this},getOpacity:function(){t.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var r=this.viewer.world,i=0,a=0;a<r.getItemCount();a++){var h=r.getItemAt(a).getOpacity();h>i&&(i=h)}return i},needsUpdate:function(){return t.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return t.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return t.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return t.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var r=this._calculateCanvasSize();if((this.canvas.width!==r.x||this.canvas.height!==r.y)&&(this.canvas.width=r.x,this.canvas.height=r.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var i=this._calculateSketchCanvasSize();this.sketchCanvas.width=i.x,this.sketchCanvas.height=i.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(r,i){if(this.useCanvas){var a=this._getContext(r);if(i)a.clearRect(i.x,i.y,i.width,i.height);else{var h=a.canvas;a.clearRect(0,0,h.width,h.height)}}},viewportToDrawerRectangle:function(r){var i=this.viewport.pixelFromPointNoRotate(r.getTopLeft(),!0),a=this.viewport.deltaPixelsFromPointsNoRotate(r.getSize(),!0);return new t.Rect(i.x*t.pixelDensityRatio,i.y*t.pixelDensityRatio,a.x*t.pixelDensityRatio,a.y*t.pixelDensityRatio)},drawTile:function(r,i,a,h,c,p,m){if(t.console.assert(r,"[Drawer.drawTile] tile is required"),t.console.assert(i,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var g=this._getContext(a);h=h||1,r.drawCanvas(g,i,h,c,p,m)}else r.drawHTML(this.canvas)},_getContext:function(r){var i=this.context;if(r){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var a=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=a.x,this.sketchCanvas.height=a.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var h=this;this.viewer.addHandler("rotate",function c(){if(h.viewport.getRotation()!==0){h.viewer.removeHandler("rotate",c);var p=h._calculateSketchCanvasSize();h.sketchCanvas.width=p.x,h.sketchCanvas.height=p.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}i=this.sketchContext}return i},saveContext:function(r){this.useCanvas&&this._getContext(r).save()},restoreContext:function(r){this.useCanvas&&this._getContext(r).restore()},setClip:function(r,i){if(this.useCanvas){var a=this._getContext(i);a.beginPath(),a.rect(r.x,r.y,r.width,r.height),a.clip()}},drawRectangle:function(r,i,a){if(this.useCanvas){var h=this._getContext(a);h.save(),h.fillStyle=i,h.fillRect(r.x,r.y,r.width,r.height),h.restore()}},blendSketch:function(r,i,a,h){var c=r;if(t.isPlainObject(c)||(c={opacity:r,scale:i,translate:a,compositeOperation:h}),!(!this.useCanvas||!this.sketchCanvas)){r=c.opacity,h=c.compositeOperation;var p=c.bounds;if(this.context.save(),this.context.globalAlpha=r,h&&(this.context.globalCompositeOperation=h),p)p.x<0&&(p.width+=p.x,p.x=0),p.x+p.width>this.canvas.width&&(p.width=this.canvas.width-p.x),p.y<0&&(p.height+=p.y,p.y=0),p.y+p.height>this.canvas.height&&(p.height=this.canvas.height-p.y),this.context.drawImage(this.sketchCanvas,p.x,p.y,p.width,p.height,p.x,p.y,p.width,p.height);else{i=c.scale||1,a=c.translate;var m=a instanceof t.Point?a:new t.Point(0,0),g=0,b=0;if(a){var S=this.sketchCanvas.width-this.canvas.width,T=this.sketchCanvas.height-this.canvas.height;g=Math.round(S/2),b=Math.round(T/2)}this.context.drawImage(this.sketchCanvas,m.x-g*i,m.y-b*i,(this.canvas.width+2*g)*i,(this.canvas.height+2*b)*i,-g,-b,this.canvas.width+2*g,this.canvas.height+2*b)}this.context.restore()}},drawDebugInfo:function(r,i,a,h){if(this.useCanvas){var c=this.viewer.world.getIndexOfItem(h)%this.debugGridColor.length,p=this.context;p.save(),p.lineWidth=2*t.pixelDensityRatio,p.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",p.strokeStyle=this.debugGridColor[c],p.fillStyle=this.debugGridColor[c],this.viewport.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),h.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:h.getRotation(!0),point:h.viewport.pixelFromPointNoRotate(h._getRotationPoint(!0),!0)}),h.viewport.getRotation(!0)%360===0&&h.getRotation(!0)%360===0&&h._drawer.viewer.viewport.getFlip()&&h._drawer._flip(),p.strokeRect(r.position.x*t.pixelDensityRatio,r.position.y*t.pixelDensityRatio,r.size.x*t.pixelDensityRatio,r.size.y*t.pixelDensityRatio);var m=(r.position.x+r.size.x/2)*t.pixelDensityRatio,g=(r.position.y+r.size.y/2)*t.pixelDensityRatio;p.translate(m,g),p.rotate(Math.PI/180*-this.viewport.getRotation(!0)),p.translate(-m,-g),r.x===0&&r.y===0&&(p.fillText("Zoom: "+this.viewport.getZoom(),r.position.x*t.pixelDensityRatio,(r.position.y-30)*t.pixelDensityRatio),p.fillText("Pan: "+this.viewport.getBounds().toString(),r.position.x*t.pixelDensityRatio,(r.position.y-20)*t.pixelDensityRatio)),p.fillText("Level: "+r.level,(r.position.x+10)*t.pixelDensityRatio,(r.position.y+20)*t.pixelDensityRatio),p.fillText("Column: "+r.x,(r.position.x+10)*t.pixelDensityRatio,(r.position.y+30)*t.pixelDensityRatio),p.fillText("Row: "+r.y,(r.position.x+10)*t.pixelDensityRatio,(r.position.y+40)*t.pixelDensityRatio),p.fillText("Order: "+a+" of "+i,(r.position.x+10)*t.pixelDensityRatio,(r.position.y+50)*t.pixelDensityRatio),p.fillText("Size: "+r.size.toString(),(r.position.x+10)*t.pixelDensityRatio,(r.position.y+60)*t.pixelDensityRatio),p.fillText("Position: "+r.position.toString(),(r.position.x+10)*t.pixelDensityRatio,(r.position.y+70)*t.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),h.getRotation(!0)%360!==0&&this._restoreRotationChanges(),h.viewport.getRotation(!0)%360===0&&h.getRotation(!0)%360===0&&h._drawer.viewer.viewport.getFlip()&&h._drawer._flip(),p.restore()}},debugRect:function(r){if(this.useCanvas){var i=this.context;i.save(),i.lineWidth=2*t.pixelDensityRatio,i.strokeStyle=this.debugGridColor[0],i.fillStyle=this.debugGridColor[0],i.strokeRect(r.x*t.pixelDensityRatio,r.y*t.pixelDensityRatio,r.width*t.pixelDensityRatio,r.height*t.pixelDensityRatio),i.restore()}},setImageSmoothingEnabled:function(r){this.useCanvas&&(this._imageSmoothingEnabled=r,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(r){r.msImageSmoothingEnabled=this._imageSmoothingEnabled,r.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(r){var i=this._getContext(r).canvas;return new t.Point(i.width,i.height)},getCanvasCenter:function(){return new t.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(r){var i=r.point?r.point.times(t.pixelDensityRatio):this.getCanvasCenter(),a=this._getContext(r.useSketch);a.save(),a.translate(i.x,i.y),this.viewer.viewport.flipped?(a.rotate(Math.PI/180*-r.degrees),a.scale(-1,1)):a.rotate(Math.PI/180*r.degrees),a.translate(-i.x,-i.y)},_flip:function(r){r=r||{};var i=r.point?r.point.times(t.pixelDensityRatio):this.getCanvasCenter(),a=this._getContext(r.useSketch);a.translate(i.x,0),a.scale(-1,1),a.translate(-i.x,0)},_restoreRotationChanges:function(r){var i=this._getContext(r);i.restore()},_calculateCanvasSize:function(){var r=t.pixelDensityRatio,i=this.viewport.getContainerSize();return{x:Math.round(i.x*r),y:Math.round(i.y*r)}},_calculateSketchCanvasSize:function(){var r=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return r;var i=Math.ceil(Math.sqrt(r.x*r.x+r.y*r.y));return{x:i,y:i}}}}(n),function(t){t.Viewport=function(r){var i=arguments;i.length&&i[0]instanceof t.Point&&(r={containerSize:i[0],contentSize:i[1],config:i[2]}),r.config&&(t.extend(!0,r,r.config),delete r.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},r.margins||{}),delete r.margins,r.initialDegrees=r.degrees,delete r.degrees,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:t.DEFAULT_SETTINGS.silenceMultiImageWarnings},r),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new t.Spring({initial:r.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={get degrees(){return t.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(r){t.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(r)},resetContentSize:function(r){return t.console.assert(r,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(r instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(r.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(r.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,r.y/r.x),r.x),this},setHomeBounds:function(r,i){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(r,i)},_setContentBounds:function(r,i){t.console.assert(r,"[Viewport._setContentBounds] bounds is required"),t.console.assert(r instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(r.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(r.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=r.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(i),this._contentBounds=r.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(i),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:i,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var r=this._contentAspectRatio/this.getAspectRatio(),i;return this.homeFillsViewer?i=r>=1?r:1:i=r>=1?1:r,i/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var r=this._contentBounds.getCenter(),i=1/this.getHomeZoom(),a=i/this.getAspectRatio();return new t.Rect(r.x-i/2,r.y-a/2,i,a)},goHome:function(r){return this.viewer&&this.viewer.raiseEvent("home",{immediately:r}),this.fitBounds(this.getHomeBounds(),r)},getMinZoom:function(){var r=this.getHomeZoom(),i=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*r;return i},getMaxZoom:function(){var r=this.maxZoomLevel;return r||(r=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,r/=this._contentBounds.width),Math.max(r,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(r){t.console.assert(t.type(r)==="object","[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},r),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(r){return this.getBoundsNoRotate(r).rotate(-this.getRotation(r))},getBoundsNoRotate:function(r){var i=this.getCenter(r),a=1/this.getZoom(r),h=a/this.getAspectRatio();return new t.Rect(i.x-a/2,i.y-h/2,a,h)},getBoundsWithMargins:function(r){return this.getBoundsNoRotateWithMargins(r).rotate(-this.getRotation(r),this.getCenter(r))},getBoundsNoRotateWithMargins:function(r){var i=this.getBoundsNoRotate(r),a=this._containerInnerSize.x*this.getZoom(r);return i.x-=this._margins.left/a,i.y-=this._margins.top/a,i.width+=(this._margins.left+this._margins.right)/a,i.height+=(this._margins.top+this._margins.bottom)/a,i},getCenter:function(r){var i=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),a=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),h,c,p,m,g,b,S,T;return r?i:this.zoomPoint?(h=this.pixelFromPoint(this.zoomPoint,!0),c=this.getZoom(),p=1/c,m=p/this.getAspectRatio(),g=new t.Rect(i.x-p/2,i.y-m/2,p,m),b=this._pixelFromPoint(this.zoomPoint,g),S=b.minus(h).rotate(-this.getRotation(!0)),T=S.divide(this._containerInnerSize.x*c),a.plus(T)):a},getZoom:function(r){return r?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(r){return Math.max(Math.min(r,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(r){var i=this.viewportToViewerElementRectangle(r).getBoundingBox(),a=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),h=!1,c=!1;if(!this.wrapHorizontal){var p=i.x+i.width,m=a.x+a.width,g,b,S;i.width>a.width?g=this.visibilityRatio*a.width:g=this.visibilityRatio*i.width,b=a.x-p+g,S=m-i.x-g,g>a.width?(i.x+=(b+S)/2,h=!0):S<0?(i.x+=S,h=!0):b>0&&(i.x+=b,h=!0)}if(!this.wrapVertical){var T=i.y+i.height,_=a.y+a.height,k,C,P;i.height>a.height?k=this.visibilityRatio*a.height:k=this.visibilityRatio*i.height,C=a.y-T+k,P=_-i.y-k,k>a.height?(i.y+=(C+P)/2,c=!0):P<0?(i.y+=P,c=!0):C>0&&(i.y+=C,c=!0)}var A=h||c,N=A?this.viewerElementToViewportRectangle(i):r.clone();return N.xConstrained=h,N.yConstrained=c,N.constraintApplied=A,N},_raiseConstraintsEvent:function(r){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:r})},applyConstraints:function(r){var i=this.getZoom(),a=this._applyZoomConstraints(i);i!==a&&this.zoomTo(a,this.zoomPoint,r);var h=this.getConstrainedBounds(!1);return h.constraintApplied&&(this.fitBounds(h,r),this._raiseConstraintsEvent(r)),this},ensureVisible:function(r){return this.applyConstraints(r)},_fitBounds:function(r,i){i=i||{};var a=i.immediately||!1,h=i.constraints||!1,c=this.getAspectRatio(),p=r.getCenter(),m=new t.Rect(r.x,r.y,r.width,r.height,r.degrees+this.getRotation()).getBoundingBox();m.getAspectRatio()>=c?m.height=m.width/c:m.width=m.height*c,m.x=p.x-m.width/2,m.y=p.y-m.height/2;var g=1/m.width;if(a)return this.panTo(p,!0),this.zoomTo(g,null,!0),h&&this.applyConstraints(!0),this;var b=this.getCenter(!0),S=this.getZoom(!0);this.panTo(b,!0),this.zoomTo(S,null,!0);var T=this.getBounds(),_=this.getZoom();if(_===0||Math.abs(g/_-1)<1e-8)return this.zoomTo(g,null,!0),this.panTo(p,a),h&&this.applyConstraints(!1),this;if(h){this.panTo(p,!1),g=this._applyZoomConstraints(g),this.zoomTo(g,null,!1);var k=this.getConstrainedBounds();this.panTo(b,!0),this.zoomTo(S,null,!0),this.fitBounds(k)}else{var C=m.rotate(-this.getRotation()),P=C.getTopLeft().times(g).minus(T.getTopLeft().times(_)).divide(g-_);this.zoomTo(g,P,a)}return this},fitBounds:function(r,i){return this._fitBounds(r,{immediately:i,constraints:!1})},fitBoundsWithConstraints:function(r,i){return this._fitBounds(r,{immediately:i,constraints:!0})},fitVertically:function(r){var i=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(i,r)},fitHorizontally:function(r){var i=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(i,r)},getConstrainedBounds:function(r){var i,a;return i=this.getBounds(r),a=this._applyBoundaryConstraints(i),a},panBy:function(r,i){var a=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(a.plus(r),i)},panTo:function(r,i){return i?(this.centerSpringX.resetTo(r.x),this.centerSpringY.resetTo(r.y)):(this.centerSpringX.springTo(r.x),this.centerSpringY.springTo(r.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:r,immediately:i}),this},zoomBy:function(r,i,a){return this.zoomTo(this.zoomSpring.target.value*r,i,a)},zoomTo:function(r,i,a){var h=this;return this.zoomPoint=i instanceof t.Point&&!isNaN(i.x)&&!isNaN(i.y)?i:null,a?this._adjustCenterSpringsForZoomPoint(function(){h.zoomSpring.resetTo(r)}):this.zoomSpring.springTo(r),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:r,refPoint:i,immediately:a}),this},setRotation:function(r,i){return this.rotateTo(r,null,i)},getRotation:function(r){return r?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(r,i,a){return this.rotateTo(r,i,a)},rotateTo:function(r,i,a){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===r&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=i instanceof t.Point&&!isNaN(i.x)&&!isNaN(i.y)?i:null,a)if(this.rotationPivot){var h=r-this._oldDegrees;if(!h)return this.rotationPivot=null,this;this._rotateAboutPivot(r)}else this.degreesSpring.resetTo(r);else{var c=t.positiveModulo(this.degreesSpring.current.value,360),p=t.positiveModulo(r,360),m=p-c;m>180?p-=360:m<-180&&(p+=360);var g=c-p;this.degreesSpring.resetTo(r+g),this.degreesSpring.springTo(r)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:r,immediately:!!a,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(r,i,a){return this.rotateTo(this.degreesSpring.target.value+r,i,a)},resize:function(r,i){var a=this.getBoundsNoRotate(),h=a,c;this.containerSize.x=r.x,this.containerSize.y=r.y,this._updateContainerInnerSize(),i&&(c=r.x/this.containerSize.x,h.width=a.width*c,h.height=h.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:r,maintain:i});var p=this.fitBounds(h,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:r,maintain:i}),p},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var r=this;this._adjustCenterSpringsForZoomPoint(function(){r.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var i=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,i},_rotateAboutPivot:function(r){var i=r===!0,a=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(a.x),this.centerSpringY.shiftBy(a.y),i?this.degreesSpring.update():this.degreesSpring.resetTo(r);var h=this.degreesSpring.current.value-this._oldDegrees,c=a.rotate(h*-1).times(-1);this.centerSpringX.shiftBy(c.x),this.centerSpringY.shiftBy(c.y)},_adjustCenterSpringsForZoomPoint:function(r){if(this.zoomPoint){var i=this.pixelFromPoint(this.zoomPoint,!0);r();var a=this.pixelFromPoint(this.zoomPoint,!0),h=a.minus(i),c=this.deltaPointsFromPixels(h,!0);this.centerSpringX.shiftBy(c.x),this.centerSpringY.shiftBy(c.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else r()},deltaPixelsFromPointsNoRotate:function(r,i){return r.times(this._containerInnerSize.x*this.getZoom(i))},deltaPixelsFromPoints:function(r,i){return this.deltaPixelsFromPointsNoRotate(r.rotate(this.getRotation(i)),i)},deltaPointsFromPixelsNoRotate:function(r,i){return r.divide(this._containerInnerSize.x*this.getZoom(i))},deltaPointsFromPixels:function(r,i){return this.deltaPointsFromPixelsNoRotate(r,i).rotate(-this.getRotation(i))},pixelFromPointNoRotate:function(r,i){return this._pixelFromPointNoRotate(r,this.getBoundsNoRotate(i))},pixelFromPoint:function(r,i){return this._pixelFromPoint(r,this.getBoundsNoRotate(i))},_pixelFromPointNoRotate:function(r,i){return r.minus(i.getTopLeft()).times(this._containerInnerSize.x/i.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(r,i){return this._pixelFromPointNoRotate(r.rotate(this.getRotation(!0),this.getCenter(!0)),i)},pointFromPixelNoRotate:function(r,i){var a=this.getBoundsNoRotate(i);return r.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/a.width).plus(a.getTopLeft())},pointFromPixel:function(r,i){return this.pointFromPixelNoRotate(r,i).rotate(-this.getRotation(i),this.getCenter(i))},_viewportToImageDelta:function(r,i){var a=this._contentBoundsNoRotate.width;return new t.Point(r*this._contentSizeNoRotate.x/a,i*this._contentSizeNoRotate.x/a)},viewportToImageCoordinates:function(r,i){if(r instanceof t.Point)return this.viewportToImageCoordinates(r.x,r.y);if(this.viewer){var a=this.viewer.world.getItemCount();if(a>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(a===1){var h=this.viewer.world.getItemAt(0);return h.viewportToImageCoordinates(r,i,!0)}}return this._viewportToImageDelta(r-this._contentBoundsNoRotate.x,i-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(r,i){var a=this._contentBoundsNoRotate.width;return new t.Point(r/this._contentSizeNoRotate.x*a,i/this._contentSizeNoRotate.x*a)},imageToViewportCoordinates:function(r,i){if(r instanceof t.Point)return this.imageToViewportCoordinates(r.x,r.y);if(this.viewer){var a=this.viewer.world.getItemCount();if(a>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(a===1){var h=this.viewer.world.getItemAt(0);return h.imageToViewportCoordinates(r,i,!0)}}var c=this._imageToViewportDelta(r,i);return c.x+=this._contentBoundsNoRotate.x,c.y+=this._contentBoundsNoRotate.y,c},imageToViewportRectangle:function(r,i,a,h){var c=r;if(c instanceof t.Rect||(c=new t.Rect(r,i,a,h)),this.viewer){var p=this.viewer.world.getItemCount();if(p>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(p===1){var m=this.viewer.world.getItemAt(0);return m.imageToViewportRectangle(r,i,a,h,!0)}}var g=this.imageToViewportCoordinates(c.x,c.y),b=this._imageToViewportDelta(c.width,c.height);return new t.Rect(g.x,g.y,b.x,b.y,c.degrees)},viewportToImageRectangle:function(r,i,a,h){var c=r;if(c instanceof t.Rect||(c=new t.Rect(r,i,a,h)),this.viewer){var p=this.viewer.world.getItemCount();if(p>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(p===1){var m=this.viewer.world.getItemAt(0);return m.viewportToImageRectangle(r,i,a,h,!0)}}var g=this.viewportToImageCoordinates(c.x,c.y),b=this._viewportToImageDelta(c.width,c.height);return new t.Rect(g.x,g.y,b.x,b.y,c.degrees)},viewerElementToImageCoordinates:function(r){var i=this.pointFromPixel(r,!0);return this.viewportToImageCoordinates(i)},imageToViewerElementCoordinates:function(r){var i=this.imageToViewportCoordinates(r);return this.pixelFromPoint(i,!0)},windowToImageCoordinates:function(r){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var i=r.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(i)},imageToWindowCoordinates:function(r){t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var i=this.imageToViewerElementCoordinates(r);return i.plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(r){return this.pointFromPixel(r,!0)},viewportToViewerElementCoordinates:function(r){return this.pixelFromPoint(r,!0)},viewerElementToViewportRectangle:function(r){return t.Rect.fromSummits(this.pointFromPixel(r.getTopLeft(),!0),this.pointFromPixel(r.getTopRight(),!0),this.pointFromPixel(r.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(r){return t.Rect.fromSummits(this.pixelFromPoint(r.getTopLeft(),!0),this.pixelFromPoint(r.getTopRight(),!0),this.pixelFromPoint(r.getBottomLeft(),!0))},windowToViewportCoordinates:function(r){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var i=r.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(i)},viewportToWindowCoordinates:function(r){t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var i=this.viewportToViewerElementCoordinates(r);return i.plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(r){if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(i===1){var a=this.viewer.world.getItemAt(0);return a.viewportToImageZoom(r)}}var h=this._contentSizeNoRotate.x,c=this._containerInnerSize.x,p=this._contentBoundsNoRotate.width,m=c/h*p;return r*m},imageToViewportZoom:function(r){if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(i===1){var a=this.viewer.world.getItemAt(0);return a.imageToViewportZoom(r)}}var h=this._contentSizeNoRotate.x,c=this._containerInnerSize.x,p=this._contentBoundsNoRotate.width,m=h/c/p;return r*m},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(r){return this.flipped===r?this:(this.flipped=r,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:r}),this)}}}(n),function(t){t.TiledImage=function(c){var p=this;t.console.assert(c.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(c.drawer,"[TiledImage] options.drawer is required"),t.console.assert(c.viewer,"[TiledImage] options.viewer is required"),t.console.assert(c.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(c.source,"[TiledImage] options.source is required"),t.console.assert(!c.clip||c.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=c.tileCache,delete c.tileCache,this._drawer=c.drawer,delete c.drawer,this._imageLoader=c.imageLoader,delete c.imageLoader,c.clip instanceof t.Rect&&(this._clip=c.clip.clone()),delete c.clip;var m=c.x||0;delete c.x;var g=c.y||0;delete c.y,this.normHeight=c.source.dimensions.y/c.source.dimensions.x,this.contentAspectX=c.source.dimensions.x/c.source.dimensions.y;var b=1;c.width?(b=c.width,delete c.width,c.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete c.height)):c.height&&(b=c.height/this.normHeight,delete c.height);var S=c.fitBounds;delete c.fitBounds;var T=c.fitBoundsPlacement||n.Placement.CENTER;delete c.fitBoundsPlacement;var _=c.degrees||0;delete c.degrees;var k=c.ajaxHeaders;delete c.ajaxHeaders,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:t.DEFAULT_SETTINGS.subPixelRoundingForTransparency},c),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:m,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:g,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:b,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:_,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),S&&this.fitBounds(S,T,!0),this._drawingHandler=function(C){p.viewer.raiseEvent("tile-drawing",t.extend({tiledImage:p},C))},this._ownAjaxHeaders={},this.setAjaxHeaders(k,!1)},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(c){c!==this._fullyLoaded&&(this._fullyLoaded=c,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(){var c=this._xSpring.update(),p=this._ySpring.update(),m=this._scaleSpring.update(),g=this._degreesSpring.update();return c||p||m||g?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(c){return this.getBoundsNoRotate(c).rotate(this.getRotation(c),this._getRotationPoint(c))},getBoundsNoRotate:function(c){return c?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(c){var p=this.getBoundsNoRotate(c);if(this._clip){var m=c?this._worldWidthCurrent:this._worldWidthTarget,g=m/this.source.dimensions.x,b=this._clip.times(g);p=new t.Rect(p.x+b.x,p.y+b.y,b.width,b.height)}return p.rotate(this.getRotation(c),this._getRotationPoint(c))},getTileBounds:function(c,p,m){var g=this.source.getNumTiles(c),b=(g.x+p%g.x)%g.x,S=(g.y+m%g.y)%g.y,T=this.source.getTileBounds(c,b,S);return this.getFlip()&&(T.x=1-T.x-T.width),T.x+=(p-b)/g.x,T.y+=this._worldHeightCurrent/this._worldWidthCurrent*((m-S)/g.y),T},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var c=this.imageToWindowCoordinates(new t.Point(0,0)),p=this.imageToWindowCoordinates(this.getContentSize());return new t.Point(p.x-c.x,p.y-c.y)},_viewportToImageDelta:function(c,p,m){var g=m?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(c*(this.source.dimensions.x/g),p*(this.source.dimensions.y*this.contentAspectX/g))},viewportToImageCoordinates:function(c,p,m){var g;return c instanceof t.Point?(m=p,g=c):g=new t.Point(c,p),g=g.rotate(-this.getRotation(m),this._getRotationPoint(m)),m?this._viewportToImageDelta(g.x-this._xSpring.current.value,g.y-this._ySpring.current.value):this._viewportToImageDelta(g.x-this._xSpring.target.value,g.y-this._ySpring.target.value)},_imageToViewportDelta:function(c,p,m){var g=m?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(c/this.source.dimensions.x*g,p/this.source.dimensions.y/this.contentAspectX*g)},imageToViewportCoordinates:function(c,p,m){c instanceof t.Point&&(m=p,p=c.y,c=c.x);var g=this._imageToViewportDelta(c,p);return m?(g.x+=this._xSpring.current.value,g.y+=this._ySpring.current.value):(g.x+=this._xSpring.target.value,g.y+=this._ySpring.target.value),g.rotate(this.getRotation(m),this._getRotationPoint(m))},imageToViewportRectangle:function(c,p,m,g,b){var S=c;S instanceof t.Rect?b=p:S=new t.Rect(c,p,m,g);var T=this.imageToViewportCoordinates(S.getTopLeft(),b),_=this._imageToViewportDelta(S.width,S.height,b);return new t.Rect(T.x,T.y,_.x,_.y,S.degrees+this.getRotation(b))},viewportToImageRectangle:function(c,p,m,g,b){var S=c;c instanceof t.Rect?b=p:S=new t.Rect(c,p,m,g);var T=this.viewportToImageCoordinates(S.getTopLeft(),b),_=this._viewportToImageDelta(S.width,S.height,b);return new t.Rect(T.x,T.y,_.x,_.y,S.degrees-this.getRotation(b))},viewerElementToImageCoordinates:function(c){var p=this.viewport.pointFromPixel(c,!0);return this.viewportToImageCoordinates(p)},imageToViewerElementCoordinates:function(c){var p=this.imageToViewportCoordinates(c);return this.viewport.pixelFromPoint(p,!0)},windowToImageCoordinates:function(c){var p=c.minus(n.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(p)},imageToWindowCoordinates:function(c){var p=this.imageToViewerElementCoordinates(c);return p.plus(n.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(c){var p=this._scaleSpring.current.value;return c=c.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((c.x-this._xSpring.current.value)/p,(c.y-this._ySpring.current.value)/p,c.width/p,c.height/p,c.degrees)},viewportToImageZoom:function(c){var p=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return p*c},imageToViewportZoom:function(c){var p=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return c/p},setPosition:function(c,p){var m=this._xSpring.target.value===c.x&&this._ySpring.target.value===c.y;if(p){if(m&&this._xSpring.current.value===c.x&&this._ySpring.current.value===c.y)return;this._xSpring.resetTo(c.x),this._ySpring.resetTo(c.y),this._needsDraw=!0}else{if(m)return;this._xSpring.springTo(c.x),this._ySpring.springTo(c.y),this._needsDraw=!0}m||this._raiseBoundsChange()},setWidth:function(c,p){this._setScale(c,p)},setHeight:function(c,p){this._setScale(c/this.normHeight,p)},setCroppingPolygons:function(c){var p=function(g){return g instanceof t.Point||typeof g.x=="number"&&typeof g.y=="number"},m=function(g){return g.map(function(b){try{if(p(b))return{x:b.x,y:b.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!t.isArray(c))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=c.map(function(g){return m(g)})}catch(g){t.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),t.console.error(g),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(c,p,m){p=p||t.Placement.CENTER;var g=t.Placement.properties[p],b=this.contentAspectX,S=0,T=0,_=1,k=1;if(this._clip&&(b=this._clip.getAspectRatio(),_=this._clip.width/this.source.dimensions.x,k=this._clip.height/this.source.dimensions.y,c.getAspectRatio()>b?(S=this._clip.x/this._clip.height*c.height,T=this._clip.y/this._clip.height*c.height):(S=this._clip.x/this._clip.width*c.width,T=this._clip.y/this._clip.width*c.width)),c.getAspectRatio()>b){var C=c.height/k,P=0;g.isHorizontallyCentered?P=(c.width-c.height*b)/2:g.isRight&&(P=c.width-c.height*b),this.setPosition(new t.Point(c.x-S+P,c.y-T),m),this.setHeight(C,m)}else{var A=c.width/_,N=0;g.isVerticallyCentered?N=(c.height-c.width/b)/2:g.isBottom&&(N=c.height-c.width/b),this.setPosition(new t.Point(c.x-S,c.y-T+N),m),this.setWidth(A,m)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(c){t.console.assert(!c||c instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),c instanceof t.Rect?this._clip=c.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(c){this.flipped=!!c,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(c){c!==this.opacity&&(this.opacity=c,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(c){this._preload=!!c,this._needsDraw=!0},getRotation:function(c){return c?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(c,p){this._degreesSpring.target.value===c&&this._degreesSpring.isAtTargetValue()||(p?this._degreesSpring.resetTo(c):this._degreesSpring.springTo(c),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(c){return this.getBoundsNoRotate(c).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(c){c!==this.compositeOperation&&(this.compositeOperation=c,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},setAjaxHeaders:function(c,p){if(c===null&&(c={}),!t.isPlainObject(c)){console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}this._ownAjaxHeaders=c,this._updateAjaxHeaders(p)},_updateAjaxHeaders:function(c){if(c===void 0&&(c=!0),t.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=t.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,c){var p,m,g,b;for(var S in this.tilesMatrix){p=this.source.getNumTiles(S);for(var T in this.tilesMatrix[S]){m=(p.x+T%p.x)%p.x;for(var _ in this.tilesMatrix[S][T])if(g=(p.y+_%p.y)%p.y,b=this.tilesMatrix[S][T][_],b.loadWithAjax=this.loadTilesWithAjax,b.loadWithAjax){var k=this.source.getTileAjaxHeaders(S,m,g);b.ajaxHeaders=t.extend({},this.ajaxHeaders,k)}else b.ajaxHeaders=null}}for(var C=0;C<this._imageLoader.jobQueue.length;C++){var P=this._imageLoader.jobQueue[C];P.loadWithAjax=P.tile.loadWithAjax,P.ajaxHeaders=P.tile.loadWithAjax?P.tile.ajaxHeaders:null}}},_setScale:function(c,p){var m=this._scaleSpring.target.value===c;if(p){if(m&&this._scaleSpring.current.value===c)return;this._scaleSpring.resetTo(c),this._updateForScale(),this._needsDraw=!0}else{if(m)return;this._scaleSpring.springTo(c),this._updateForScale(),this._needsDraw=!0}m||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var c=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),p=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,m=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(p/this.minPixelRatio)/Math.log(2))));return m=Math.max(m,this.source.minLevel||0),c=Math.min(c,m),{lowestLevel:c,highestLevel:m}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var c=this.lastDrawn.pop();c.beingDrawn=!1}var p=this.viewport,m=this._viewportToTiledImageRectangle(p.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var g=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(m=m.intersection(g),m===null)return}for(var b=this._getLevelsInterval(),S=b.lowestLevel,T=b.highestLevel,_=null,k=!1,C=t.now(),P=T;P>=S;P--){var A=!1,N=p.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(P),!0).x*this._scaleSpring.current.value;if(P===S||!k&&N>=this.minPixelRatio)A=!0,k=!0;else if(!k)continue;var W=p.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(P),!1).x*this._scaleSpring.current.value,Z=p.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,H=this.immediateRender?1:Z,ie=Math.min(1,(N-.5)/.5),ne=H/Math.abs(H-W);if(_=this._updateLevel(k,A,P,ie,ne,m,C,_),this._providesCoverage(this.coverage,P))break}this._drawTiles(this.lastDrawn),_&&!_.context2D?(this._loadTile(_,C),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(c,p,m){var g,b;this.wrapHorizontal?(g=t.positiveModulo(p.x,1),b=t.positiveModulo(m.x,1)):(g=Math.max(0,p.x),b=Math.min(1,m.x));var S,T,_=1/this.source.aspectRatio;this.wrapVertical?(S=t.positiveModulo(p.y,_),T=t.positiveModulo(m.y,_)):(S=Math.max(0,p.y),T=Math.min(_,m.y));var k=this.source.getTileAtPoint(c,new t.Point(g,S)),C=this.source.getTileAtPoint(c,new t.Point(b,T)),P=this.source.getNumTiles(c);return this.wrapHorizontal&&(k.x+=P.x*Math.floor(p.x),C.x+=P.x*Math.floor(m.x)),this.wrapVertical&&(k.y+=P.y*Math.floor(p.y/_),C.y+=P.y*Math.floor(m.y/_)),{topLeft:k,bottomRight:C}},_updateLevel:function(c,p,m,g,b,S,T,_){var k=S.getBoundingBox().getTopLeft(),C=S.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:c,level:m,opacity:g,visibility:b,drawArea:S,topleft:k,bottomright:C,currenttime:T,best:_}),this._resetCoverage(this.coverage,m),this._resetCoverage(this.loadingCoverage,m);var P=this._getCornerTiles(m,k,C),A=P.topLeft,N=P.bottomRight,W=this.source.getNumTiles(m),Z=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(N.x+=1,this.wrapHorizontal||(N.x=Math.min(N.x,W.x-1)));for(var H=A.x;H<=N.x;H++)for(var ie=A.y;ie<=N.y;ie++){var ne;if(this.getFlip()){var ae=(W.x+H%W.x)%W.x;ne=H+W.x-ae-ae-1}else ne=H;S.intersection(this.getTileBounds(m,ne,ie))!==null&&(_=this._updateTile(p,c,ne,ie,m,g,b,Z,W,T,_))}return _},_updateTile:function(c,p,m,g,b,S,T,_,k,C,P){var A=this._getTile(m,g,b,C,k,this._worldWidthCurrent,this._worldHeightCurrent),N=p;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:A}),this._setCoverage(this.coverage,b,m,g,!1);var W=A.loaded||A.loading||this._isCovered(this.loadingCoverage,b,m,g);if(this._setCoverage(this.loadingCoverage,b,m,g,W),!A.exists||(c&&!N&&(this._isCovered(this.coverage,b,m,g)?this._setCoverage(this.coverage,b,m,g,!0):N=!0),!N))return P;if(this._positionTile(A,this.source.tileOverlap,this.viewport,_,T),!A.loaded)if(A.context2D)this._setTileLoaded(A);else{var Z=this._tileCache.getImageRecord(A.cacheKey);Z&&this._setTileLoaded(A,Z.getData())}if(A.loaded){var H=this._blendTile(A,m,g,b,S,C);H&&(this._needsDraw=!0)}else A.loading?this._tilesLoading++:W||(P=this._compareTiles(P,A));return P},_getTile:function(c,p,m,g,b,S,T){var _,k,C,P,A,N,W,Z,H,ie,ne=this.tilesMatrix,ae=this.source;return ne[m]||(ne[m]={}),ne[m][c]||(ne[m][c]={}),(!ne[m][c][p]||!ne[m][c][p].flipped!=!this.flipped)&&(_=(b.x+c%b.x)%b.x,k=(b.y+p%b.y)%b.y,C=this.getTileBounds(m,c,p),P=ae.getTileBounds(m,_,k,!0),A=ae.tileExists(m,_,k),N=ae.getTileUrl(m,_,k),W=ae.getTilePostData(m,_,k),this.loadTilesWithAjax?(Z=ae.getTileAjaxHeaders(m,_,k),t.isPlainObject(this.ajaxHeaders)&&(Z=t.extend({},this.ajaxHeaders,Z))):Z=null,H=ae.getContext2D?ae.getContext2D(m,_,k):void 0,ie=new t.Tile(m,c,p,C,A,N,H,this.loadTilesWithAjax,Z,P,W,ae.getTileHashKey(m,_,k,N,Z,W)),this.getFlip()?_===0&&(ie.isRightMost=!0):_===b.x-1&&(ie.isRightMost=!0),k===b.y-1&&(ie.isBottomMost=!0),ie.flipped=this.flipped,ne[m][c][p]=ie),ie=ne[m][c][p],ie.lastTouchTime=g,ie},_loadTile:function(c,p){var m=this;c.loading=!0,this._imageLoader.addJob({src:c.getUrl(),tile:c,source:this.source,postData:c.postData,loadWithAjax:c.loadWithAjax,ajaxHeaders:c.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(g,b,S){m._onTileLoad(c,p,g,b,S)},abort:function(){c.loading=!1}})},_onTileLoad:function(c,p,m,g,b){if(m)c.exists=!0;else{t.console.error("Tile %s failed to load: %s - error: %s",c,c.getUrl(),g),this.viewer.raiseEvent("tile-load-failed",{tile:c,tiledImage:this,time:p,message:g,tileRequest:b}),c.loading=!1,c.exists=!1;return}if(p<this.lastResetTime){t.console.warn("Ignoring tile %s loaded before reset: %s",c,c.getUrl()),c.loading=!1;return}var S=this,T=function(){var _=S.source,k=_.getClosestLevel();S._setTileLoaded(c,m,k,b)};this._midDraw?window.setTimeout(T,1):T()},_setTileLoaded:function(c,p,m,g){var b=0,S=!1,T=this;function _(){return S&&t.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),b++,k}function k(){b--,b===0&&(c.loading=!1,c.loaded=!0,c.hasTransparency=T.source.hasTransparency(c.context2D,c.getUrl(),c.ajaxHeaders,c.postData),c.context2D||T._tileCache.cacheTile({data:p,tile:c,cutoff:m,tiledImage:T}),T._needsDraw=!0)}var C=_();this.viewer.raiseEvent("tile-loaded",{tile:c,tiledImage:this,tileRequest:g,get image(){return t.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),p},data:p,getCompletionCallback:_}),S=!0,C()},_positionTile:function(c,p,m,g,b){var S=c.bounds.getTopLeft();S.x*=this._scaleSpring.current.value,S.y*=this._scaleSpring.current.value,S.x+=this._xSpring.current.value,S.y+=this._ySpring.current.value;var T=c.bounds.getSize();T.x*=this._scaleSpring.current.value,T.y*=this._scaleSpring.current.value;var _=m.pixelFromPointNoRotate(S,!0),k=m.pixelFromPointNoRotate(S,!1),C=m.deltaPixelsFromPointsNoRotate(T,!0),P=m.deltaPixelsFromPointsNoRotate(T,!1),A=k.plus(P.divide(2)),N=g.squaredDistanceTo(A);p||(C=C.plus(new t.Point(1,1))),c.isRightMost&&this.wrapHorizontal&&(C.x+=.75),c.isBottomMost&&this.wrapVertical&&(C.y+=.75),c.position=_,c.size=C,c.squaredDistance=N,c.visibility=b},_blendTile:function(c,p,m,g,b,S){var T=1e3*this.blendTime,_,k;if(c.blendStart||(c.blendStart=S),_=S-c.blendStart,k=T?Math.min(1,_/T):1,this.alwaysBlend&&(k*=b),c.opacity=k,this.lastDrawn.push(c),k===1)this._setCoverage(this.coverage,g,p,m,!0),this._hasOpaqueTile=!0;else if(_<T)return!0;return!1},_compareTiles:function(c,p){return!c||p.visibility>c.visibility||p.visibility===c.visibility&&p.squaredDistance<c.squaredDistance?p:c},_drawTiles:function(c){if(!(this.opacity===0||c.length===0&&!this.placeholderFillStyle)){var p=c[0],m;p&&(m=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&this.source.hasTransparency(p.context2D,p.getUrl(),p.ajaxHeaders,p.postData));var g,b,S=this.viewport.getZoom(!0),T=this.viewportToImageZoom(S);c.length>1&&T>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&t.supportsCanvas&&this.viewer.useCanvas&&(m=!0,g=p.getScaleForEdgeSmoothing(),b=p.getTranslationForEdgeSmoothing(g,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var _;m&&(g||(_=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360!==0||this.getRotation(!0)%360!==0)&&(_.x=this._drawer.viewer.container.clientWidth-(_.x+_.width)),_=_.times(t.pixelDensityRatio)),this._drawer._clear(!0,_)),g||(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:m}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:m}),this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var k=!1;if(this._clip){this._drawer.saveContext(m);var C=this.imageToViewportRectangle(this._clip,!0);C=C.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var P=this._drawer.viewportToDrawerRectangle(C);g&&(P=P.times(g)),b&&(P=P.translate(b)),this._drawer.setClip(P,m),k=!0}if(this._croppingPolygons){var A=this;this._drawer.saveContext(m);try{var N=this._croppingPolygons.map(function(Se){return Se.map(function(me){var fe=A.imageToViewportCoordinates(me.x,me.y,!0).rotate(-A.getRotation(!0),A._getRotationPoint(!0)),he=A._drawer.viewportCoordToDrawerCoord(fe);return g&&(he=he.times(g)),b&&(he=he.plus(b)),he})});this._drawer.clipWithPolygons(N,m)}catch(Se){t.console.error(Se)}k=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var W=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));g&&(W=W.times(g)),b&&(W=W.translate(b));var Z=null;typeof this.placeholderFillStyle=="function"?Z=this.placeholderFillStyle(this,this._drawer.context):Z=this.placeholderFillStyle,this._drawer.drawRectangle(W,Z,m)}var H=h(this.subPixelRoundingForTransparency),ie=!1;if(H===t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)ie=!0;else if(H===t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var ne=this.viewer&&this.viewer.isAnimating();ie=!ne}for(var ae=c.length-1;ae>=0;ae--)p=c[ae],this._drawer.drawTile(p,this._drawingHandler,m,g,b,ie,this.source),p.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:p});k&&this._drawer.restoreContext(m),g||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(m),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(m)),m&&(g&&(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:g,translate:b,compositeOperation:this.compositeOperation,bounds:_}),g&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1))),g||this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(c)}},_drawDebugInfo:function(c){if(this.debugMode)for(var p=c.length-1;p>=0;p--){var m=c[p];try{this._drawer.drawDebugInfo(m,c.length,p,this)}catch(g){t.console.error(g)}}},_providesCoverage:function(c,p,m,g){var b,S,T,_;if(!c[p])return!1;if(m===void 0||g===void 0){b=c[p];for(T in b)if(Object.prototype.hasOwnProperty.call(b,T)){S=b[T];for(_ in S)if(Object.prototype.hasOwnProperty.call(S,_)&&!S[_])return!1}return!0}return c[p][m]===void 0||c[p][m][g]===void 0||c[p][m][g]===!0},_isCovered:function(c,p,m,g){return m===void 0||g===void 0?this._providesCoverage(c,p+1):this._providesCoverage(c,p+1,2*m,2*g)&&this._providesCoverage(c,p+1,2*m,2*g+1)&&this._providesCoverage(c,p+1,2*m+1,2*g)&&this._providesCoverage(c,p+1,2*m+1,2*g+1)},_setCoverage:function(c,p,m,g,b){if(!c[p]){t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",p);return}c[p][m]||(c[p][m]={}),c[p][m][g]=b},_resetCoverage:function(c,p){c[p]={}}});var r=t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function i(c){return c!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&c!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&c!==t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function a(c){return i(c)?r:c}function h(c){if(typeof c=="number")return a(c);if(!c||!t.Browser)return r;var p=c[t.Browser.vendor];return i(p)&&(p=c["*"]),a(p)}}(n),function(t){var r=function(a){t.console.assert(a,"[TileCache.cacheTile] options is required"),t.console.assert(a.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(a.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=a.tile,this.tiledImage=a.tiledImage},i=function(a){t.console.assert(a,"[ImageRecord] options is required"),t.console.assert(a.data,"[ImageRecord] options.data is required"),this._tiles=[],a.create.apply(null,[this,a.data,a.ownerTile]),this._destroyImplementation=a.destroy.bind(null,this),this.getImage=a.getImage.bind(null,this),this.getData=a.getData.bind(null,this),this.getRenderedContext=a.getRenderedContext.bind(null,this)};i.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(a){t.console.assert(a,"[ImageRecord.addTile] tile is required"),this._tiles.push(a)},removeTile:function(a){for(var h=0;h<this._tiles.length;h++)if(this._tiles[h]===a){this._tiles.splice(h,1);return}t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",a)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(a){a=a||{},this._maxImageCacheCount=a.maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(a){t.console.assert(a,"[TileCache.cacheTile] options is required"),t.console.assert(a.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(a.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(a.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var h=a.cutoff||0,c=this._tilesLoaded.length,p=this._imagesLoaded[a.tile.cacheKey];if(p||(a.data||(t.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),a.data=a.image),t.console.assert(a.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),p=this._imagesLoaded[a.tile.cacheKey]=new i({data:a.data,ownerTile:a.tile,create:a.tiledImage.source.createTileCache,destroy:a.tiledImage.source.destroyTileCache,getImage:a.tiledImage.source.getTileCacheDataAsImage,getData:a.tiledImage.source.getTileCacheData,getRenderedContext:a.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),p.addTile(a.tile),a.tile.cacheImageRecord=p,this._imagesLoadedCount>this._maxImageCacheCount){for(var m=null,g=-1,b=null,S,T,_,k,C,P,A=this._tilesLoaded.length-1;A>=0;A--)if(P=this._tilesLoaded[A],S=P.tile,!(S.level<=h||S.beingDrawn)){if(!m){m=S,g=A,b=P;continue}k=S.lastTouchTime,T=m.lastTouchTime,C=S.level,_=m.level,(k<T||k===T&&C>_)&&(m=S,g=A,b=P)}m&&g>=0&&(this._unloadTile(b),c=g)}this._tilesLoaded[c]=new r({tile:a.tile,tiledImage:a.tiledImage})},clearTilesFor:function(a){t.console.assert(a,"[TileCache.clearTilesFor] tiledImage is required");for(var h,c=0;c<this._tilesLoaded.length;++c)h=this._tilesLoaded[c],h.tiledImage===a&&(this._unloadTile(h),this._tilesLoaded.splice(c,1),c--)},getImageRecord:function(a){return t.console.assert(a,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[a]},_unloadTile:function(a){t.console.assert(a,"[TileCache._unloadTile] tileRecord is required");var h=a.tile,c=a.tiledImage;h.unload(),h.cacheImageRecord=null;var p=this._imagesLoaded[h.cacheKey];p.removeTile(h),p.getTileCount()||(p.destroy(),delete this._imagesLoaded[h.cacheKey],this._imagesLoadedCount--),c.viewer.raiseEvent("tile-unloaded",{tile:h,tiledImage:c})}}}(n),function(t){t.World=function(r){var i=this;t.console.assert(r.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=r.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(a){i._autoRefigureSizes?i._figureSizes():i._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(r,i){if(t.console.assert(r,"[World.addItem] item is required"),t.console.assert(r instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),i=i||{},i.index!==void 0){var a=Math.max(0,Math.min(this._items.length,i.index));this._items.splice(a,0,r)}else this._items.push(r);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,r.addHandler("bounds-change",this._delegatedFigureSizes),r.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:r})},getItemAt:function(r){return t.console.assert(r!==void 0,"[World.getItemAt] index is required"),this._items[r]},getIndexOfItem:function(r){return t.console.assert(r,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,r)},getItemCount:function(){return this._items.length},setItemIndex:function(r,i){t.console.assert(r,"[World.setItemIndex] item is required"),t.console.assert(i!==void 0,"[World.setItemIndex] index is required");var a=this.getIndexOfItem(r);if(i>=this._items.length)throw new Error("Index bigger than number of layers.");i===a||a===-1||(this._items.splice(a,1),this._items.splice(i,0,r),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:r,previousIndex:a,newIndex:i}))},removeItem:function(r){t.console.assert(r,"[World.removeItem] item is required");var i=t.indexOf(this._items,r);i!==-1&&(r.removeHandler("bounds-change",this._delegatedFigureSizes),r.removeHandler("clip-change",this._delegatedFigureSizes),r.destroy(),this._items.splice(i,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(r))},removeAll:function(){this.viewer._cancelPendingImages();var r,i;for(i=0;i<this._items.length;i++)r=this._items[i],r.removeHandler("bounds-change",this._delegatedFigureSizes),r.removeHandler("clip-change",this._delegatedFigureSizes),r.destroy();var a=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,i=0;i<a.length;i++)r=a[i],this._raiseRemoveItem(r)},resetItems:function(){for(var r=0;r<this._items.length;r++)this._items[r].reset()},update:function(){for(var r=!1,i=0;i<this._items.length;i++)r=this._items[i].update()||r;return r},draw:function(){for(var r=0;r<this._items.length;r++)this._items[r].draw();this._needsDraw=!1},needsDraw:function(){for(var r=0;r<this._items.length;r++)if(this._items[r].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(r){this._autoRefigureSizes=r,r&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(r){r=r||{};var i=r.immediately||!1,a=r.layout||t.DEFAULT_SETTINGS.collectionLayout,h=r.rows||t.DEFAULT_SETTINGS.collectionRows,c=r.columns||t.DEFAULT_SETTINGS.collectionColumns,p=r.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,m=r.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin,g=p+m,b;!r.rows&&c?b=c:b=Math.ceil(this._items.length/h);var S=0,T=0,_,k,C,P,A;this.setAutoRefigureSizes(!1);for(var N=0;N<this._items.length;N++)N&&N%b===0&&(a==="horizontal"?(T+=g,S=0):(S+=g,T=0)),_=this._items[N],k=_.getBounds(),k.width>k.height?C=p:C=p*(k.width/k.height),P=C*(k.height/k.width),A=new t.Point(S+(p-C)/2,T+(p-P)/2),_.setPosition(A,i),_.setWidth(C,i),a==="horizontal"?S+=g:T+=g;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var r=this._homeBounds?this._homeBounds.clone():null,i=this._contentSize?this._contentSize.clone():null,a=this._contentFactor||0;if(!this._items.length)this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;else{var h=this._items[0],c=h.getBounds();this._contentFactor=h.getContentSize().x/c.width;for(var p=h.getClippedBounds().getBoundingBox(),m=p.x,g=p.y,b=p.x+p.width,S=p.y+p.height,T=1;T<this._items.length;T++)h=this._items[T],c=h.getBounds(),this._contentFactor=Math.max(this._contentFactor,h.getContentSize().x/c.width),p=h.getClippedBounds().getBoundingBox(),m=Math.min(m,p.x),g=Math.min(g,p.y),b=Math.max(b,p.x+p.width),S=Math.max(S,p.y+p.height);this._homeBounds=new t.Rect(m,g,b-m,S-g),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==a||!this._homeBounds.equals(r)||!this._contentSize.equals(i))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(r){this.raiseEvent("remove-item",{item:r})}})}(n)})(FA);var Sq=FA.exports;const ly=Hi(Sq);function gk(e){return JSON.parse(JSON.stringify(e))}const vk={middle:!1,top:!1,"left-middle":!1,"right-middle":!1,bottom:!1,"left-top":!1,"right-top":!1,"left-bottom":!1,"right-bottom":!1},Eq=["tall","extra-tall","wide","full"];function Tq(e){return Pq(e,[[".",".","."],[".",".","."],[".",".","."]],Cq)}function Cq(e,n,t,r){switch(e){case"top":n[0][1]=r.id,t==="wide"&&(n[0][2]=r.id),t==="full"&&(n[0][0]=r.id,n[0][2]=r.id);break;case"left-middle":n[1][0]=r.id,t==="tall"?n[2][0]=r.id:t==="wide"&&(n[1][1]=r.id,n[1][2]=r.id);break;case"right-middle":n[1][2]=r.id,t==="tall"&&(n[2][2]=r.id);break;case"bottom":n[2][1]=r.id,t==="wide"&&(n[2][2]=r.id),t==="full"&&(n[2][0]=r.id,n[2][2]=r.id);break;case"left-top":n[0][0]=r.id,t==="tall"?n[1][0]=r.id:t==="wide"&&(n[0][1]=r.id,n[0][2]=r.id);break;case"right-top":n[0][2]=r.id,t==="tall"&&(n[1][2]=r.id);break;case"left-bottom":n[2][0]=r.id,t==="wide"&&(n[2][1]=r.id,n[2][2]=r.id);break;case"right-bottom":n[2][2]=r.id;break;default:n[1][1]=r.id,n[1][2]=r.id,t==="full"&&(n[1][0]=r.id)}}function Pq(e,n,t){const r=document.createElement("div");r.innerHTML=e;let i;r.getElementsByTagName("tei-surface").length>0?i=[r.getElementsByTagName("tei-surface")[0]]:i=r.getElementsByTagName("tei-body")[0].children;const a=function(S){const T=S.getAttribute("rend");return Object.keys(vk).includes(T)?T:"middle"};function h(S){const T=S.getAttribute("style");return Eq.includes(T)?T:null}const c=[];let p="",m=0,g=0;try{for(const S of i){const T=gk(n),_=gk(vk),k=S.id,C=S.children,P=S.getAttribute("facs");for(const A of C){const N=a(A),W=h(A);A.setAttribute("data-entry-id",k),_[N]?(A.id=_[N][0].id,_[N].push(A)):(m++,A.id=`z${m}`,_[N]=[A]),t(N,T,W,A)}for(const A of Object.values(_))A&&(p=p.concat(_q(A,P)));c[g]=Og(T[0],c[g]),c[g+1]=Og(T[1],c[g+1]),c[g+2]=Og(T[2],c[g+2]),g+=1}}catch(S){console.log(S)}const b=kq(c);return{html:p,layout:b}}function kq(e){const n=[...e];e[0]&&e[0][0]==="."&&e[0][1]==="."&&n.shift();let t="";for(const r of n){const i=r.join(" ");t+=` '${i}'`}return t}function _q(e,n){const t=e[0],r=t.id,i=t.attributes["data-entry-id"].value;let a="";for(let c=0;c<t.classList.length;c++)a=`${a} ${t.classList.item(c)}`;let h=`<div id="${r}" className="${a}" data-entry-id="${i}" data-facs="${n||""}">`;for(const c of e)c.getAttribute("facs")&&c.setAttribute("data-facs",c.getAttribute("facs")),c.setAttribute("className","block"),c.name==="div"?h=h.concat(`${c.innerHTML} <br/>`):h=h.concat(`${c.outerHTML}`);return h.concat("</div>")}function Og(e,n){if(n){const t=[];for(let r=0;r<4;r++)e[r]!=="."?t[r]=e[r]:t[r]=n[r];return t}return e}async function Rq(e){if(e.loading)return e;e.loading=!0;const n={...e},t=Object.keys(n.annotationURLs),r=Object.fromEntries(t.map(i=>[i,!1]));if(n.image_zoom_url.endsWith(".json")){const i=await(await fetch(n.image_zoom_url)).json();n.tileSource=new ly.IIIFTileSource(i)}else n.tileSource=new ly.ImageTileSource({type:"image",url:n.image_zoom_url});if(t.length>0){for await(const i of t){const{htmlURL:a,xmlURL:h}=n.annotationURLs[i];n.transcription||(n.transcription={}),n.transcription[i]={};try{const c=await fetch(a),p=await fetch(h),m=await c.text(),g=await p.text(),b=Oq(m,g);if(b)n.transcription[i]=b,n.loading=!1,r[i]=!0;else throw new Error(`Unable to load transcription: ${a}`)}catch(c){throw e.loading=!1,c}}if(Object.values(r).filter(i=>!i).length===0)return n}return n.loading=!1,n}function Oq(e,n){return{...Tq(e),xml:n}}const BA=e=>e.document,Aq=e=>e.glossary;function*Dq(e){const{pathname:n}=e.payload.params[0],t=n.split("/");if(t.length>1)switch(t[1]){case"ec":{yield Mq(),yield Lq(),yield Iq(t);break}}}function*Mq(){const e=yield $w(BA);if(!e.loaded){if(e.variorum){const t={};for(const i of Object.keys(e.manifestURL)){const a=yield fetch(e.manifestURL[i]);t[i]=yield a.json()}const r={type:"variorum",documentData:t};return yield Ih("DocumentActions.loadDocument",r),r}const n=yield(yield fetch(e.manifestURL)).json();return yield Ih("DocumentActions.loadDocument",n),n}return null}function*Iq(e){const n=yield $w(BA);if(n.loaded){let t,r,i;e.length>2&&(t=e[2],e.length>4&&(r=e[4],e.length>6&&(i=e[6])));const a=[];a.push(t),r&&r!==t&&a.push(r),i&&i!==t&&i!==r&&a.push(i);for(const h of a){const c=n.folioIndex[h];if(c&&!c.loading){const p=yield Rq(c);yield Ih("DocumentActions.loadFolio",p)}}}}function*Lq(){const e=yield $w(Aq);if(!e.loaded&&e.URL){const n=yield(yield fetch(e.URL)).json();yield Ih("GlossaryActions.loadGlossary",n)}}function*jq(){yield cq("RouteListenerSaga.userNavigatation",Dq)}function*Nq(){yield C7([jq()])}function Fq(e){const n=sq(),t=nA(bq(e),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Z8(n));return n.run(Nq),t}function uy(e,n,...t){e.dispatch({type:n,payload:{params:t,dispatcher:{dispatch:e.dispatch}}})}function*Ih(e,...n){return yield T7({type:e,payload:{params:n}})}function Bq(e,n,t){const r=t.payload&&t.payload.params?t.payload.params:[];return n(e,...r,t.payload.dispatcher)}function Hq(e,n){const t=e.split(".");return n[t[1]]}function Ag(e,n,t){const r=[];for(const a of Object.keys(n))r.push(`${e}.${a}`);function i(a=t,h,c=r,p=n){return c.includes(h.type)?Bq(a,Hq(h.type,p),h):{...a}}return i}function ji(e){if(typeof e!="string")throw new Error(Oa(7));return e.charAt(0).toUpperCase()+e.slice(1)}function ju(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce(function(r,i){return i==null?r:function(){for(var a=arguments.length,h=new Array(a),c=0;c<a;c++)h[c]=arguments[c];r.apply(this,h),i.apply(this,h)}},function(){})}var zq=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},HA=z.forwardRef(function(e,n){var t=e.children,r=e.classes,i=e.className,a=e.color,h=a===void 0?"inherit":a,c=e.component,p=c===void 0?"svg":c,m=e.fontSize,g=m===void 0?"medium":m,b=e.htmlColor,S=e.titleAccess,T=e.viewBox,_=T===void 0?"0 0 24 24":T,k=Ft(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return z.createElement(p,Ce({className:ln(r.root,i,h!=="inherit"&&r["color".concat(ji(h))],g!=="default"&&g!=="medium"&&r["fontSize".concat(ji(g))]),focusable:"false",viewBox:_,color:b,"aria-hidden":S?void 0:!0,role:S?"img":void 0,ref:n},k),t,S?z.createElement("title",null,S):null)});HA.muiName="SvgIcon";const yk=Un(zq,{name:"MuiSvgIcon"})(HA);function Vq(e,n){var t=function(r,i){return dt.createElement(yk,Ce({ref:i},r),e)};return t.muiName=yk.muiName,dt.memo(dt.forwardRef(t))}function zA(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,t;function r(){for(var i=arguments.length,a=new Array(i),h=0;h<i;h++)a[h]=arguments[h];var c=this,p=function(){e.apply(c,a)};clearTimeout(t),t=setTimeout(p,n)}return r.clear=function(){clearTimeout(t)},r}function Uq(e,n){return z.isValidElement(e)&&n.indexOf(e.type.muiName)!==-1}function Fi(e){return e&&e.ownerDocument||document}function VA(e){var n=Fi(e);return n.defaultView||window}function Da(e,n){typeof e=="function"?e(n):e&&(e.current=n)}function Wq(e){var n=e.controlled,t=e.default,r=z.useRef(n!==void 0),i=r.current,a=z.useState(t),h=a[0],c=a[1],p=i?n:h,m=z.useCallback(function(g){i||c(g)},[]);return[p,m]}var Gq=typeof window<"u"?z.useLayoutEffect:z.useEffect;function ts(e){var n=z.useRef(e);return Gq(function(){n.current=e}),z.useCallback(function(){return n.current.apply(void 0,arguments)},[])}function Ln(e,n){return z.useMemo(function(){return e==null&&n==null?null:function(t){Da(e,t),Da(n,t)}},[e,n])}var mp=!0,cy=!1,wk=null,qq={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function $q(e){var n=e.type,t=e.tagName;return!!(t==="INPUT"&&qq[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Zq(e){e.metaKey||e.altKey||e.ctrlKey||(mp=!0)}function Dg(){mp=!1}function Xq(){this.visibilityState==="hidden"&&cy&&(mp=!0)}function Yq(e){e.addEventListener("keydown",Zq,!0),e.addEventListener("mousedown",Dg,!0),e.addEventListener("pointerdown",Dg,!0),e.addEventListener("touchstart",Dg,!0),e.addEventListener("visibilitychange",Xq,!0)}function Kq(e){var n=e.target;try{return n.matches(":focus-visible")}catch{}return mp||$q(n)}function Jq(){cy=!0,window.clearTimeout(wk),wk=window.setTimeout(function(){cy=!1},100)}function Qq(){var e=z.useCallback(function(n){var t=Fr.findDOMNode(n);t!=null&&Yq(t.ownerDocument)},[]);return{isFocusVisible:Kq,onBlurVisible:Jq,ref:e}}const xk={disabled:!1},Lh=dt.createContext(null);var e$=function(e){return e.scrollTop},$l="unmounted",Wo="exited",Go="entering",Qs="entered",dy="exiting",Ei=function(e){op(n,e);function n(r,i){var a;a=e.call(this,r,i)||this;var h=i,c=h&&!h.isMounting?r.enter:r.appear,p;return a.appearStatus=null,r.in?c?(p=Wo,a.appearStatus=Go):p=Qs:r.unmountOnExit||r.mountOnEnter?p=$l:p=Wo,a.state={status:p},a.nextCallback=null,a}n.getDerivedStateFromProps=function(r,i){var a=r.in;return a&&i.status===$l?{status:Wo}:null};var t=n.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var i=null;if(r!==this.props){var a=this.state.status;this.props.in?a!==Go&&a!==Qs&&(i=Go):(a===Go||a===Qs)&&(i=dy)}this.updateStatus(!1,i)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,i,a,h;return i=a=h=r,r!=null&&typeof r!="number"&&(i=r.exit,a=r.enter,h=r.appear!==void 0?r.appear:a),{exit:i,enter:a,appear:h}},t.updateStatus=function(r,i){if(r===void 0&&(r=!1),i!==null)if(this.cancelNextCallback(),i===Go){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Wl.findDOMNode(this);a&&e$(a)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Wo&&this.setState({status:$l})},t.performEnter=function(r){var i=this,a=this.props.enter,h=this.context?this.context.isMounting:r,c=this.props.nodeRef?[h]:[Wl.findDOMNode(this),h],p=c[0],m=c[1],g=this.getTimeouts(),b=h?g.appear:g.enter;if(!r&&!a||xk.disabled){this.safeSetState({status:Qs},function(){i.props.onEntered(p)});return}this.props.onEnter(p,m),this.safeSetState({status:Go},function(){i.props.onEntering(p,m),i.onTransitionEnd(b,function(){i.safeSetState({status:Qs},function(){i.props.onEntered(p,m)})})})},t.performExit=function(){var r=this,i=this.props.exit,a=this.getTimeouts(),h=this.props.nodeRef?void 0:Wl.findDOMNode(this);if(!i||xk.disabled){this.safeSetState({status:Wo},function(){r.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:dy},function(){r.props.onExiting(h),r.onTransitionEnd(a.exit,function(){r.safeSetState({status:Wo},function(){r.props.onExited(h)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,i){i=this.setNextCallback(i),this.setState(r,i)},t.setNextCallback=function(r){var i=this,a=!0;return this.nextCallback=function(h){a&&(a=!1,i.nextCallback=null,r(h))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(r,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:Wl.findDOMNode(this),h=r==null&&!this.props.addEndListener;if(!a||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],p=c[0],m=c[1];this.props.addEndListener(p,m)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===$l)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var h=ms(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return dt.createElement(Lh.Provider,{value:null},typeof a=="function"?a(r,h):dt.cloneElement(dt.Children.only(a),h))},n}(dt.Component);Ei.contextType=Lh;Ei.propTypes={};function Ys(){}Ei.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ys,onEntering:Ys,onEntered:Ys,onExit:Ys,onExiting:Ys,onExited:Ys};Ei.UNMOUNTED=$l;Ei.EXITED=Wo;Ei.ENTERING=Go;Ei.ENTERED=Qs;Ei.EXITING=dy;function ex(e,n){var t=function(i){return n&&z.isValidElement(i)?n(i):i},r=Object.create(null);return e&&z.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function t$(e,n){e=e||{},n=n||{};function t(g){return g in n?n[g]:e[g]}var r=Object.create(null),i=[];for(var a in e)a in n?i.length&&(r[a]=i,i=[]):i.push(a);var h,c={};for(var p in n){if(r[p])for(h=0;h<r[p].length;h++){var m=r[p][h];c[r[p][h]]=t(m)}c[p]=t(p)}for(h=0;h<i.length;h++)c[i[h]]=t(i[h]);return c}function ns(e,n,t){return t[n]!=null?t[n]:e.props[n]}function n$(e,n){return ex(e.children,function(t){return z.cloneElement(t,{onExited:n.bind(null,t),in:!0,appear:ns(t,"appear",e),enter:ns(t,"enter",e),exit:ns(t,"exit",e)})})}function r$(e,n,t){var r=ex(e.children),i=t$(n,r);return Object.keys(i).forEach(function(a){var h=i[a];if(z.isValidElement(h)){var c=a in n,p=a in r,m=n[a],g=z.isValidElement(m)&&!m.props.in;p&&(!c||g)?i[a]=z.cloneElement(h,{onExited:t.bind(null,h),in:!0,exit:ns(h,"exit",e),enter:ns(h,"enter",e)}):!p&&c&&!g?i[a]=z.cloneElement(h,{in:!1}):p&&c&&z.isValidElement(m)&&(i[a]=z.cloneElement(h,{onExited:t.bind(null,h),in:m.props.in,exit:ns(h,"exit",e),enter:ns(h,"enter",e)}))}}),i}var i$=Object.values||function(e){return Object.keys(e).map(function(n){return e[n]})},o$={component:"div",childFactory:function(e){return e}},tx=function(e){op(n,e);function n(r,i){var a;a=e.call(this,r,i)||this;var h=a.handleExited.bind(Zv(a));return a.state={contextValue:{isMounting:!0},handleExited:h,firstRender:!0},a}var t=n.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(r,i){var a=i.children,h=i.handleExited,c=i.firstRender;return{children:c?n$(r,h):r$(r,a,h),firstRender:!1}},t.handleExited=function(r,i){var a=ex(this.props.children);r.key in a||(r.props.onExited&&r.props.onExited(i),this.mounted&&this.setState(function(h){var c=Ce({},h.children);return delete c[r.key],{children:c}}))},t.render=function(){var r=this.props,i=r.component,a=r.childFactory,h=ms(r,["component","childFactory"]),c=this.state.contextValue,p=i$(this.state.children).map(a);return delete h.appear,delete h.enter,delete h.exit,i===null?dt.createElement(Lh.Provider,{value:c},p):dt.createElement(Lh.Provider,{value:c},dt.createElement(i,h,p))},n}(dt.Component);tx.propTypes={};tx.defaultProps=o$;var UA=function(e){return e.scrollTop};function jh(e,n){var t=e.timeout,r=e.style,i=r===void 0?{}:r;return{duration:i.transitionDuration||typeof t=="number"?t:t[n.mode]||0,delay:i.transitionDelay}}var s$=function(e){var n={};return e.shadows.forEach(function(t,r){n["elevation".concat(r)]={boxShadow:t}}),Ce({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},n)},a$=z.forwardRef(function(e,n){var t=e.classes,r=e.className,i=e.component,a=i===void 0?"div":i,h=e.square,c=h===void 0?!1:h,p=e.elevation,m=p===void 0?1:p,g=e.variant,b=g===void 0?"elevation":g,S=Ft(e,["classes","className","component","square","elevation","variant"]);return z.createElement(a,Ce({className:ln(t.root,r,b==="outlined"?t.outlined:t["elevation".concat(m)],!c&&t.rounded),ref:n},S))});const nx=Un(s$,{name:"MuiPaper"})(a$);var l$=typeof window>"u"?z.useEffect:z.useLayoutEffect;function u$(e){var n=e.classes,t=e.pulsate,r=t===void 0?!1:t,i=e.rippleX,a=e.rippleY,h=e.rippleSize,c=e.in,p=e.onExited,m=p===void 0?function(){}:p,g=e.timeout,b=z.useState(!1),S=b[0],T=b[1],_=ln(n.ripple,n.rippleVisible,r&&n.ripplePulsate),k={width:h,height:h,top:-(h/2)+a,left:-(h/2)+i},C=ln(n.child,S&&n.childLeaving,r&&n.childPulsate),P=ts(m);return l$(function(){if(!c){T(!0);var A=setTimeout(P,g);return function(){clearTimeout(A)}}},[P,c,g]),z.createElement("span",{className:_,style:k},z.createElement("span",{className:C}))}var hy=550,c$=80,d$=function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(hy,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(hy,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},h$=z.forwardRef(function(e,n){var t=e.center,r=t===void 0?!1:t,i=e.classes,a=e.className,h=Ft(e,["center","classes","className"]),c=z.useState([]),p=c[0],m=c[1],g=z.useRef(0),b=z.useRef(null);z.useEffect(function(){b.current&&(b.current(),b.current=null)},[p]);var S=z.useRef(!1),T=z.useRef(null),_=z.useRef(null),k=z.useRef(null);z.useEffect(function(){return function(){clearTimeout(T.current)}},[]);var C=z.useCallback(function(W){var Z=W.pulsate,H=W.rippleX,ie=W.rippleY,ne=W.rippleSize,ae=W.cb;m(function(Se){return[].concat(Dw(Se),[z.createElement(u$,{key:g.current,classes:i,timeout:hy,pulsate:Z,rippleX:H,rippleY:ie,rippleSize:ne})])}),g.current+=1,b.current=ae},[i]),P=z.useCallback(function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=arguments.length>2?arguments[2]:void 0,ie=Z.pulsate,ne=ie===void 0?!1:ie,ae=Z.center,Se=ae===void 0?r||Z.pulsate:ae,me=Z.fakeElement,fe=me===void 0?!1:me;if(W.type==="mousedown"&&S.current){S.current=!1;return}W.type==="touchstart"&&(S.current=!0);var he=fe?null:k.current,Ae=he?he.getBoundingClientRect():{width:0,height:0,left:0,top:0},Le,ve,de;if(Se||W.clientX===0&&W.clientY===0||!W.clientX&&!W.touches)Le=Math.round(Ae.width/2),ve=Math.round(Ae.height/2);else{var Ee=W.touches?W.touches[0]:W,be=Ee.clientX,q=Ee.clientY;Le=Math.round(be-Ae.left),ve=Math.round(q-Ae.top)}if(Se)de=Math.sqrt((2*Math.pow(Ae.width,2)+Math.pow(Ae.height,2))/3),de%2===0&&(de+=1);else{var ge=Math.max(Math.abs((he?he.clientWidth:0)-Le),Le)*2+2,De=Math.max(Math.abs((he?he.clientHeight:0)-ve),ve)*2+2;de=Math.sqrt(Math.pow(ge,2)+Math.pow(De,2))}W.touches?_.current===null&&(_.current=function(){C({pulsate:ne,rippleX:Le,rippleY:ve,rippleSize:de,cb:H})},T.current=setTimeout(function(){_.current&&(_.current(),_.current=null)},c$)):C({pulsate:ne,rippleX:Le,rippleY:ve,rippleSize:de,cb:H})},[r,C]),A=z.useCallback(function(){P({},{pulsate:!0})},[P]),N=z.useCallback(function(W,Z){if(clearTimeout(T.current),W.type==="touchend"&&_.current){W.persist(),_.current(),_.current=null,T.current=setTimeout(function(){N(W,Z)});return}_.current=null,m(function(H){return H.length>0?H.slice(1):H}),b.current=Z},[]);return z.useImperativeHandle(n,function(){return{pulsate:A,start:P,stop:N}},[A,P,N]),z.createElement("span",Ce({className:ln(i.root,a),ref:k},h),z.createElement(tx,{component:null,exit:!0},p))});const p$=Un(d$,{flip:!1,name:"MuiTouchRipple"})(z.memo(h$));var f$={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},m$=z.forwardRef(function(e,n){var t=e.action,r=e.buttonRef,i=e.centerRipple,a=i===void 0?!1:i,h=e.children,c=e.classes,p=e.className,m=e.component,g=m===void 0?"button":m,b=e.disabled,S=b===void 0?!1:b,T=e.disableRipple,_=T===void 0?!1:T,k=e.disableTouchRipple,C=k===void 0?!1:k,P=e.focusRipple,A=P===void 0?!1:P,N=e.focusVisibleClassName,W=e.onBlur,Z=e.onClick,H=e.onFocus,ie=e.onFocusVisible,ne=e.onKeyDown,ae=e.onKeyUp,Se=e.onMouseDown,me=e.onMouseLeave,fe=e.onMouseUp,he=e.onTouchEnd,Ae=e.onTouchMove,Le=e.onTouchStart,ve=e.onDragLeave,de=e.tabIndex,Ee=de===void 0?0:de,be=e.TouchRippleProps,q=e.type,ge=q===void 0?"button":q,De=Ft(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),$=z.useRef(null);function Qe(){return Fr.findDOMNode($.current)}var et=z.useRef(null),ot=z.useState(!1),ct=ot[0],yt=ot[1];S&&ct&&yt(!1);var gt=Qq(),Ke=gt.isFocusVisible,Ot=gt.onBlurVisible,Nt=gt.ref;z.useImperativeHandle(t,function(){return{focusVisible:function(){yt(!0),$.current.focus()}}},[]),z.useEffect(function(){ct&&A&&!_&&et.current.pulsate()},[_,A,ct]);function _t(Xe,Ye){var wn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C;return ts(function(Bt){Ye&&Ye(Bt);var ei=wn;return!ei&&et.current&&et.current[Xe](Bt),!0})}var un=_t("start",Se),Et=_t("stop",ve),jt=_t("stop",fe),M=_t("stop",function(Xe){ct&&Xe.preventDefault(),me&&me(Xe)}),Y=_t("start",Le),pe=_t("stop",he),Me=_t("stop",Ae),_e=_t("stop",function(Xe){ct&&(Ot(Xe),yt(!1)),W&&W(Xe)},!1),qe=ts(function(Xe){$.current||($.current=Xe.currentTarget),Ke(Xe)&&(yt(!0),ie&&ie(Xe)),H&&H(Xe)}),He=function(){var Xe=Qe();return g&&g!=="button"&&!(Xe.tagName==="A"&&Xe.href)},pt=z.useRef(!1),Tt=ts(function(Xe){A&&!pt.current&&ct&&et.current&&Xe.key===" "&&(pt.current=!0,Xe.persist(),et.current.stop(Xe,function(){et.current.start(Xe)})),Xe.target===Xe.currentTarget&&He()&&Xe.key===" "&&Xe.preventDefault(),ne&&ne(Xe),Xe.target===Xe.currentTarget&&He()&&Xe.key==="Enter"&&!S&&(Xe.preventDefault(),Z&&Z(Xe))}),Pt=ts(function(Xe){A&&Xe.key===" "&&et.current&&ct&&!Xe.defaultPrevented&&(pt.current=!1,Xe.persist(),et.current.stop(Xe,function(){et.current.pulsate(Xe)})),ae&&ae(Xe),Z&&Xe.target===Xe.currentTarget&&He()&&Xe.key===" "&&!Xe.defaultPrevented&&Z(Xe)}),le=g;le==="button"&&De.href&&(le="a");var ke={};le==="button"?(ke.type=ge,ke.disabled=S):((le!=="a"||!De.href)&&(ke.role="button"),ke["aria-disabled"]=S);var L=Ln(r,n),j=Ln(Nt,$),U=Ln(L,j),X=z.useState(!1),we=X[0],je=X[1];z.useEffect(function(){je(!0)},[]);var lt=we&&!_&&!S;return z.createElement(le,Ce({className:ln(c.root,p,ct&&[c.focusVisible,N],S&&c.disabled),onBlur:_e,onClick:Z,onFocus:qe,onKeyDown:Tt,onKeyUp:Pt,onMouseDown:un,onMouseLeave:M,onMouseUp:jt,onDragLeave:Et,onTouchEnd:pe,onTouchMove:Me,onTouchStart:Y,ref:U,tabIndex:S?-1:Ee},ke,De),h,lt?z.createElement(p$,Ce({ref:et,center:a},be)):null)});const g$=Un(f$,{name:"MuiButtonBase"})(m$);var v$={entering:{opacity:1},entered:{opacity:1}},y$={enter:kh.enteringScreen,exit:kh.leavingScreen},WA=z.forwardRef(function(e,n){var t=e.children,r=e.disableStrictModeCompat,i=r===void 0?!1:r,a=e.in,h=e.onEnter,c=e.onEntered,p=e.onEntering,m=e.onExit,g=e.onExited,b=e.onExiting,S=e.style,T=e.TransitionComponent,_=T===void 0?Ei:T,k=e.timeout,C=k===void 0?y$:k,P=Ft(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),A=qa(),N=A.unstable_strictMode&&!i,W=z.useRef(null),Z=Ln(t.ref,n),H=Ln(N?W:void 0,Z),ie=function(Ae){return function(Le,ve){if(Ae){var de=N?[W.current,Le]:[Le,ve],Ee=Mw(de,2),be=Ee[0],q=Ee[1];q===void 0?Ae(be):Ae(be,q)}}},ne=ie(p),ae=ie(function(Ae,Le){UA(Ae);var ve=jh({style:S,timeout:C},{mode:"enter"});Ae.style.webkitTransition=A.transitions.create("opacity",ve),Ae.style.transition=A.transitions.create("opacity",ve),h&&h(Ae,Le)}),Se=ie(c),me=ie(b),fe=ie(function(Ae){var Le=jh({style:S,timeout:C},{mode:"exit"});Ae.style.webkitTransition=A.transitions.create("opacity",Le),Ae.style.transition=A.transitions.create("opacity",Le),m&&m(Ae)}),he=ie(g);return z.createElement(_,Ce({appear:!0,in:a,nodeRef:N?W:void 0,onEnter:ae,onEntered:Se,onEntering:ne,onExit:fe,onExited:he,onExiting:me,timeout:C},P),function(Ae,Le){return z.cloneElement(t,Ce({style:Ce({opacity:0,visibility:Ae==="exited"&&!a?"hidden":void 0},v$[Ae],S,t.props.style),ref:H},Le))})}),w$=function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},bk={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},x$=z.forwardRef(function(e,n){var t=e.align,r=t===void 0?"inherit":t,i=e.classes,a=e.className,h=e.color,c=h===void 0?"initial":h,p=e.component,m=e.display,g=m===void 0?"initial":m,b=e.gutterBottom,S=b===void 0?!1:b,T=e.noWrap,_=T===void 0?!1:T,k=e.paragraph,C=k===void 0?!1:k,P=e.variant,A=P===void 0?"body1":P,N=e.variantMapping,W=N===void 0?bk:N,Z=Ft(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),H=p||(C?"p":W[A]||bk[A])||"span";return z.createElement(H,Ce({className:ln(i.root,a,A!=="inherit"&&i[A],c!=="initial"&&i["color".concat(ji(c))],_&&i.noWrap,S&&i.gutterBottom,C&&i.paragraph,r!=="inherit"&&i["align".concat(ji(r))],g!=="initial"&&i["display".concat(ji(g))]),ref:n},Z))});const Hn=Un(w$,{name:"MuiTypography"})(x$);var rx=z.createContext();function b$(){return z.useContext(rx)}function GA(){return z.useContext(rx)}function S$(e){return e=typeof e=="function"?e():e,Fr.findDOMNode(e)}var Mg=typeof window<"u"?z.useLayoutEffect:z.useEffect,qA=z.forwardRef(function(e,n){var t=e.children,r=e.container,i=e.disablePortal,a=i===void 0?!1:i,h=e.onRendered,c=z.useState(null),p=c[0],m=c[1],g=Ln(z.isValidElement(t)?t.ref:null,n);return Mg(function(){a||m(S$(r)||document.body)},[r,a]),Mg(function(){if(p&&!a)return Da(n,p),function(){Da(n,null)}},[n,p,a]),Mg(function(){h&&(p||a)&&h()},[h,p,a]),a?z.isValidElement(t)?z.cloneElement(t,{ref:g}):t:p&&Fr.createPortal(t,p)});function $A(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),n}function E$(e){var n=Fi(e);return n.body===e?VA(n).innerWidth>n.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function pu(e,n){n?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Sk(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function Ek(e,n,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[n,t].concat(Dw(r)),h=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,function(c){c.nodeType===1&&a.indexOf(c)===-1&&h.indexOf(c.tagName)===-1&&pu(c,i)})}function Ig(e,n){var t=-1;return e.some(function(r,i){return n(r)?(t=i,!0):!1}),t}function T$(e,n){var t=[],r=[],i=e.container,a;if(!n.disableScrollLock){if(E$(i)){var h=$A();t.push({value:i.style.paddingRight,key:"padding-right",el:i}),i.style["padding-right"]="".concat(Sk(i)+h,"px"),a=Fi(i).querySelectorAll(".mui-fixed"),[].forEach.call(a,function(g){r.push(g.style.paddingRight),g.style.paddingRight="".concat(Sk(g)+h,"px")})}var c=i.parentElement,p=c.nodeName==="HTML"&&window.getComputedStyle(c)["overflow-y"]==="scroll"?c:i;t.push({value:p.style.overflow,key:"overflow",el:p}),p.style.overflow="hidden"}var m=function(){a&&[].forEach.call(a,function(g,b){r[b]?g.style.paddingRight=r[b]:g.style.removeProperty("padding-right")}),t.forEach(function(g){var b=g.value,S=g.el,T=g.key;b?S.style.setProperty(T,b):S.style.removeProperty(T)})};return m}function C$(e){var n=[];return[].forEach.call(e.children,function(t){t.getAttribute&&t.getAttribute("aria-hidden")==="true"&&n.push(t)}),n}var P$=function(){function e(){sG(this,e),this.modals=[],this.containers=[]}return Iw(e,[{key:"add",value:function(n,t){var r=this.modals.indexOf(n);if(r!==-1)return r;r=this.modals.length,this.modals.push(n),n.modalRef&&pu(n.modalRef,!1);var i=C$(t);Ek(t,n.mountNode,n.modalRef,i,!0);var a=Ig(this.containers,function(h){return h.container===t});return a!==-1?(this.containers[a].modals.push(n),r):(this.containers.push({modals:[n],container:t,restore:null,hiddenSiblingNodes:i}),r)}},{key:"mount",value:function(n,t){var r=Ig(this.containers,function(a){return a.modals.indexOf(n)!==-1}),i=this.containers[r];i.restore||(i.restore=T$(i,t))}},{key:"remove",value:function(n){var t=this.modals.indexOf(n);if(t===-1)return t;var r=Ig(this.containers,function(h){return h.modals.indexOf(n)!==-1}),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(n),1),this.modals.splice(t,1),i.modals.length===0)i.restore&&i.restore(),n.modalRef&&pu(n.modalRef,!0),Ek(i.container,n.mountNode,n.modalRef,i.hiddenSiblingNodes,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&pu(a.modalRef,!1)}return t}},{key:"isTopModal",value:function(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}]),e}();function k$(e){var n=e.children,t=e.disableAutoFocus,r=t===void 0?!1:t,i=e.disableEnforceFocus,a=i===void 0?!1:i,h=e.disableRestoreFocus,c=h===void 0?!1:h,p=e.getDoc,m=e.isEnabled,g=e.open,b=z.useRef(),S=z.useRef(null),T=z.useRef(null),_=z.useRef(),k=z.useRef(null),C=z.useCallback(function(N){k.current=Fr.findDOMNode(N)},[]),P=Ln(n.ref,C),A=z.useRef();return z.useEffect(function(){A.current=g},[g]),!A.current&&g&&typeof window<"u"&&(_.current=p().activeElement),z.useEffect(function(){if(g){var N=Fi(k.current);!r&&k.current&&!k.current.contains(N.activeElement)&&(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex",-1),k.current.focus());var W=function(){var ie=k.current;if(ie!==null){if(!N.hasFocus()||a||!m()||b.current){b.current=!1;return}k.current&&!k.current.contains(N.activeElement)&&k.current.focus()}},Z=function(ie){a||!m()||ie.keyCode!==9||N.activeElement===k.current&&(b.current=!0,ie.shiftKey?T.current.focus():S.current.focus())};N.addEventListener("focus",W,!0),N.addEventListener("keydown",Z,!0);var H=setInterval(function(){W()},50);return function(){clearInterval(H),N.removeEventListener("focus",W,!0),N.removeEventListener("keydown",Z,!0),c||(_.current&&_.current.focus&&_.current.focus(),_.current=null)}}},[r,a,c,m,g]),z.createElement(z.Fragment,null,z.createElement("div",{tabIndex:0,ref:S,"data-test":"sentinelStart"}),z.cloneElement(n,{ref:P}),z.createElement("div",{tabIndex:0,ref:T,"data-test":"sentinelEnd"}))}var Tk={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},_$=z.forwardRef(function(e,n){var t=e.invisible,r=t===void 0?!1:t,i=e.open,a=Ft(e,["invisible","open"]);return i?z.createElement("div",Ce({"aria-hidden":!0,ref:n},a,{style:Ce({},Tk.root,r?Tk.invisible:{},a.style)})):null});function R$(e){return e=typeof e=="function"?e():e,Fr.findDOMNode(e)}function O$(e){return e.children?e.children.props.hasOwnProperty("in"):!1}var A$=new P$,D$=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},M$=z.forwardRef(function(e,n){var t=gs(),r=ip({name:"MuiModal",props:Ce({},e),theme:t}),i=r.BackdropComponent,a=i===void 0?_$:i,h=r.BackdropProps,c=r.children,p=r.closeAfterTransition,m=p===void 0?!1:p,g=r.container,b=r.disableAutoFocus,S=b===void 0?!1:b,T=r.disableBackdropClick,_=T===void 0?!1:T,k=r.disableEnforceFocus,C=k===void 0?!1:k,P=r.disableEscapeKeyDown,A=P===void 0?!1:P,N=r.disablePortal,W=N===void 0?!1:N,Z=r.disableRestoreFocus,H=Z===void 0?!1:Z,ie=r.disableScrollLock,ne=ie===void 0?!1:ie,ae=r.hideBackdrop,Se=ae===void 0?!1:ae,me=r.keepMounted,fe=me===void 0?!1:me,he=r.manager,Ae=he===void 0?A$:he,Le=r.onBackdropClick,ve=r.onClose,de=r.onEscapeKeyDown,Ee=r.onRendered,be=r.open,q=Ft(r,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),ge=z.useState(!0),De=ge[0],$=ge[1],Qe=z.useRef({}),et=z.useRef(null),ot=z.useRef(null),ct=Ln(ot,n),yt=O$(r),gt=function(){return Fi(et.current)},Ke=function(){return Qe.current.modalRef=ot.current,Qe.current.mountNode=et.current,Qe.current},Ot=function(){Ae.mount(Ke(),{disableScrollLock:ne}),ot.current.scrollTop=0},Nt=ts(function(){var qe=R$(g)||gt().body;Ae.add(Ke(),qe),ot.current&&Ot()}),_t=z.useCallback(function(){return Ae.isTopModal(Ke())},[Ae]),un=ts(function(qe){et.current=qe,qe&&(Ee&&Ee(),be&&_t()?Ot():pu(ot.current,!0))}),Et=z.useCallback(function(){Ae.remove(Ke())},[Ae]);if(z.useEffect(function(){return function(){Et()}},[Et]),z.useEffect(function(){be?Nt():(!yt||!m)&&Et()},[be,Et,yt,m,Nt]),!fe&&!be&&(!yt||De))return null;var jt=function(){$(!1)},M=function(){$(!0),m&&Et()},Y=function(qe){qe.target===qe.currentTarget&&(Le&&Le(qe),!_&&ve&&ve(qe,"backdropClick"))},pe=function(qe){qe.key!=="Escape"||!_t()||(de&&de(qe),A||(qe.stopPropagation(),ve&&ve(qe,"escapeKeyDown")))},Me=D$(t||{zIndex:dO}),_e={};return c.props.tabIndex===void 0&&(_e.tabIndex=c.props.tabIndex||"-1"),yt&&(_e.onEnter=ju(jt,c.props.onEnter),_e.onExited=ju(M,c.props.onExited)),z.createElement(qA,{ref:un,container:g,disablePortal:W},z.createElement("div",Ce({ref:ct,onKeyDown:pe,role:"presentation"},q,{style:Ce({},Me.root,!be&&De?Me.hidden:{},q.style)}),Se?null:z.createElement(a,Ce({open:be,onClick:Y},h)),z.createElement(k$,{disableEnforceFocus:C,disableAutoFocus:S,disableRestoreFocus:H,getDoc:gt,isEnabled:_t,open:be},z.cloneElement(c,_e))))});function ix(e){var n=e.props,t=e.states,r=e.muiFormControl;return t.reduce(function(i,a){return i[a]=n[a],r&&typeof n[a]>"u"&&(i[a]=r[a]),i},{})}function Ad(e,n){return parseInt(e[n],10)||0}var I$=typeof window<"u"?z.useLayoutEffect:z.useEffect,L$={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},j$=z.forwardRef(function(e,n){var t=e.onChange,r=e.rows,i=e.rowsMax,a=e.rowsMin,h=e.maxRows,c=e.minRows,p=c===void 0?1:c,m=e.style,g=e.value,b=Ft(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),S=h||i,T=r||a||p,_=z.useRef(g!=null),k=_.current,C=z.useRef(null),P=Ln(n,C),A=z.useRef(null),N=z.useRef(0),W=z.useState({}),Z=W[0],H=W[1],ie=z.useCallback(function(){var ae=C.current,Se=window.getComputedStyle(ae),me=A.current;me.style.width=Se.width,me.value=ae.value||e.placeholder||"x",me.value.slice(-1)===`
`&&(me.value+=" ");var fe=Se["box-sizing"],he=Ad(Se,"padding-bottom")+Ad(Se,"padding-top"),Ae=Ad(Se,"border-bottom-width")+Ad(Se,"border-top-width"),Le=me.scrollHeight-he;me.value="x";var ve=me.scrollHeight-he,de=Le;T&&(de=Math.max(Number(T)*ve,de)),S&&(de=Math.min(Number(S)*ve,de)),de=Math.max(de,ve);var Ee=de+(fe==="border-box"?he+Ae:0),be=Math.abs(de-Le)<=1;H(function(q){return N.current<20&&(Ee>0&&Math.abs((q.outerHeightStyle||0)-Ee)>1||q.overflow!==be)?(N.current+=1,{overflow:be,outerHeightStyle:Ee}):q})},[S,T,e.placeholder]);z.useEffect(function(){var ae=zA(function(){N.current=0,ie()});return window.addEventListener("resize",ae),function(){ae.clear(),window.removeEventListener("resize",ae)}},[ie]),I$(function(){ie()}),z.useEffect(function(){N.current=0},[g]);var ne=function(ae){N.current=0,k||ie(),t&&t(ae)};return z.createElement(z.Fragment,null,z.createElement("textarea",Ce({value:g,onChange:ne,ref:P,rows:T,style:Ce({height:Z.outerHeightStyle,overflow:Z.overflow?"hidden":null},m)},b)),z.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:A,tabIndex:-1,style:Ce({},L$.shadow,m)}))});function Ck(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function ZA(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return e&&(Ck(e.value)&&e.value!==""||n&&Ck(e.defaultValue)&&e.defaultValue!=="")}var N$=function(e){var n=e.palette.type==="light",t={color:"currentColor",opacity:n?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:n?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Ce({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&:-ms-input-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},F$=typeof window>"u"?z.useEffect:z.useLayoutEffect,B$=z.forwardRef(function(e,n){var t=e["aria-describedby"],r=e.autoComplete,i=e.autoFocus,a=e.classes,h=e.className;e.color;var c=e.defaultValue,p=e.disabled,m=e.endAdornment;e.error;var g=e.fullWidth,b=g===void 0?!1:g,S=e.id,T=e.inputComponent,_=T===void 0?"input":T,k=e.inputProps,C=k===void 0?{}:k,P=e.inputRef;e.margin;var A=e.multiline,N=A===void 0?!1:A,W=e.name,Z=e.onBlur,H=e.onChange,ie=e.onClick,ne=e.onFocus,ae=e.onKeyDown,Se=e.onKeyUp,me=e.placeholder,fe=e.readOnly,he=e.renderSuffix,Ae=e.rows,Le=e.rowsMax,ve=e.rowsMin,de=e.maxRows,Ee=e.minRows,be=e.startAdornment,q=e.type,ge=q===void 0?"text":q,De=e.value,$=Ft(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),Qe=C.value!=null?C.value:De,et=z.useRef(Qe!=null),ot=et.current,ct=z.useRef(),yt=z.useCallback(function(le){},[]),gt=Ln(C.ref,yt),Ke=Ln(P,gt),Ot=Ln(ct,Ke),Nt=z.useState(!1),_t=Nt[0],un=Nt[1],Et=b$(),jt=ix({props:e,muiFormControl:Et,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});jt.focused=Et?Et.focused:_t,z.useEffect(function(){!Et&&p&&_t&&(un(!1),Z&&Z())},[Et,p,_t,Z]);var M=Et&&Et.onFilled,Y=Et&&Et.onEmpty,pe=z.useCallback(function(le){ZA(le)?M&&M():Y&&Y()},[M,Y]);F$(function(){ot&&pe({value:Qe})},[Qe,pe,ot]);var Me=function(le){if(jt.disabled){le.stopPropagation();return}ne&&ne(le),C.onFocus&&C.onFocus(le),Et&&Et.onFocus?Et.onFocus(le):un(!0)},_e=function(le){Z&&Z(le),C.onBlur&&C.onBlur(le),Et&&Et.onBlur?Et.onBlur(le):un(!1)},qe=function(le){if(!ot){var ke=le.target||ct.current;if(ke==null)throw new Error(Oa(1));pe({value:ke.value})}for(var L=arguments.length,j=new Array(L>1?L-1:0),U=1;U<L;U++)j[U-1]=arguments[U];C.onChange&&C.onChange.apply(C,[le].concat(j)),H&&H.apply(void 0,[le].concat(j))};z.useEffect(function(){pe(ct.current)},[]);var He=function(le){ct.current&&le.currentTarget===le.target&&ct.current.focus(),ie&&ie(le)},pt=_,Tt=Ce({},C,{ref:Ot});typeof pt!="string"?Tt=Ce({inputRef:Ot,type:ge},Tt,{ref:null}):N?Ae&&!de&&!Ee&&!Le&&!ve?pt="textarea":(Tt=Ce({minRows:Ae||Ee,rowsMax:Le,maxRows:de},Tt),pt=j$):Tt=Ce({type:ge},Tt);var Pt=function(le){pe(le.animationName==="mui-auto-fill-cancel"?ct.current:{value:"x"})};return z.useEffect(function(){Et&&Et.setAdornedStart(!!be)},[Et,be]),z.createElement("div",Ce({className:ln(a.root,a["color".concat(ji(jt.color||"primary"))],h,jt.disabled&&a.disabled,jt.error&&a.error,b&&a.fullWidth,jt.focused&&a.focused,Et&&a.formControl,N&&a.multiline,be&&a.adornedStart,m&&a.adornedEnd,jt.margin==="dense"&&a.marginDense),onClick:He,ref:n},$),be,z.createElement(rx.Provider,{value:null},z.createElement(pt,Ce({"aria-invalid":jt.error,"aria-describedby":t,autoComplete:r,autoFocus:i,defaultValue:c,disabled:jt.disabled,id:S,onAnimationStart:Pt,name:W,placeholder:me,readOnly:fe,required:jt.required,rows:Ae,value:Qe,onKeyDown:ae,onKeyUp:Se},Tt,{className:ln(a.input,C.className,jt.disabled&&a.disabled,N&&a.inputMultiline,jt.hiddenLabel&&a.inputHiddenLabel,be&&a.inputAdornedStart,m&&a.inputAdornedEnd,ge==="search"&&a.inputTypeSearch,jt.margin==="dense"&&a.inputMarginDense),onBlur:_e,onChange:qe,onFocus:Me}))),m,he?he(Ce({},jt,{startAdornment:be})):null)});const ox=Un(N$,{name:"MuiInputBase"})(B$);var H$=function(e){var n=e.palette.type==="light",t=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:n?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},XA=z.forwardRef(function(e,n){var t=e.disableUnderline,r=e.classes,i=e.fullWidth,a=i===void 0?!1:i,h=e.inputComponent,c=h===void 0?"input":h,p=e.multiline,m=p===void 0?!1:p,g=e.type,b=g===void 0?"text":g,S=Ft(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return z.createElement(ox,Ce({classes:Ce({},r,{root:ln(r.root,!t&&r.underline),underline:null}),fullWidth:a,inputComponent:c,multiline:m,ref:n,type:b},S))});XA.muiName="Input";const z$=Un(H$,{name:"MuiFilledInput"})(XA);function py(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var V$={entering:{opacity:1,transform:py(1)},entered:{opacity:1,transform:"none"}},YA=z.forwardRef(function(e,n){var t=e.children,r=e.disableStrictModeCompat,i=r===void 0?!1:r,a=e.in,h=e.onEnter,c=e.onEntered,p=e.onEntering,m=e.onExit,g=e.onExited,b=e.onExiting,S=e.style,T=e.timeout,_=T===void 0?"auto":T,k=e.TransitionComponent,C=k===void 0?Ei:k,P=Ft(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),A=z.useRef(),N=z.useRef(),W=qa(),Z=W.unstable_strictMode&&!i,H=z.useRef(null),ie=Ln(t.ref,n),ne=Ln(Z?H:void 0,ie),ae=function(de){return function(Ee,be){if(de){var q=Z?[H.current,Ee]:[Ee,be],ge=Mw(q,2),De=ge[0],$=ge[1];$===void 0?de(De):de(De,$)}}},Se=ae(p),me=ae(function(de,Ee){UA(de);var be=jh({style:S,timeout:_},{mode:"enter"}),q=be.duration,ge=be.delay,De;_==="auto"?(De=W.transitions.getAutoHeightDuration(de.clientHeight),N.current=De):De=q,de.style.transition=[W.transitions.create("opacity",{duration:De,delay:ge}),W.transitions.create("transform",{duration:De*.666,delay:ge})].join(","),h&&h(de,Ee)}),fe=ae(c),he=ae(b),Ae=ae(function(de){var Ee=jh({style:S,timeout:_},{mode:"exit"}),be=Ee.duration,q=Ee.delay,ge;_==="auto"?(ge=W.transitions.getAutoHeightDuration(de.clientHeight),N.current=ge):ge=be,de.style.transition=[W.transitions.create("opacity",{duration:ge,delay:q}),W.transitions.create("transform",{duration:ge*.666,delay:q||ge*.333})].join(","),de.style.opacity="0",de.style.transform=py(.75),m&&m(de)}),Le=ae(g),ve=function(de,Ee){var be=Z?de:Ee;_==="auto"&&(A.current=setTimeout(be,N.current||0))};return z.useEffect(function(){return function(){clearTimeout(A.current)}},[]),z.createElement(C,Ce({appear:!0,in:a,nodeRef:Z?H:void 0,onEnter:me,onEntered:fe,onEntering:Se,onExit:Ae,onExited:Le,onExiting:he,addEndListener:ve,timeout:_==="auto"?null:_},P),function(de,Ee){return z.cloneElement(t,Ce({style:Ce({opacity:0,transform:py(.75),visibility:de==="exited"&&!a?"hidden":void 0},V$[de],S,t.props.style),ref:ne},Ee))})});YA.muiSupportAuto=!0;var U$=function(e){var n=e.palette.type==="light",t=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},KA=z.forwardRef(function(e,n){var t=e.disableUnderline,r=e.classes,i=e.fullWidth,a=i===void 0?!1:i,h=e.inputComponent,c=h===void 0?"input":h,p=e.multiline,m=p===void 0?!1:p,g=e.type,b=g===void 0?"text":g,S=Ft(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return z.createElement(ox,Ce({classes:Ce({},r,{root:ln(r.root,!t&&r.underline),underline:null}),fullWidth:a,inputComponent:c,multiline:m,ref:n,type:b},S))});KA.muiName="Input";const JA=Un(U$,{name:"MuiInput"})(KA);var fu=z.createContext({}),W$={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},G$=z.forwardRef(function(e,n){var t=e.children,r=e.classes,i=e.className,a=e.component,h=a===void 0?"ul":a,c=e.dense,p=c===void 0?!1:c,m=e.disablePadding,g=m===void 0?!1:m,b=e.subheader,S=Ft(e,["children","classes","className","component","dense","disablePadding","subheader"]),T=z.useMemo(function(){return{dense:p}},[p]);return z.createElement(fu.Provider,{value:T},z.createElement(h,Ce({className:ln(r.root,i,p&&r.dense,!g&&r.padding,b&&r.subheader),ref:n},S),b,t))});const QA=Un(W$,{name:"MuiList"})(G$);var q$=function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},$$=typeof window>"u"?z.useEffect:z.useLayoutEffect,Z$=z.forwardRef(function(e,n){var t=e.alignItems,r=t===void 0?"center":t,i=e.autoFocus,a=i===void 0?!1:i,h=e.button,c=h===void 0?!1:h,p=e.children,m=e.classes,g=e.className,b=e.component,S=e.ContainerComponent,T=S===void 0?"li":S,_=e.ContainerProps;_=_===void 0?{}:_;var k=_.className,C=Ft(_,["className"]),P=e.dense,A=P===void 0?!1:P,N=e.disabled,W=N===void 0?!1:N,Z=e.disableGutters,H=Z===void 0?!1:Z,ie=e.divider,ne=ie===void 0?!1:ie,ae=e.focusVisibleClassName,Se=e.selected,me=Se===void 0?!1:Se,fe=Ft(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),he=z.useContext(fu),Ae={dense:A||he.dense||!1,alignItems:r},Le=z.useRef(null);$$(function(){a&&(Le.current&&Le.current.focus())},[a]);var ve=z.Children.toArray(p),de=ve.length&&Uq(ve[ve.length-1],["ListItemSecondaryAction"]),Ee=z.useCallback(function(De){Le.current=Fr.findDOMNode(De)},[]),be=Ln(Ee,n),q=Ce({className:ln(m.root,g,Ae.dense&&m.dense,!H&&m.gutters,ne&&m.divider,W&&m.disabled,c&&m.button,r!=="center"&&m.alignItemsFlexStart,de&&m.secondaryAction,me&&m.selected),disabled:W},fe),ge=b||"li";return c&&(q.component=b||"div",q.focusVisibleClassName=ln(m.focusVisible,ae),ge=g$),de?(ge=!q.component&&!b?"div":ge,T==="li"&&(ge==="li"?ge="div":q.component==="li"&&(q.component="div")),z.createElement(fu.Provider,{value:Ae},z.createElement(T,Ce({className:ln(m.container,k),ref:be},C),z.createElement(ge,q,ve),ve.pop()))):z.createElement(fu.Provider,{value:Ae},z.createElement(ge,Ce({ref:be},q),ve))});const ea=Un(q$,{name:"MuiListItem"})(Z$);var X$={root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},Y$=z.forwardRef(function(e,n){var t=e.children,r=e.classes,i=e.className,a=e.disableTypography,h=a===void 0?!1:a,c=e.inset,p=c===void 0?!1:c,m=e.primary,g=e.primaryTypographyProps,b=e.secondary,S=e.secondaryTypographyProps,T=Ft(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),_=z.useContext(fu),k=_.dense,C=m??t;C!=null&&C.type!==Hn&&!h&&(C=z.createElement(Hn,Ce({variant:k?"body2":"body1",className:r.primary,component:"span",display:"block"},g),C));var P=b;return P!=null&&P.type!==Hn&&!h&&(P=z.createElement(Hn,Ce({variant:"body2",className:r.secondary,color:"textSecondary",display:"block"},S),P)),z.createElement("div",Ce({className:ln(r.root,i,k&&r.dense,p&&r.inset,C&&P&&r.multiline),ref:n},T),C,P)});const Ll=Un(X$,{name:"MuiListItemText"})(Y$);function Pk(e,n){var t=0;return typeof n=="number"?t=n:n==="center"?t=e.height/2:n==="bottom"&&(t=e.height),t}function kk(e,n){var t=0;return typeof n=="number"?t=n:n==="center"?t=e.width/2:n==="right"&&(t=e.width),t}function _k(e){return[e.horizontal,e.vertical].map(function(n){return typeof n=="number"?"".concat(n,"px"):n}).join(" ")}function K$(e,n){for(var t=n,r=0;t&&t!==e;)t=t.parentElement,r+=t.scrollTop;return r}function Lg(e){return typeof e=="function"?e():e}var J$={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},Q$=z.forwardRef(function(e,n){var t=e.action,r=e.anchorEl,i=e.anchorOrigin,a=i===void 0?{vertical:"top",horizontal:"left"}:i,h=e.anchorPosition,c=e.anchorReference,p=c===void 0?"anchorEl":c,m=e.children,g=e.classes,b=e.className,S=e.container,T=e.elevation,_=T===void 0?8:T,k=e.getContentAnchorEl,C=e.marginThreshold,P=C===void 0?16:C,A=e.onEnter,N=e.onEntered,W=e.onEntering,Z=e.onExit,H=e.onExited,ie=e.onExiting,ne=e.open,ae=e.PaperProps,Se=ae===void 0?{}:ae,me=e.transformOrigin,fe=me===void 0?{vertical:"top",horizontal:"left"}:me,he=e.TransitionComponent,Ae=he===void 0?YA:he,Le=e.transitionDuration,ve=Le===void 0?"auto":Le,de=e.TransitionProps,Ee=de===void 0?{}:de,be=Ft(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),q=z.useRef(),ge=z.useCallback(function(Ke){if(p==="anchorPosition")return h;var Ot=Lg(r),Nt=Ot&&Ot.nodeType===1?Ot:Fi(q.current).body,_t=Nt.getBoundingClientRect(),un=Ke===0?a.vertical:"center";return{top:_t.top+Pk(_t,un),left:_t.left+kk(_t,a.horizontal)}},[r,a.horizontal,a.vertical,h,p]),De=z.useCallback(function(Ke){var Ot=0;if(k&&p==="anchorEl"){var Nt=k(Ke);if(Nt&&Ke.contains(Nt)){var _t=K$(Ke,Nt);Ot=Nt.offsetTop+Nt.clientHeight/2-_t||0}}return Ot},[a.vertical,p,k]),$=z.useCallback(function(Ke){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{vertical:Pk(Ke,fe.vertical)+Ot,horizontal:kk(Ke,fe.horizontal)}},[fe.horizontal,fe.vertical]),Qe=z.useCallback(function(Ke){var Ot=De(Ke),Nt={width:Ke.offsetWidth,height:Ke.offsetHeight},_t=$(Nt,Ot);if(p==="none")return{top:null,left:null,transformOrigin:_k(_t)};var un=ge(Ot),Et=un.top-_t.vertical,jt=un.left-_t.horizontal,M=Et+Nt.height,Y=jt+Nt.width,pe=VA(Lg(r)),Me=pe.innerHeight-P,_e=pe.innerWidth-P;if(Et<P){var qe=Et-P;Et-=qe,_t.vertical+=qe}else if(M>Me){var He=M-Me;Et-=He,_t.vertical+=He}if(jt<P){var pt=jt-P;jt-=pt,_t.horizontal+=pt}else if(Y>_e){var Tt=Y-_e;jt-=Tt,_t.horizontal+=Tt}return{top:"".concat(Math.round(Et),"px"),left:"".concat(Math.round(jt),"px"),transformOrigin:_k(_t)}},[r,p,ge,De,$,P]),et=z.useCallback(function(){var Ke=q.current;if(Ke){var Ot=Qe(Ke);Ot.top!==null&&(Ke.style.top=Ot.top),Ot.left!==null&&(Ke.style.left=Ot.left),Ke.style.transformOrigin=Ot.transformOrigin}},[Qe]),ot=function(Ke,Ot){W&&W(Ke,Ot),et()},ct=z.useCallback(function(Ke){q.current=Fr.findDOMNode(Ke)},[]);z.useEffect(function(){ne&&et()}),z.useImperativeHandle(t,function(){return ne?{updatePosition:function(){et()}}:null},[ne,et]),z.useEffect(function(){if(ne){var Ke=zA(function(){et()});return window.addEventListener("resize",Ke),function(){Ke.clear(),window.removeEventListener("resize",Ke)}}},[ne,et]);var yt=ve;ve==="auto"&&!Ae.muiSupportAuto&&(yt=void 0);var gt=S||(r?Fi(Lg(r)).body:void 0);return z.createElement(M$,Ce({container:gt,open:ne,ref:n,BackdropProps:{invisible:!0},className:ln(g.root,b)},be),z.createElement(Ae,Ce({appear:!0,in:ne,onEnter:A,onEntered:N,onExit:Z,onExited:H,onExiting:ie,timeout:yt},Ee,{onEntering:ju(ot,Ee.onEntering)}),z.createElement(nx,Ce({elevation:_,ref:ct},Se,{className:ln(g.paper,Se.className)}),m)))});const eD=Un(J$,{name:"MuiPopover"})(Q$);function jg(e,n,t){return e===n?e.firstChild:n&&n.nextElementSibling?n.nextElementSibling:t?null:e.firstChild}function Rk(e,n,t){return e===n?t?e.firstChild:e.lastChild:n&&n.previousElementSibling?n.previousElementSibling:t?null:e.lastChild}function tD(e,n){if(n===void 0)return!0;var t=e.innerText;return t===void 0&&(t=e.textContent),t=t.trim().toLowerCase(),t.length===0?!1:n.repeating?t[0]===n.keys[0]:t.indexOf(n.keys.join(""))===0}function jl(e,n,t,r,i,a){for(var h=!1,c=i(e,n,n?t:!1);c;){if(c===e.firstChild){if(h)return;h=!0}var p=r?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!tD(c,a)||p)c=i(e,c,t);else{c.focus();return}}}var eZ=typeof window>"u"?z.useEffect:z.useLayoutEffect,tZ=z.forwardRef(function(e,n){var t=e.actions,r=e.autoFocus,i=r===void 0?!1:r,a=e.autoFocusItem,h=a===void 0?!1:a,c=e.children,p=e.className,m=e.disabledItemsFocusable,g=m===void 0?!1:m,b=e.disableListWrap,S=b===void 0?!1:b,T=e.onKeyDown,_=e.variant,k=_===void 0?"selectedMenu":_,C=Ft(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),P=z.useRef(null),A=z.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});eZ(function(){i&&P.current.focus()},[i]),z.useImperativeHandle(t,function(){return{adjustStyleForScrollbar:function(ne,ae){var Se=!P.current.style.width;if(ne.clientHeight<P.current.clientHeight&&Se){var me="".concat($A(),"px");P.current.style[ae.direction==="rtl"?"paddingLeft":"paddingRight"]=me,P.current.style.width="calc(100% + ".concat(me,")")}return P.current}}},[]);var N=function(ne){var ae=P.current,Se=ne.key,me=Fi(ae).activeElement;if(Se==="ArrowDown")ne.preventDefault(),jl(ae,me,S,g,jg);else if(Se==="ArrowUp")ne.preventDefault(),jl(ae,me,S,g,Rk);else if(Se==="Home")ne.preventDefault(),jl(ae,null,S,g,jg);else if(Se==="End")ne.preventDefault(),jl(ae,null,S,g,Rk);else if(Se.length===1){var fe=A.current,he=Se.toLowerCase(),Ae=performance.now();fe.keys.length>0&&(Ae-fe.lastTime>500?(fe.keys=[],fe.repeating=!0,fe.previousKeyMatched=!0):fe.repeating&&he!==fe.keys[0]&&(fe.repeating=!1)),fe.lastTime=Ae,fe.keys.push(he);var Le=me&&!fe.repeating&&tD(me,fe);fe.previousKeyMatched&&(Le||jl(ae,me,!1,g,jg,fe))?ne.preventDefault():fe.previousKeyMatched=!1}T&&T(ne)},W=z.useCallback(function(ne){P.current=Fr.findDOMNode(ne)},[]),Z=Ln(W,n),H=-1;z.Children.forEach(c,function(ne,ae){z.isValidElement(ne)&&(ne.props.disabled||(k==="selectedMenu"&&ne.props.selected||H===-1)&&(H=ae))});var ie=z.Children.map(c,function(ne,ae){if(ae===H){var Se={};return h&&(Se.autoFocus=!0),ne.props.tabIndex===void 0&&k==="selectedMenu"&&(Se.tabIndex=0),z.cloneElement(ne,Se)}return ne});return z.createElement(QA,Ce({role:"menu",ref:Z,className:p,onKeyDown:N,tabIndex:i?0:-1},C),ie)}),Ok={vertical:"top",horizontal:"right"},Ak={vertical:"top",horizontal:"left"},nZ={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},rZ=z.forwardRef(function(e,n){var t=e.autoFocus,r=t===void 0?!0:t,i=e.children,a=e.classes,h=e.disableAutoFocusItem,c=h===void 0?!1:h,p=e.MenuListProps,m=p===void 0?{}:p,g=e.onClose,b=e.onEntering,S=e.open,T=e.PaperProps,_=T===void 0?{}:T,k=e.PopoverClasses,C=e.transitionDuration,P=C===void 0?"auto":C,A=e.TransitionProps;A=A===void 0?{}:A;var N=A.onEntering,W=Ft(A,["onEntering"]),Z=e.variant,H=Z===void 0?"selectedMenu":Z,ie=Ft(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),ne=qa(),ae=r&&!c&&S,Se=z.useRef(null),me=z.useRef(null),fe=function(){return me.current},he=function(de,Ee){Se.current&&Se.current.adjustStyleForScrollbar(de,ne),b&&b(de,Ee),N&&N(de,Ee)},Ae=function(de){de.key==="Tab"&&(de.preventDefault(),g&&g(de,"tabKeyDown"))},Le=-1;z.Children.map(i,function(de,Ee){z.isValidElement(de)&&(de.props.disabled||(H!=="menu"&&de.props.selected||Le===-1)&&(Le=Ee))});var ve=z.Children.map(i,function(de,Ee){return Ee===Le?z.cloneElement(de,{ref:function(be){me.current=Fr.findDOMNode(be),Da(de.ref,be)}}):de});return z.createElement(eD,Ce({getContentAnchorEl:fe,classes:k,onClose:g,TransitionProps:Ce({onEntering:he},W),anchorOrigin:ne.direction==="rtl"?Ok:Ak,transformOrigin:ne.direction==="rtl"?Ok:Ak,PaperProps:Ce({},_,{classes:Ce({},_.classes,{root:a.paper})}),open:S,ref:n,transitionDuration:P},ie),z.createElement(tZ,Ce({onKeyDown:Ae,actions:Se,autoFocus:r&&(Le===-1||c),autoFocusItem:ae,variant:H},m,{className:ln(a.list,m.className)}),ve))});const iZ=Un(nZ,{name:"MuiMenu"})(rZ);var oZ=function(e){return{root:Ce({},e.typography.body1,ba({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Ce({},e.typography.body2,{minHeight:"auto"})}},sZ=z.forwardRef(function(e,n){var t=e.classes,r=e.className,i=e.component,a=i===void 0?"li":i,h=e.disableGutters,c=h===void 0?!1:h,p=e.ListItemClasses,m=e.role,g=m===void 0?"menuitem":m,b=e.selected,S=e.tabIndex,T=Ft(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]),_;return e.disabled||(_=S!==void 0?S:-1),z.createElement(ea,Ce({button:!0,role:g,tabIndex:_,component:a,selected:b,disableGutters:c,classes:Ce({dense:t.dense},p),className:ln(t.root,r,b&&t.selected,!c&&t.gutters),ref:n},T))});const qo=Un(oZ,{name:"MuiMenuItem"})(sZ);var nD=z.forwardRef(function(e,n){var t=e.classes,r=e.className,i=e.disabled,a=e.IconComponent,h=e.inputRef,c=e.variant,p=c===void 0?"standard":c,m=Ft(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return z.createElement(z.Fragment,null,z.createElement("select",Ce({className:ln(t.root,t.select,t[p],r,i&&t.disabled),disabled:i,ref:h||n},m)),e.multiple?null:z.createElement(a,{className:ln(t.icon,t["icon".concat(ji(p))],i&&t.disabled)}))});const rD=Vq(z.createElement("path",{d:"M7 10l5 5 5-5z"}));var iD=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:e.palette.type==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},aZ=z.createElement(JA,null),oD=z.forwardRef(function(e,n){var t=e.children,r=e.classes,i=e.IconComponent,a=i===void 0?rD:i,h=e.input,c=h===void 0?aZ:h,p=e.inputProps;e.variant;var m=Ft(e,["children","classes","IconComponent","input","inputProps","variant"]),g=GA(),b=ix({props:e,muiFormControl:g,states:["variant"]});return z.cloneElement(c,Ce({inputComponent:nD,inputProps:Ce({children:t,classes:r,IconComponent:a,variant:b.variant,type:void 0},p,c?c.props.inputProps:{}),ref:n},m))});oD.muiName="Select";Un(iD,{name:"MuiNativeSelect"})(oD);var lZ=function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}},uZ=z.forwardRef(function(e,n){e.children;var t=e.classes,r=e.className,i=e.label,a=e.labelWidth,h=e.notched,c=e.style,p=Ft(e,["children","classes","className","label","labelWidth","notched","style"]),m=qa(),g=m.direction==="rtl"?"right":"left";if(i!==void 0)return z.createElement("fieldset",Ce({"aria-hidden":!0,className:ln(t.root,r),ref:n,style:c},p),z.createElement("legend",{className:ln(t.legendLabelled,h&&t.legendNotched)},i?z.createElement("span",null,i):z.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var b=a>0?a*.75+8:.01;return z.createElement("fieldset",Ce({"aria-hidden":!0,style:Ce(ba({},"padding".concat(ji(g)),8),c),className:ln(t.root,r),ref:n},p),z.createElement("legend",{className:t.legend,style:{width:h?b:.01}},z.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))});const cZ=Un(lZ,{name:"PrivateNotchedOutline"})(uZ);var dZ=function(e){var n=e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:n}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:n},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},sD=z.forwardRef(function(e,n){var t=e.classes,r=e.fullWidth,i=r===void 0?!1:r,a=e.inputComponent,h=a===void 0?"input":a,c=e.label,p=e.labelWidth,m=p===void 0?0:p,g=e.multiline,b=g===void 0?!1:g,S=e.notched,T=e.type,_=T===void 0?"text":T,k=Ft(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return z.createElement(ox,Ce({renderSuffix:function(C){return z.createElement(cZ,{className:t.notchedOutline,label:c,labelWidth:m,notched:typeof S<"u"?S:!!(C.startAdornment||C.filled||C.focused)})},classes:Ce({},t,{root:ln(t.root,t.underline),notchedOutline:null}),fullWidth:i,inputComponent:h,multiline:b,ref:n,type:_},k))});sD.muiName="Input";const hZ=Un(dZ,{name:"MuiOutlinedInput"})(sD);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1-lts
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Zu=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",pZ=function(){for(var e=["Edge","Trident","Firefox"],n=0;n<e.length;n+=1)if(Zu&&navigator.userAgent.indexOf(e[n])>=0)return 1;return 0}();function fZ(e){var n=!1;return function(){n||(n=!0,window.Promise.resolve().then(function(){n=!1,e()}))}}function mZ(e){var n=!1;return function(){n||(n=!0,setTimeout(function(){n=!1,e()},pZ))}}var gZ=Zu&&window.Promise,vZ=gZ?fZ:mZ;function aD(e){var n={};return e&&n.toString.call(e)==="[object Function]"}function ws(e,n){if(e.nodeType!==1)return[];var t=e.ownerDocument.defaultView,r=t.getComputedStyle(e,null);return n?r[n]:r}function sx(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function Xu(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var n=ws(e),t=n.overflow,r=n.overflowX,i=n.overflowY;return/(auto|scroll|overlay)/.test(t+i+r)?e:Xu(sx(e))}function lD(e){return e&&e.referenceNode?e.referenceNode:e}var Dk=Zu&&!!(window.MSInputMethodContext&&document.documentMode),Mk=Zu&&/MSIE 10/.test(navigator.userAgent);function $a(e){return e===11?Dk:e===10?Mk:Dk||Mk}function Ma(e){if(!e)return document.documentElement;for(var n=$a(10)?document.body:null,t=e.offsetParent||null;t===n&&e.nextElementSibling;)t=(e=e.nextElementSibling).offsetParent;var r=t&&t.nodeName;return!r||r==="BODY"||r==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(t.nodeName)!==-1&&ws(t,"position")==="static"?Ma(t):t}function yZ(e){var n=e.nodeName;return n==="BODY"?!1:n==="HTML"||Ma(e.firstElementChild)===e}function fy(e){return e.parentNode!==null?fy(e.parentNode):e}function Nh(e,n){if(!e||!e.nodeType||!n||!n.nodeType)return document.documentElement;var t=e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?e:n,i=t?n:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var h=a.commonAncestorContainer;if(e!==h&&n!==h||r.contains(i))return yZ(h)?h:Ma(h);var c=fy(e);return c.host?Nh(c.host,n):Nh(e,fy(n).host)}function Ia(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",t=n==="top"?"scrollTop":"scrollLeft",r=e.nodeName;if(r==="BODY"||r==="HTML"){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[t]}return e[t]}function wZ(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Ia(n,"top"),i=Ia(n,"left"),a=t?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}function Ik(e,n){var t=n==="x"?"Left":"Top",r=t==="Left"?"Right":"Bottom";return parseFloat(e["border"+t+"Width"])+parseFloat(e["border"+r+"Width"])}function Lk(e,n,t,r){return Math.max(n["offset"+e],n["scroll"+e],t["client"+e],t["offset"+e],t["scroll"+e],$a(10)?parseInt(t["offset"+e])+parseInt(r["margin"+(e==="Height"?"Top":"Left")])+parseInt(r["margin"+(e==="Height"?"Bottom":"Right")]):0)}function uD(e){var n=e.body,t=e.documentElement,r=$a(10)&&getComputedStyle(t);return{height:Lk("Height",n,t,r),width:Lk("Width",n,t,r)}}var xZ=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},bZ=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),La=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e},Gr=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function Eo(e){return Gr({},e,{right:e.left+e.width,bottom:e.top+e.height})}function my(e){var n={};try{if($a(10)){n=e.getBoundingClientRect();var t=Ia(e,"top"),r=Ia(e,"left");n.top+=t,n.left+=r,n.bottom+=t,n.right+=r}else n=e.getBoundingClientRect()}catch{}var i={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},a=e.nodeName==="HTML"?uD(e.ownerDocument):{},h=a.width||e.clientWidth||i.width,c=a.height||e.clientHeight||i.height,p=e.offsetWidth-h,m=e.offsetHeight-c;if(p||m){var g=ws(e);p-=Ik(g,"x"),m-=Ik(g,"y"),i.width-=p,i.height-=m}return Eo(i)}function ax(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=$a(10),i=n.nodeName==="HTML",a=my(e),h=my(n),c=Xu(e),p=ws(n),m=parseFloat(p.borderTopWidth),g=parseFloat(p.borderLeftWidth);t&&i&&(h.top=Math.max(h.top,0),h.left=Math.max(h.left,0));var b=Eo({top:a.top-h.top-m,left:a.left-h.left-g,width:a.width,height:a.height});if(b.marginTop=0,b.marginLeft=0,!r&&i){var S=parseFloat(p.marginTop),T=parseFloat(p.marginLeft);b.top-=m-S,b.bottom-=m-S,b.left-=g-T,b.right-=g-T,b.marginTop=S,b.marginLeft=T}return(r&&!t?n.contains(c):n===c&&c.nodeName!=="BODY")&&(b=wZ(b,n)),b}function SZ(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.ownerDocument.documentElement,r=ax(e,t),i=Math.max(t.clientWidth,window.innerWidth||0),a=Math.max(t.clientHeight,window.innerHeight||0),h=n?0:Ia(t),c=n?0:Ia(t,"left"),p={top:h-r.top+r.marginTop,left:c-r.left+r.marginLeft,width:i,height:a};return Eo(p)}function cD(e){var n=e.nodeName;if(n==="BODY"||n==="HTML")return!1;if(ws(e,"position")==="fixed")return!0;var t=sx(e);return t?cD(t):!1}function dD(e){if(!e||!e.parentElement||$a())return document.documentElement;for(var n=e.parentElement;n&&ws(n,"transform")==="none";)n=n.parentElement;return n||document.documentElement}function lx(e,n,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a={top:0,left:0},h=i?dD(e):Nh(e,lD(n));if(r==="viewport")a=SZ(h,i);else{var c=void 0;r==="scrollParent"?(c=Xu(sx(n)),c.nodeName==="BODY"&&(c=e.ownerDocument.documentElement)):r==="window"?c=e.ownerDocument.documentElement:c=r;var p=ax(c,h,i);if(c.nodeName==="HTML"&&!cD(h)){var m=uD(e.ownerDocument),g=m.height,b=m.width;a.top+=p.top-p.marginTop,a.bottom=g+p.top,a.left+=p.left-p.marginLeft,a.right=b+p.left}else a=p}t=t||0;var S=typeof t=="number";return a.left+=S?t:t.left||0,a.top+=S?t:t.top||0,a.right-=S?t:t.right||0,a.bottom-=S?t:t.bottom||0,a}function EZ(e){var n=e.width,t=e.height;return n*t}function hD(e,n,t,r,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var h=lx(t,r,a,i),c={top:{width:h.width,height:n.top-h.top},right:{width:h.right-n.right,height:h.height},bottom:{width:h.width,height:h.bottom-n.bottom},left:{width:n.left-h.left,height:h.height}},p=Object.keys(c).map(function(S){return Gr({key:S},c[S],{area:EZ(c[S])})}).sort(function(S,T){return T.area-S.area}),m=p.filter(function(S){var T=S.width,_=S.height;return T>=t.clientWidth&&_>=t.clientHeight}),g=m.length>0?m[0].key:p[0].key,b=e.split("-")[1];return g+(b?"-"+b:"")}function pD(e,n,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?dD(n):Nh(n,lD(t));return ax(t,i,r)}function fD(e){var n=e.ownerDocument.defaultView,t=n.getComputedStyle(e),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0),a={width:e.offsetWidth+i,height:e.offsetHeight+r};return a}function Fh(e){var n={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(t){return n[t]})}function mD(e,n,t){t=t.split("-")[0];var r=fD(e),i={width:r.width,height:r.height},a=["right","left"].indexOf(t)!==-1,h=a?"top":"left",c=a?"left":"top",p=a?"height":"width",m=a?"width":"height";return i[h]=n[h]+n[p]/2-r[p]/2,t===c?i[c]=n[c]-r[m]:i[c]=n[Fh(c)],i}function Yu(e,n){return Array.prototype.find?e.find(n):e.filter(n)[0]}function TZ(e,n,t){if(Array.prototype.findIndex)return e.findIndex(function(i){return i[n]===t});var r=Yu(e,function(i){return i[n]===t});return e.indexOf(r)}function gD(e,n,t){var r=t===void 0?e:e.slice(0,TZ(e,"name",t));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var a=i.function||i.fn;i.enabled&&aD(a)&&(n.offsets.popper=Eo(n.offsets.popper),n.offsets.reference=Eo(n.offsets.reference),n=a(n,i))}),n}function CZ(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=pD(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=hD(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=mD(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=gD(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function vD(e,n){return e.some(function(t){var r=t.name,i=t.enabled;return i&&r===n})}function ux(e){for(var n=[!1,"ms","Webkit","Moz","O"],t=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<n.length;r++){var i=n[r],a=i?""+i+t:e;if(typeof document.body.style[a]<"u")return a}return null}function PZ(){return this.state.isDestroyed=!0,vD(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ux("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function yD(e){var n=e.ownerDocument;return n?n.defaultView:window}function wD(e,n,t,r){var i=e.nodeName==="BODY",a=i?e.ownerDocument.defaultView:e;a.addEventListener(n,t,{passive:!0}),i||wD(Xu(a.parentNode),n,t,r),r.push(a)}function kZ(e,n,t,r){t.updateBound=r,yD(e).addEventListener("resize",t.updateBound,{passive:!0});var i=Xu(e);return wD(i,"scroll",t.updateBound,t.scrollParents),t.scrollElement=i,t.eventsEnabled=!0,t}function _Z(){this.state.eventsEnabled||(this.state=kZ(this.reference,this.options,this.state,this.scheduleUpdate))}function RZ(e,n){return yD(e).removeEventListener("resize",n.updateBound),n.scrollParents.forEach(function(t){t.removeEventListener("scroll",n.updateBound)}),n.updateBound=null,n.scrollParents=[],n.scrollElement=null,n.eventsEnabled=!1,n}function OZ(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=RZ(this.reference,this.state))}function cx(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function gy(e,n){Object.keys(n).forEach(function(t){var r="";["width","height","top","right","bottom","left"].indexOf(t)!==-1&&cx(n[t])&&(r="px"),e.style[t]=n[t]+r})}function AZ(e,n){Object.keys(n).forEach(function(t){var r=n[t];r!==!1?e.setAttribute(t,n[t]):e.removeAttribute(t)})}function DZ(e){return gy(e.instance.popper,e.styles),AZ(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&gy(e.arrowElement,e.arrowStyles),e}function MZ(e,n,t,r,i){var a=pD(i,n,e,t.positionFixed),h=hD(t.placement,a,n,e,t.modifiers.flip.boundariesElement,t.modifiers.flip.padding);return n.setAttribute("x-placement",h),gy(n,{position:t.positionFixed?"fixed":"absolute"}),t}function IZ(e,n){var t=e.offsets,r=t.popper,i=t.reference,a=Math.round,h=Math.floor,c=function(C){return C},p=a(i.width),m=a(r.width),g=["left","right"].indexOf(e.placement)!==-1,b=e.placement.indexOf("-")!==-1,S=p%2===m%2,T=p%2===1&&m%2===1,_=n?g||b||S?a:h:c,k=n?a:c;return{left:_(T&&!b&&n?r.left-1:r.left),top:k(r.top),bottom:k(r.bottom),right:_(r.right)}}var LZ=Zu&&/Firefox/i.test(navigator.userAgent);function jZ(e,n){var t=n.x,r=n.y,i=e.offsets.popper,a=Yu(e.instance.modifiers,function(N){return N.name==="applyStyle"}).gpuAcceleration;a!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var h=a!==void 0?a:n.gpuAcceleration,c=Ma(e.instance.popper),p=my(c),m={position:i.position},g=IZ(e,window.devicePixelRatio<2||!LZ),b=t==="bottom"?"top":"bottom",S=r==="right"?"left":"right",T=ux("transform"),_=void 0,k=void 0;if(b==="bottom"?c.nodeName==="HTML"?k=-c.clientHeight+g.bottom:k=-p.height+g.bottom:k=g.top,S==="right"?c.nodeName==="HTML"?_=-c.clientWidth+g.right:_=-p.width+g.right:_=g.left,h&&T)m[T]="translate3d("+_+"px, "+k+"px, 0)",m[b]=0,m[S]=0,m.willChange="transform";else{var C=b==="bottom"?-1:1,P=S==="right"?-1:1;m[b]=k*C,m[S]=_*P,m.willChange=b+", "+S}var A={"x-placement":e.placement};return e.attributes=Gr({},A,e.attributes),e.styles=Gr({},m,e.styles),e.arrowStyles=Gr({},e.offsets.arrow,e.arrowStyles),e}function xD(e,n,t){var r=Yu(e,function(c){var p=c.name;return p===n}),i=!!r&&e.some(function(c){return c.name===t&&c.enabled&&c.order<r.order});if(!i){var a="`"+n+"`",h="`"+t+"`";console.warn(h+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}function NZ(e,n){var t;if(!xD(e.instance.modifiers,"arrow","keepTogether"))return e;var r=n.element;if(typeof r=="string"){if(r=e.instance.popper.querySelector(r),!r)return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,h=a.popper,c=a.reference,p=["left","right"].indexOf(i)!==-1,m=p?"height":"width",g=p?"Top":"Left",b=g.toLowerCase(),S=p?"left":"top",T=p?"bottom":"right",_=fD(r)[m];c[T]-_<h[b]&&(e.offsets.popper[b]-=h[b]-(c[T]-_)),c[b]+_>h[T]&&(e.offsets.popper[b]+=c[b]+_-h[T]),e.offsets.popper=Eo(e.offsets.popper);var k=c[b]+c[m]/2-_/2,C=ws(e.instance.popper),P=parseFloat(C["margin"+g]),A=parseFloat(C["border"+g+"Width"]),N=k-e.offsets.popper[b]-P-A;return N=Math.max(Math.min(h[m]-_,N),0),e.arrowElement=r,e.offsets.arrow=(t={},La(t,b,Math.round(N)),La(t,S,""),t),e}function FZ(e){return e==="end"?"start":e==="start"?"end":e}var bD=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Ng=bD.slice(3);function jk(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=Ng.indexOf(e),r=Ng.slice(t+1).concat(Ng.slice(0,t));return n?r.reverse():r}var Fg={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function BZ(e,n){if(vD(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var t=lx(e.instance.popper,e.instance.reference,n.padding,n.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=Fh(r),a=e.placement.split("-")[1]||"",h=[];switch(n.behavior){case Fg.FLIP:h=[r,i];break;case Fg.CLOCKWISE:h=jk(r);break;case Fg.COUNTERCLOCKWISE:h=jk(r,!0);break;default:h=n.behavior}return h.forEach(function(c,p){if(r!==c||h.length===p+1)return e;r=e.placement.split("-")[0],i=Fh(r);var m=e.offsets.popper,g=e.offsets.reference,b=Math.floor,S=r==="left"&&b(m.right)>b(g.left)||r==="right"&&b(m.left)<b(g.right)||r==="top"&&b(m.bottom)>b(g.top)||r==="bottom"&&b(m.top)<b(g.bottom),T=b(m.left)<b(t.left),_=b(m.right)>b(t.right),k=b(m.top)<b(t.top),C=b(m.bottom)>b(t.bottom),P=r==="left"&&T||r==="right"&&_||r==="top"&&k||r==="bottom"&&C,A=["top","bottom"].indexOf(r)!==-1,N=!!n.flipVariations&&(A&&a==="start"&&T||A&&a==="end"&&_||!A&&a==="start"&&k||!A&&a==="end"&&C),W=!!n.flipVariationsByContent&&(A&&a==="start"&&_||A&&a==="end"&&T||!A&&a==="start"&&C||!A&&a==="end"&&k),Z=N||W;(S||P||Z)&&(e.flipped=!0,(S||P)&&(r=h[p+1]),Z&&(a=FZ(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=Gr({},e.offsets.popper,mD(e.instance.popper,e.offsets.reference,e.placement)),e=gD(e.instance.modifiers,e,"flip"))}),e}function HZ(e){var n=e.offsets,t=n.popper,r=n.reference,i=e.placement.split("-")[0],a=Math.floor,h=["top","bottom"].indexOf(i)!==-1,c=h?"right":"bottom",p=h?"left":"top",m=h?"width":"height";return t[c]<a(r[p])&&(e.offsets.popper[p]=a(r[p])-t[m]),t[p]>a(r[c])&&(e.offsets.popper[p]=a(r[c])),e}function zZ(e,n,t,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],h=i[2];if(!a)return e;if(h.indexOf("%")===0){var c=void 0;switch(h){case"%p":c=t;break;case"%":case"%r":default:c=r}var p=Eo(c);return p[n]/100*a}else if(h==="vh"||h==="vw"){var m=void 0;return h==="vh"?m=Math.max(document.documentElement.clientHeight,window.innerHeight||0):m=Math.max(document.documentElement.clientWidth,window.innerWidth||0),m/100*a}else return a}function VZ(e,n,t,r){var i=[0,0],a=["right","left"].indexOf(r)!==-1,h=e.split(/(\+|\-)/).map(function(g){return g.trim()}),c=h.indexOf(Yu(h,function(g){return g.search(/,|\s/)!==-1}));h[c]&&h[c].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var p=/\s*,\s*|\s+/,m=c!==-1?[h.slice(0,c).concat([h[c].split(p)[0]]),[h[c].split(p)[1]].concat(h.slice(c+1))]:[h];return m=m.map(function(g,b){var S=(b===1?!a:a)?"height":"width",T=!1;return g.reduce(function(_,k){return _[_.length-1]===""&&["+","-"].indexOf(k)!==-1?(_[_.length-1]=k,T=!0,_):T?(_[_.length-1]+=k,T=!1,_):_.concat(k)},[]).map(function(_){return zZ(_,S,n,t)})}),m.forEach(function(g,b){g.forEach(function(S,T){cx(S)&&(i[b]+=S*(g[T-1]==="-"?-1:1))})}),i}function UZ(e,n){var t=n.offset,r=e.placement,i=e.offsets,a=i.popper,h=i.reference,c=r.split("-")[0],p=void 0;return cx(+t)?p=[+t,0]:p=VZ(t,a,h,c),c==="left"?(a.top+=p[0],a.left-=p[1]):c==="right"?(a.top+=p[0],a.left+=p[1]):c==="top"?(a.left+=p[0],a.top-=p[1]):c==="bottom"&&(a.left+=p[0],a.top+=p[1]),e.popper=a,e}function WZ(e,n){var t=n.boundariesElement||Ma(e.instance.popper);e.instance.reference===t&&(t=Ma(t));var r=ux("transform"),i=e.instance.popper.style,a=i.top,h=i.left,c=i[r];i.top="",i.left="",i[r]="";var p=lx(e.instance.popper,e.instance.reference,n.padding,t,e.positionFixed);i.top=a,i.left=h,i[r]=c,n.boundaries=p;var m=n.priority,g=e.offsets.popper,b={primary:function(S){var T=g[S];return g[S]<p[S]&&!n.escapeWithReference&&(T=Math.max(g[S],p[S])),La({},S,T)},secondary:function(S){var T=S==="right"?"left":"top",_=g[T];return g[S]>p[S]&&!n.escapeWithReference&&(_=Math.min(g[T],p[S]-(S==="right"?g.width:g.height))),La({},T,_)}};return m.forEach(function(S){var T=["left","top"].indexOf(S)!==-1?"primary":"secondary";g=Gr({},g,b[T](S))}),e.offsets.popper=g,e}function GZ(e){var n=e.placement,t=n.split("-")[0],r=n.split("-")[1];if(r){var i=e.offsets,a=i.reference,h=i.popper,c=["bottom","top"].indexOf(t)!==-1,p=c?"left":"top",m=c?"width":"height",g={start:La({},p,a[p]),end:La({},p,a[p]+a[m]-h[m])};e.offsets.popper=Gr({},h,g[r])}return e}function qZ(e){if(!xD(e.instance.modifiers,"hide","preventOverflow"))return e;var n=e.offsets.reference,t=Yu(e.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(n.bottom<t.top||n.left>t.right||n.top>t.bottom||n.right<t.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function $Z(e){var n=e.placement,t=n.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,h=["left","right"].indexOf(t)!==-1,c=["top","left"].indexOf(t)===-1;return i[h?"left":"top"]=a[t]-(c?i[h?"width":"height"]:0),e.placement=Fh(n),e.offsets.popper=Eo(i),e}var ZZ={shift:{order:100,enabled:!0,fn:GZ},offset:{order:200,enabled:!0,fn:UZ,offset:0},preventOverflow:{order:300,enabled:!0,fn:WZ,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:HZ},arrow:{order:500,enabled:!0,fn:NZ,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:BZ,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:$Z},hide:{order:800,enabled:!0,fn:qZ},computeStyle:{order:850,enabled:!0,fn:jZ,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:DZ,onLoad:MZ,gpuAcceleration:void 0}},XZ={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ZZ},gp=function(){function e(n,t){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};xZ(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=vZ(this.update.bind(this)),this.options=Gr({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(Gr({},e.Defaults.modifiers,i.modifiers)).forEach(function(h){r.options.modifiers[h]=Gr({},e.Defaults.modifiers[h]||{},i.modifiers?i.modifiers[h]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(h){return Gr({name:h},r.options.modifiers[h])}).sort(function(h,c){return h.order-c.order}),this.modifiers.forEach(function(h){h.enabled&&aD(h.onLoad)&&h.onLoad(r.reference,r.popper,r.options,h,r.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return bZ(e,[{key:"update",value:function(){return CZ.call(this)}},{key:"destroy",value:function(){return PZ.call(this)}},{key:"enableEventListeners",value:function(){return _Z.call(this)}},{key:"disableEventListeners",value:function(){return OZ.call(this)}}]),e}();gp.Utils=(typeof window<"u"?window:global).PopperUtils;gp.placements=bD;gp.Defaults=XZ;function YZ(e,n){var t=n&&n.direction||"ltr";if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function Nk(e){return typeof e=="function"?e():e}var KZ=typeof window<"u"?z.useLayoutEffect:z.useEffect,JZ={},SD=z.forwardRef(function(e,n){var t=e.anchorEl,r=e.children,i=e.container,a=e.disablePortal,h=a===void 0?!1:a,c=e.keepMounted,p=c===void 0?!1:c,m=e.modifiers,g=e.open,b=e.placement,S=b===void 0?"bottom":b,T=e.popperOptions,_=T===void 0?JZ:T,k=e.popperRef,C=e.style,P=e.transition,A=P===void 0?!1:P,N=Ft(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),W=z.useRef(null),Z=Ln(W,n),H=z.useRef(null),ie=Ln(H,k),ne=z.useRef(ie);KZ(function(){ne.current=ie},[ie]),z.useImperativeHandle(k,function(){return H.current},[]);var ae=z.useState(!0),Se=ae[0],me=ae[1],fe=gs(),he=YZ(S,fe),Ae=z.useState(he),Le=Ae[0],ve=Ae[1];z.useEffect(function(){H.current&&H.current.update()});var de=z.useCallback(function(){if(!(!W.current||!t||!g)){H.current&&(H.current.destroy(),ne.current(null));var $=function(et){ve(et.placement)};Nk(t);var Qe=new gp(Nk(t),W.current,Ce({placement:he},_,{modifiers:Ce({},h?{}:{preventOverflow:{boundariesElement:"window"}},m,_.modifiers),onCreate:ju($,_.onCreate),onUpdate:ju($,_.onUpdate)}));ne.current(Qe)}},[t,h,m,g,he,_]),Ee=z.useCallback(function($){Da(Z,$),de()},[Z,de]),be=function(){me(!1)},q=function(){H.current&&(H.current.destroy(),ne.current(null))},ge=function(){me(!0),q()};if(z.useEffect(function(){return function(){q()}},[]),z.useEffect(function(){!g&&!A&&q()},[g,A]),!p&&!g&&(!A||Se))return null;var De={placement:Le};return A&&(De.TransitionProps={in:g,onEnter:be,onExited:ge}),z.createElement(qA,{disablePortal:h,container:i},z.createElement("div",Ce({ref:Ee,role:"tooltip"},N,{style:Ce({position:"fixed",top:0,left:0,display:!g&&p&&!A?"none":null},C)}),typeof r=="function"?r(De):r))});function Fk(e,n){return cs(n)==="object"&&n!==null?e===n:String(e)===String(n)}function QZ(e){return e==null||typeof e=="string"&&!e.trim()}var eX=z.forwardRef(function(e,n){var t=e["aria-label"],r=e.autoFocus,i=e.autoWidth,a=e.children,h=e.classes,c=e.className,p=e.defaultValue,m=e.disabled,g=e.displayEmpty,b=e.IconComponent,S=e.inputRef,T=e.labelId,_=e.MenuProps,k=_===void 0?{}:_,C=e.multiple,P=e.name,A=e.onBlur,N=e.onChange,W=e.onClose,Z=e.onFocus,H=e.onOpen,ie=e.open,ne=e.readOnly,ae=e.renderValue,Se=e.SelectDisplayProps,me=Se===void 0?{}:Se,fe=e.tabIndex;e.type;var he=e.value,Ae=e.variant,Le=Ae===void 0?"standard":Ae,ve=Ft(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),de=Wq({controlled:he,default:p,name:"Select"}),Ee=Mw(de,2),be=Ee[0],q=Ee[1],ge=z.useRef(null),De=z.useState(null),$=De[0],Qe=De[1],et=z.useRef(ie!=null),ot=et.current,ct=z.useState(),yt=ct[0],gt=ct[1],Ke=z.useState(!1),Ot=Ke[0],Nt=Ke[1],_t=Ln(n,S);z.useImperativeHandle(_t,function(){return{focus:function(){$.focus()},node:ge.current,value:be}},[$,be]),z.useEffect(function(){r&&$&&$.focus()},[r,$]),z.useEffect(function(){if($){var U=Fi($).getElementById(T);if(U){var X=function(){getSelection().isCollapsed&&$.focus()};return U.addEventListener("click",X),function(){U.removeEventListener("click",X)}}}},[T,$]);var un=function(U,X){U?H&&H(X):W&&W(X),ot||(gt(i?null:$.clientWidth),Nt(U))},Et=function(U){U.button===0&&(U.preventDefault(),$.focus(),un(!0,U))},jt=function(U){un(!1,U)},M=z.Children.toArray(a),Y=function(U){var X=M.map(function(je){return je.props.value}).indexOf(U.target.value);if(X!==-1){var we=M[X];q(we.props.value),N&&N(U,we)}},pe=function(U){return function(X){C||un(!1,X);var we;if(C){we=Array.isArray(be)?be.slice():[];var je=be.indexOf(U.props.value);je===-1?we.push(U.props.value):we.splice(je,1)}else we=U.props.value;U.props.onClick&&U.props.onClick(X),be!==we&&(q(we),N&&(X.persist(),Object.defineProperty(X,"target",{writable:!0,value:{value:we,name:P}}),N(X,U)))}},Me=function(U){if(!ne){var X=[" ","ArrowUp","ArrowDown","Enter"];X.indexOf(U.key)!==-1&&(U.preventDefault(),un(!0,U))}},_e=$!==null&&(ot?ie:Ot),qe=function(U){!_e&&A&&(U.persist(),Object.defineProperty(U,"target",{writable:!0,value:{value:be,name:P}}),A(U))};delete ve["aria-invalid"];var He,pt,Tt=[],Pt=!1;(ZA({value:be})||g)&&(ae?He=ae(be):Pt=!0);var le=M.map(function(U){if(!z.isValidElement(U))return null;var X;if(C){if(!Array.isArray(be))throw new Error(Oa(2));X=be.some(function(we){return Fk(we,U.props.value)}),X&&Pt&&Tt.push(U.props.children)}else X=Fk(be,U.props.value),X&&Pt&&(pt=U.props.children);return z.cloneElement(U,{"aria-selected":X?"true":void 0,onClick:pe(U),onKeyUp:function(we){we.key===" "&&we.preventDefault(),U.props.onKeyUp&&U.props.onKeyUp(we)},role:"option",selected:X,value:void 0,"data-value":U.props.value})});Pt&&(He=C?Tt.join(", "):pt);var ke=yt;!i&&ot&&$&&(ke=$.clientWidth);var L;typeof fe<"u"?L=fe:L=m?null:0;var j=me.id||(P?"mui-component-select-".concat(P):void 0);return z.createElement(z.Fragment,null,z.createElement("div",Ce({className:ln(h.root,h.select,h.selectMenu,h[Le],c,m&&h.disabled),ref:Qe,tabIndex:L,role:"button","aria-disabled":m?"true":void 0,"aria-expanded":_e?"true":void 0,"aria-haspopup":"listbox","aria-label":t,"aria-labelledby":[T,j].filter(Boolean).join(" ")||void 0,onKeyDown:Me,onMouseDown:m||ne?null:Et,onBlur:qe,onFocus:Z},me,{id:j}),QZ(He)?z.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):He),z.createElement("input",Ce({value:Array.isArray(be)?be.join(","):be,name:P,ref:ge,"aria-hidden":!0,onChange:Y,tabIndex:-1,className:h.nativeInput,autoFocus:r},ve)),z.createElement(b,{className:ln(h.icon,h["icon".concat(ji(Le))],_e&&h.iconOpen,m&&h.disabled)}),z.createElement(iZ,Ce({id:"menu-".concat(P||""),anchorEl:$,open:_e,onClose:jt},k,{MenuListProps:Ce({"aria-labelledby":T,role:"listbox",disableListWrap:!0},k.MenuListProps),PaperProps:Ce({},k.PaperProps,{style:Ce({minWidth:ke},k.PaperProps!=null?k.PaperProps.style:null)})}),le))}),tX=iD,nX=z.createElement(JA,null),rX=z.createElement(z$,null),ED=z.forwardRef(function e(n,t){var r=n.autoWidth,i=r===void 0?!1:r,a=n.children,h=n.classes,c=n.displayEmpty,p=c===void 0?!1:c,m=n.IconComponent,g=m===void 0?rD:m,b=n.id,S=n.input,T=n.inputProps,_=n.label,k=n.labelId,C=n.labelWidth,P=C===void 0?0:C,A=n.MenuProps,N=n.multiple,W=N===void 0?!1:N,Z=n.native,H=Z===void 0?!1:Z,ie=n.onClose,ne=n.onOpen,ae=n.open,Se=n.renderValue,me=n.SelectDisplayProps,fe=n.variant,he=fe===void 0?"standard":fe,Ae=Ft(n,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),Le=H?nD:eX,ve=GA(),de=ix({props:n,muiFormControl:ve,states:["variant"]}),Ee=de.variant||he,be=S||{standard:nX,outlined:z.createElement(hZ,{label:_,labelWidth:P}),filled:rX}[Ee];return z.cloneElement(be,Ce({inputComponent:Le,inputProps:Ce({children:a,IconComponent:g,variant:Ee,type:void 0,multiple:W},H?{id:b}:{autoWidth:i,displayEmpty:p,labelId:k,MenuProps:A,onClose:ie,onOpen:ne,open:ae,renderValue:Se,SelectDisplayProps:Ce({id:b},me)},T,{classes:T?Bw({baseClasses:h,newClasses:T.classes,Component:e}):h},S?S.props.inputProps:{}),ref:t},Ae))});ED.muiName="Select";const vy=Un(tX,{name:"MuiSelect"})(ED);var dx={},hx={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var n;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(n=e.ElementType||(e.ElementType={}));function t(r){return r.type===n.Tag||r.type===n.Script||r.type===n.Style}e.isTag=t,e.Root=n.Root,e.Text=n.Text,e.Directive=n.Directive,e.Comment=n.Comment,e.Script=n.Script,e.Style=n.Style,e.Tag=n.Tag,e.CDATA=n.CDATA,e.Doctype=n.Doctype})(hx);var zt={},_o=zn&&zn.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mu=zn&&zn.__assign||function(){return mu=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mu.apply(this,arguments)};Object.defineProperty(zt,"__esModule",{value:!0});zt.cloneNode=zt.hasChildren=zt.isDocument=zt.isDirective=zt.isComment=zt.isText=zt.isCDATA=zt.isTag=zt.Element=zt.Document=zt.CDATA=zt.NodeWithChildren=zt.ProcessingInstruction=zt.Comment=zt.Text=zt.DataNode=zt.Node=void 0;var br=hx,px=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(n){this.parent=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(n){this.prev=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(n){this.next=n},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(n){return n===void 0&&(n=!1),fx(this,n)},e}();zt.Node=px;var vp=function(e){_o(n,e);function n(t){var r=e.call(this)||this;return r.data=t,r}return Object.defineProperty(n.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),n}(px);zt.DataNode=vp;var TD=function(e){_o(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=br.ElementType.Text,t}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),n}(vp);zt.Text=TD;var CD=function(e){_o(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=br.ElementType.Comment,t}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),n}(vp);zt.Comment=CD;var PD=function(e){_o(n,e);function n(t,r){var i=e.call(this,r)||this;return i.name=t,i.type=br.ElementType.Directive,i}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),n}(vp);zt.ProcessingInstruction=PD;var yp=function(e){_o(n,e);function n(t){var r=e.call(this)||this;return r.children=t,r}return Object.defineProperty(n.prototype,"firstChild",{get:function(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),n}(px);zt.NodeWithChildren=yp;var kD=function(e){_o(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=br.ElementType.CDATA,t}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),n}(yp);zt.CDATA=kD;var _D=function(e){_o(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=br.ElementType.Root,t}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),n}(yp);zt.Document=_D;var RD=function(e){_o(n,e);function n(t,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=t==="script"?br.ElementType.Script:t==="style"?br.ElementType.Style:br.ElementType.Tag);var h=e.call(this,i)||this;return h.name=t,h.attribs=r,h.type=a,h}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map(function(r){var i,a;return{name:r,value:t.attribs[r],namespace:(i=t["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(a=t["x-attribsPrefix"])===null||a===void 0?void 0:a[r]}})},enumerable:!1,configurable:!0}),n}(yp);zt.Element=RD;function OD(e){return(0,br.isTag)(e)}zt.isTag=OD;function AD(e){return e.type===br.ElementType.CDATA}zt.isCDATA=AD;function DD(e){return e.type===br.ElementType.Text}zt.isText=DD;function MD(e){return e.type===br.ElementType.Comment}zt.isComment=MD;function ID(e){return e.type===br.ElementType.Directive}zt.isDirective=ID;function LD(e){return e.type===br.ElementType.Root}zt.isDocument=LD;function iX(e){return Object.prototype.hasOwnProperty.call(e,"children")}zt.hasChildren=iX;function fx(e,n){n===void 0&&(n=!1);var t;if(DD(e))t=new TD(e.data);else if(MD(e))t=new CD(e.data);else if(OD(e)){var r=n?Bg(e.children):[],i=new RD(e.name,mu({},e.attribs),r);r.forEach(function(p){return p.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=mu({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=mu({},e["x-attribsPrefix"])),t=i}else if(AD(e)){var r=n?Bg(e.children):[],a=new kD(r);r.forEach(function(m){return m.parent=a}),t=a}else if(LD(e)){var r=n?Bg(e.children):[],h=new _D(r);r.forEach(function(m){return m.parent=h}),e["x-mode"]&&(h["x-mode"]=e["x-mode"]),t=h}else if(ID(e)){var c=new PD(e.name,e.data);e["x-name"]!=null&&(c["x-name"]=e["x-name"],c["x-publicId"]=e["x-publicId"],c["x-systemId"]=e["x-systemId"]),t=c}else throw new Error("Not implemented yet: ".concat(e.type));return t.startIndex=e.startIndex,t.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(t.sourceCodeLocation=e.sourceCodeLocation),t}zt.cloneNode=fx;function Bg(e){for(var n=e.map(function(r){return fx(r,!0)}),t=1;t<n.length;t++)n[t].prev=n[t-1],n[t-1].next=n[t];return n}(function(e){var n=zn&&zn.__createBinding||(Object.create?function(c,p,m,g){g===void 0&&(g=m);var b=Object.getOwnPropertyDescriptor(p,m);(!b||("get"in b?!p.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(c,g,b)}:function(c,p,m,g){g===void 0&&(g=m),c[g]=p[m]}),t=zn&&zn.__exportStar||function(c,p){for(var m in c)m!=="default"&&!Object.prototype.hasOwnProperty.call(p,m)&&n(p,c,m)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=hx,i=zt;t(zt,e);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},h=function(){function c(p,m,g){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof m=="function"&&(g=m,m=a),typeof p=="object"&&(m=p,p=void 0),this.callback=p??null,this.options=m??a,this.elementCB=g??null}return c.prototype.onparserinit=function(p){this.parser=p},c.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},c.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},c.prototype.onerror=function(p){this.handleCallback(p)},c.prototype.onclosetag=function(){this.lastNode=null;var p=this.tagStack.pop();this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(p)},c.prototype.onopentag=function(p,m){var g=this.options.xmlMode?r.ElementType.Tag:void 0,b=new i.Element(p,m,void 0,g);this.addNode(b),this.tagStack.push(b)},c.prototype.ontext=function(p){var m=this.lastNode;if(m&&m.type===r.ElementType.Text)m.data+=p,this.options.withEndIndices&&(m.endIndex=this.parser.endIndex);else{var g=new i.Text(p);this.addNode(g),this.lastNode=g}},c.prototype.oncomment=function(p){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=p;return}var m=new i.Comment(p);this.addNode(m),this.lastNode=m},c.prototype.oncommentend=function(){this.lastNode=null},c.prototype.oncdatastart=function(){var p=new i.Text(""),m=new i.CDATA([p]);this.addNode(m),p.parent=m,this.lastNode=p},c.prototype.oncdataend=function(){this.lastNode=null},c.prototype.onprocessinginstruction=function(p,m){var g=new i.ProcessingInstruction(p,m);this.addNode(g)},c.prototype.handleCallback=function(p){if(typeof this.callback=="function")this.callback(p,this.dom);else if(p)throw p},c.prototype.addNode=function(p){var m=this.tagStack[this.tagStack.length-1],g=m.children[m.children.length-1];this.options.withStartIndices&&(p.startIndex=this.parser.startIndex),this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),m.children.push(p),g&&(p.prev=g,g.next=p),p.parent=m,this.lastNode=null},c}();e.DomHandler=h,e.default=h})(dx);var Bk="html",Hk="head",Dd="body",oX=/<([a-zA-Z]+[0-9]?)/,zk=/<head[^]*>/i,Vk=/<body[^]*>/i,Bh=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},yy=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Uk=typeof window=="object"&&window.DOMParser;if(typeof Uk=="function"){var sX=new Uk,aX="text/html";yy=function(e,n){return n&&(e="<"+n+">"+e+"</"+n+">"),sX.parseFromString(e,aX)},Bh=yy}if(typeof document=="object"&&document.implementation){var Md=document.implementation.createHTMLDocument();Bh=function(e,n){if(n){var t=Md.documentElement.querySelector(n);return t.innerHTML=e,Md}return Md.documentElement.innerHTML=e,Md}}var Hg=typeof document=="object"?document.createElement("template"):{},wy;Hg.content&&(wy=function(e){return Hg.innerHTML=e,Hg.content.childNodes});function lX(e){var n,t=e.match(oX);t&&t[1]&&(n=t[1].toLowerCase());var r,i,a;switch(n){case Bk:return r=yy(e),zk.test(e)||(i=r.querySelector(Hk),i&&i.parentNode.removeChild(i)),Vk.test(e)||(i=r.querySelector(Dd),i&&i.parentNode.removeChild(i)),r.querySelectorAll(Bk);case Hk:case Dd:return r=Bh(e),a=r.querySelectorAll(n),Vk.test(e)&&zk.test(e)?a[0].parentNode.childNodes:a;default:return wy?wy(e):(i=Bh(e,Dd).querySelector(Dd),i.childNodes)}}var uX=lX,mx={},jD={};jD.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"];var wp=dx,cX=jD,Wk=cX.CASE_SENSITIVE_TAG_NAMES,dX=wp.Comment,hX=wp.Element,pX=wp.ProcessingInstruction,fX=wp.Text,ND={},zg;for(var Vg=0,mX=Wk.length;Vg<mX;Vg++)zg=Wk[Vg],ND[zg.toLowerCase()]=zg;function gX(e){return ND[e]}function FD(e){for(var n={},t,r=0,i=e.length;r<i;r++)t=e[r],n[t.name]=t.value;return n}function vX(e){e=e.toLowerCase();var n=gX(e);return n||e}function BD(e,n,t){n=n||null;for(var r=[],i,a=0,h=e.length;a<h;a++){var c=e[a],p;switch(c.nodeType){case 1:i=vX(c.nodeName),p=new hX(i,FD(c.attributes)),p.children=BD(i==="template"?c.content.childNodes:c.childNodes,p);break;case 3:p=new fX(c.nodeValue);break;case 8:p=new dX(c.nodeValue);break;default:continue}var m=r[a-1]||null;m&&(m.next=p),p.parent=n,p.prev=m,p.next=null,r.push(p)}return t&&(p=new pX(t.substring(0,t.indexOf(" ")).toLowerCase(),t),p.next=r[0]||null,p.parent=n,r.unshift(p),r[1]&&(r[1].prev=r[0])),r}mx.formatAttributes=FD;mx.formatDOM=BD;var yX=uX,wX=mx,xX=wX.formatDOM,bX=/<(![a-zA-Z\s]+)>/;function SX(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(e==="")return[];var n=e.match(bX),t;return n&&n[1]&&(t=n[1]),xX(yX(e),null,t)}var EX=SX,Kr={},xp={},TX=0;xp.SAME=TX;var CX=1;xp.CAMELCASE=CX;xp.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};Object.defineProperty(Kr,"__esModule",{value:!0});function PX(e,n){return kX(e)||_X(e,n)||RX(e,n)||OX()}function kX(e){if(Array.isArray(e))return e}function _X(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,a=!1,h,c;try{for(t=t.call(e);!(i=(h=t.next()).done)&&(r.push(h.value),!(n&&r.length===n));i=!0);}catch(p){a=!0,c=p}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw c}}return r}}function RX(e,n){if(e){if(typeof e=="string")return Gk(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gk(e,n)}}function Gk(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function OX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var HD=0,Ro=1,bp=2,Sp=3,gx=4,zD=5,VD=6;function AX(e){return Qn.hasOwnProperty(e)?Qn[e]:null}function pr(e,n,t,r,i,a,h){this.acceptsBooleans=n===bp||n===Sp||n===gx,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=h}var Qn={},DX=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];DX.forEach(function(e){Qn[e]=new pr(e,HD,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=PX(e,2),t=n[0],r=n[1];Qn[t]=new pr(t,Ro,!1,r,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qn[e]=new pr(e,bp,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qn[e]=new pr(e,bp,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(e){Qn[e]=new pr(e,Sp,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qn[e]=new pr(e,Sp,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qn[e]=new pr(e,gx,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qn[e]=new pr(e,VD,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qn[e]=new pr(e,zD,!1,e.toLowerCase(),null,!1,!1)});var vx=/[\-\:]([a-z])/g,yx=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(e){var n=e.replace(vx,yx);Qn[n]=new pr(n,Ro,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(e){var n=e.replace(vx,yx);Qn[n]=new pr(n,Ro,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(vx,yx);Qn[n]=new pr(n,Ro,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qn[e]=new pr(e,Ro,!1,e.toLowerCase(),null,!1,!1)});var MX="xlinkHref";Qn[MX]=new pr("xlinkHref",Ro,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qn[e]=new pr(e,Ro,!1,e.toLowerCase(),null,!0,!0)});var wx=xp,IX=wx.CAMELCASE,LX=wx.SAME,qk=wx.possibleStandardNames,jX=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",NX=jX+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",FX=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+NX+"]*$")),BX=Object.keys(qk).reduce(function(e,n){var t=qk[n];return t===LX?e[n]=n:t===IX?e[n.toLowerCase()]=n:e[n]=t,e},{});Kr.BOOLEAN=Sp;Kr.BOOLEANISH_STRING=bp;Kr.NUMERIC=zD;Kr.OVERLOADED_BOOLEAN=gx;Kr.POSITIVE_NUMERIC=VD;Kr.RESERVED=HD;Kr.STRING=Ro;Kr.getPropertyInfo=AX;Kr.isCustomAttribute=FX;Kr.possibleStandardNames=BX;var xx={},bx={exports:{}},$k=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,HX=/\n/g,zX=/^\s*/,VX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,UX=/^:\s*/,WX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,GX=/^[;\s]*/,qX=/^\s+|\s+$/g,$X=`
`,Zk="/",Xk="*",Xo="",ZX="comment",XX="declaration",YX=function(e,n){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];n=n||{};var t=1,r=1;function i(_){var k=_.match(HX);k&&(t+=k.length);var C=_.lastIndexOf($X);r=~C?_.length-C:r+_.length}function a(){var _={line:t,column:r};return function(k){return k.position=new h(_),m(),k}}function h(_){this.start=_,this.end={line:t,column:r},this.source=n.source}h.prototype.content=e;function c(_){var k=new Error(n.source+":"+t+":"+r+": "+_);if(k.reason=_,k.filename=n.source,k.line=t,k.column=r,k.source=e,!n.silent)throw k}function p(_){var k=_.exec(e);if(k){var C=k[0];return i(C),e=e.slice(C.length),k}}function m(){p(zX)}function g(_){var k;for(_=_||[];k=b();)k!==!1&&_.push(k);return _}function b(){var _=a();if(!(Zk!=e.charAt(0)||Xk!=e.charAt(1))){for(var k=2;Xo!=e.charAt(k)&&(Xk!=e.charAt(k)||Zk!=e.charAt(k+1));)++k;if(k+=2,Xo===e.charAt(k-1))return c("End of comment missing");var C=e.slice(2,k-2);return r+=2,i(C),e=e.slice(k),r+=2,_({type:ZX,comment:C})}}function S(){var _=a(),k=p(VX);if(k){if(b(),!p(UX))return c("property missing ':'");var C=p(WX),P=_({type:XX,property:Yk(k[0].replace($k,Xo)),value:C?Yk(C[0].replace($k,Xo)):Xo});return p(GX),P}}function T(){var _=[];g(_);for(var k;k=S();)k!==!1&&(_.push(k),g(_));return _}return m(),T()};function Yk(e){return e?e.replace(qX,Xo):Xo}var KX=YX;function UD(e,n){var t=null;if(!e||typeof e!="string")return t;for(var r,i=KX(e),a=typeof n=="function",h,c,p=0,m=i.length;p<m;p++)r=i[p],h=r.property,c=r.value,a?n(h,c,r):c&&(t||(t={}),t[h]=c);return t}bx.exports=UD;bx.exports.default=UD;var JX=bx.exports;const WD=Hi(JX),QX=Object.freeze(Object.defineProperty({__proto__:null,default:WD},Symbol.toStringTag,{value:"Module"})),eY=A4(QX);var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});Ep.camelCase=void 0;var tY=/^--[a-zA-Z0-9-]+$/,nY=/-([a-z])/g,rY=/^[^-]+$/,iY=/^-(webkit|moz|ms|o|khtml)-/,oY=/^-(ms)-/,sY=function(e){return!e||rY.test(e)||tY.test(e)},aY=function(e,n){return n.toUpperCase()},Kk=function(e,n){return"".concat(n,"-")},lY=function(e,n){return n===void 0&&(n={}),sY(e)?e:(e=e.toLowerCase(),n.reactCompat?e=e.replace(oY,Kk):e=e.replace(iY,Kk),e.replace(nY,aY))};Ep.camelCase=lY;var uY=zn&&zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xx,"__esModule",{value:!0});var cY=uY(eY),dY=Ep;function hY(e,n){var t={};return!e||typeof e!="string"||(0,cY.default)(e,function(r,i){r&&i&&(t[(0,dY.camelCase)(r,n)]=i)}),t}xx.default=hY;var pY=dt,fY=xx.default;function mY(e,n){if(!e||typeof e!="object")throw new TypeError("First argument must be an object");var t=typeof n=="function",r={},i={};for(var a in e){var h=e[a];if(t&&(r=n(a,h),r&&r.length===2)){i[r[0]]=r[1];continue}typeof h=="string"&&(i[h]=a)}return i}var gY=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function vY(e,n){return e.indexOf("-")===-1?n&&typeof n.is=="string":!gY.has(e)}var yY={reactCompat:!0};function wY(e,n){if(e!=null)try{n.style=fY(e,yY)}catch{n.style={}}}var xY=pY.version.split(".")[0]>=16,GD=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);function bY(e){return!GD.has(e.name)}function SY(e){return e}var qD={PRESERVE_CUSTOM_ATTRIBUTES:xY,ELEMENTS_WITH_NO_TEXT_CHILDREN:GD,invertObject:mY,isCustomComponent:vY,setStyleProp:wY,canTextBeChildOfNode:bY,returnFirstArg:SY},Zl=Kr,Jk=qD,EY=["checked","value"],TY=["input","select","textarea"],CY={reset:!0,submit:!0},$D=function(e,n){e=e||{};var t,r,i,a,h,c={},p=e.type&&CY[e.type];for(t in e){if(i=e[t],Zl.isCustomAttribute(t)){c[t]=i;continue}if(r=t.toLowerCase(),a=Qk(r),a){switch(h=Zl.getPropertyInfo(a),EY.indexOf(a)!==-1&&TY.indexOf(n)!==-1&&!p&&(a=Qk("default"+r)),c[a]=i,h&&h.type){case Zl.BOOLEAN:c[a]=!0;break;case Zl.OVERLOADED_BOOLEAN:i===""&&(c[a]=!0);break}continue}Jk.PRESERVE_CUSTOM_ATTRIBUTES&&(c[t]=i)}return Jk.setStyleProp(e.style,c),c};function Qk(e){return Zl.possibleStandardNames[e]}var PY=dt,kY=$D,Nu=qD,_Y=Nu.setStyleProp,RY=Nu.canTextBeChildOfNode;function ZD(e,n){n=n||{};for(var t=n.library||PY,r=t.cloneElement,i=t.createElement,a=t.isValidElement,h=[],c,p,m=typeof n.replace=="function",g=n.transform||Nu.returnFirstArg,b,S,T,_=n.trim,k=0,C=e.length;k<C;k++){if(c=e[k],m&&(b=n.replace(c),a(b))){C>1&&(b=r(b,{key:b.key||k})),h.push(g(b,c,k));continue}if(c.type==="text"){if(p=!c.data.trim().length,p&&c.parent&&!RY(c.parent)||_&&p)continue;h.push(g(c.data,c,k));continue}switch(S=c.attribs,OY(c)?_Y(S.style,S):S&&(S=kY(S,c.name)),T=null,c.type){case"script":case"style":c.children[0]&&(S.dangerouslySetInnerHTML={__html:c.children[0].data});break;case"tag":c.name==="textarea"&&c.children[0]?S.defaultValue=c.children[0].data:c.children&&c.children.length&&(T=ZD(c.children,n));break;default:continue}C>1&&(S.key=k),h.push(g(i(c.name,S,T),c,k))}return h.length===1?h[0]:h}function OY(e){return Nu.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&Nu.isCustomComponent(e.name,e.attribs)}var AY=ZD,Tp=dx,ua=EX,DY=$D,XD=AY;ua=typeof ua.default=="function"?ua.default:ua;var MY={lowerCaseAttributeNames:!1};function xi(e,n){if(typeof e!="string")throw new TypeError("First argument must be a string");return e===""?[]:(n=n||{},XD(ua(e,n.htmlparser2||MY),n))}xi.domToReact=XD;xi.htmlToDOM=ua;xi.attributesToProps=DY;xi.Comment=Tp.Comment;xi.Element=Tp.Element;xi.ProcessingInstruction=Tp.ProcessingInstruction;xi.Text=Tp.Text;var IY=xi;xi.default=xi;const Ir=Hi(IY);Ir.domToReact;Ir.htmlToDOM;Ir.attributesToProps;Ir.Comment;Ir.Element;Ir.ProcessingInstruction;Ir.Text;const e_=["http","https","mailto","tel"];function LY(e){const n=(e||"").trim(),t=n.charAt(0);if(t==="#"||t==="/")return n;const r=n.indexOf(":");if(r===-1)return n;let i=-1;for(;++i<e_.length;){const a=e_[i];if(r===a.length&&n.slice(0,a.length).toLowerCase()===a)return n}return i=n.indexOf("?"),i!==-1&&r>i||(i=n.indexOf("#"),i!==-1&&r>i)?n:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var jY=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const YD=Hi(jY);function gu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?t_(e.position):"start"in e||"end"in e?t_(e):"line"in e||"column"in e?xy(e):""}function xy(e){return n_(e&&e.line)+":"+n_(e&&e.column)}function t_(e){return xy(e&&e.start)+"-"+xy(e&&e.end)}function n_(e){return e&&typeof e=="number"?e:1}class Jr extends Error{constructor(n,t,r){const i=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){const h=r.indexOf(":");h===-1?i[1]=r:(i[0]=r.slice(0,h),i[1]=r.slice(h+1))}t&&("type"in t||"position"in t?t.position&&(a=t.position):"start"in t||"end"in t?a=t:("line"in t||"column"in t)&&(a.start=t)),this.name=gu(t)||"1:1",this.message=typeof n=="object"?n.message:n,this.stack="",typeof n=="object"&&n.stack&&(this.stack=n.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Jr.prototype.file="";Jr.prototype.name="";Jr.prototype.reason="";Jr.prototype.message="";Jr.prototype.stack="";Jr.prototype.fatal=null;Jr.prototype.column=null;Jr.prototype.line=null;Jr.prototype.source=null;Jr.prototype.ruleId=null;Jr.prototype.position=null;const hi={basename:NY,dirname:FY,extname:BY,join:HY,sep:"/"};function NY(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Ku(e);let t=0,r=-1,i=e.length,a;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let h=-1,c=n.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else h<0&&(a=!0,h=i+1),c>-1&&(e.charCodeAt(i)===n.charCodeAt(c--)?c<0&&(r=i):(c=-1,r=h));return t===r?r=h:r<0&&(r=e.length),e.slice(t,r)}function FY(e){if(Ku(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.charCodeAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)}function BY(e){Ku(e);let n=e.length,t=-1,r=0,i=-1,a=0,h;for(;n--;){const c=e.charCodeAt(n);if(c===47){if(h){r=n+1;break}continue}t<0&&(h=!0,t=n+1),c===46?i<0?i=n:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||t<0||a===0||a===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function HY(...e){let n=-1,t;for(;++n<e.length;)Ku(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":zY(t)}function zY(e){Ku(e);const n=e.charCodeAt(0)===47;let t=VY(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function VY(e,n){let t="",r=0,i=-1,a=0,h=-1,c,p;for(;++h<=e.length;){if(h<e.length)c=e.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(i===h-1||a===1))if(i!==h-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(p=t.lastIndexOf("/"),p!==t.length-1){p<0?(t="",r=0):(t=t.slice(0,p),r=t.length-1-t.lastIndexOf("/")),i=h,a=0;continue}}else if(t.length>0){t="",r=0,i=h,a=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,h):t=e.slice(i+1,h),r=h-i-1;i=h,a=0}else c===46&&a>-1?a++:a=-1}return t}function Ku(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const UY={cwd:WY};function WY(){return"/"}function by(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function GY(e){if(typeof e=="string")e=new URL(e);else if(!by(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return qY(e)}function qY(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.charCodeAt(t)===37&&n.charCodeAt(t+1)===50){const r=n.charCodeAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const Ug=["history","path","basename","stem","extname","dirname"];class KD{constructor(n){let t;n?typeof n=="string"||$Y(n)?t={value:n}:by(n)?t={path:n}:t=n:t={},this.data={},this.messages=[],this.history=[],this.cwd=UY.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Ug.length;){const a=Ug[r];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let i;for(i in t)Ug.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(n){by(n)&&(n=GY(n)),Gg(n,"path"),this.path!==n&&this.history.push(n)}get dirname(){return typeof this.path=="string"?hi.dirname(this.path):void 0}set dirname(n){r_(this.basename,"dirname"),this.path=hi.join(n||"",this.basename)}get basename(){return typeof this.path=="string"?hi.basename(this.path):void 0}set basename(n){Gg(n,"basename"),Wg(n,"basename"),this.path=hi.join(this.dirname||"",n)}get extname(){return typeof this.path=="string"?hi.extname(this.path):void 0}set extname(n){if(Wg(n,"extname"),r_(this.dirname,"extname"),n){if(n.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=hi.join(this.dirname,this.stem+(n||""))}get stem(){return typeof this.path=="string"?hi.basename(this.path,this.extname):void 0}set stem(n){Gg(n,"stem"),Wg(n,"stem"),this.path=hi.join(this.dirname||"",n+(this.extname||""))}toString(n){return(this.value||"").toString(n||void 0)}message(n,t,r){const i=new Jr(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(n,t,r){const i=this.message(n,t,r);return i.fatal=null,i}fail(n,t,r){const i=this.message(n,t,r);throw i.fatal=!0,i}}function Wg(e,n){if(e&&e.includes(hi.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+hi.sep+"`")}function Gg(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function r_(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function $Y(e){return YD(e)}function i_(e){if(e)throw e}var th=Object.prototype.hasOwnProperty,JD=Object.prototype.toString,o_=Object.defineProperty,s_=Object.getOwnPropertyDescriptor,a_=function(e){return typeof Array.isArray=="function"?Array.isArray(e):JD.call(e)==="[object Array]"},l_=function(e){if(!e||JD.call(e)!=="[object Object]")return!1;var n=th.call(e,"constructor"),t=e.constructor&&e.constructor.prototype&&th.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!t)return!1;var r;for(r in e);return typeof r>"u"||th.call(e,r)},u_=function(e,n){o_&&n.name==="__proto__"?o_(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},c_=function(e,n){if(n==="__proto__")if(th.call(e,n)){if(s_)return s_(e,n).value}else return;return e[n]},ZY=function e(){var n,t,r,i,a,h,c=arguments[0],p=1,m=arguments.length,g=!1;for(typeof c=="boolean"&&(g=c,c=arguments[1]||{},p=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});p<m;++p)if(n=arguments[p],n!=null)for(t in n)r=c_(c,t),i=c_(n,t),c!==i&&(g&&i&&(l_(i)||(a=a_(i)))?(a?(a=!1,h=r&&a_(r)?r:[]):h=r&&l_(r)?r:{},u_(c,{name:t,newValue:e(g,h,i)})):typeof i<"u"&&u_(c,{name:t,newValue:i}));return c};const d_=Hi(ZY);function Sy(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function XY(){const e=[],n={run:t,use:r};return n;function t(...i){let a=-1;const h=i.pop();if(typeof h!="function")throw new TypeError("Expected function as last argument, not "+h);c(null,...i);function c(p,...m){const g=e[++a];let b=-1;if(p){h(p);return}for(;++b<i.length;)(m[b]===null||m[b]===void 0)&&(m[b]=i[b]);i=m,g?YY(g,c)(...m):h(null,...m)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function YY(e,n){let t;return r;function r(...h){const c=e.length>h.length;let p;c&&h.push(i);try{p=e.apply(this,h)}catch(m){const g=m;if(c&&t)throw g;return i(g)}c||(p&&p.then&&typeof p.then=="function"?p.then(a,i):p instanceof Error?i(p):a(p))}function i(h,...c){t||(t=!0,n(h,...c))}function a(h){i(null,h)}}const KY=eM().freeze(),QD={}.hasOwnProperty;function eM(){const e=XY(),n=[];let t={},r,i=-1;return a.data=h,a.Parser=void 0,a.Compiler=void 0,a.freeze=c,a.attachers=n,a.use=p,a.parse=m,a.stringify=g,a.run=b,a.runSync=S,a.process=T,a.processSync=_,a;function a(){const k=eM();let C=-1;for(;++C<n.length;)k.use(...n[C]);return k.data(d_(!0,{},t)),k}function h(k,C){return typeof k=="string"?arguments.length===2?(Zg("data",r),t[k]=C,a):QD.call(t,k)&&t[k]||null:k?(Zg("data",r),t=k,a):t}function c(){if(r)return a;for(;++i<n.length;){const[k,...C]=n[i];if(C[0]===!1)continue;C[0]===!0&&(C[0]=void 0);const P=k.call(a,...C);typeof P=="function"&&e.use(P)}return r=!0,i=Number.POSITIVE_INFINITY,a}function p(k,...C){let P;if(Zg("use",r),k!=null)if(typeof k=="function")Z(k,...C);else if(typeof k=="object")Array.isArray(k)?W(k):N(k);else throw new TypeError("Expected usable value, not `"+k+"`");return P&&(t.settings=Object.assign(t.settings||{},P)),a;function A(H){if(typeof H=="function")Z(H);else if(typeof H=="object")if(Array.isArray(H)){const[ie,...ne]=H;Z(ie,...ne)}else N(H);else throw new TypeError("Expected usable value, not `"+H+"`")}function N(H){W(H.plugins),H.settings&&(P=Object.assign(P||{},H.settings))}function W(H){let ie=-1;if(H!=null)if(Array.isArray(H))for(;++ie<H.length;){const ne=H[ie];A(ne)}else throw new TypeError("Expected a list of plugins, not `"+H+"`")}function Z(H,ie){let ne=-1,ae;for(;++ne<n.length;)if(n[ne][0]===H){ae=n[ne];break}ae?(Sy(ae[1])&&Sy(ie)&&(ie=d_(!0,ae[1],ie)),ae[1]=ie):n.push([...arguments])}}function m(k){a.freeze();const C=Nl(k),P=a.Parser;return qg("parse",P),h_(P,"parse")?new P(String(C),C).parse():P(String(C),C)}function g(k,C){a.freeze();const P=Nl(C),A=a.Compiler;return $g("stringify",A),p_(k),h_(A,"compile")?new A(k,P).compile():A(k,P)}function b(k,C,P){if(p_(k),a.freeze(),!P&&typeof C=="function"&&(P=C,C=void 0),!P)return new Promise(A);A(null,P);function A(N,W){e.run(k,Nl(C),Z);function Z(H,ie,ne){ie=ie||k,H?W(H):N?N(ie):P(null,ie,ne)}}}function S(k,C){let P,A;return a.run(k,C,N),f_("runSync","run",A),P;function N(W,Z){i_(W),P=Z,A=!0}}function T(k,C){if(a.freeze(),qg("process",a.Parser),$g("process",a.Compiler),!C)return new Promise(P);P(null,C);function P(A,N){const W=Nl(k);a.run(a.parse(W),W,(H,ie,ne)=>{if(H||!ie||!ne)Z(H);else{const ae=a.stringify(ie,ne);ae==null||(eK(ae)?ne.value=ae:ne.result=ae),Z(H,ne)}});function Z(H,ie){H||!ie?N(H):A?A(ie):C(null,ie)}}}function _(k){let C;a.freeze(),qg("processSync",a.Parser),$g("processSync",a.Compiler);const P=Nl(k);return a.process(P,A),f_("processSync","process",C),P;function A(N){C=!0,i_(N)}}}function h_(e,n){return typeof e=="function"&&e.prototype&&(JY(e.prototype)||n in e.prototype)}function JY(e){let n;for(n in e)if(QD.call(e,n))return!0;return!1}function qg(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function $g(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Zg(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function p_(e){if(!Sy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function f_(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function Nl(e){return QY(e)?e:new KD(e)}function QY(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function eK(e){return typeof e=="string"||YD(e)}const tK={};function nK(e,n){const t=tK,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return tM(e,r,i)}function tM(e,n,t){if(rK(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return m_(e.children,n,t)}return Array.isArray(e)?m_(e,n,t):""}function m_(e,n,t){const r=[];let i=-1;for(;++i<e.length;)r[i]=tM(e[i],n,t);return r.join("")}function rK(e){return!!(e&&typeof e=="object")}function bi(e,n,t,r){const i=e.length;let a=0,h;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)h=Array.from(r),h.unshift(n,t),e.splice(...h);else for(t&&e.splice(n,t);a<r.length;)h=r.slice(a,a+1e4),h.unshift(n,0),e.splice(...h),a+=1e4,n+=1e4}function Vr(e,n){return e.length>0?(bi(e,e.length,0,n),e):n}const g_={}.hasOwnProperty;function iK(e){const n={};let t=-1;for(;++t<e.length;)oK(n,e[t]);return n}function oK(e,n){let t;for(t in n){const r=(g_.call(e,t)?e[t]:void 0)||(e[t]={}),i=n[t];let a;if(i)for(a in i){g_.call(r,a)||(r[a]=[]);const h=i[a];sK(r[a],Array.isArray(h)?h:h?[h]:[])}}}function sK(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);bi(e,0,0,r)}const aK=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,fi=Oo(/[A-Za-z]/),Lr=Oo(/[\dA-Za-z]/),lK=Oo(/[#-'*+\--9=?A-Z^-~]/);function Ey(e){return e!==null&&(e<32||e===127)}const Ty=Oo(/\d/),uK=Oo(/[\dA-Fa-f]/),cK=Oo(/[!-/:-@[-`{-~]/);function Ct(e){return e!==null&&e<-2}function Sr(e){return e!==null&&(e<0||e===32)}function Jt(e){return e===-2||e===-1||e===32}const dK=Oo(aK),hK=Oo(/\s/);function Oo(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function pn(e,n,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return h;function h(p){return Jt(p)?(e.enter(t),c(p)):n(p)}function c(p){return Jt(p)&&a++<i?(e.consume(p),c):(e.exit(t),n(p))}}const pK={tokenize:fK};function fK(e){const n=e.attempt(this.parser.constructs.contentInitial,r,i);let t;return n;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),pn(e,n,"linePrefix")}function i(c){return e.enter("paragraph"),a(c)}function a(c){const p=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=p),t=p,h(c)}function h(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Ct(c)?(e.consume(c),e.exit("chunkText"),a):(e.consume(c),h)}}const mK={tokenize:gK},v_={tokenize:vK};function gK(e){const n=this,t=[];let r=0,i,a,h;return c;function c(N){if(r<t.length){const W=t[r];return n.containerState=W[1],e.attempt(W[0].continuation,p,m)(N)}return m(N)}function p(N){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&A();const W=n.events.length;let Z=W,H;for(;Z--;)if(n.events[Z][0]==="exit"&&n.events[Z][1].type==="chunkFlow"){H=n.events[Z][1].end;break}P(r);let ie=W;for(;ie<n.events.length;)n.events[ie][1].end=Object.assign({},H),ie++;return bi(n.events,Z+1,0,n.events.slice(W)),n.events.length=ie,m(N)}return c(N)}function m(N){if(r===t.length){if(!i)return S(N);if(i.currentConstruct&&i.currentConstruct.concrete)return _(N);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(v_,g,b)(N)}function g(N){return i&&A(),P(r),S(N)}function b(N){return n.parser.lazy[n.now().line]=r!==t.length,h=n.now().offset,_(N)}function S(N){return n.containerState={},e.attempt(v_,T,_)(N)}function T(N){return r++,t.push([n.currentConstruct,n.containerState]),S(N)}function _(N){if(N===null){i&&A(),P(0),e.consume(N);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),k(N)}function k(N){if(N===null){C(e.exit("chunkFlow"),!0),P(0),e.consume(N);return}return Ct(N)?(e.consume(N),C(e.exit("chunkFlow")),r=0,n.interrupt=void 0,c):(e.consume(N),k)}function C(N,W){const Z=n.sliceStream(N);if(W&&Z.push(null),N.previous=a,a&&(a.next=N),a=N,i.defineSkip(N.start),i.write(Z),n.parser.lazy[N.start.line]){let H=i.events.length;for(;H--;)if(i.events[H][1].start.offset<h&&(!i.events[H][1].end||i.events[H][1].end.offset>h))return;const ie=n.events.length;let ne=ie,ae,Se;for(;ne--;)if(n.events[ne][0]==="exit"&&n.events[ne][1].type==="chunkFlow"){if(ae){Se=n.events[ne][1].end;break}ae=!0}for(P(r),H=ie;H<n.events.length;)n.events[H][1].end=Object.assign({},Se),H++;bi(n.events,ne+1,0,n.events.slice(ie)),n.events.length=H}}function P(N){let W=t.length;for(;W-- >N;){const Z=t[W];n.containerState=Z[1],Z[0].exit.call(n,e)}t.length=N}function A(){i.write([null]),a=void 0,i=void 0,n.containerState._closeFlow=void 0}}function vK(e,n,t){return pn(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function y_(e){if(e===null||Sr(e)||hK(e))return 1;if(dK(e))return 2}function Sx(e,n,t){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(n=a(n,t),r.push(a))}return n}const Cy={name:"attention",tokenize:wK,resolveAll:yK};function yK(e,n){let t=-1,r,i,a,h,c,p,m,g;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;p=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const b=Object.assign({},e[r][1].end),S=Object.assign({},e[t][1].start);w_(b,-p),w_(S,p),h={type:p>1?"strongSequence":"emphasisSequence",start:b,end:Object.assign({},e[r][1].end)},c={type:p>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:S},a={type:p>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},i={type:p>1?"strong":"emphasis",start:Object.assign({},h.start),end:Object.assign({},c.end)},e[r][1].end=Object.assign({},h.start),e[t][1].start=Object.assign({},c.end),m=[],e[r][1].end.offset-e[r][1].start.offset&&(m=Vr(m,[["enter",e[r][1],n],["exit",e[r][1],n]])),m=Vr(m,[["enter",i,n],["enter",h,n],["exit",h,n],["enter",a,n]]),m=Vr(m,Sx(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),m=Vr(m,[["exit",a,n],["enter",c,n],["exit",c,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(g=2,m=Vr(m,[["enter",e[t][1],n],["exit",e[t][1],n]])):g=0,bi(e,r-1,t-r+3,m),t=r+m.length-g-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function wK(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=y_(r);let a;return h;function h(p){return a=p,e.enter("attentionSequence"),c(p)}function c(p){if(p===a)return e.consume(p),c;const m=e.exit("attentionSequence"),g=y_(p),b=!g||g===2&&i||t.includes(p),S=!i||i===2&&g||t.includes(r);return m._open=!!(a===42?b:b&&(i||!S)),m._close=!!(a===42?S:S&&(g||!b)),n(p)}}function w_(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const xK={name:"autolink",tokenize:bK};function bK(e,n,t){let r=0;return i;function i(T){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(T),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(T){return fi(T)?(e.consume(T),h):m(T)}function h(T){return T===43||T===45||T===46||Lr(T)?(r=1,c(T)):m(T)}function c(T){return T===58?(e.consume(T),r=0,p):(T===43||T===45||T===46||Lr(T))&&r++<32?(e.consume(T),c):(r=0,m(T))}function p(T){return T===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(T),e.exit("autolinkMarker"),e.exit("autolink"),n):T===null||T===32||T===60||Ey(T)?t(T):(e.consume(T),p)}function m(T){return T===64?(e.consume(T),g):lK(T)?(e.consume(T),m):t(T)}function g(T){return Lr(T)?b(T):t(T)}function b(T){return T===46?(e.consume(T),r=0,g):T===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(T),e.exit("autolinkMarker"),e.exit("autolink"),n):S(T)}function S(T){if((T===45||Lr(T))&&r++<63){const _=T===45?S:b;return e.consume(T),_}return t(T)}}const Cp={tokenize:SK,partial:!0};function SK(e,n,t){return r;function r(a){return Jt(a)?pn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ct(a)?n(a):t(a)}}const nM={name:"blockQuote",tokenize:EK,continuation:{tokenize:TK},exit:CK};function EK(e,n,t){const r=this;return i;function i(h){if(h===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(h),e.exit("blockQuoteMarker"),a}return t(h)}function a(h){return Jt(h)?(e.enter("blockQuotePrefixWhitespace"),e.consume(h),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(h))}}function TK(e,n,t){const r=this;return i;function i(h){return Jt(h)?pn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):a(h)}function a(h){return e.attempt(nM,n,t)(h)}}function CK(e){e.exit("blockQuote")}const rM={name:"characterEscape",tokenize:PK};function PK(e,n,t){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return cK(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(a)}}const x_=document.createElement("i");function Ex(e){const n="&"+e+";";x_.innerHTML=n;const t=x_.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}const iM={name:"characterReference",tokenize:kK};function kK(e,n,t){const r=this;let i=0,a,h;return c;function c(b){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(b),e.exit("characterReferenceMarker"),p}function p(b){return b===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(b),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),a=31,h=Lr,g(b))}function m(b){return b===88||b===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(b),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,h=uK,g):(e.enter("characterReferenceValue"),a=7,h=Ty,g(b))}function g(b){if(b===59&&i){const S=e.exit("characterReferenceValue");return h===Lr&&!Ex(r.sliceSerialize(S))?t(b):(e.enter("characterReferenceMarker"),e.consume(b),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return h(b)&&i++<a?(e.consume(b),g):t(b)}}const b_={tokenize:RK,partial:!0},S_={name:"codeFenced",tokenize:_K,concrete:!0};function _K(e,n,t){const r=this,i={tokenize:Z,partial:!0};let a=0,h=0,c;return p;function p(H){return m(H)}function m(H){const ie=r.events[r.events.length-1];return a=ie&&ie[1].type==="linePrefix"?ie[2].sliceSerialize(ie[1],!0).length:0,c=H,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(H)}function g(H){return H===c?(h++,e.consume(H),g):h<3?t(H):(e.exit("codeFencedFenceSequence"),Jt(H)?pn(e,b,"whitespace")(H):b(H))}function b(H){return H===null||Ct(H)?(e.exit("codeFencedFence"),r.interrupt?n(H):e.check(b_,k,W)(H)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),S(H))}function S(H){return H===null||Ct(H)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),b(H)):Jt(H)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),pn(e,T,"whitespace")(H)):H===96&&H===c?t(H):(e.consume(H),S)}function T(H){return H===null||Ct(H)?b(H):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),_(H))}function _(H){return H===null||Ct(H)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),b(H)):H===96&&H===c?t(H):(e.consume(H),_)}function k(H){return e.attempt(i,W,C)(H)}function C(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),P}function P(H){return a>0&&Jt(H)?pn(e,A,"linePrefix",a+1)(H):A(H)}function A(H){return H===null||Ct(H)?e.check(b_,k,W)(H):(e.enter("codeFlowValue"),N(H))}function N(H){return H===null||Ct(H)?(e.exit("codeFlowValue"),A(H)):(e.consume(H),N)}function W(H){return e.exit("codeFenced"),n(H)}function Z(H,ie,ne){let ae=0;return Se;function Se(Le){return H.enter("lineEnding"),H.consume(Le),H.exit("lineEnding"),me}function me(Le){return H.enter("codeFencedFence"),Jt(Le)?pn(H,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Le):fe(Le)}function fe(Le){return Le===c?(H.enter("codeFencedFenceSequence"),he(Le)):ne(Le)}function he(Le){return Le===c?(ae++,H.consume(Le),he):ae>=h?(H.exit("codeFencedFenceSequence"),Jt(Le)?pn(H,Ae,"whitespace")(Le):Ae(Le)):ne(Le)}function Ae(Le){return Le===null||Ct(Le)?(H.exit("codeFencedFence"),ie(Le)):ne(Le)}}}function RK(e,n,t){const r=this;return i;function i(h){return h===null?t(h):(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),a)}function a(h){return r.parser.lazy[r.now().line]?t(h):n(h)}}const Xg={name:"codeIndented",tokenize:AK},OK={tokenize:DK,partial:!0};function AK(e,n,t){const r=this;return i;function i(m){return e.enter("codeIndented"),pn(e,a,"linePrefix",5)(m)}function a(m){const g=r.events[r.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?h(m):t(m)}function h(m){return m===null?p(m):Ct(m)?e.attempt(OK,h,p)(m):(e.enter("codeFlowValue"),c(m))}function c(m){return m===null||Ct(m)?(e.exit("codeFlowValue"),h(m)):(e.consume(m),c)}function p(m){return e.exit("codeIndented"),n(m)}}function DK(e,n,t){const r=this;return i;function i(h){return r.parser.lazy[r.now().line]?t(h):Ct(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),i):pn(e,a,"linePrefix",5)(h)}function a(h){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?n(h):Ct(h)?i(h):t(h)}}const MK={name:"codeText",tokenize:jK,resolve:IK,previous:LK};function IK(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function LK(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function jK(e,n,t){let r=0,i,a;return h;function h(b){return e.enter("codeText"),e.enter("codeTextSequence"),c(b)}function c(b){return b===96?(e.consume(b),r++,c):(e.exit("codeTextSequence"),p(b))}function p(b){return b===null?t(b):b===32?(e.enter("space"),e.consume(b),e.exit("space"),p):b===96?(a=e.enter("codeTextSequence"),i=0,g(b)):Ct(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),p):(e.enter("codeTextData"),m(b))}function m(b){return b===null||b===32||b===96||Ct(b)?(e.exit("codeTextData"),p(b)):(e.consume(b),m)}function g(b){return b===96?(e.consume(b),i++,g):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(b)):(a.type="codeTextData",m(b))}}function oM(e){const n={};let t=-1,r,i,a,h,c,p,m;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(p=r[1]._tokenizer.events,a=0,a<p.length&&p[a][1].type==="lineEndingBlank"&&(a+=2),a<p.length&&p[a][1].type==="content"))for(;++a<p.length&&p[a][1].type!=="content";)p[a][1].type==="chunkText"&&(p[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,NK(e,t)),t=n[t],m=!0);else if(r[1]._container){for(a=t,i=void 0;a--&&(h=e[a],h[1].type==="lineEnding"||h[1].type==="lineEndingBlank");)h[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),h[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),c=e.slice(i,t),c.unshift(r),bi(e,i,t-i+1,c))}}return!m}function NK(e,n){const t=e[n][1],r=e[n][2];let i=n-1;const a=[],h=t._tokenizer||r.parser[t.contentType](t.start),c=h.events,p=[],m={};let g,b,S=-1,T=t,_=0,k=0;const C=[k];for(;T;){for(;e[++i][1]!==T;);a.push(i),T._tokenizer||(g=r.sliceStream(T),T.next||g.push(null),b&&h.defineSkip(T.start),T._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=!0),h.write(g),T._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=void 0)),b=T,T=T.next}for(T=t;++S<c.length;)c[S][0]==="exit"&&c[S-1][0]==="enter"&&c[S][1].type===c[S-1][1].type&&c[S][1].start.line!==c[S][1].end.line&&(k=S+1,C.push(k),T._tokenizer=void 0,T.previous=void 0,T=T.next);for(h.events=[],T?(T._tokenizer=void 0,T.previous=void 0):C.pop(),S=C.length;S--;){const P=c.slice(C[S],C[S+1]),A=a.pop();p.unshift([A,A+P.length-1]),bi(e,A,2,P)}for(S=-1;++S<p.length;)m[_+p[S][0]]=_+p[S][1],_+=p[S][1]-p[S][0]-1;return m}const FK={tokenize:zK,resolve:HK},BK={tokenize:VK,partial:!0};function HK(e){return oM(e),e}function zK(e,n){let t;return r;function r(c){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?a(c):Ct(c)?e.check(BK,h,a)(c):(e.consume(c),i)}function a(c){return e.exit("chunkContent"),e.exit("content"),n(c)}function h(c){return e.consume(c),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function VK(e,n,t){const r=this;return i;function i(h){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),pn(e,a,"linePrefix")}function a(h){if(h===null||Ct(h))return t(h);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?n(h):e.interrupt(r.parser.constructs.flow,t,n)(h)}}function sM(e,n,t,r,i,a,h,c,p){const m=p||Number.POSITIVE_INFINITY;let g=0;return b;function b(P){return P===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(P),e.exit(a),S):P===null||P===32||P===41||Ey(P)?t(P):(e.enter(r),e.enter(h),e.enter(c),e.enter("chunkString",{contentType:"string"}),k(P))}function S(P){return P===62?(e.enter(a),e.consume(P),e.exit(a),e.exit(i),e.exit(r),n):(e.enter(c),e.enter("chunkString",{contentType:"string"}),T(P))}function T(P){return P===62?(e.exit("chunkString"),e.exit(c),S(P)):P===null||P===60||Ct(P)?t(P):(e.consume(P),P===92?_:T)}function _(P){return P===60||P===62||P===92?(e.consume(P),T):T(P)}function k(P){return!g&&(P===null||P===41||Sr(P))?(e.exit("chunkString"),e.exit(c),e.exit(h),e.exit(r),n(P)):g<m&&P===40?(e.consume(P),g++,k):P===41?(e.consume(P),g--,k):P===null||P===32||P===40||Ey(P)?t(P):(e.consume(P),P===92?C:k)}function C(P){return P===40||P===41||P===92?(e.consume(P),k):k(P)}}function aM(e,n,t,r,i,a){const h=this;let c=0,p;return m;function m(T){return e.enter(r),e.enter(i),e.consume(T),e.exit(i),e.enter(a),g}function g(T){return c>999||T===null||T===91||T===93&&!p||T===94&&!c&&"_hiddenFootnoteSupport"in h.parser.constructs?t(T):T===93?(e.exit(a),e.enter(i),e.consume(T),e.exit(i),e.exit(r),n):Ct(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),b(T))}function b(T){return T===null||T===91||T===93||Ct(T)||c++>999?(e.exit("chunkString"),g(T)):(e.consume(T),p||(p=!Jt(T)),T===92?S:b)}function S(T){return T===91||T===92||T===93?(e.consume(T),c++,b):b(T)}}function lM(e,n,t,r,i,a){let h;return c;function c(S){return S===34||S===39||S===40?(e.enter(r),e.enter(i),e.consume(S),e.exit(i),h=S===40?41:S,p):t(S)}function p(S){return S===h?(e.enter(i),e.consume(S),e.exit(i),e.exit(r),n):(e.enter(a),m(S))}function m(S){return S===h?(e.exit(a),p(h)):S===null?t(S):Ct(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),pn(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===h||S===null||Ct(S)?(e.exit("chunkString"),m(S)):(e.consume(S),S===92?b:g)}function b(S){return S===h||S===92?(e.consume(S),g):g(S)}}function vu(e,n){let t;return r;function r(i){return Ct(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):Jt(i)?pn(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}function Ea(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const UK={name:"definition",tokenize:GK},WK={tokenize:qK,partial:!0};function GK(e,n,t){const r=this;let i;return a;function a(T){return e.enter("definition"),h(T)}function h(T){return aM.call(r,e,c,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(T)}function c(T){return i=Ea(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),T===58?(e.enter("definitionMarker"),e.consume(T),e.exit("definitionMarker"),p):t(T)}function p(T){return Sr(T)?vu(e,m)(T):m(T)}function m(T){return sM(e,g,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(T)}function g(T){return e.attempt(WK,b,b)(T)}function b(T){return Jt(T)?pn(e,S,"whitespace")(T):S(T)}function S(T){return T===null||Ct(T)?(e.exit("definition"),r.parser.defined.push(i),n(T)):t(T)}}function qK(e,n,t){return r;function r(c){return Sr(c)?vu(e,i)(c):t(c)}function i(c){return lM(e,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return Jt(c)?pn(e,h,"whitespace")(c):h(c)}function h(c){return c===null||Ct(c)?n(c):t(c)}}const $K={name:"hardBreakEscape",tokenize:ZK};function ZK(e,n,t){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Ct(a)?(e.exit("hardBreakEscape"),n(a)):t(a)}}const XK={name:"headingAtx",tokenize:KK,resolve:YK};function YK(e,n){let t=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},a={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},bi(e,r,t-r+1,[["enter",i,n],["enter",a,n],["exit",a,n],["exit",i,n]])),e}function KK(e,n,t){let r=0;return i;function i(g){return e.enter("atxHeading"),a(g)}function a(g){return e.enter("atxHeadingSequence"),h(g)}function h(g){return g===35&&r++<6?(e.consume(g),h):g===null||Sr(g)?(e.exit("atxHeadingSequence"),c(g)):t(g)}function c(g){return g===35?(e.enter("atxHeadingSequence"),p(g)):g===null||Ct(g)?(e.exit("atxHeading"),n(g)):Jt(g)?pn(e,c,"whitespace")(g):(e.enter("atxHeadingText"),m(g))}function p(g){return g===35?(e.consume(g),p):(e.exit("atxHeadingSequence"),c(g))}function m(g){return g===null||g===35||Sr(g)?(e.exit("atxHeadingText"),c(g)):(e.consume(g),m)}}const JK=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],E_=["pre","script","style","textarea"],QK={name:"htmlFlow",tokenize:rJ,resolveTo:nJ,concrete:!0},eJ={tokenize:oJ,partial:!0},tJ={tokenize:iJ,partial:!0};function nJ(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function rJ(e,n,t){const r=this;let i,a,h,c,p;return m;function m($){return g($)}function g($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),b}function b($){return $===33?(e.consume($),S):$===47?(e.consume($),a=!0,k):$===63?(e.consume($),i=3,r.interrupt?n:q):fi($)?(e.consume($),h=String.fromCharCode($),C):t($)}function S($){return $===45?(e.consume($),i=2,T):$===91?(e.consume($),i=5,c=0,_):fi($)?(e.consume($),i=4,r.interrupt?n:q):t($)}function T($){return $===45?(e.consume($),r.interrupt?n:q):t($)}function _($){const Qe="CDATA[";return $===Qe.charCodeAt(c++)?(e.consume($),c===Qe.length?r.interrupt?n:fe:_):t($)}function k($){return fi($)?(e.consume($),h=String.fromCharCode($),C):t($)}function C($){if($===null||$===47||$===62||Sr($)){const Qe=$===47,et=h.toLowerCase();return!Qe&&!a&&E_.includes(et)?(i=1,r.interrupt?n($):fe($)):JK.includes(h.toLowerCase())?(i=6,Qe?(e.consume($),P):r.interrupt?n($):fe($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t($):a?A($):N($))}return $===45||Lr($)?(e.consume($),h+=String.fromCharCode($),C):t($)}function P($){return $===62?(e.consume($),r.interrupt?n:fe):t($)}function A($){return Jt($)?(e.consume($),A):Se($)}function N($){return $===47?(e.consume($),Se):$===58||$===95||fi($)?(e.consume($),W):Jt($)?(e.consume($),N):Se($)}function W($){return $===45||$===46||$===58||$===95||Lr($)?(e.consume($),W):Z($)}function Z($){return $===61?(e.consume($),H):Jt($)?(e.consume($),Z):N($)}function H($){return $===null||$===60||$===61||$===62||$===96?t($):$===34||$===39?(e.consume($),p=$,ie):Jt($)?(e.consume($),H):ne($)}function ie($){return $===p?(e.consume($),p=null,ae):$===null||Ct($)?t($):(e.consume($),ie)}function ne($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||Sr($)?Z($):(e.consume($),ne)}function ae($){return $===47||$===62||Jt($)?N($):t($)}function Se($){return $===62?(e.consume($),me):t($)}function me($){return $===null||Ct($)?fe($):Jt($)?(e.consume($),me):t($)}function fe($){return $===45&&i===2?(e.consume($),ve):$===60&&i===1?(e.consume($),de):$===62&&i===4?(e.consume($),ge):$===63&&i===3?(e.consume($),q):$===93&&i===5?(e.consume($),be):Ct($)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(eJ,De,he)($)):$===null||Ct($)?(e.exit("htmlFlowData"),he($)):(e.consume($),fe)}function he($){return e.check(tJ,Ae,De)($)}function Ae($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),Le}function Le($){return $===null||Ct($)?he($):(e.enter("htmlFlowData"),fe($))}function ve($){return $===45?(e.consume($),q):fe($)}function de($){return $===47?(e.consume($),h="",Ee):fe($)}function Ee($){if($===62){const Qe=h.toLowerCase();return E_.includes(Qe)?(e.consume($),ge):fe($)}return fi($)&&h.length<8?(e.consume($),h+=String.fromCharCode($),Ee):fe($)}function be($){return $===93?(e.consume($),q):fe($)}function q($){return $===62?(e.consume($),ge):$===45&&i===2?(e.consume($),q):fe($)}function ge($){return $===null||Ct($)?(e.exit("htmlFlowData"),De($)):(e.consume($),ge)}function De($){return e.exit("htmlFlow"),n($)}}function iJ(e,n,t){const r=this;return i;function i(h){return Ct(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),a):t(h)}function a(h){return r.parser.lazy[r.now().line]?t(h):n(h)}}function oJ(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Cp,n,t)}}const sJ={name:"htmlText",tokenize:aJ};function aJ(e,n,t){const r=this;let i,a,h;return c;function c(q){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(q),p}function p(q){return q===33?(e.consume(q),m):q===47?(e.consume(q),Z):q===63?(e.consume(q),N):fi(q)?(e.consume(q),ne):t(q)}function m(q){return q===45?(e.consume(q),g):q===91?(e.consume(q),a=0,_):fi(q)?(e.consume(q),A):t(q)}function g(q){return q===45?(e.consume(q),T):t(q)}function b(q){return q===null?t(q):q===45?(e.consume(q),S):Ct(q)?(h=b,de(q)):(e.consume(q),b)}function S(q){return q===45?(e.consume(q),T):b(q)}function T(q){return q===62?ve(q):q===45?S(q):b(q)}function _(q){const ge="CDATA[";return q===ge.charCodeAt(a++)?(e.consume(q),a===ge.length?k:_):t(q)}function k(q){return q===null?t(q):q===93?(e.consume(q),C):Ct(q)?(h=k,de(q)):(e.consume(q),k)}function C(q){return q===93?(e.consume(q),P):k(q)}function P(q){return q===62?ve(q):q===93?(e.consume(q),P):k(q)}function A(q){return q===null||q===62?ve(q):Ct(q)?(h=A,de(q)):(e.consume(q),A)}function N(q){return q===null?t(q):q===63?(e.consume(q),W):Ct(q)?(h=N,de(q)):(e.consume(q),N)}function W(q){return q===62?ve(q):N(q)}function Z(q){return fi(q)?(e.consume(q),H):t(q)}function H(q){return q===45||Lr(q)?(e.consume(q),H):ie(q)}function ie(q){return Ct(q)?(h=ie,de(q)):Jt(q)?(e.consume(q),ie):ve(q)}function ne(q){return q===45||Lr(q)?(e.consume(q),ne):q===47||q===62||Sr(q)?ae(q):t(q)}function ae(q){return q===47?(e.consume(q),ve):q===58||q===95||fi(q)?(e.consume(q),Se):Ct(q)?(h=ae,de(q)):Jt(q)?(e.consume(q),ae):ve(q)}function Se(q){return q===45||q===46||q===58||q===95||Lr(q)?(e.consume(q),Se):me(q)}function me(q){return q===61?(e.consume(q),fe):Ct(q)?(h=me,de(q)):Jt(q)?(e.consume(q),me):ae(q)}function fe(q){return q===null||q===60||q===61||q===62||q===96?t(q):q===34||q===39?(e.consume(q),i=q,he):Ct(q)?(h=fe,de(q)):Jt(q)?(e.consume(q),fe):(e.consume(q),Ae)}function he(q){return q===i?(e.consume(q),i=void 0,Le):q===null?t(q):Ct(q)?(h=he,de(q)):(e.consume(q),he)}function Ae(q){return q===null||q===34||q===39||q===60||q===61||q===96?t(q):q===47||q===62||Sr(q)?ae(q):(e.consume(q),Ae)}function Le(q){return q===47||q===62||Sr(q)?ae(q):t(q)}function ve(q){return q===62?(e.consume(q),e.exit("htmlTextData"),e.exit("htmlText"),n):t(q)}function de(q){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),Ee}function Ee(q){return Jt(q)?pn(e,be,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):be(q)}function be(q){return e.enter("htmlTextData"),h(q)}}const Tx={name:"labelEnd",tokenize:pJ,resolveTo:hJ,resolveAll:dJ},lJ={tokenize:fJ},uJ={tokenize:mJ},cJ={tokenize:gJ};function dJ(e){let n=-1;for(;++n<e.length;){const t=e[n][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(n+1,t.type==="labelImage"?4:2),t.type="data",n++)}return e}function hJ(e,n){let t=e.length,r=0,i,a,h,c;for(;t--;)if(i=e[t][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(h){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(h=t);const p={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},m={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[h][1].end)},g={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[h-2][1].start)};return c=[["enter",p,n],["enter",m,n]],c=Vr(c,e.slice(a+1,a+r+3)),c=Vr(c,[["enter",g,n]]),c=Vr(c,Sx(n.parser.constructs.insideSpan.null,e.slice(a+r+4,h-3),n)),c=Vr(c,[["exit",g,n],e[h-2],e[h-1],["exit",m,n]]),c=Vr(c,e.slice(h+1)),c=Vr(c,[["exit",p,n]]),bi(e,a,e.length,c),e}function pJ(e,n,t){const r=this;let i=r.events.length,a,h;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return c;function c(S){return a?a._inactive?b(S):(h=r.parser.defined.includes(Ea(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(S),e.exit("labelMarker"),e.exit("labelEnd"),p):t(S)}function p(S){return S===40?e.attempt(lJ,g,h?g:b)(S):S===91?e.attempt(uJ,g,h?m:b)(S):h?g(S):b(S)}function m(S){return e.attempt(cJ,g,b)(S)}function g(S){return n(S)}function b(S){return a._balanced=!0,t(S)}}function fJ(e,n,t){return r;function r(b){return e.enter("resource"),e.enter("resourceMarker"),e.consume(b),e.exit("resourceMarker"),i}function i(b){return Sr(b)?vu(e,a)(b):a(b)}function a(b){return b===41?g(b):sM(e,h,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function h(b){return Sr(b)?vu(e,p)(b):g(b)}function c(b){return t(b)}function p(b){return b===34||b===39||b===40?lM(e,m,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):g(b)}function m(b){return Sr(b)?vu(e,g)(b):g(b)}function g(b){return b===41?(e.enter("resourceMarker"),e.consume(b),e.exit("resourceMarker"),e.exit("resource"),n):t(b)}}function mJ(e,n,t){const r=this;return i;function i(c){return aM.call(r,e,a,h,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(Ea(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(c):t(c)}function h(c){return t(c)}}function gJ(e,n,t){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),n):t(a)}}const vJ={name:"labelStartImage",tokenize:yJ,resolveAll:Tx.resolveAll};function yJ(e,n,t){const r=this;return i;function i(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),a}function a(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),h):t(c)}function h(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(c):n(c)}}const wJ={name:"labelStartLink",tokenize:xJ,resolveAll:Tx.resolveAll};function xJ(e,n,t){const r=this;return i;function i(h){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelLink"),a}function a(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(h):n(h)}}const Yg={name:"lineEnding",tokenize:bJ};function bJ(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),pn(e,n,"linePrefix")}}const nh={name:"thematicBreak",tokenize:SJ};function SJ(e,n,t){let r=0,i;return a;function a(m){return e.enter("thematicBreak"),h(m)}function h(m){return i=m,c(m)}function c(m){return m===i?(e.enter("thematicBreakSequence"),p(m)):r>=3&&(m===null||Ct(m))?(e.exit("thematicBreak"),n(m)):t(m)}function p(m){return m===i?(e.consume(m),r++,p):(e.exit("thematicBreakSequence"),Jt(m)?pn(e,c,"whitespace")(m):c(m))}}const vr={name:"list",tokenize:CJ,continuation:{tokenize:PJ},exit:_J},EJ={tokenize:RJ,partial:!0},TJ={tokenize:kJ,partial:!0};function CJ(e,n,t){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,h=0;return c;function c(T){const _=r.containerState.type||(T===42||T===43||T===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||T===r.containerState.marker:Ty(T)){if(r.containerState.type||(r.containerState.type=_,e.enter(_,{_container:!0})),_==="listUnordered")return e.enter("listItemPrefix"),T===42||T===45?e.check(nh,t,m)(T):m(T);if(!r.interrupt||T===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(T)}return t(T)}function p(T){return Ty(T)&&++h<10?(e.consume(T),p):(!r.interrupt||h<2)&&(r.containerState.marker?T===r.containerState.marker:T===41||T===46)?(e.exit("listItemValue"),m(T)):t(T)}function m(T){return e.enter("listItemMarker"),e.consume(T),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||T,e.check(Cp,r.interrupt?t:g,e.attempt(EJ,S,b))}function g(T){return r.containerState.initialBlankLine=!0,a++,S(T)}function b(T){return Jt(T)?(e.enter("listItemPrefixWhitespace"),e.consume(T),e.exit("listItemPrefixWhitespace"),S):t(T)}function S(T){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(T)}}function PJ(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check(Cp,i,a);function i(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,pn(e,n,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!Jt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,h(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(TJ,n,h)(c))}function h(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,pn(e,e.attempt(vr,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function kJ(e,n,t){const r=this;return pn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const h=r.events[r.events.length-1];return h&&h[1].type==="listItemIndent"&&h[2].sliceSerialize(h[1],!0).length===r.containerState.size?n(a):t(a)}}function _J(e){e.exit(this.containerState.type)}function RJ(e,n,t){const r=this;return pn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const h=r.events[r.events.length-1];return!Jt(a)&&h&&h[1].type==="listItemPrefixWhitespace"?n(a):t(a)}}const T_={name:"setextUnderline",tokenize:AJ,resolveTo:OJ};function OJ(e,n){let t=e.length,r,i,a;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!a&&e[t][1].type==="definition"&&(a=t);const h={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",h,n]),e.splice(a+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=h,e.push(["exit",h,n]),e}function AJ(e,n,t){const r=this;let i;return a;function a(m){let g=r.events.length,b;for(;g--;)if(r.events[g][1].type!=="lineEnding"&&r.events[g][1].type!=="linePrefix"&&r.events[g][1].type!=="content"){b=r.events[g][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||b)?(e.enter("setextHeadingLine"),i=m,h(m)):t(m)}function h(m){return e.enter("setextHeadingLineSequence"),c(m)}function c(m){return m===i?(e.consume(m),c):(e.exit("setextHeadingLineSequence"),Jt(m)?pn(e,p,"lineSuffix")(m):p(m))}function p(m){return m===null||Ct(m)?(e.exit("setextHeadingLine"),n(m)):t(m)}}const DJ={tokenize:MJ};function MJ(e){const n=this,t=e.attempt(Cp,r,e.attempt(this.parser.constructs.flowInitial,i,pn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(FK,i)),"linePrefix")));return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const IJ={resolveAll:cM()},LJ=uM("string"),jJ=uM("text");function uM(e){return{tokenize:n,resolveAll:cM(e==="text"?NJ:void 0)};function n(t){const r=this,i=this.parser.constructs[e],a=t.attempt(i,h,c);return h;function h(g){return m(g)?a(g):c(g)}function c(g){if(g===null){t.consume(g);return}return t.enter("data"),t.consume(g),p}function p(g){return m(g)?(t.exit("data"),a(g)):(t.consume(g),p)}function m(g){if(g===null)return!0;const b=i[g];let S=-1;if(b)for(;++S<b.length;){const T=b[S];if(!T.previous||T.previous.call(r,r.previous))return!0}return!1}}}function cM(e){return n;function n(t,r){let i=-1,a;for(;++i<=t.length;)a===void 0?t[i]&&t[i][1].type==="data"&&(a=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(t,r):t}}function NJ(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],i=n.sliceStream(r);let a=i.length,h=-1,c=0,p;for(;a--;){const m=i[a];if(typeof m=="string"){for(h=m.length;m.charCodeAt(h-1)===32;)c++,h--;if(h)break;h=-1}else if(m===-2)p=!0,c++;else if(m!==-1){a++;break}}if(c){const m={type:t===e.length||p||c<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-c,offset:r.end.offset-c,_index:r.start._index+a,_bufferIndex:a?h:r.start._bufferIndex+h},end:Object.assign({},r.end)};r.end=Object.assign({},m.start),r.start.offset===r.end.offset?Object.assign(r,m):(e.splice(t,0,["enter",m,n],["exit",m,n]),t+=2)}t++}return e}function FJ(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let h=[],c=[];const p={consume:A,enter:N,exit:W,attempt:ie(Z),check:ie(H),interrupt:ie(H,{interrupt:!0})},m={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:T,sliceSerialize:S,now:_,defineSkip:k,write:b};let g=n.tokenize.call(m,p);return n.resolveAll&&a.push(n),m;function b(me){return h=Vr(h,me),C(),h[h.length-1]!==null?[]:(ne(n,0),m.events=Sx(a,m.events,m),m.events)}function S(me,fe){return HJ(T(me),fe)}function T(me){return BJ(h,me)}function _(){const{line:me,column:fe,offset:he,_index:Ae,_bufferIndex:Le}=r;return{line:me,column:fe,offset:he,_index:Ae,_bufferIndex:Le}}function k(me){i[me.line]=me.column,Se()}function C(){let me;for(;r._index<h.length;){const fe=h[r._index];if(typeof fe=="string")for(me=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===me&&r._bufferIndex<fe.length;)P(fe.charCodeAt(r._bufferIndex));else P(fe)}}function P(me){g=g(me)}function A(me){Ct(me)?(r.line++,r.column=1,r.offset+=me===-3?2:1,Se()):me!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===h[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=me}function N(me,fe){const he=fe||{};return he.type=me,he.start=_(),m.events.push(["enter",he,m]),c.push(he),he}function W(me){const fe=c.pop();return fe.end=_(),m.events.push(["exit",fe,m]),fe}function Z(me,fe){ne(me,fe.from)}function H(me,fe){fe.restore()}function ie(me,fe){return he;function he(Ae,Le,ve){let de,Ee,be,q;return Array.isArray(Ae)?De(Ae):"tokenize"in Ae?De([Ae]):ge(Ae);function ge(ot){return ct;function ct(yt){const gt=yt!==null&&ot[yt],Ke=yt!==null&&ot.null,Ot=[...Array.isArray(gt)?gt:gt?[gt]:[],...Array.isArray(Ke)?Ke:Ke?[Ke]:[]];return De(Ot)(yt)}}function De(ot){return de=ot,Ee=0,ot.length===0?ve:$(ot[Ee])}function $(ot){return ct;function ct(yt){return q=ae(),be=ot,ot.partial||(m.currentConstruct=ot),ot.name&&m.parser.constructs.disable.null.includes(ot.name)?et():ot.tokenize.call(fe?Object.assign(Object.create(m),fe):m,p,Qe,et)(yt)}}function Qe(ot){return me(be,q),Le}function et(ot){return q.restore(),++Ee<de.length?$(de[Ee]):ve}}}function ne(me,fe){me.resolveAll&&!a.includes(me)&&a.push(me),me.resolve&&bi(m.events,fe,m.events.length-fe,me.resolve(m.events.slice(fe),m)),me.resolveTo&&(m.events=me.resolveTo(m.events,m))}function ae(){const me=_(),fe=m.previous,he=m.currentConstruct,Ae=m.events.length,Le=Array.from(c);return{restore:ve,from:Ae};function ve(){r=me,m.previous=fe,m.currentConstruct=he,m.events.length=Ae,c=Le,Se()}}function Se(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function BJ(e,n){const t=n.start._index,r=n.start._bufferIndex,i=n.end._index,a=n.end._bufferIndex;let h;if(t===i)h=[e[t].slice(r,a)];else{if(h=e.slice(t,i),r>-1){const c=h[0];typeof c=="string"?h[0]=c.slice(r):h.shift()}a>0&&h.push(e[i].slice(0,a))}return h}function HJ(e,n){let t=-1;const r=[];let i;for(;++t<e.length;){const a=e[t];let h;if(typeof a=="string")h=a;else switch(a){case-5:{h="\r";break}case-4:{h=`
`;break}case-3:{h=`\r
`;break}case-2:{h=n?" ":"	";break}case-1:{if(!n&&i)continue;h=" ";break}default:h=String.fromCharCode(a)}i=a===-2,r.push(h)}return r.join("")}const zJ={42:vr,43:vr,45:vr,48:vr,49:vr,50:vr,51:vr,52:vr,53:vr,54:vr,55:vr,56:vr,57:vr,62:nM},VJ={91:UK},UJ={[-2]:Xg,[-1]:Xg,32:Xg},WJ={35:XK,42:nh,45:[T_,nh],60:QK,61:T_,95:nh,96:S_,126:S_},GJ={38:iM,92:rM},qJ={[-5]:Yg,[-4]:Yg,[-3]:Yg,33:vJ,38:iM,42:Cy,60:[xK,sJ],91:wJ,92:[$K,rM],93:Tx,95:Cy,96:MK},$J={null:[Cy,IJ]},ZJ={null:[42,95]},XJ={null:[]},YJ=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ZJ,contentInitial:VJ,disable:XJ,document:zJ,flow:WJ,flowInitial:UJ,insideSpan:$J,string:GJ,text:qJ},Symbol.toStringTag,{value:"Module"}));function KJ(e){const n=iK([YJ,...(e||{}).extensions||[]]),t={defined:[],lazy:{},constructs:n,content:r(pK),document:r(mK),flow:r(DJ),string:r(LJ),text:r(jJ)};return t;function r(i){return a;function a(h){return FJ(t,i,h)}}}const C_=/[\0\t\n\r]/g;function JJ(){let e=1,n="",t=!0,r;return i;function i(a,h,c){const p=[];let m,g,b,S,T;for(a=n+a.toString(h),b=0,n="",t&&(a.charCodeAt(0)===65279&&b++,t=void 0);b<a.length;){if(C_.lastIndex=b,m=C_.exec(a),S=m&&m.index!==void 0?m.index:a.length,T=a.charCodeAt(S),!m){n=a.slice(b);break}if(T===10&&b===S&&r)p.push(-3),r=void 0;else switch(r&&(p.push(-5),r=void 0),b<S&&(p.push(a.slice(b,S)),e+=S-b),T){case 0:{p.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,p.push(-2);e++<g;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:r=!0,e=1}b=S+1}return c&&(r&&p.push(-5),n&&p.push(n),p.push(null)),p}}function QJ(e){for(;!oM(e););return e}function dM(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCharCode(t)}const eQ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function tQ(e){return e.replace(eQ,nQ)}function nQ(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),i=r===120||r===88;return dM(t.slice(i?2:1),i?16:10)}return Ex(t)||e}const hM={}.hasOwnProperty,rQ=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),iQ(t)(QJ(KJ(t).document().write(JJ()(e,n,!0))))};function iQ(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(Me),autolinkProtocol:me,autolinkEmail:me,atxHeading:c(jt),blockQuote:c(Ot),characterEscape:me,characterReference:me,codeFenced:c(Nt),codeFencedFenceInfo:p,codeFencedFenceMeta:p,codeIndented:c(Nt,p),codeText:c(_t,p),codeTextData:me,data:me,codeFlowValue:me,definition:c(un),definitionDestinationString:p,definitionLabelString:p,definitionTitleString:p,emphasis:c(Et),hardBreakEscape:c(M),hardBreakTrailing:c(M),htmlFlow:c(Y,p),htmlFlowData:me,htmlText:c(Y,p),htmlTextData:me,image:c(pe),label:p,link:c(Me),listItem:c(qe),listItemValue:_,listOrdered:c(_e,T),listUnordered:c(_e),paragraph:c(He),reference:et,referenceString:p,resourceDestinationString:p,resourceTitleString:p,setextHeading:c(jt),strong:c(pt),thematicBreak:c(Pt)},exit:{atxHeading:g(),atxHeadingSequence:ie,autolink:g(),autolinkEmail:Ke,autolinkProtocol:gt,blockQuote:g(),characterEscapeValue:fe,characterReferenceMarkerHexadecimal:ct,characterReferenceMarkerNumeric:ct,characterReferenceValue:yt,codeFenced:g(A),codeFencedFence:P,codeFencedFenceInfo:k,codeFencedFenceMeta:C,codeFlowValue:fe,codeIndented:g(N),codeText:g(de),codeTextData:fe,data:fe,definition:g(),definitionDestinationString:H,definitionLabelString:W,definitionTitleString:Z,emphasis:g(),hardBreakEscape:g(Ae),hardBreakTrailing:g(Ae),htmlFlow:g(Le),htmlFlowData:fe,htmlText:g(ve),htmlTextData:fe,image:g(be),label:ge,labelText:q,lineEnding:he,link:g(Ee),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:ot,resourceDestinationString:De,resourceTitleString:$,resource:Qe,setextHeading:g(Se),setextHeadingLineSequence:ae,setextHeadingText:ne,strong:g(),thematicBreak:g()}};pM(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(le){let ke={type:"root",children:[]};const L={stack:[ke],tokenStack:[],config:n,enter:m,exit:b,buffer:p,resume:S,setData:a,getData:h},j=[];let U=-1;for(;++U<le.length;)if(le[U][1].type==="listOrdered"||le[U][1].type==="listUnordered")if(le[U][0]==="enter")j.push(U);else{const X=j.pop();U=i(le,X,U)}for(U=-1;++U<le.length;){const X=n[le[U][0]];hM.call(X,le[U][1].type)&&X[le[U][1].type].call(Object.assign({sliceSerialize:le[U][2].sliceSerialize},L),le[U][1])}if(L.tokenStack.length>0){const X=L.tokenStack[L.tokenStack.length-1];(X[1]||P_).call(L,void 0,X[0])}for(ke.position={start:Yi(le.length>0?le[0][1].start:{line:1,column:1,offset:0}),end:Yi(le.length>0?le[le.length-2][1].end:{line:1,column:1,offset:0})},U=-1;++U<n.transforms.length;)ke=n.transforms[U](ke)||ke;return ke}function i(le,ke,L){let j=ke-1,U=-1,X=!1,we,je,lt,Xe;for(;++j<=L;){const Ye=le[j];if(Ye[1].type==="listUnordered"||Ye[1].type==="listOrdered"||Ye[1].type==="blockQuote"?(Ye[0]==="enter"?U++:U--,Xe=void 0):Ye[1].type==="lineEndingBlank"?Ye[0]==="enter"&&(we&&!Xe&&!U&&!lt&&(lt=j),Xe=void 0):Ye[1].type==="linePrefix"||Ye[1].type==="listItemValue"||Ye[1].type==="listItemMarker"||Ye[1].type==="listItemPrefix"||Ye[1].type==="listItemPrefixWhitespace"||(Xe=void 0),!U&&Ye[0]==="enter"&&Ye[1].type==="listItemPrefix"||U===-1&&Ye[0]==="exit"&&(Ye[1].type==="listUnordered"||Ye[1].type==="listOrdered")){if(we){let wn=j;for(je=void 0;wn--;){const Bt=le[wn];if(Bt[1].type==="lineEnding"||Bt[1].type==="lineEndingBlank"){if(Bt[0]==="exit")continue;je&&(le[je][1].type="lineEndingBlank",X=!0),Bt[1].type="lineEnding",je=wn}else if(!(Bt[1].type==="linePrefix"||Bt[1].type==="blockQuotePrefix"||Bt[1].type==="blockQuotePrefixWhitespace"||Bt[1].type==="blockQuoteMarker"||Bt[1].type==="listItemIndent"))break}lt&&(!je||lt<je)&&(we._spread=!0),we.end=Object.assign({},je?le[je][1].start:Ye[1].end),le.splice(je||j,0,["exit",we,Ye[2]]),j++,L++}Ye[1].type==="listItemPrefix"&&(we={type:"listItem",_spread:!1,start:Object.assign({},Ye[1].start),end:void 0},le.splice(j,0,["enter",we,Ye[2]]),j++,L++,lt=void 0,Xe=!0)}}return le[ke][1]._spread=X,L}function a(le,ke){t[le]=ke}function h(le){return t[le]}function c(le,ke){return L;function L(j){m.call(this,le(j),j),ke&&ke.call(this,j)}}function p(){this.stack.push({type:"fragment",children:[]})}function m(le,ke,L){return this.stack[this.stack.length-1].children.push(le),this.stack.push(le),this.tokenStack.push([ke,L]),le.position={start:Yi(ke.start)},le}function g(le){return ke;function ke(L){le&&le.call(this,L),b.call(this,L)}}function b(le,ke){const L=this.stack.pop(),j=this.tokenStack.pop();if(j)j[0].type!==le.type&&(ke?ke.call(this,le,j[0]):(j[1]||P_).call(this,le,j[0]));else throw new Error("Cannot close `"+le.type+"` ("+gu({start:le.start,end:le.end})+"): its not open");return L.position.end=Yi(le.end),L}function S(){return nK(this.stack.pop())}function T(){a("expectingFirstListItemValue",!0)}function _(le){if(h("expectingFirstListItemValue")){const ke=this.stack[this.stack.length-2];ke.start=Number.parseInt(this.sliceSerialize(le),10),a("expectingFirstListItemValue")}}function k(){const le=this.resume(),ke=this.stack[this.stack.length-1];ke.lang=le}function C(){const le=this.resume(),ke=this.stack[this.stack.length-1];ke.meta=le}function P(){h("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function A(){const le=this.resume(),ke=this.stack[this.stack.length-1];ke.value=le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function N(){const le=this.resume(),ke=this.stack[this.stack.length-1];ke.value=le.replace(/(\r?\n|\r)$/g,"")}function W(le){const ke=this.resume(),L=this.stack[this.stack.length-1];L.label=ke,L.identifier=Ea(this.sliceSerialize(le)).toLowerCase()}function Z(){const le=this.resume(),ke=this.stack[this.stack.length-1];ke.title=le}function H(){const le=this.resume(),ke=this.stack[this.stack.length-1];ke.url=le}function ie(le){const ke=this.stack[this.stack.length-1];if(!ke.depth){const L=this.sliceSerialize(le).length;ke.depth=L}}function ne(){a("setextHeadingSlurpLineEnding",!0)}function ae(le){const ke=this.stack[this.stack.length-1];ke.depth=this.sliceSerialize(le).charCodeAt(0)===61?1:2}function Se(){a("setextHeadingSlurpLineEnding")}function me(le){const ke=this.stack[this.stack.length-1];let L=ke.children[ke.children.length-1];(!L||L.type!=="text")&&(L=Tt(),L.position={start:Yi(le.start)},ke.children.push(L)),this.stack.push(L)}function fe(le){const ke=this.stack.pop();ke.value+=this.sliceSerialize(le),ke.position.end=Yi(le.end)}function he(le){const ke=this.stack[this.stack.length-1];if(h("atHardBreak")){const L=ke.children[ke.children.length-1];L.position.end=Yi(le.end),a("atHardBreak");return}!h("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(ke.type)&&(me.call(this,le),fe.call(this,le))}function Ae(){a("atHardBreak",!0)}function Le(){const le=this.resume(),ke=this.stack[this.stack.length-1];ke.value=le}function ve(){const le=this.resume(),ke=this.stack[this.stack.length-1];ke.value=le}function de(){const le=this.resume(),ke=this.stack[this.stack.length-1];ke.value=le}function Ee(){const le=this.stack[this.stack.length-1];if(h("inReference")){const ke=h("referenceType")||"shortcut";le.type+="Reference",le.referenceType=ke,delete le.url,delete le.title}else delete le.identifier,delete le.label;a("referenceType")}function be(){const le=this.stack[this.stack.length-1];if(h("inReference")){const ke=h("referenceType")||"shortcut";le.type+="Reference",le.referenceType=ke,delete le.url,delete le.title}else delete le.identifier,delete le.label;a("referenceType")}function q(le){const ke=this.sliceSerialize(le),L=this.stack[this.stack.length-2];L.label=tQ(ke),L.identifier=Ea(ke).toLowerCase()}function ge(){const le=this.stack[this.stack.length-1],ke=this.resume(),L=this.stack[this.stack.length-1];if(a("inReference",!0),L.type==="link"){const j=le.children;L.children=j}else L.alt=ke}function De(){const le=this.resume(),ke=this.stack[this.stack.length-1];ke.url=le}function $(){const le=this.resume(),ke=this.stack[this.stack.length-1];ke.title=le}function Qe(){a("inReference")}function et(){a("referenceType","collapsed")}function ot(le){const ke=this.resume(),L=this.stack[this.stack.length-1];L.label=ke,L.identifier=Ea(this.sliceSerialize(le)).toLowerCase(),a("referenceType","full")}function ct(le){a("characterReferenceType",le.type)}function yt(le){const ke=this.sliceSerialize(le),L=h("characterReferenceType");let j;L?(j=dM(ke,L==="characterReferenceMarkerNumeric"?10:16),a("characterReferenceType")):j=Ex(ke);const U=this.stack.pop();U.value+=j,U.position.end=Yi(le.end)}function gt(le){fe.call(this,le);const ke=this.stack[this.stack.length-1];ke.url=this.sliceSerialize(le)}function Ke(le){fe.call(this,le);const ke=this.stack[this.stack.length-1];ke.url="mailto:"+this.sliceSerialize(le)}function Ot(){return{type:"blockquote",children:[]}}function Nt(){return{type:"code",lang:null,meta:null,value:""}}function _t(){return{type:"inlineCode",value:""}}function un(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Et(){return{type:"emphasis",children:[]}}function jt(){return{type:"heading",depth:void 0,children:[]}}function M(){return{type:"break"}}function Y(){return{type:"html",value:""}}function pe(){return{type:"image",title:null,url:"",alt:null}}function Me(){return{type:"link",title:null,url:"",children:[]}}function _e(le){return{type:"list",ordered:le.type==="listOrdered",start:null,spread:le._spread,children:[]}}function qe(le){return{type:"listItem",spread:le._spread,checked:null,children:[]}}function He(){return{type:"paragraph",children:[]}}function pt(){return{type:"strong",children:[]}}function Tt(){return{type:"text",value:""}}function Pt(){return{type:"thematicBreak"}}}function Yi(e){return{line:e.line,column:e.column,offset:e.offset}}function pM(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?pM(e,r):oQ(e,r)}}function oQ(e,n){let t;for(t in n)if(hM.call(n,t)){if(t==="canContainEols"){const r=n[t];r&&e[t].push(...r)}else if(t==="transforms"){const r=n[t];r&&e[t].push(...r)}else if(t==="enter"||t==="exit"){const r=n[t];r&&Object.assign(e[t],r)}}}function P_(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+gu({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+gu({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+gu({start:n.start,end:n.end})+") is still open")}function sQ(e){Object.assign(this,{Parser:n=>{const t=this.data("settings");return rQ(n,Object.assign({},t,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function aQ(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}function lQ(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}function uQ(e,n){const t=n.value?n.value+`
`:"",r=n.lang?n.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return n.meta&&(a.data={meta:n.meta}),e.patch(n,a),a=e.applyData(n,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(n,a),a}function cQ(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function dQ(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Za(e){const n=[];let t=-1,r=0,i=0;for(;++t<e.length;){const a=e.charCodeAt(t);let h="";if(a===37&&Lr(e.charCodeAt(t+1))&&Lr(e.charCodeAt(t+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(h=String.fromCharCode(a));else if(a>55295&&a<57344){const c=e.charCodeAt(t+1);a<56320&&c>56319&&c<57344?(h=String.fromCharCode(a,c),i=1):h=""}else h=String.fromCharCode(a);h&&(n.push(e.slice(r,t),encodeURIComponent(h)),r=t+i+1,h=""),i&&(t+=i,i=0)}return n.join("")+e.slice(r)}function fM(e,n){const t=String(n.identifier).toUpperCase(),r=Za(t.toLowerCase()),i=e.footnoteOrder.indexOf(t);let a;i===-1?(e.footnoteOrder.push(t),e.footnoteCounts[t]=1,a=e.footnoteOrder.length):(e.footnoteCounts[t]++,a=i+1);const h=e.footnoteCounts[t],c={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(n,c);const p={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(n,p),e.applyData(n,p)}function hQ(e,n){const t=e.footnoteById;let r=1;for(;r in t;)r++;const i=String(r);return t[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:n.children}],position:n.position},fM(e,{type:"footnoteReference",identifier:i,position:n.position})}function pQ(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function fQ(e,n){if(e.dangerous){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}return null}function mM(e,n){const t=n.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return{type:"text",value:"!["+n.alt+r};const i=e.all(n),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const h=i[i.length-1];return h&&h.type==="text"?h.value+=r:i.push({type:"text",value:r}),i}function mQ(e,n){const t=e.definition(n.identifier);if(!t)return mM(e,n);const r={src:Za(t.url||""),alt:n.alt};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,i),e.applyData(n,i)}function gQ(e,n){const t={src:Za(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,r),e.applyData(n,r)}function vQ(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,r),e.applyData(n,r)}function yQ(e,n){const t=e.definition(n.identifier);if(!t)return mM(e,n);const r={href:Za(t.url||"")};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function wQ(e,n){const t={href:Za(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function xQ(e,n,t){const r=e.all(n),i=t?bQ(t):gM(n),a={},h=[];if(typeof n.checked=="boolean"){const g=r[0];let b;g&&g.type==="element"&&g.tagName==="p"?b=g:(b={type:"element",tagName:"p",properties:{},children:[]},r.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const g=r[c];(i||c!==0||g.type!=="element"||g.tagName!=="p")&&h.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!i?h.push(...g.children):h.push(g)}const p=r[r.length-1];p&&(i||p.type!=="element"||p.tagName!=="p")&&h.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:a,children:h};return e.patch(n,m),e.applyData(n,m)}function bQ(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let r=-1;for(;!n&&++r<t.length;)n=gM(t[r])}return n}function gM(e){return e.spread??e.children.length>1}function SQ(e,n){const t={},r=e.all(n);let i=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++i<r.length;){const h=r[i];if(h.type==="element"&&h.tagName==="li"&&h.properties&&Array.isArray(h.properties.className)&&h.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(r,!0)};return e.patch(n,a),e.applyData(n,a)}function EQ(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function TQ(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}function CQ(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const Cx=vM("start"),Px=vM("end");function PQ(e){return{start:Cx(e),end:Px(e)}}function vM(e){return n;function n(t){const r=t&&t.position&&t.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function kQ(e,n){const t=e.all(n),r=t.shift(),i=[];if(r){const h={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(n.children[0],h),i.push(h)}if(t.length>0){const h={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},c=Cx(n.children[1]),p=Px(n.children[n.children.length-1]);c.line&&p.line&&(h.position={start:c,end:p}),i.push(h)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(n,a),e.applyData(n,a)}function _Q(e,n,t){const r=t?t.children:void 0,i=(r?r.indexOf(n):1)===0?"th":"td",a=t&&t.type==="table"?t.align:void 0,h=a?a.length:n.children.length;let c=-1;const p=[];for(;++c<h;){const g=n.children[c],b={},S=a?a[c]:void 0;S&&(b.align=S);let T={type:"element",tagName:i,properties:b,children:[]};g&&(T.children=e.all(g),e.patch(g,T),T=e.applyData(n,T)),p.push(T)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(p,!0)};return e.patch(n,m),e.applyData(n,m)}function RQ(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const k_=9,__=32;function OQ(e){const n=String(e),t=/\r?\n|\r/g;let r=t.exec(n),i=0;const a=[];for(;r;)a.push(R_(n.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(n);return a.push(R_(n.slice(i),i>0,!1)),a.join("")}function R_(e,n,t){let r=0,i=e.length;if(n){let a=e.codePointAt(r);for(;a===k_||a===__;)r++,a=e.codePointAt(r)}if(t){let a=e.codePointAt(i-1);for(;a===k_||a===__;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function AQ(e,n){const t={type:"text",value:OQ(String(n.value))};return e.patch(n,t),e.applyData(n,t)}function DQ(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}const MQ={blockquote:aQ,break:lQ,code:uQ,delete:cQ,emphasis:dQ,footnoteReference:fM,footnote:hQ,heading:pQ,html:fQ,imageReference:mQ,image:gQ,inlineCode:vQ,linkReference:yQ,link:wQ,listItem:xQ,list:SQ,paragraph:EQ,root:TQ,strong:CQ,table:kQ,tableCell:RQ,tableRow:_Q,text:AQ,thematicBreak:DQ,toml:Id,yaml:Id,definition:Id,footnoteDefinition:Id};function Id(){return null}const yM=function(e){if(e==null)return NQ;if(typeof e=="string")return jQ(e);if(typeof e=="object")return Array.isArray(e)?IQ(e):LQ(e);if(typeof e=="function")return Pp(e);throw new Error("Expected function, string, or object as test")};function IQ(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=yM(e[t]);return Pp(r);function r(...i){let a=-1;for(;++a<n.length;)if(n[a].call(this,...i))return!0;return!1}}function LQ(e){return Pp(n);function n(t){let r;for(r in e)if(t[r]!==e[r])return!1;return!0}}function jQ(e){return Pp(n);function n(t){return t&&t.type===e}}function Pp(e){return n;function n(t,...r){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...r))}}function NQ(){return!0}const FQ=!0,O_=!1,BQ="skip",HQ=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null);const i=yM(n),a=r?-1:1;h(e,void 0,[])();function h(c,p,m){const g=c&&typeof c=="object"?c:{};if(typeof g.type=="string"){const S=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(c.type+(S?"<"+S+">":""))+")"})}return b;function b(){let S=[],T,_,k;if((!n||i(c,p,m[m.length-1]||null))&&(S=zQ(t(c,m)),S[0]===O_))return S;if(c.children&&S[0]!==BQ)for(_=(r?c.children.length:-1)+a,k=m.concat(c);_>-1&&_<c.children.length;){if(T=h(c.children[_],_,k)(),T[0]===O_)return T;_=typeof T[1]=="number"?T[1]:_+a}return S}}};function zQ(e){return Array.isArray(e)?e:typeof e=="number"?[FQ,e]:[e]}const wM=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null),HQ(e,n,i,r);function i(a,h){const c=h[h.length-1];return t(a,c?c.children.indexOf(a):null,c)}};function VQ(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const A_={}.hasOwnProperty;function UQ(e){const n=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return wM(e,"definition",r=>{const i=D_(r.identifier);i&&!A_.call(n,i)&&(n[i]=r)}),t;function t(r){const i=D_(r);return i&&A_.call(n,i)?n[i]:null}}function D_(e){return String(e||"").toUpperCase()}const Hh={}.hasOwnProperty;function WQ(e,n){const t=n||{},r=t.allowDangerousHtml||!1,i={};return h.dangerous=r,h.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,h.footnoteLabel=t.footnoteLabel||"Footnotes",h.footnoteLabelTagName=t.footnoteLabelTagName||"h2",h.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},h.footnoteBackLabel=t.footnoteBackLabel||"Back to content",h.unknownHandler=t.unknownHandler,h.passThrough=t.passThrough,h.handlers={...MQ,...t.handlers},h.definition=UQ(e),h.footnoteById=i,h.footnoteOrder=[],h.footnoteCounts={},h.patch=GQ,h.applyData=qQ,h.one=c,h.all=p,h.wrap=ZQ,h.augment=a,wM(e,"footnoteDefinition",m=>{const g=String(m.identifier).toUpperCase();Hh.call(i,g)||(i[g]=m)}),h;function a(m,g){if(m&&"data"in m&&m.data){const b=m.data;b.hName&&(g.type!=="element"&&(g={type:"element",tagName:"",properties:{},children:[]}),g.tagName=b.hName),g.type==="element"&&b.hProperties&&(g.properties={...g.properties,...b.hProperties}),"children"in g&&g.children&&b.hChildren&&(g.children=b.hChildren)}if(m){const b="type"in m?m:{position:m};VQ(b)||(g.position={start:Cx(b),end:Px(b)})}return g}function h(m,g,b,S){return Array.isArray(b)&&(S=b,b={}),a(m,{type:"element",tagName:g,properties:b||{},children:S||[]})}function c(m,g){return xM(h,m,g)}function p(m){return kx(h,m)}}function GQ(e,n){e.position&&(n.position=PQ(e))}function qQ(e,n){let t=n;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;typeof r=="string"&&(t.type==="element"?t.tagName=r:t={type:"element",tagName:r,properties:{},children:[]}),t.type==="element"&&a&&(t.properties={...t.properties,...a}),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function xM(e,n,t){const r=n&&n.type;if(!r)throw new Error("Expected node, got `"+n+"`");return Hh.call(e.handlers,r)?e.handlers[r](e,n,t):e.passThrough&&e.passThrough.includes(r)?"children"in n?{...n,children:kx(e,n)}:n:e.unknownHandler?e.unknownHandler(e,n,t):$Q(e,n)}function kx(e,n){const t=[];if("children"in n){const r=n.children;let i=-1;for(;++i<r.length;){const a=xM(e,r[i],n);if(a){if(i&&r[i-1].type==="break"&&(!Array.isArray(a)&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&a.type==="element")){const h=a.children[0];h&&h.type==="text"&&(h.value=h.value.replace(/^\s+/,""))}Array.isArray(a)?t.push(...a):t.push(a)}}}return t}function $Q(e,n){const t=n.data||{},r="value"in n&&!(Hh.call(t,"hProperties")||Hh.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:kx(e,n)};return e.patch(n,r),e.applyData(n,r)}function ZQ(e,n){const t=[];let r=-1;for(n&&t.push({type:"text",value:`
`});++r<e.length;)r&&t.push({type:"text",value:`
`}),t.push(e[r]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}function XQ(e){const n=[];let t=-1;for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t]];if(!r)continue;const i=e.all(r),a=String(r.identifier).toUpperCase(),h=Za(a.toLowerCase());let c=0;const p=[];for(;++c<=e.footnoteCounts[a];){const b={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+h+(c>1?"-"+c:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};c>1&&b.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(c)}]}),p.length>0&&p.push({type:"text",value:" "}),p.push(b)}const m=i[i.length-1];if(m&&m.type==="element"&&m.tagName==="p"){const b=m.children[m.children.length-1];b&&b.type==="text"?b.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...p)}else i.push(...p);const g={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+h},children:e.wrap(i,!0)};e.patch(r,g),n.push(g)}if(n.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(n,!0)},{type:"text",value:`
`}]}}function bM(e,n){const t=WQ(e,n),r=t.one(e,null),i=XQ(t);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const YQ=function(e,n){return e&&"run"in e?KQ(e,n):JQ(e||n)};function KQ(e,n){return(t,r,i)=>{e.run(bM(t,n),r,a=>{i(a)})}}function JQ(e){return n=>bM(n,e)}class Ju{constructor(n,t,r){this.property=n,this.normal=t,r&&(this.space=r)}}Ju.prototype.property={};Ju.prototype.normal={};Ju.prototype.space=null;function SM(e,n){const t={},r={};let i=-1;for(;++i<e.length;)Object.assign(t,e[i].property),Object.assign(r,e[i].normal);return new Ju(t,r,n)}function Py(e){return e.toLowerCase()}class Qr{constructor(n,t){this.property=n,this.attribute=t}}Qr.prototype.space=null;Qr.prototype.boolean=!1;Qr.prototype.booleanish=!1;Qr.prototype.overloadedBoolean=!1;Qr.prototype.number=!1;Qr.prototype.commaSeparated=!1;Qr.prototype.spaceSeparated=!1;Qr.prototype.commaOrSpaceSeparated=!1;Qr.prototype.mustUseProperty=!1;Qr.prototype.defined=!1;let QQ=0;const It=xs(),An=xs(),EM=xs(),Ue=xs(),hn=xs(),Ta=xs(),Dr=xs();function xs(){return 2**++QQ}const ky=Object.freeze(Object.defineProperty({__proto__:null,boolean:It,booleanish:An,commaOrSpaceSeparated:Dr,commaSeparated:Ta,number:Ue,overloadedBoolean:EM,spaceSeparated:hn},Symbol.toStringTag,{value:"Module"})),Kg=Object.keys(ky);class _x extends Qr{constructor(n,t,r,i){let a=-1;if(super(n,t),M_(this,"space",i),typeof r=="number")for(;++a<Kg.length;){const h=Kg[a];M_(this,Kg[a],(r&ky[h])===ky[h])}}}_x.prototype.defined=!0;function M_(e,n,t){t&&(e[n]=t)}const eee={}.hasOwnProperty;function Xa(e){const n={},t={};let r;for(r in e.properties)if(eee.call(e.properties,r)){const i=e.properties[r],a=new _x(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),n[r]=a,t[Py(r)]=r,t[Py(a.attribute)]=r}return new Ju(n,t,e.space)}const TM=Xa({space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),CM=Xa({space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function PM(e,n){return n in e?e[n]:n}function kM(e,n){return PM(e,n.toLowerCase())}const _M=Xa({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:kM,properties:{xmlns:null,xmlnsXLink:null}}),RM=Xa({transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:An,ariaAutoComplete:null,ariaBusy:An,ariaChecked:An,ariaColCount:Ue,ariaColIndex:Ue,ariaColSpan:Ue,ariaControls:hn,ariaCurrent:null,ariaDescribedBy:hn,ariaDetails:null,ariaDisabled:An,ariaDropEffect:hn,ariaErrorMessage:null,ariaExpanded:An,ariaFlowTo:hn,ariaGrabbed:An,ariaHasPopup:null,ariaHidden:An,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:hn,ariaLevel:Ue,ariaLive:null,ariaModal:An,ariaMultiLine:An,ariaMultiSelectable:An,ariaOrientation:null,ariaOwns:hn,ariaPlaceholder:null,ariaPosInSet:Ue,ariaPressed:An,ariaReadOnly:An,ariaRelevant:null,ariaRequired:An,ariaRoleDescription:hn,ariaRowCount:Ue,ariaRowIndex:Ue,ariaRowSpan:Ue,ariaSelected:An,ariaSetSize:Ue,ariaSort:null,ariaValueMax:Ue,ariaValueMin:Ue,ariaValueNow:Ue,ariaValueText:null,role:null}}),tee=Xa({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:kM,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ta,acceptCharset:hn,accessKey:hn,action:null,allow:null,allowFullScreen:It,allowPaymentRequest:It,allowUserMedia:It,alt:null,as:null,async:It,autoCapitalize:null,autoComplete:hn,autoFocus:It,autoPlay:It,blocking:hn,capture:null,charSet:null,checked:It,cite:null,className:hn,cols:Ue,colSpan:null,content:null,contentEditable:An,controls:It,controlsList:hn,coords:Ue|Ta,crossOrigin:null,data:null,dateTime:null,decoding:null,default:It,defer:It,dir:null,dirName:null,disabled:It,download:EM,draggable:An,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:It,formTarget:null,headers:hn,height:Ue,hidden:It,high:Ue,href:null,hrefLang:null,htmlFor:hn,httpEquiv:hn,id:null,imageSizes:null,imageSrcSet:null,inert:It,inputMode:null,integrity:null,is:null,isMap:It,itemId:null,itemProp:hn,itemRef:hn,itemScope:It,itemType:hn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:It,low:Ue,manifest:null,max:null,maxLength:Ue,media:null,method:null,min:null,minLength:Ue,multiple:It,muted:It,name:null,nonce:null,noModule:It,noValidate:It,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:It,optimum:Ue,pattern:null,ping:hn,placeholder:null,playsInline:It,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:It,referrerPolicy:null,rel:hn,required:It,reversed:It,rows:Ue,rowSpan:Ue,sandbox:hn,scope:null,scoped:It,seamless:It,selected:It,shadowRootClonable:It,shadowRootDelegatesFocus:It,shadowRootMode:null,shape:null,size:Ue,sizes:null,slot:null,span:Ue,spellCheck:An,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ue,step:null,style:null,tabIndex:Ue,target:null,title:null,translate:null,type:null,typeMustMatch:It,useMap:null,value:An,width:Ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:hn,axis:null,background:null,bgColor:null,border:Ue,borderColor:null,bottomMargin:Ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:It,declare:It,event:null,face:null,frame:null,frameBorder:null,hSpace:Ue,leftMargin:Ue,link:null,longDesc:null,lowSrc:null,marginHeight:Ue,marginWidth:Ue,noResize:It,noHref:It,noShade:It,noWrap:It,object:null,profile:null,prompt:null,rev:null,rightMargin:Ue,rules:null,scheme:null,scrolling:An,standby:null,summary:null,text:null,topMargin:Ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:It,disableRemotePlayback:It,prefix:null,property:null,results:Ue,security:null,unselectable:null}}),nee=Xa({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:PM,properties:{about:Dr,accentHeight:Ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ue,amplitude:Ue,arabicForm:null,ascent:Ue,attributeName:null,attributeType:null,azimuth:Ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ue,by:null,calcMode:null,capHeight:Ue,className:hn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ue,diffuseConstant:Ue,direction:null,display:null,dur:null,divisor:Ue,dominantBaseline:null,download:It,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ue,enableBackground:null,end:null,event:null,exponent:Ue,externalResourcesRequired:null,fill:null,fillOpacity:Ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ta,g2:Ta,glyphName:Ta,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ue,horizOriginX:Ue,horizOriginY:Ue,id:null,ideographic:Ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ue,k:Ue,k1:Ue,k2:Ue,k3:Ue,k4:Ue,kernelMatrix:Dr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ue,overlineThickness:Ue,paintOrder:null,panose1:null,path:null,pathLength:Ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:hn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ue,pointsAtY:Ue,pointsAtZ:Ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Dr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Dr,rev:Dr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Dr,requiredFeatures:Dr,requiredFonts:Dr,requiredFormats:Dr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ue,specularExponent:Ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ue,strikethroughThickness:Ue,string:null,stroke:null,strokeDashArray:Dr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ue,strokeOpacity:Ue,strokeWidth:null,style:null,surfaceScale:Ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Dr,tabIndex:Ue,tableValues:null,target:null,targetX:Ue,targetY:Ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Dr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ue,underlineThickness:Ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ue,values:null,vAlphabetic:Ue,vMathematical:Ue,vectorEffect:null,vHanging:Ue,vIdeographic:Ue,version:null,vertAdvY:Ue,vertOriginX:Ue,vertOriginY:Ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ree=/^data[-\w.:]+$/i,I_=/-[a-z]/g,iee=/[A-Z]/g;function oee(e,n){const t=Py(n);let r=n,i=Qr;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&ree.test(n)){if(n.charAt(4)==="-"){const a=n.slice(5).replace(I_,aee);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=n.slice(4);if(!I_.test(a)){let h=a.replace(iee,see);h.charAt(0)!=="-"&&(h="-"+h),n="data"+h}}i=_x}return new i(r,n)}function see(e){return"-"+e.toLowerCase()}function aee(e){return e.charAt(1).toUpperCase()}const L_={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},lee=SM([CM,TM,_M,RM,tee],"html"),uee=SM([CM,TM,_M,RM,nee],"svg"),cee=function(e){return dee(e)};function dee(e){return hee(n);function n(t){return t&&t.type===e}}function hee(e){return n;function n(t,...r){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...r))}}const pee=!0,j_=!1,fee="skip",mee=function(e,n,t,r){const i=cee(n),a=1;h(e,void 0,[])();function h(c,p,m){const g=c&&typeof c=="object"?c:{};if(typeof g.type=="string"){const S=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(c.type+(S?"<"+S+">":""))+")"})}return b;function b(){let S=[],T,_,k;if(i(c,p,m[m.length-1]||null)&&(S=gee(t(c,m)),S[0]===j_))return S;if(c.children&&S[0]!==fee)for(_=-1+a,k=m.concat(c);_>-1&&_<c.children.length;){if(T=h(c.children[_],_,k)(),T[0]===j_)return T;_=typeof T[1]=="number"?T[1]:_+a}return S}}};function gee(e){return Array.isArray(e)?e:typeof e=="number"?[pee,e]:[e]}const vee=function(e,n,t,r){mee(e,n,i);function i(a,h){const c=h[h.length-1];return t(a,c?c.children.indexOf(a):null,c)}};function yee(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return n=>{vee(n,"element",(t,r,i)=>{const a=i;let h;if(e.allowedElements?h=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(h=e.disallowedElements.includes(t.tagName)),!h&&e.allowElement&&typeof r=="number"&&(h=!e.allowElement(t,r,a)),h&&typeof r=="number")return e.unwrapDisallowed&&t.children?a.children.splice(r,1,...t.children):a.children.splice(r,1),r})}}var OM={exports:{}},nn={},N_;function wee(){if(N_)return nn;N_=1;/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),h=Symbol.for("react.context"),c=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function k(C){if(typeof C=="object"&&C!==null){var P=C.$$typeof;switch(P){case e:switch(C=C.type,C){case t:case i:case r:case m:case g:return C;default:switch(C=C&&C.$$typeof,C){case c:case h:case p:case S:case b:case a:return C;default:return P}}case n:return P}}}return nn.ContextConsumer=h,nn.ContextProvider=a,nn.Element=e,nn.ForwardRef=p,nn.Fragment=t,nn.Lazy=S,nn.Memo=b,nn.Portal=n,nn.Profiler=i,nn.StrictMode=r,nn.Suspense=m,nn.SuspenseList=g,nn.isAsyncMode=function(){return!1},nn.isConcurrentMode=function(){return!1},nn.isContextConsumer=function(C){return k(C)===h},nn.isContextProvider=function(C){return k(C)===a},nn.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},nn.isForwardRef=function(C){return k(C)===p},nn.isFragment=function(C){return k(C)===t},nn.isLazy=function(C){return k(C)===S},nn.isMemo=function(C){return k(C)===b},nn.isPortal=function(C){return k(C)===n},nn.isProfiler=function(C){return k(C)===i},nn.isStrictMode=function(C){return k(C)===r},nn.isSuspense=function(C){return k(C)===m},nn.isSuspenseList=function(C){return k(C)===g},nn.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===t||C===i||C===r||C===m||C===g||C===T||typeof C=="object"&&C!==null&&(C.$$typeof===S||C.$$typeof===b||C.$$typeof===a||C.$$typeof===h||C.$$typeof===p||C.$$typeof===_||C.getModuleId!==void 0)},nn.typeOf=k,nn}OM.exports=wee();var xee=OM.exports;const bee=Hi(xee);function See(e){const n=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof n=="string"&&n.replace(/[ \t\n\f\r]/g,"")===""}function Eee(e){return e.join(" ").trim()}function Tee(e,n){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const _y={}.hasOwnProperty,Cee=new Set(["table","thead","tbody","tfoot","tr"]);function AM(e,n){const t=[];let r=-1,i;for(;++r<n.children.length;)i=n.children[r],i.type==="element"?t.push(Pee(e,i,r,n)):i.type==="text"?(n.type!=="element"||!Cee.has(n.tagName)||!See(i))&&t.push(i.value):i.type==="raw"&&!e.options.skipHtml&&t.push(i.value);return t}function Pee(e,n,t,r){const i=e.options,a=i.transformLinkUri===void 0?LY:i.transformLinkUri,h=e.schema,c=n.tagName,p={};let m=h,g;if(h.space==="html"&&c==="svg"&&(m=uee,e.schema=m),n.properties)for(g in n.properties)_y.call(n.properties,g)&&_ee(p,g,n.properties[g],e);(c==="ol"||c==="ul")&&e.listDepth++;const b=AM(e,n);(c==="ol"||c==="ul")&&e.listDepth--,e.schema=h;const S=n.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},T=i.components&&_y.call(i.components,c)?i.components[c]:c,_=typeof T=="string"||T===dt.Fragment;if(!bee.isValidElementType(T))throw new TypeError(`Component for name \`${c}\` not defined or is not renderable`);if(p.key=t,c==="a"&&i.linkTarget&&(p.target=typeof i.linkTarget=="function"?i.linkTarget(String(p.href||""),n.children,typeof p.title=="string"?p.title:null):i.linkTarget),c==="a"&&a&&(p.href=a(String(p.href||""),n.children,typeof p.title=="string"?p.title:null)),!_&&c==="code"&&r.type==="element"&&r.tagName!=="pre"&&(p.inline=!0),!_&&(c==="h1"||c==="h2"||c==="h3"||c==="h4"||c==="h5"||c==="h6")&&(p.level=Number.parseInt(c.charAt(1),10)),c==="img"&&i.transformImageUri&&(p.src=i.transformImageUri(String(p.src||""),String(p.alt||""),typeof p.title=="string"?p.title:null)),!_&&c==="li"&&r.type==="element"){const k=kee(n);p.checked=k&&k.properties?!!k.properties.checked:null,p.index=Jg(r,n),p.ordered=r.tagName==="ol"}return!_&&(c==="ol"||c==="ul")&&(p.ordered=c==="ol",p.depth=e.listDepth),(c==="td"||c==="th")&&(p.align&&(p.style||(p.style={}),p.style.textAlign=p.align,delete p.align),_||(p.isHeader=c==="th")),!_&&c==="tr"&&r.type==="element"&&(p.isHeader=r.tagName==="thead"),i.sourcePos&&(p["data-sourcepos"]=Aee(S)),!_&&i.rawSourcePos&&(p.sourcePosition=n.position),!_&&i.includeElementIndex&&(p.index=Jg(r,n),p.siblingCount=Jg(r)),_||(p.node=n),b.length>0?dt.createElement(T,p,b):dt.createElement(T,p)}function kee(e){let n=-1;for(;++n<e.children.length;){const t=e.children[n];if(t.type==="element"&&t.tagName==="input")return t}return null}function Jg(e,n){let t=-1,r=0;for(;++t<e.children.length&&e.children[t]!==n;)e.children[t].type==="element"&&r++;return r}function _ee(e,n,t,r){const i=oee(r.schema,n);let a=t;a==null||a!==a||(Array.isArray(a)&&(a=i.commaSeparated?Tee(a):Eee(a)),i.property==="style"&&typeof a=="string"&&(a=Ree(a)),i.space&&i.property?e[_y.call(L_,i.property)?L_[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function Ree(e){const n={};try{WD(e,t)}catch{}return n;function t(r,i){const a=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;n[a.replace(/-([a-z])/g,Oee)]=i}}function Oee(e,n){return n.toUpperCase()}function Aee(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const F_={}.hasOwnProperty,Dee="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ld={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Ry(e){for(const a in Ld)if(F_.call(Ld,a)&&F_.call(e,a)){const h=Ld[a];console.warn(`[react-markdown] Warning: please ${h.to?`use \`${h.to}\` instead of`:"remove"} \`${a}\` (see <${Dee}#${h.id}> for more info)`),delete Ld[a]}const n=KY().use(sQ).use(e.remarkPlugins||[]).use(YQ,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(yee,e),t=new KD;typeof e.children=="string"?t.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=n.runSync(n.parse(t),t);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=dt.createElement(dt.Fragment,{},AM({options:e,schema:lee,listDepth:0},r));return e.className&&(i=dt.createElement("div",{className:e.className},i)),i}Ry.propTypes={children:ut.string,className:ut.string,allowElement:ut.func,allowedElements:ut.arrayOf(ut.string),disallowedElements:ut.arrayOf(ut.string),unwrapDisallowed:ut.bool,remarkPlugins:ut.arrayOf(ut.oneOfType([ut.object,ut.func,ut.arrayOf(ut.oneOfType([ut.bool,ut.string,ut.object,ut.func,ut.arrayOf(ut.any)]))])),rehypePlugins:ut.arrayOf(ut.oneOfType([ut.object,ut.func,ut.arrayOf(ut.oneOfType([ut.bool,ut.string,ut.object,ut.func,ut.arrayOf(ut.any)]))])),sourcePos:ut.bool,rawSourcePos:ut.bool,skipHtml:ut.bool,includeElementIndex:ut.bool,transformLinkUri:ut.oneOfType([ut.func,ut.bool]),linkTarget:ut.oneOfType([ut.func,ut.string]),transformImageUri:ut.func,components:ut.object};var Pn={},Rx={},Qu={},ec={},DM="Expected a function",B_=NaN,Mee="[object Symbol]",Iee=/^\s+|\s+$/g,Lee=/^[-+]0x[0-9a-f]+$/i,jee=/^0b[01]+$/i,Nee=/^0o[0-7]+$/i,Fee=parseInt,Bee=typeof zn=="object"&&zn&&zn.Object===Object&&zn,Hee=typeof self=="object"&&self&&self.Object===Object&&self,zee=Bee||Hee||Function("return this")(),Vee=Object.prototype,Uee=Vee.toString,Wee=Math.max,Gee=Math.min,Qg=function(){return zee.Date.now()};function qee(e,n,t){var r,i,a,h,c,p,m=0,g=!1,b=!1,S=!0;if(typeof e!="function")throw new TypeError(DM);n=H_(n)||0,zh(t)&&(g=!!t.leading,b="maxWait"in t,a=b?Wee(H_(t.maxWait)||0,n):a,S="trailing"in t?!!t.trailing:S);function T(H){var ie=r,ne=i;return r=i=void 0,m=H,h=e.apply(ne,ie),h}function _(H){return m=H,c=setTimeout(P,n),g?T(H):h}function k(H){var ie=H-p,ne=H-m,ae=n-ie;return b?Gee(ae,a-ne):ae}function C(H){var ie=H-p,ne=H-m;return p===void 0||ie>=n||ie<0||b&&ne>=a}function P(){var H=Qg();if(C(H))return A(H);c=setTimeout(P,k(H))}function A(H){return c=void 0,S&&r?T(H):(r=i=void 0,h)}function N(){c!==void 0&&clearTimeout(c),m=0,r=p=i=c=void 0}function W(){return c===void 0?h:A(Qg())}function Z(){var H=Qg(),ie=C(H);if(r=arguments,i=this,p=H,ie){if(c===void 0)return _(p);if(b)return c=setTimeout(P,n),T(p)}return c===void 0&&(c=setTimeout(P,n)),h}return Z.cancel=N,Z.flush=W,Z}function $ee(e,n,t){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(DM);return zh(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),qee(e,n,{leading:r,maxWait:n,trailing:i})}function zh(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function Zee(e){return!!e&&typeof e=="object"}function Xee(e){return typeof e=="symbol"||Zee(e)&&Uee.call(e)==Mee}function H_(e){if(typeof e=="number")return e;if(Xee(e))return B_;if(zh(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=zh(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(Iee,"");var t=jee.test(e);return t||Nee.test(e)?Fee(e.slice(2),t?2:8):Lee.test(e)?B_:+e}var Yee=$ee,tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.addPassiveEventListener=function(e,n,t){var r=function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,a)}catch{}return i}();e.addEventListener(n,t,r?{passive:!0}:!1)};tc.removePassiveEventListener=function(e,n,t){e.removeEventListener(n,t)};Object.defineProperty(ec,"__esModule",{value:!0});var Kee=Yee,Jee=ete(Kee),Qee=tc;function ete(e){return e&&e.__esModule?e:{default:e}}var tte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,Jee.default)(e,n)},bn={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,n){if(e){var t=tte(function(r){bn.scrollHandler(e)},n);bn.scrollSpyContainers.push(e),(0,Qee.addPassiveEventListener)(e,"scroll",t)}},isMounted:function(e){return bn.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var n=window.pageYOffset!==void 0,t=(document.compatMode||"")==="CSS1Compat";return n?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var n=window.pageXOffset!==void 0,t=(document.compatMode||"")==="CSS1Compat";return n?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var n=bn.scrollSpyContainers[bn.scrollSpyContainers.indexOf(e)].spyCallbacks||[];n.forEach(function(t){return t(bn.currentPositionX(e),bn.currentPositionY(e))})},addStateHandler:function(e){bn.spySetState.push(e)},addSpyHandler:function(e,n){var t=bn.scrollSpyContainers[bn.scrollSpyContainers.indexOf(n)];t.spyCallbacks||(t.spyCallbacks=[]),t.spyCallbacks.push(e),e(bn.currentPositionX(n),bn.currentPositionY(n))},updateStates:function(){bn.spySetState.forEach(function(e){return e()})},unmount:function(e,n){bn.scrollSpyContainers.forEach(function(t){return t.spyCallbacks&&t.spyCallbacks.length&&t.spyCallbacks.indexOf(n)>-1&&t.spyCallbacks.splice(t.spyCallbacks.indexOf(n),1)}),bn.spySetState&&bn.spySetState.length&&bn.spySetState.indexOf(e)>-1&&bn.spySetState.splice(bn.spySetState.indexOf(e),1),document.removeEventListener("scroll",bn.scrollHandler)},update:function(){return bn.scrollSpyContainers.forEach(function(e){return bn.scrollHandler(e)})}};ec.default=bn;var Ya={},nc={};Object.defineProperty(nc,"__esModule",{value:!0});var nte=function(e,n){var t=e.indexOf("#")===0?e.substring(1):e,r=t?"#"+t:"",i=window&&window.location,a=r?i.pathname+i.search+r:i.pathname+i.search;n?history.pushState(history.state,"",a):history.replaceState(history.state,"",a)},rte=function(){return window.location.hash.replace(/^#/,"")},ite=function(e){return function(n){return e.contains?e!=n&&e.contains(n):!!(e.compareDocumentPosition(n)&16)}},ote=function(e){return getComputedStyle(e).position!=="static"},ev=function(e,n){for(var t=e.offsetTop,r=e.offsetParent;r&&!n(r);)t+=r.offsetTop,r=r.offsetParent;return{offsetTop:t,offsetParent:r}},ste=function(e,n,t){if(t)return e===document?n.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?n.offsetLeft:n.offsetLeft-e.offsetLeft;if(e===document)return n.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(ote(e)){if(n.offsetParent!==e){var r=function(p){return p===e||p===document},i=ev(n,r),a=i.offsetTop,h=i.offsetParent;if(h!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return a}return n.offsetTop}if(n.offsetParent===e.offsetParent)return n.offsetTop-e.offsetTop;var c=function(p){return p===document};return ev(n,c).offsetTop-ev(e,c).offsetTop};nc.default={updateHash:nte,getHash:rte,filterElementInContainer:ite,scrollOffset:ste};var kp={},Ox={};Object.defineProperty(Ox,"__esModule",{value:!0});Ox.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var Ax={};Object.defineProperty(Ax,"__esModule",{value:!0});var ate=tc,lte=["mousedown","mousewheel","touchmove","keydown"];Ax.default={subscribe:function(e){return typeof document<"u"&&lte.forEach(function(n){return(0,ate.addPassiveEventListener)(document,n,e)})}};var rc={};Object.defineProperty(rc,"__esModule",{value:!0});var Oy={registered:{},scrollEvent:{register:function(e,n){Oy.registered[e]=n},remove:function(e){Oy.registered[e]=null}}};rc.default=Oy;Object.defineProperty(kp,"__esModule",{value:!0});var ute=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},cte=nc;_p(cte);var dte=Ox,z_=_p(dte),hte=Ax,pte=_p(hte),fte=rc,pi=_p(fte);function _p(e){return e&&e.__esModule?e:{default:e}}var MM=function(e){return z_.default[e.smooth]||z_.default.defaultEasing},mte=function(e){return typeof e=="function"?e:function(){return e}},gte=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},Ay=function(){return gte()||function(e,n,t){window.setTimeout(e,t||1e3/60,new Date().getTime())}}(),IM=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},LM=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollLeft;var t=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return t?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft},jM=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollTop;var t=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return t?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop},vte=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollWidth-n.offsetWidth;var t=document.body,r=document.documentElement;return Math.max(t.scrollWidth,t.offsetWidth,r.clientWidth,r.scrollWidth,r.offsetWidth)},yte=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollHeight-n.offsetHeight;var t=document.body,r=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)},wte=function e(n,t,r){var i=t.data;if(!t.ignoreCancelEvents&&i.cancel){pi.default.registered.end&&pi.default.registered.end(i.to,i.target,i.currentPositionY);return}if(i.delta=Math.round(i.targetPosition-i.startPosition),i.start===null&&(i.start=r),i.progress=r-i.start,i.percent=i.progress>=i.duration?1:n(i.progress/i.duration),i.currentPosition=i.startPosition+Math.ceil(i.delta*i.percent),i.containerElement&&i.containerElement!==document&&i.containerElement!==document.body?t.horizontal?i.containerElement.scrollLeft=i.currentPosition:i.containerElement.scrollTop=i.currentPosition:t.horizontal?window.scrollTo(i.currentPosition,0):window.scrollTo(0,i.currentPosition),i.percent<1){var a=e.bind(null,n,t);Ay.call(window,a);return}pi.default.registered.end&&pi.default.registered.end(i.to,i.target,i.currentPosition)},Dx=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},ic=function(e,n,t,r){if(n.data=n.data||IM(),window.clearTimeout(n.data.delayTimeout),pte.default.subscribe(function(){n.data.cancel=!0}),Dx(n),n.data.start=null,n.data.cancel=!1,n.data.startPosition=n.horizontal?LM(n):jM(n),n.data.targetPosition=n.absolute?e:e+n.data.startPosition,n.data.startPosition===n.data.targetPosition){pi.default.registered.end&&pi.default.registered.end(n.data.to,n.data.target,n.data.currentPosition);return}n.data.delta=Math.round(n.data.targetPosition-n.data.startPosition),n.data.duration=mte(n.duration)(n.data.delta),n.data.duration=isNaN(parseFloat(n.data.duration))?1e3:parseFloat(n.data.duration),n.data.to=t,n.data.target=r;var i=MM(n),a=wte.bind(null,i,n);if(n&&n.delay>0){n.data.delayTimeout=window.setTimeout(function(){pi.default.registered.begin&&pi.default.registered.begin(n.data.to,n.data.target),Ay.call(window,a)},n.delay);return}pi.default.registered.begin&&pi.default.registered.begin(n.data.to,n.data.target),Ay.call(window,a)},Rp=function(e){return e=ute({},e),e.data=e.data||IM(),e.absolute=!0,e},xte=function(e){ic(0,Rp(e))},bte=function(e,n){ic(e,Rp(n))},Ste=function(e){e=Rp(e),Dx(e),ic(e.horizontal?vte(e):yte(e),e)},Ete=function(e,n){n=Rp(n),Dx(n);var t=n.horizontal?LM(n):jM(n);ic(e+t,n)};kp.default={animateTopScroll:ic,getAnimationType:MM,scrollToTop:xte,scrollToBottom:Ste,scrollTo:bte,scrollMore:Ete};Object.defineProperty(Ya,"__esModule",{value:!0});var Tte=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Cte=nc,Pte=Mx(Cte),kte=kp,_te=Mx(kte),Rte=rc,jd=Mx(Rte);function Mx(e){return e&&e.__esModule?e:{default:e}}var Nd={},V_=void 0;Ya.default={unmount:function(){Nd={}},register:function(e,n){Nd[e]=n},unregister:function(e){delete Nd[e]},get:function(e){return Nd[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return V_=e},getActiveLink:function(){return V_},scrollTo:function(e,n){var t=this.get(e);if(!t){console.warn("target Element not found");return}n=Tte({},n,{absolute:!1});var r=n.containerId,i=n.container,a=void 0;r?a=document.getElementById(r):i&&i.nodeType?a=i:a=document,n.absolute=!0;var h=n.horizontal,c=Pte.default.scrollOffset(a,t,h)+(n.offset||0);if(!n.smooth){jd.default.registered.begin&&jd.default.registered.begin(e,t),a===document?n.horizontal?window.scrollTo(c,0):window.scrollTo(0,c):a.scrollTop=c,jd.default.registered.end&&jd.default.registered.end(e,t);return}_te.default.animateTopScroll(c,n,e,t)}};var Op={};Object.defineProperty(Op,"__esModule",{value:!0});var Ote=nc,tv=Ate(Ote);function Ate(e){return e&&e.__esModule?e:{default:e}}var Dte={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,n){this.containers[e]=n},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,n=this.getHash();n?window.setTimeout(function(){e.scrollTo(n,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,n){var t=this.scroller,r=t.get(e);if(r&&(n||e!==t.getActiveLink())){var i=this.containers[e]||document;t.scrollTo(e,{container:i})}},getHash:function(){return tv.default.getHash()},changeHash:function(e,n){this.isInitialized()&&tv.default.getHash()!==e&&tv.default.updateHash(e,n)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Op.default=Dte;Object.defineProperty(Qu,"__esModule",{value:!0});var Fd=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Mte=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Ite=dt,U_=oc(Ite),Lte=ec,Bd=oc(Lte),jte=Ya,Nte=oc(jte),Fte=Wa,vn=oc(Fte),Bte=Op,Ki=oc(Bte);function oc(e){return e&&e.__esModule?e:{default:e}}function Hte(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function zte(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Vte(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var W_={to:vn.default.string.isRequired,containerId:vn.default.string,container:vn.default.object,activeClass:vn.default.string,activeStyle:vn.default.object,spy:vn.default.bool,horizontal:vn.default.bool,smooth:vn.default.oneOfType([vn.default.bool,vn.default.string]),offset:vn.default.number,delay:vn.default.number,isDynamic:vn.default.bool,onClick:vn.default.func,duration:vn.default.oneOfType([vn.default.number,vn.default.func]),absolute:vn.default.bool,onSetActive:vn.default.func,onSetInactive:vn.default.func,ignoreCancelEvents:vn.default.bool,hashSpy:vn.default.bool,saveHashHistory:vn.default.bool,spyThrottle:vn.default.number};Qu.default=function(e,n){var t=n||Nte.default,r=function(a){Vte(h,a);function h(c){Hte(this,h);var p=zte(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,c));return i.call(p),p.state={active:!1},p}return Mte(h,[{key:"getScrollSpyContainer",value:function(){var c=this.props.containerId,p=this.props.container;return c&&!p?document.getElementById(c):p&&p.nodeType?p:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var c=this.getScrollSpyContainer();Bd.default.isMounted(c)||Bd.default.mount(c,this.props.spyThrottle),this.props.hashSpy&&(Ki.default.isMounted()||Ki.default.mount(t),Ki.default.mapContainer(this.props.to,c)),Bd.default.addSpyHandler(this.spyHandler,c),this.setState({container:c})}}},{key:"componentWillUnmount",value:function(){Bd.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var c="";this.state&&this.state.active?c=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():c=this.props.className;var p={};this.state&&this.state.active?p=Fd({},this.props.style,this.props.activeStyle):p=Fd({},this.props.style);var m=Fd({},this.props);for(var g in W_)m.hasOwnProperty(g)&&delete m[g];return m.className=c,m.style=p,m.onClick=this.handleClick,U_.default.createElement(e,m)}}]),h}(U_.default.PureComponent),i=function(){var a=this;this.scrollTo=function(h,c){t.scrollTo(h,Fd({},a.state,c))},this.handleClick=function(h){a.props.onClick&&a.props.onClick(h),h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault(),a.scrollTo(a.props.to,a.props)},this.spyHandler=function(h,c){var p=a.getScrollSpyContainer();if(!(Ki.default.isMounted()&&!Ki.default.isInitialized())){var m=a.props.horizontal,g=a.props.to,b=null,S=void 0,T=void 0;if(m){var _=0,k=0,C=0;if(p.getBoundingClientRect){var P=p.getBoundingClientRect();C=P.left}if(!b||a.props.isDynamic){if(b=t.get(g),!b)return;var A=b.getBoundingClientRect();_=A.left-C+h,k=_+A.width}var N=h-a.props.offset;S=N>=Math.floor(_)&&N<Math.floor(k),T=N<Math.floor(_)||N>=Math.floor(k)}else{var W=0,Z=0,H=0;if(p.getBoundingClientRect){var ie=p.getBoundingClientRect();H=ie.top}if(!b||a.props.isDynamic){if(b=t.get(g),!b)return;var ne=b.getBoundingClientRect();W=ne.top-H+c,Z=W+ne.height}var ae=c-a.props.offset;S=ae>=Math.floor(W)&&ae<Math.floor(Z),T=ae<Math.floor(W)||ae>=Math.floor(Z)}var Se=t.getActiveLink();if(T){if(g===Se&&t.setActiveLink(void 0),a.props.hashSpy&&Ki.default.getHash()===g){var me=a.props.saveHashHistory,fe=me===void 0?!1:me;Ki.default.changeHash("",fe)}a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive(g,b))}if(S&&(Se!==g||a.state.active===!1)){t.setActiveLink(g);var he=a.props.saveHashHistory,Ae=he===void 0?!1:he;a.props.hashSpy&&Ki.default.changeHash(g,Ae),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(g,b))}}}};return r.propTypes=W_,r.defaultProps={offset:0},r};Object.defineProperty(Rx,"__esModule",{value:!0});var Ute=dt,G_=NM(Ute),Wte=Qu,Gte=NM(Wte);function NM(e){return e&&e.__esModule?e:{default:e}}function qte(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function q_(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function $te(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Zte=function(e){$te(n,e);function n(){var t,r,i,a;qte(this,n);for(var h=arguments.length,c=Array(h),p=0;p<h;p++)c[p]=arguments[p];return a=(r=(i=q_(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(c))),i),i.render=function(){return G_.default.createElement("a",i.props,i.props.children)},r),q_(i,a)}return n}(G_.default.Component);Rx.default=(0,Gte.default)(Zte);var Ix={};Object.defineProperty(Ix,"__esModule",{value:!0});var Xte=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Yte=dt,$_=FM(Yte),Kte=Qu,Jte=FM(Kte);function FM(e){return e&&e.__esModule?e:{default:e}}function Qte(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ene(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function tne(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var nne=function(e){tne(n,e);function n(){return Qte(this,n),ene(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return Xte(n,[{key:"render",value:function(){return $_.default.createElement("input",this.props,this.props.children)}}]),n}($_.default.Component);Ix.default=(0,Jte.default)(nne);var Lx={},Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});var rne=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ine=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),one=dt,Z_=Dp(one),sne=Wl;Dp(sne);var ane=Ya,X_=Dp(ane),lne=Wa,Y_=Dp(lne);function Dp(e){return e&&e.__esModule?e:{default:e}}function une(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function cne(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function dne(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Ap.default=function(e){var n=function(t){dne(r,t);function r(i){une(this,r);var a=cne(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i));return a.childBindings={domNode:null},a}return ine(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(i){this.props.name!==i.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;X_.default.unregister(this.props.name)}},{key:"registerElems",value:function(i){X_.default.register(i,this.childBindings.domNode)}},{key:"render",value:function(){return Z_.default.createElement(e,rne({},this.props,{parentBindings:this.childBindings}))}}]),r}(Z_.default.Component);return n.propTypes={name:Y_.default.string,id:Y_.default.string},n};Object.defineProperty(Lx,"__esModule",{value:!0});var K_=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},hne=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),pne=dt,J_=jx(pne),fne=Ap,mne=jx(fne),gne=Wa,Q_=jx(gne);function jx(e){return e&&e.__esModule?e:{default:e}}function vne(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function yne(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function wne(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var BM=function(e){wne(n,e);function n(){return vne(this,n),yne(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return hne(n,[{key:"render",value:function(){var t=this,r=K_({},this.props);return r.parentBindings&&delete r.parentBindings,J_.default.createElement("div",K_({},r,{ref:function(i){t.props.parentBindings.domNode=i}}),this.props.children)}}]),n}(J_.default.Component);BM.propTypes={name:Q_.default.string,id:Q_.default.string};Lx.default=(0,mne.default)(BM);var nv=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},e1=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function t1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function r1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Hd=dt,zo=ec,rv=Ya,Sn=Wa,Ji=Op,i1={to:Sn.string.isRequired,containerId:Sn.string,container:Sn.object,activeClass:Sn.string,spy:Sn.bool,smooth:Sn.oneOfType([Sn.bool,Sn.string]),offset:Sn.number,delay:Sn.number,isDynamic:Sn.bool,onClick:Sn.func,duration:Sn.oneOfType([Sn.number,Sn.func]),absolute:Sn.bool,onSetActive:Sn.func,onSetInactive:Sn.func,ignoreCancelEvents:Sn.bool,hashSpy:Sn.bool,spyThrottle:Sn.number},xne={Scroll:function(e,n){console.warn("Helpers.Scroll is deprecated since v1.7.0");var t=n||rv,r=function(a){r1(h,a);function h(c){t1(this,h);var p=n1(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,c));return i.call(p),p.state={active:!1},p}return e1(h,[{key:"getScrollSpyContainer",value:function(){var c=this.props.containerId,p=this.props.container;return c?document.getElementById(c):p&&p.nodeType?p:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var c=this.getScrollSpyContainer();zo.isMounted(c)||zo.mount(c,this.props.spyThrottle),this.props.hashSpy&&(Ji.isMounted()||Ji.mount(t),Ji.mapContainer(this.props.to,c)),this.props.spy&&zo.addStateHandler(this.stateHandler),zo.addSpyHandler(this.spyHandler,c),this.setState({container:c})}}},{key:"componentWillUnmount",value:function(){zo.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var c="";this.state&&this.state.active?c=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():c=this.props.className;var p=nv({},this.props);for(var m in i1)p.hasOwnProperty(m)&&delete p[m];return p.className=c,p.onClick=this.handleClick,Hd.createElement(e,p)}}]),h}(Hd.Component),i=function(){var a=this;this.scrollTo=function(h,c){t.scrollTo(h,nv({},a.state,c))},this.handleClick=function(h){a.props.onClick&&a.props.onClick(h),h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){t.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(h){var c=a.getScrollSpyContainer();if(!(Ji.isMounted()&&!Ji.isInitialized())){var p=a.props.to,m=null,g=0,b=0,S=0;if(c.getBoundingClientRect){var T=c.getBoundingClientRect();S=T.top}if(!m||a.props.isDynamic){if(m=t.get(p),!m)return;var _=m.getBoundingClientRect();g=_.top-S+h,b=g+_.height}var k=h-a.props.offset,C=k>=Math.floor(g)&&k<Math.floor(b),P=k<Math.floor(g)||k>=Math.floor(b),A=t.getActiveLink();if(P)return p===A&&t.setActiveLink(void 0),a.props.hashSpy&&Ji.getHash()===p&&Ji.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),zo.updateStates();if(C&&A!==p)return t.setActiveLink(p),a.props.hashSpy&&Ji.changeHash(p),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(p)),zo.updateStates()}}};return r.propTypes=i1,r.defaultProps={offset:0},r},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var n=function(t){r1(r,t);function r(i){t1(this,r);var a=n1(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i));return a.childBindings={domNode:null},a}return e1(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(i){this.props.name!==i.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;rv.unregister(this.props.name)}},{key:"registerElems",value:function(i){rv.register(i,this.childBindings.domNode)}},{key:"render",value:function(){return Hd.createElement(e,nv({},this.props,{parentBindings:this.childBindings}))}}]),r}(Hd.Component);return n.propTypes={name:Sn.string,id:Sn.string},n}},bne=xne;Object.defineProperty(Pn,"__esModule",{value:!0});Pn.Helpers=Pn.ScrollElement=Pn.ScrollLink=Pn.animateScroll=Pn.scrollSpy=Pn.Events=Pn.scroller=Pn.Element=Pn.Button=YM=Pn.Link=void 0;var Sne=Rx,HM=Ti(Sne),Ene=Ix,zM=Ti(Ene),Tne=Lx,VM=Ti(Tne),Cne=Ya,UM=Ti(Cne),Pne=rc,WM=Ti(Pne),kne=ec,GM=Ti(kne),_ne=kp,qM=Ti(_ne),Rne=Qu,$M=Ti(Rne),One=Ap,ZM=Ti(One),Ane=bne,XM=Ti(Ane);function Ti(e){return e&&e.__esModule?e:{default:e}}var YM=Pn.Link=HM.default;Pn.Button=zM.default;Pn.Element=VM.default;Pn.scroller=UM.default;Pn.Events=WM.default;Pn.scrollSpy=GM.default;Pn.animateScroll=qM.default;Pn.ScrollLink=$M.default;Pn.ScrollElement=ZM.default;Pn.Helpers=XM.default;Pn.default={Link:HM.default,Button:zM.default,Element:VM.default,scroller:UM.default,Events:WM.default,scrollSpy:GM.default,animateScroll:qM.default,ScrollLink:$M.default,ScrollElement:ZM.default,Helpers:XM.default};const yu=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","Z"];class o1 extends z.Component{renderAlphaLinks(){const n=[];for(let t=0;t<yu.length;t++){const r=yu[t],i=`alpha-${t}`;n.push(ee.jsxs("span",{children:[ee.jsx(YM,{to:i,offset:-120,containerId:"glossaryViewInner",smooth:"true",children:r})," "]},`link-${i}`))}return ee.jsxs("div",{style:{display:"inline"},children:[ee.jsx("input",{id:"glossary-filter",className:"searchBox",placeholder:"Filter by Entry",onChange:this.props.onFilterChange,value:this.props.filterTerm}),ee.jsxs("div",{className:"alphaNav",children:[ee.jsx("span",{style:{color:"black"},children:"Go to: "}),n]})]})}render(){return ee.jsx("div",{className:"glossaryNav",children:this.renderAlphaLinks()})}}var KM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s1=dt.createContext&&dt.createContext(KM),go=function(){return go=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},go.apply(this,arguments)},Dne=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function JM(e){return e&&e.map(function(n,t){return dt.createElement(n.tag,go({key:t},n.attr),JM(n.child))})}function QM(e){return function(n){return dt.createElement(Mne,go({attr:go({},e.attr)},n),JM(e.child))}}function Mne(e){var n=function(t){var r=e.attr,i=e.size,a=e.title,h=Dne(e,["attr","size","title"]),c=i||t.size||"1em",p;return t.className&&(p=t.className),e.className&&(p=(p?p+" ":"")+e.className),dt.createElement("svg",go({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,h,{className:p,style:go(go({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&dt.createElement("title",null,a),e.children)};return s1!==void 0?dt.createElement(s1.Consumer,null,function(t){return n(t)}):n(KM)}function Vh(e){return QM({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zm28.9-143.6L209.4 288H392c13.3 0 24-10.7 24-24v-16c0-13.3-10.7-24-24-24H209.4l75.5-72.4c9.7-9.3 9.9-24.8.4-34.3l-11-10.9c-9.4-9.4-24.6-9.4-33.9 0L107.7 239c-9.4 9.4-9.4 24.6 0 33.9l132.7 132.7c9.4 9.4 24.6 9.4 33.9 0l11-10.9c9.5-9.5 9.3-25-.4-34.3z"}}]})(e)}function Uh(e){return QM({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm-28.9 143.6l75.5 72.4H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h182.6l-75.5 72.4c-9.7 9.3-9.9 24.8-.4 34.3l11 10.9c9.4 9.4 24.6 9.4 33.9 0L404.3 273c9.4-9.4 9.4-24.6 0-33.9L271.6 106.3c-9.4-9.4-24.6-9.4-33.9 0l-11 10.9c-9.5 9.6-9.3 25.1.4 34.4z"}}]})(e)}function Ine(e){const n=qa();return IO(n.breakpoints.up(e))}const Xl={};Xl.transcriptionTypeLabels={f:"Facsimile",glossary:"Glossary"};const Lne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAbCAYAAAGrR/egAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFxEAABYlAXDOav8AAAW+SURBVEhL3ZcJTJRHFIDX1tZ6NI02adPEVu2pYlsvWqFVY0mlVQubNrZqxC5WkVMBVxQUrSKiGGMFigIaDFFA8cSjWkWEpkKVAOsBTZQiKsgh4LHicn6d/f8FdqELiNKoX7I78978M2/e/DPvf6OgDcw0aqHG0Bjs7cGHmzLZt3itkKr1KonODCvTfuMKSyu2navE871xKK3flxr0dH5YE+aKERXi8eGrJbG5Y+EpGkQR+prRWAXHkZT/QdNTP9jFw/0iSnR12M+YTcjxEhSfqLAZPYVJfb8wPNVMx6dqRMc7vdADXnxeqna80/SpYGsnVZs6KUbqFQ0UP5Bl/TqkyFUhmK5KU6cK/V9NCfcTv5TkfOql0sHWFq/jN6R6I3Kn+jNS0fOV16HkD+ZOnkHdzb8knYurI7lSrZmO+2REpzq1zz3o9pKh3kzXGIueK9bDHdwOGBQyrYw1vhczu/aRaGUsO8SRsBMaxh0tFRZr6W+1TjKsVDuSuP8QM5aphNSAt72ChF2XSA0aS/j2WDY5jSfisk4awxytjDnNnyiVRZlxFGmPcLi0hkOzXyHrlqRm/syvhK0CekzTH9oKLOzDJH2mlzWHC6WqWUyMmV86o5YWB8CUthe/azaIGf43Y11jKDUIdpcZBJnHa+j672JEMWTvXtCrj1y/ekdqevwe1QhP+nQXI/cUcc+gEzx+Q39Gi6WrEuE4FU40R90Whtrepo9CK49C/cfiuf6CQdLguiNPlK3Pk/cgF6nsKC0MVeFnY0viuhmyeHEzJ69rKUyYh3doJOFrVCzNquKWZi+W6hjKuM3sZYHs3Z+Ire/Pch8zmBoqOsrXHkcpSd/JnnJIdFFQXguv2unTJEF9Dt9ZxXErPZroAll11k2F7RR7ek32lBVmMDFUcMARtyT9B7iSiaPicFN4iUXTMjM0UWqvzQ5jsF82aVFu3BVyqro/ycVSE4tdl8sVM5gYCv7Gi8uGek7EByhcDkv1kDkuzFrgzrf26yV518J++JwqpPScM46qeQQGTcfZW56MOYwMGV54m8Gz87TYDF3Hs2fokam/DUmroHtvWJfR5it+sp2qFsdgdzCoxC89R5wGEUqfE/H6mDhfmoOw5HvYKPLgCnFHMuLJdqpeTLZcxIXz2bAnVCRoItnWf+mGOEJCAqRdgmsina01fWtP/varyofNwonu/cBGhKi7JeA3UtyCXoaVp8RdVkTlFjwdZ6pa3MJLb0o3cZk6cUMVss4obzCifaeq8jgW5sGYKSoiW16qxHcwZc3nLNqXS/F9g6od6nQV5MaOIkrsqLquCeftO1WcvJYAtTU2fhFEuASQ1TQRsVoVB3BVjGZDShmVQpS0GX6op1swZPBQhip9CDxhSC11ZeT/tpoh7w6ij+ItBo+JJqNaHiznVyX244fz8QgLhlqsIPLQTf3oJsnLw9COUwWc8HHFZbQPSeXlaGJXYPnpQcSuFrOvJm+rBQqvQ+RrhXVtKg4WSpQbTiLilEzxPgJcp/HOrCT0L1JXepZEzx74psnNQsPVlJ2kiaSlib/9Ubo7o4q/YlA8PG069SB9JbPVdkyIEYdVUF+WRUqYkhF7RUSqzSR0wEcEpFSgT3PO+PZl7JoYTt+Q97m0yHUXiVcHMGFMPNfEVs2LW8WAbv6clp4QR+VCNM4/LhQ7IZiN638hJHwjnpPeYLjKmzCNaZh+GNpwSktG4AJWTfdhjziTjWgLM4i1HsbqLct52yKcrAdy9LkSZsWwz4LYkd04GQ3bPaZiabuIbZVCLE4jLnAYfaOLpNaGhjsc+UnBwMiLwpJM+Rl/HN4ciMOCnZyvNig7gXmn7uVyMOYYUQf+EWm0EfU6dFeSWbTED//UG9Qan/byZLZu8MPZeQ5znbawK0naqDIiQBSkRKH28UWd1HgHuYtm5VKWuLvjNMeJ+GwN6duTOXc8B0PW2inaDRRPI8+gU/AvCRLk8OxchHwAAAAASUVORK5CYII=",jne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAAASCAYAAAHpiZZSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFa8AABWvAQS7x0sAAAmkSURBVFhH7Zl5VFT3Fccfi2DkgFI1RpOcY416rKaWWmuNaeyC5DTEDZQcjaiNUGtEmugIYhVZVKIYDYoS3FCjBxeqYpEEK3HDKqKEzShEIEAwLEHWAQYG59vfve8NDDAKuFT/4HPOzPstb/m9++6725PwBOCTbDSXIL0dygMxd8qhOnKH26GObpCkwVi33gUeqt+KtoT6gnOArkrMalGTvhvanAPySR6XJ3OSg7lNYpMGW0v5fPlHJqCYGulbePleUz5C8KZ1WDNFQvqeQNy9Esn72fT7G+43qrn9/7kdEnQ7bmxioRvjPwErlFYLvPrK75WecXghQQFrkdPQBCshFmvLqehvLaGyked5ISQaJ88vMP7nEu7RoBAXLSTh45lwD7rBYiMtINGFLfESOxRB6vsrfCNESBqhKbkO1OfTkYwkWQBNGrwwJ5I1hMf4/xnz8EVkhSuN1gTEFyFXabfluk5pGBCnAQaG3lJ67RGLSORGw32gpxA9UAfPqDwe0y+CHonf6NnctlMt40Xk3T7G44Vo4HFDaHyc42lc0gIj9xbwIpz7LeK5j/kawHHxbM2CknH4R2URdBAhOYo3mbZKnxeRfxh+X5/lriS93rwIkoS8XwXP6SkRv1HK8fIi8iH1G4X+i+N47DN7CTHiEDrWbP11/SKePc/FIp4XFGGQavhxy8R5D1B2EqvPVIpeDUwnbwUyQxBVUC3UJBSHsgzsmFCbmDuVuOw9BBcL66FLXI0l+9OBK6uxM0nY4cRAbE/W4NdClcjEkDqRmSkUhy5UqfgUjstcxH81RttMFNs6/E6ywXei5aZ6i6bZ/JCqfbtfhShxyqLEMPheATL2eeDNqLsoPL8Zy/+rY9tI7wCq8ppVkKkrhdWCGEBTAct50VALJ0bvBVl/eje0OfvgcrSUd20WRuAl2Vi+ZzodSA5GZq3c7zljJ29l6uEcmqC0BSyMauwZPhdl1G+8iLURGTj6xhDcqeM9GHqvDIVRce8i5q67pswSFWx/CbLBBNlhgrwysdl3Hm/1kF2md5BsMxmDZmEIz603Cq3RYo2ZFTQ32wrjAL+nRDthPG/E+X2KH5R2Z2goScHLYdlKr2t02wwDuoVhwGMJY/C8MKXVMQ5uFBBmQOUjjFmnycP8P21S2g+jDv6DlnDrbLgchDwKLIwN5ia4IILP5E/Mkd2gw/s9RBohwvSYBb2QWqNDH4vVHHz077UKhpZFFoYOvT2ExxGMHvBHkK+xcw3g/vj5vig9PRl7swyFEYvbu2bguHity79eDJ+EGiSteg/uUblI3eSGNxccgubGRsyO/Uk4s1T8ZuopcZwa3q878Dn9544R//cwwnq42GrhYTtMbDUtwgiZ0Sr2uv75dNSKbdqu6cI33sd0c1lY8Wvo1nWYJplyn2BhrDdxFrsRyfCPlxOOrbbWHBWlVzXiK4+XuC2arRg8t0UzfvmyyNckOzRoryEgXETeCsXH/9JKGF5rzuPvkwbx+eg3TXUaid7TcV5EYWWXfRGWKnYrT4LjthuoTQnFtOgSqLMim/eXpCEoFa541siVfP4t3gPFf2OzMPLjtiDOwJPVFJ4Qx1jgNEUKuoZ2wnAymcl9goURZCKhiQLo0mOI+E4LC5f9NIya6DlIrSR/JfPlwj64K8uKkYWRje1H5SDbZ8QsIf1SrAg4yX2irTBUq+Kx0N4LlLrqubT84cIQwQQmfGLoiks6LQw9tcWnsDkDnRCGqQnMzMwgTY3gwdTNNvwU8hKDEXKjArfD5Ce55FjrXESvGeNH0vw47Bg7DCnCh989+Q7v/6HQkLITbYTBNqMMY/kpTwQ9sAcJo+U1AZLCFvE57TeL8XbCAHa5SliRoGv3mtSXJ/Nx1n3duV95xgeSeU8kHCYhPEwznjty4Tn5hNLuHHt9eiutrsPC6EamWxjdGOUZKkYuDtkNxQCyo+N9EZtDlvTRIIdFuSDZacoHyVZTTkj2mvJCstkPqkI9LjW39sH7zxIsRzthe5oy+MjUcb7pP8gTZ0WoU52xFwuEfGyHLcc5Iw7yaWKgGIki9JqBSLEwlx7mMKUHJhwtFUWbuReN+dYvoAfN8W8SQlOqoFH8UF3cIrxka6nMTUTw5VLUGvFR2gte+MUrVsp+Ej7YncylssTAMXitt/7cEuy8onCTq60y5LCpACvPOyPweA470dIuKEZmpDscXlHOMcQZK2L0M6W4sHwdtrr6Yr2XK4bT/KvvwDM2Cem7lmISX3Mg/uC6D9/q70k4fqq2kPOniouMGtlRAXDi/cXvtQl4N/quMleEbyI+x18Hi/VtmCDP9x6KsYFXxZwOpdfC8YFy3ItD7XCICp61eRwsUIWmfU1TRltTiJP/UK4nWaFP/x3izgUixKRPEBRZUdGCoMIFRVhUvKBrar8/CKeZX+CgPx1rCpO1tJY2ikHBBhU1mgMOEY5SpSciUwOtkQdM4SlVflKrxWRmCCcwVA6jJKZDssI5YjNa/icaL3I4S5UiCmmpWkRhrWHFSE+HFkOEvBVF5+G2MhhLT9BOeooR77EKG9yPiCC6gXMCqjBR9EdUXfHDnGWT4HZGkaqIBKnixNEgYaAYXCgrOIdPtyyG/ZGWLwBCnZG4IwTubxxBocgh6GMLRYtUlSKoMkVRI1WnKIyWLcYSuUpFVHWgGHWlnHxRKY8SsFZ0RjFyDnDUqa9u6WljMZxBX5TkhI1I5o9l/vF1YiwVITa9YC600iH8NlsC9SlXWTEMchciM/xVDLAhDXwLGy8VG7UabRUjP3IcRvYVx4xZiZPZdIsJWEmKsf8W6kTiR98GKPnjr1tt6EgxKDHMS4vArA+XQhX9oApYBacEhopBqQGVIDk9IBTFmBKehcrMMHy21gGbkpQ5gVqYfpVqNByi6NrGKOFSZZcUg9Hgp4zj8Ld1x+l2T78FTWUqtjmQ3Huhd7/tbDXqnoRibDAzgeS0H/laJZcPEnnbmnio6SbSgmFp4oevhBKwc8nYhr5WppAmbUO62ojFUMfCrY8Ttp3/ETTdjmbFqBadAuwb8SJ8tl7CDyyQAkRNHIGfSSPxUeRNLo9QsZ1KJFxwJ4qOwX6UN/75rxLkxE3FmIe6klguxmfvdcEY13lYm6Sky+Xn4PmuF2asuIp64d+vdFIxjFkM2ZWocfvAcrgN/j2CUnhArPMqdga8Dzt/+jhWiZSnbTGa1Cj+ty/Mem1hxWgs/xKrJQvMPkX33ARN5m44Smaw2NgFxWjnSrrpgFyu21NO3ZXafZfoSDGeEt2K8Zg82azEEA3K0p6LrKSbbvQA/wNGF2xMO2U8SgAAAABJRU5ErkJggg==",Nne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAAQCAYAAAFLg1xnAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFYcAABURAZUCwyYAAAk6SURBVFhH7ZkLUBXnFceXhwg1UkWrrVWrdpqk1alNxmgntrY0RpumEbVANYCIQUTLqFGBiqAEQQHRgWhMMdRHCQkQRYxRY0Q0xQdgfBFFBSI+UBRFEJCLl8v995yz914v8ijqdcZO+c3c3e/b3bv77dmz5/ufswosgJzEI+OOdID7QFUxtkRNwfnkINny7qoQWVd8/hdUpDtL23XNHhy5eQ/1OqBUq1dP8qTQSfSohgb56yehuiBJ3VpbBFzJosZdBPimYMwCH6ApH1OX/xOvhH0hh4RllMM2PJv+TSfR6w+jy9tpUBR1UKZ1j36oOJ1B/b7SB11o2Itu6m3KBYCoaYG0LARKtsI1ZBc2J01DfuY0Ocf1NGe5aMSo51FSrZqA+dC7D6oagF6ODmikEbA5rK2UliaZGv2NofXk8ECMGAfSFhZ5NpaArKhAW7wR9s95QXN7F370wVnEOavji1k7D5ekBbjTcb9dmYftN4Fx8cdlWyX9Qudlmx6nk9IfQWPGouQesLO8Xrap+xql3fDFTNOxijIed7b+FW5TPoWeHpHysbs1wmhn0aZJsJ+2XQ7S0C/cyQ8bLgKDFmbLNmZExJFmAwl6811alkjbSOLpOoSuzjEN5NVhP6YlvRtEw56ZtDyH+O5dpC8DsZ4s7eaPRk9e9FRQLdIeMpCy5ImwsbWTDRbjRh5GRh41dCwHv41s7aHdFKQVsnM8IGTYQIyMUN/ojsBPpFSrPi0jYhB2E3PYXWqghW231YYtwKXPQnFeWnWY3Ntf4ha7EEdRczfavTIYZdwQg+RJ2GG34tBjdC3mbm4UZu2rQmHqbBzRNmLljGTZfuNLX+y4CjX+ERyN2e04FrLrcWRmg6iRoQzBsfvkOJXGZlGCXZKjN7tlWMY17JjugBoK/Iz10r0Gg+jFTTmmMmYG0cHKNpourKUXy5bCMrDB1Z53Y9uSrkDNcfRZdx73ynMw4B8luHW6dYNUnNqC0CPAyY/84Rx/AhWHE/DnHbdwYeMCTEj61nCUyqrZo/HGnDRpv/ObqTRJAFl+r+O49lEN0gS32Axa69oxCD2mswlYd6oGKFiNxML6tg3SFhzdFMfeht6zhSVemdZo1yD/byjQN8n8E2O5SV9YH+5haFmWFxYtxZn416AMX2DYYqAhB3Z0H1drDf0OYOO62dBSUZbTCRQrG9yit+dNbis22H6bd+mwiPvdnOTA+tvHxGg/SyLRhwZE9XCX/gsjPpH9Rq58tZq294VXsD/1dAj65R9le+Ti6bIWavIx1lcNgim+0XRtYO6fBtD/BonQuLrLB7PHjce0hAIs2TwLL9F1JoSrMYaNcSLyZZyooI42F460b8SSz2Vf1vz+KOWgZ6B39Bb8wEGRGCacWStjTjyragExxvVUpETYQAk/RAK16RpW5Mk+lUYNunhuQ+XuZTCFvcYaOPR6X5rX9idgHwW6xT1/Iv3MVW4GaUFoLmHwyBRpqp7RhjEIjwVjZR0dNg9HA8NY5grBMfNRnzUdcd9QwCNeWRgg6xWjvcD3b26M5JcH4oqZTHnYGD3d1so6oWdXenz1mPRRgfRPxdijlgYtxihPQ3KpegcmY+gaDkKxo1lEr4GdZwYKkybB5HGa23CcqUr9ysLt+LItY9w6jWFhOdJM2/AeLds2Rm6EBw4e3YuA7Cok+/wNFwzbmdt7vDtkDOFKujzti2SE9oxxn2aWpTt5vgeqt05p3xgNByPAYaM2KwTdfTKhrT0Lzx210NVdh1NCIWInfk/+EOniSMum1o1BRHgMo2Ulfmo9RPoek4fTsgG/6zJU+iZqTtFN9EIxt79LgVsIC7Y7CPSMQO1XHTOG0TMOBA5BUVX7xqijObS73QRSUoCDrYuMuYUxZNkG1RdUUfSscTj8Vw88w4yHjfGotGMMNYD67Sbh84xxLM7ZIrPJw3TqjE7aRJyD4yinKs1m2WcVygd55n4aSfLThsMdp1ethbyWNEoY5LTrSULhk9CKczRBW7IJE627INaQgzdqipHoYgV770zJbXny5fyWJ2BGU3USH7p2g88uyherj8lkzPkuwzkvT8qc9/K5K7/diOmKIwYv/pp6NKF/txPBLn0xdLOx1GWOBpf3rIR/3+FYKklDpeTGPHk7x5+kvk6KBqxopHDAXMkSZWNeQHhADfKivBA41hdZxuruuU/gt3IJ5ufQdHHpU/gEBMA/1aB97uzHrHGL4BGRC86Eqw764g8DR8Iv/oxJiVXs88Dofv0wNfoQbvCGgliMGTwDwR9f4MIxbqY5iyjgvJuFwQPnKBOBwDm4Kh8vY9Mvfoi/v38I16Xw0L5zNGTNQx/S2HPSLqKGE/Dz6+Dk8BbW5N0hOUNQvs6CgnN2FhWct7Ow4Nyd5QTn7ywwOIdHeTrcbaww8V9X0WRM5ol2IocejfXZCKV5i6WeYmuP7jMypVLNMpULiC2mM5KsXMVm2cqFRZX7Il+5yMgSlitFrNykOMJUFYuC4yKJuYoTSNpyTd4ob4XaIpG5XKB8dOcgavIQ4RmI1/2/JiOWIt0vGkvm5qAO17Bj/lsYYLxfs98Q92XIogfK+QIXXozKkOECDCtEKcIwTfmiFKUYw/vT23IOsnBuJH79/PfV63h+gKPl5rXQ/+Ice2aKulQLOMw5UZn8VYBlNxdeWXrztwojLMH5iwHL8ObOkSZFHlahZr7RmnPoSMssh/WUVClNC5TIcYmQkzn2Q07ouFTYvJZFUHLHZUNO8NS4wZDZKdHjEiIne4/kHJQEcnmRE0EpMTKmaYUH+xjOQdw9Ggnv0Nfg7OeKxKi52C//rcK/F7pg0eRAHOIyXCtw/mRJ53gY3YEFGDQlBplFPAD9YzrHNUlQufTJSaqx/Mlwsspl0CdwDurrGnAg1PDm2HRFN69UXD4QDiu7t5EpHqOTKqGUP/hn54g+c3ZL6GW4FMLfRmRfj36GkgijlZJqh51D0EjJhL+rKMqLGDUiFEFrfTHapDluInfdLPxc9g/H5AlxWJYchzfW5Bv2t8ZdnFzhjZeeexXvfGYcm0pVbhg8RxnGTr/fz14FrqYyFneOsm0YM7y/6VqK13rk3TBGj8eNHGWoMxryzFr5tKeef7yUdfgzH9Nh53hsGu+hfO97cPDebnKMTtrmf1KQdtJJS4D/ACf1pRCRRDX9AAAAAElFTkSuQmCC",Fne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAUCAYAAAE8S7kiAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFYcAABXWARG5gq8AAAjbSURBVFhH7VkLUFXXFX0FBayaUhirzSTqxPysE2zScUJNzIgitRotAbGQGDRpsBGjVT4CSlAkShQBLaig0vhJTBs1piJRRENBPvKRB7wPj+c0yKeIn1gbK4rCW9373Ps+IBDQR6zRNbPfvfudc++5++6zz91rHwXuEh1u0ExyUzplGCrlEwmXSJT0U117GPqCZFSq1R1v0DOoVCqT3L0Je3xsgVZ69OaLpLaQfCML4wqJjkQjjDtvAMq+boROXwy1RgsD6eYnuHZePukIlXyUoNfrTY/PuGsTegLLQS2FIR5AvAYGvwqG0ZqWWnFown/FEbggHwmN6fIJw2hle68zrpMU6ppQmuItBq3O3wRNVUH7B7hX+F4Gt3zlltJucAf/z8VRMehRzHAaicWDR2Kh0zPwHbMckSHP4JUnJ4n28NB3MM73LxjzrJfQBwz7HUbPXYAJb8TDbfQyRD7nh+eGKjCWZOEwbzh6hGN+fCYmr9yPV94/hH42gfCwce98cKc/fom0cEcMX3ocX8WHmwb3fylWtPPgAZlN8AyaKfSgkL/DxzUUEbHZmLMyWfz39OtrsPjxVTiycKgYfG9uibA2+mAxJn9w5HbLjeDBewMevDtYvmpLuacTzproKqy7EobJeFPIG0Ghb5wG1gJPl75C3xpP69+QTWpxmrXRG9euVuKp7TVCV32ShDpaDzk2GBwfvC4aY8QIs/FnMVKhgMLVX9YZSsSuLRJniR5v4bJBI2IIOIcnua8s2bQMczwxOKZ4LeW44vWUYys9+jFTX4ViLrSFfxZxpq3eh34W92mlb5XJ+J2vmRsU9gPpHwOC6TyDP3cMMt7OK1S07/qn9NeF0u1CX1XQJvSsBF8ohryAhB2LuLVL42eNojFeDkCYxxzxNZWgwuLfeIv77dBcpeFLZeMJZQni/7FBnwi1O+NVWh18h/xE9P+8sEx8WNh49nZe4nTxv9vaLHH9Dybm7wQPjf8hoLKy8rZFrTthPDS+rbUOscVCN+FiVjRo2bEeag7jtZQKWbE++tT4wnUvYcmJm6g/Fo20r4nllGxFUF4b/pWTiPBTQPlHMci7RQRJvx9un11AQaI/Ei1tZeO367DmzTegJ7VkxWyEF/1baiPsmeOK6BMN0G6egS3qm9jo/jTymqihaT8iP6MrWvOxOq0MKIrB7I05QMH7UMxJJS55HJuO1aMsxQe7sk9juaMDTpVrkeQ5AIVKLWba26BEqYJuXxDSSsuhyd6A2EzpwXpsfP722dLJt3V4dEk2UsKcJZ346jyX3VB3MD53wwqUSF9ACRaeTw/zEp+caAvjt3iuwWU+MSgRtvofSHCbiwZSM7wmiL5CZseT0RH4m4ZoZ0sWPi1spB63EPOFCkoy/uN8LZwHyX1JNp9UYrrdZChVGoQMsDffJ3AXj9QL45O9cIOONy+qMHLbWRyOn4VWbrjRgMd++XGPjPdOO4Ol68KEeiU3DCE5ZuNTvAJAE4oGzkDg1irET5SMP7XWFYXnuEGCga7ryvjdJysxeMoKqDRqaXqrtbLxaiRMt0VZRRfT3vRWSBwTKnD9UgYcnANEJ0bBVk9E/FYB5+HPyv+0YB71HTzqV5J6vUFcOykkGW5/bejC85WoOxol+kXt3QqvZflyI7DNbynGT3gCiinBQl8vG8+YMtZJXKMmm7szfld2Mc4UpcKO+ip+HUEvocpkvJrO7frZiPtUVPZytTd6vq9g8vwd4oH+1N0JHmjjH2Q8dPz/Gbgs0dvlqzdiRDvH8wevHau3EPuBj2AjV2UNzSID4DKHVZNfa4I+qlw56Mtkuq9wpqYep7f6iMoEf7hNGYuVxIjbHM+1rI6pngltN3D5SJg8GX6Mn/5sMzRykwnXziN/x+twXH0IGX+SJg1nRcbSj4QWUQLiDInbOUsyloIovxMkgethnC4yOGXkuhinjUAjcr/YiwXzFmGpF10/wh3+xzrslnR0/LfliHt3ovzcLK7wjyqCObm0hBJbZsUjNTgOfv4vSv0p6xKlJcaNAqyPOYANoePx8lPUNnUVDpw1UIr/JWaMH2Ua4/cbMlHPNSaCITsUoz9Mx0frn8cLj0vtb+/UovHEKriMGCRd84edqLrSirO1DR0cX4XqmnREDXPCQPneijeTkFNCJEWjRXVuAqa/moB1ixzgYMv32YbicjURmRDY97c1PU/gLqUps2P0MOLtMPCRRJRzp9bviHh2PGWCXHc3ZoPMBXgDgPkAb/4wJ+DNAMELGMQNeGOA+QFvCjFH6NrxEmfg2mC71NkS3xHxzCl4s8GSV5ihEpkm7wOYsk3iGrwhwXyDN6OYc3Bt0Zh658W8iNUpe6GzeCGGnAj8YmUajnAnImJccxQpOaPlKywZ4YP1B8/I9ctbogbJKTrXITlNZ8czTynd4oVBC5KRWaiERk3Rr66CvnATXrUPRGpumSjOcvrONUpO4XkTLH6aLd7bSTo5WkS6WoOcOA/86L3daG2jSUroXcQzeuJ4Yr7GCrcAMWCudDML5mo3M2FjxVvCJVH5ZlbM1W+rOT5VS8o5HI30wc9pAj/vF4aSZg7a7hxPEU/Mmivogl0ziGFzJZ1ZNlfTmWmbHX8O+yePwbLln0Ivb3B2BPOw9o7PEkVn5mTSotC545mdp69whkNAHDmeIpwdb7l0E2HlwrTZ8RpRnQ/qb4PAtGKUGx1vIUZY3/HNF1GwbjxsHYeDiDvhKuoyE+E9dAGOCStbRP2H9x65BsQb+lwH4n3I8EKpvfZoLN4d6oKoUta/gTJ1Pp5wcsG0w71zPFcO0JSB4KD58E2TJ2LNIYROdYbCxa9dGcUMHfb4jYPDuHcop5G2pJVJ0/BW+Cpk1rN2WhBty4hH00G4j/HE28lF9KGSkBflAt8PdqLiP6Tkh9+R47kmVV17GJFOAzAxeC9OnlZRROtRnDQTDlNW4sCpCugK2kc8TwbdvmD0t5mE1RllqBBEPhdxU23gHnscbYZOIt4q6GSpv7/QyVL/PeKeZPVWwUPH3xXuX8c/xH0A4H+sQgIhfdYH4gAAAABJRU5ErkJggg==";function a1(e){return ee.jsx(SD,{anchorEl:e.anchorEl,open:e.open,style:e.marginStyle,children:ee.jsx(WA,{in:e.open,children:ee.jsxs(nx,{className:"helpContainer",children:[ee.jsx("div",{onClick:e.onClose,className:"closeX",children:ee.jsx("span",{className:"fa fa-window-close"})}),ee.jsxs("div",{children:[ee.jsx(Hn,{variant:"h6",component:"h2",children:"Toolbar Buttons"}),ee.jsxs(QA,{children:[ee.jsxs(ea,{children:[ee.jsx("span",{className:"fa fa-lock"}),ee.jsx(Ll,{primary:"Toggle Sync Views"})]}),ee.jsxs(ea,{children:[ee.jsx("span",{className:"fa fa-book"}),ee.jsx(Ll,{primary:"Toggle Book Mode"})]}),ee.jsxs(ea,{children:[ee.jsx("span",{className:"fa fa-code"}),ee.jsx(Ll,{primary:"Toggle XML Mode"})]}),ee.jsxs(ea,{children:[ee.jsxs("span",{className:"horizontal-buttons",children:[ee.jsx(Vh,{}),ee.jsx(Uh,{})]}),ee.jsx(Ll,{primary:"Go Forward / Back"})]}),ee.jsxs(ea,{children:[ee.jsx("span",{className:"fa fa-hand-point-right"}),ee.jsx(Ll,{primary:"Jump to folio"})]}),ee.jsxs("div",{className:"readingGuide",children:[ee.jsx(Hn,{variant:"h6",component:"h2",children:"Reading Guide"}),ee.jsxs("table",{children:[ee.jsx("thead",{children:ee.jsxs("tr",{children:[ee.jsx("th",{children:ee.jsx(Hn,{variant:"overline",component:"span",children:"Syntax"})}),ee.jsx("th",{children:ee.jsx(Hn,{variant:"overline",component:"span",children:"Meaning"})})]})}),ee.jsxs("tbody",{children:[ee.jsxs("tr",{children:[ee.jsx("td",{children:ee.jsx("img",{src:Fne,alt:"howtouse-ups"})}),ee.jsx("td",{children:ee.jsx(Hn,{children:"Text is under the paper strip"})})]}),ee.jsxs("tr",{children:[ee.jsx("td",{children:ee.jsx("img",{src:jne,alt:"howtouse-curly"})}),ee.jsx("td",{children:ee.jsx(Hn,{children:"Expanded version implied by abbreviation marks"})})]}),ee.jsxs("tr",{children:[ee.jsx("td",{children:ee.jsx("img",{src:Nne,alt:"howtouse-square"})}),ee.jsx("td",{children:ee.jsx(Hn,{children:"Editorial interventions and corrections"})})]}),ee.jsxs("tr",{children:[ee.jsx("td",{children:ee.jsx("img",{src:Lne,alt:"howtouse-asterisk"})}),ee.jsx("td",{children:ee.jsx(Hn,{children:"Editorial Comments"})})]})]})]})]})]}),ee.jsxs(Hn,{children:["See ",ee.jsx("a",{href:"#/content/how-to-use",children:"How to Use"})," for more information."]})]})]})})})}function Bne(e){const[n,t]=z.useState(""),r=!!e.anchorEl,i=r?`${e.side}_jumpInput`:void 0,a=p=>{p.preventDefault();const m=new FormData(p.target).get("folioID");e.submitHandler(m,e.side),e.blurHandler(),t("")},h=p=>{t(p.target.value)},c=z.useRef(null);return z.useEffect(()=>{c.current&&c.current.focus()},[c,r]),ee.jsx(eD,{id:i,open:r,anchorEl:e.anchorEl,onClose:e.blurHandler,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:ee.jsx("form",{onSubmit:a,children:ee.jsx("input",{id:i,name:"folioID",onBlur:e.blurHandler,onChange:h,placeholder:"Page Name (e.g. '3r')",ref:c,type:"text",value:n})})})}const Hne={anchorEl:null};function zne(e){var n;const[t,r]=z.useState({...Hne}),[i,a]=z.useState(!1),[h,c]=z.useState(!1),p=z.useRef(null),m=z.useRef(null),g=q=>{r({anchorEl:null})},b=q=>{q.target.value===void 0||q.target.value===0||e.documentViewActions.changeTranscriptionType(e.side,q.target.value)},S=q=>{e.documentViewActions.changeTranscriptionType(e.side,"g")},T=q=>{a(!i)},_=q=>{c(!h)},k=q=>{e.documentView.bookMode||(e.documentViewActions.changeCurrentFolio(e.documentView.left.iiifShortID,"left",e.documentView.left.transcriptionType),e.documentViewActions.changeCurrentFolio(e.documentView.left.nextFolioShortID,"right",e.documentView.left.transcriptionType)),e.documentViewActions.setBookMode(e.documentView.left.iiifShortID,!e.documentView.bookMode)},C=q=>{e.documentViewActions.setXMLMode(e.side,!e.documentView[e.side].isXMLMode)},P=q=>{if(e.documentView.bookMode){k();return}e.documentView.linkedMode===!1&&(e.side==="left"?e.documentViewActions.changeCurrentFolio(e.documentView.left.iiifShortID,"right",e.documentView.right.transcriptionType):e.documentViewActions.changeCurrentFolio(e.documentView.right.iiifShortID,"left",e.documentView.left.transcriptionType)),e.documentViewActions.setLinkedMode(!e.documentView.linkedMode)},A=q=>{const{documentViewActions:ge,documentView:De,side:$}=e;if(typeof q.currentTarget.dataset.id>"u"||q.currentTarget.dataset.id.length===0)return;const Qe=q.currentTarget.dataset.id;ge.changeCurrentFolio(Qe,$,De[$].transcriptionType)},N=q=>{r({anchorEl:q.currentTarget})},{side:W,document:Z,documentView:H,documentViewActions:ie,onFilterChange:ne}=e;if(Ine("md"),!H)return ee.jsx("div",{children:"Unknown Transcription Type"});const ae=H[W].transcriptionType==="f"?{color:"white"}:{color:"black"},Se=H[W].transcriptionType==="f"?"dark":"light",me=H[W].transcriptionType==="glossary"?{visibility:"hidden"}:{visibility:"visible"},fe={display:"flex"};let he=H.linkedMode?"fa fa-lock":"fa fa-lock-open";H.bookMode||(he+=" active");const Ae=H[W].transcriptionType==="f",Le=H.bookMode?"fa fa-book active":"fa fa-book",ve=H[W].isXMLMode?"fa fa-code active":"fa fa-code",de=(n=Z.folioIndex[H[W].iiifShortID])==null?void 0:n.name,Ee=Ae?{color:"white"}:{color:"black"},be=W==="left"?{marginRight:"55px"}:{marginRight:"15px"};return ee.jsxs(ee.Fragment,{children:[ee.jsx("div",{className:"navigationComponent",children:ee.jsxs("div",{id:"navigation-row",className:"navigationRow",children:[H[W].transcriptionType!=="glossary"?ee.jsxs("div",{id:"tool-bar-buttons",className:"breadcrumbs",style:me,children:[ee.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[ee.jsx("span",{className:"fas fa-th",style:{cursor:H[W].transcriptionType!=="g"?"pointer":"default",padding:"0 15px"},title:H[W].transcriptionType!=="g"&&"Return to Grid View",onClick:H[W].transcriptionType!=="g"&&S}),ee.jsx("span",{title:"Toggle coordination of views",onClick:P,className:he}),ee.jsx("span",{title:"Toggle book mode",onClick:k,className:Le}),ee.jsx("span",{title:"Toggle XML mode",onClick:C,style:{paddingRight:"15px"},className:Ae?"invisible":ve}),ee.jsx("span",{title:"Go back",onClick:A,"data-id":H[W].previousFolioShortID,className:H[W].hasPrevious?"arrow":"arrow disabled",children:ee.jsx(Vh,{})}),ee.jsx("span",{title:"Go forward",onClick:A,"data-id":H[W].nextFolioShortID,className:H[W].hasNext?"arrow":"arrow disabled",children:ee.jsx(Uh,{})})]}),"",ee.jsxs("div",{title:`${e.documentName||Z.documentName}/${de}`,style:{display:"flex",overflowX:"hidden",justifyContent:"flex-end"},children:[ee.jsx("span",{children:e.documentName||Z.documentName}),ee.jsx("span",{children:" / "}),ee.jsxs("div",{onClick:N,className:"folioName",style:{flexShrink:"0",minWidth:"40px"},children:[de,ee.jsx("span",{style:Ee,className:"fa fa-hand-point-right"})]})]}),ee.jsx(Bne,{side:W,anchorEl:t.anchorEl,submitHandler:ie.jumpToFolio,blurHandler:g})]}):ee.jsx(o1,{onFilterChange:ne,value:e.value}),ee.jsxs("div",{id:"doc-type-help",style:fe,ref:p,children:[ee.jsxs(vy,{className:Se,style:{...ae,marginRight:15,fontSize:"max(16px, 1rem)"},value:H[W].transcriptionType,id:"doc-type",onClick:b,children:[Object.keys(e.document.folios.find(q=>q.id===e.documentView[e.side].iiifShortID).annotationURLs).map(q=>ee.jsx(qo,{value:q,children:e.document.variorum?e.document.transcriptionTypes[e.document.folios.find(ge=>ge.id===e.documentView[e.side].iiifShortID).doc_id][q]:e.document.transcriptionTypes[q]},q)),ee.jsx(qo,{value:"f",children:Xl.transcriptionTypeLabels.f},"f"),e.glossary&&ee.jsx(qo,{value:"glossary",children:Xl.transcriptionTypeLabels.glossary},"glossary")]}),ee.jsx("span",{title:"Toggle folio help",onClick:T,className:"helpIcon",children:ee.jsx("i",{className:"fas fa-question-circle"})}),ee.jsx(a1,{marginStyle:be,anchorEl:p.current,open:i,onClose:T})]})]})}),ee.jsx("div",{className:"navigationComponentNarrow",children:ee.jsxs("div",{id:"navigation-row",className:"navigationRowNarrow",children:[H[W].transcriptionType!=="glossary"?ee.jsxs("div",{id:"tool-bar-buttons",className:"breadcrumbsNarrow",style:me,children:[ee.jsx("span",{className:"fas fa-th",style:{cursor:H[W].transcriptionType!=="g"?"pointer":"default",padding:"0 15px"},title:H[W].transcriptionType!=="g"&&"Return to Grid View",onClick:H[W].transcriptionType!=="g"&&S}),"",ee.jsx("span",{title:"Toggle XML mode",onClick:C,className:Ae?"invisible":ve}),Ae&&ee.jsxs(ee.Fragment,{children:[ee.jsxs("span",{title:"Go back",onClick:A,"data-id":H[W].previousFolioShortID,className:H[W].hasPrevious?"arrow":"arrow disabled",children:[" ",ee.jsx(Vh,{})," "]}),ee.jsxs("span",{title:"Go forward",onClick:A,"data-id":H[W].nextFolioShortID,className:H[W].hasNext?"arrow":"arrow disabled",children:[" ",ee.jsx(Uh,{})]})]})]}):ee.jsx(o1,{onFilterChange:ne,value:e.value}),ee.jsxs("div",{id:"doc-type-help",style:fe,ref:m,children:[ee.jsxs(vy,{className:Se,style:{...ae,marginRight:15,fontSize:"max(16px, 1rem)"},value:H[W].transcriptionType,id:"doc-type",onClick:b,children:[Object.keys(e.document.folios.find(q=>q.id===e.documentView[e.side].iiifShortID).annotationURLs).map(q=>ee.jsx(qo,{value:q,title:q,children:e.document.variorum?e.document.transcriptionTypes[e.document.folios.find(ge=>ge.id===e.documentView[e.side].iiifShortID).doc_id][q]:e.document.transcriptionTypes[q]},q)),ee.jsx(qo,{value:"f",children:Xl.transcriptionTypeLabels.f},"f"),e.glossary&&ee.jsx(qo,{value:"glossary",children:Xl.transcriptionTypeLabels.glossary},"glossary")]}),ee.jsx("span",{title:"Toggle folio help",onClick:_,className:"helpIcon",children:ee.jsx("i",{className:"fas fa-question-circle"})}),ee.jsx(a1,{marginStyle:be,anchorEl:m.current,open:h,onClose:_})]})]})})]})}function Vne(e){return{document:e.document,glossary:!!e.glossary.URL}}const ja=Yr(Vne)(zne);class Une extends z.Component{constructor(){super(),Mr(this,"onFilterChange",n=>{const t=n.target.value;this.setState({...this.state,filterTerm:t})}),this.state={filterTerm:""}}renderGlossary(){const{glossary:n}=this.props.glossary,t=this.state.filterTerm.toLowerCase(),r=Object.values(n.entries),i=(c,p,m)=>{const g=c.split(m);for(const b of g)if(b.startsWith(p))return!0;return!1},a=[];let h=0;for(const c of r){if(t.length===0&&c.headWord[0]===yu[h]){const b=`alpha-${h}`;a.push(ee.jsxs(Hn,{variant:"h4",id:b,children:["",yu[h]," ",""]},`gloss-heading-${yu[h]}`)),h++}const p=c.headWord.toLowerCase(),m=c.alternateSpellings.toLowerCase(),g=c.modernSpelling.toLowerCase();if(t.length===0||t.length!==0&&i(p,t," ")||t.length!==0&&i(g,t," ")||t.length!==0&&i(m,t,", ")){const b=Wne(c),S=b[b.length-1].endsWith("."),T=c.alternateSpellings?`, ${c.alternateSpellings}`:"",_=c.meanings[0].partOfSpeech,k=_?`${_}:`:"",C=_?",":":",P=c.modernSpelling?` (mod. ${c.modernSpelling})`:"",A=S?"":",",N=c.seeAlso?`${A} see also <span>&#8594;</span>${c.seeAlso} `:"",W=c.synonym?`, syn. <span>&#8594;</span>${c.synonym}`:"",Z=c.antonym?`, ant. <span>&#8594;</span>${c.antonym}`:"";a.push(ee.jsxs(Hn,{gutterBottom:!0,children:[ee.jsx("u",{children:c.headWord}),T,P,C," ",k," ",b.map(H=>Ir(H)),Ir(N),Ir(W),Ir(Z)]},`gloss-${c.headWord}`))}}return a}render(){return this.props.glossary.loaded?ee.jsxs("div",{id:"glossaryView",style:{position:"relative",overflow:"auto"},children:[ee.jsx(ja,{side:this.props.side,onFilterChange:this.onFilterChange,value:this.state.filterTerm,documentView:this.props.documentView,documentViewActions:this.props.documentViewActions}),ee.jsx("div",{id:"glossaryViewInner",children:ee.jsxs("div",{id:"glossaryContent",children:[ee.jsx(Hn,{variant:"h2",className:"title",children:"Glossary"}),this.props.glossary.glossary.title&&ee.jsx("div",{className:"subtitle MuiTypography-root MuiTypography-body1",children:ee.jsx(Ry,{children:this.props.glossary.glossary.title})}),ee.jsx("div",{className:"cite-instructions",children:this.props.glossary.glossary.citation&&ee.jsxs(ee.Fragment,{children:[ee.jsx(Hn,{className:"cite-header",children:"How to Cite"}),ee.jsx("div",{className:"MuiTypography-root MuiTypography-body1",children:ee.jsx(Ry,{children:this.props.glossary.glossary.citation})})]})}),this.renderGlossary()]})})]}):null}}function Wne(e){const n=[];for(let t=0;t<e.meanings.length;t++){const r=e.meanings[t],i=r.references?` [${r.references}]`:"",a=e.meanings.length>1?`${t+1}. `:"",h=t<e.meanings.length-1?" ":"";n.push(`${a}${r.meaning}${i}${h}`)}return n}function Gne(e){return{glossary:e.glossary}}const qne=Yr(Gne)(Une);class Dy extends z.Component{constructor(n){super(n),this.scrollListener=this.scrollListener.bind(this),this.eventListenerOptions=this.eventListenerOptions.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this)}componentDidMount(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}componentDidUpdate(){if(this.props.isReverse&&this.loadMore){const n=this.getParentElement(this.scrollComponent);n.scrollTop=n.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}componentWillUnmount(){this.detachScrollListener(),this.detachMousewheelListener()}isPassiveSupported(){let n=!1;const t={get passive(){n=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch{}return n}eventListenerOptions(){let n=this.props.useCapture;return this.isPassiveSupported()?n={useCapture:this.props.useCapture,passive:!0}:n={passive:!1},n}setDefaultLoader(n){this.defaultLoader=n}detachMousewheelListener(){let n=window;this.props.useWindow===!1&&(n=this.scrollComponent.parentNode),n.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}detachScrollListener(){let n=window;this.props.useWindow===!1&&(n=this.getParentElement(this.scrollComponent)),n.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),n.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}getParentElement(n){return(this.props.getScrollParent&&this.props.getScrollParent())??(n&&n.parentNode)}filterProps(n){return n}attachScrollListener(){const n=this.getParentElement(this.scrollComponent);if(!this.props.hasMore||!n)return;let t=window;this.props.useWindow===!1&&(t=n),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}mousewheelListener(n){n.deltaY===1&&!this.isPassiveSupported()&&n.preventDefault()}scrollListener(){const n=this.scrollComponent,t=window,r=this.getParentElement(n);let i;if(this.props.useWindow){const a=document.documentElement||document.body.parentNode||document.body,h=t.pageYOffset!==void 0?t.pageYOffset:a.scrollTop;this.props.isReverse?i=h:i=this.calculateOffset(n,h)}else this.props.isReverse?i=r.scrollTop:i=n.scrollHeight-r.scrollTop-r.clientHeight;i<Number(this.props.threshold)&&n&&n.offsetParent!==null&&(this.detachScrollListener(),this.beforeScrollHeight=r.scrollHeight,this.beforeScrollTop=r.scrollTop,typeof this.props.loadMore=="function"&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}calculateOffset(n,t){return n?this.calculateTopPosition(n)+(n.offsetHeight-t-window.innerHeight):0}calculateTopPosition(n){return n?n.offsetTop+this.calculateTopPosition(n.offsetParent):0}render(){const n=this.filterProps(this.props),{children:t,element:r,hasMore:i,initialLoad:a,isReverse:h,loader:c,loadMore:p,pageStart:m,ref:g,threshold:b,useCapture:S,useWindow:T,getScrollParent:_,...k}=n;k.ref=P=>{this.scrollComponent=P,g&&g(P)};const C=[t];return i&&(c?h?C.unshift(c):C.push(c):this.defaultLoader&&(h?C.unshift(this.defaultLoader):C.push(this.defaultLoader))),dt.createElement(r,k,C)}}Mr(Dy,"propTypes",{children:ut.node.isRequired,element:ut.node,hasMore:ut.bool,initialLoad:ut.bool,isReverse:ut.bool,loader:ut.node,loadMore:ut.func.isRequired,pageStart:ut.number,ref:ut.func,getScrollParent:ut.func,threshold:ut.number,useCapture:ut.bool,useWindow:ut.bool}),Mr(Dy,"defaultProps",{element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null});class $ne extends dt.Component{constructor(n,t){super(n,t),Mr(this,"onJumpToChange",r=>{const i=r.target.value;this.setState({...this.state,jumpToBuffer:i})}),Mr(this,"onJumpTo",r=>{const{jumpToBuffer:i}=this.state,{side:a,document:h,documentViewActions:c}=this.props;if(r.preventDefault(),h.folioByName[i]){const p=h.folioByName[i];p&&c.changeCurrentFolio(p.id,a)}this.setState({...this.state,jumpToBuffer:""})}),Mr(this,"onSelectDoc",r=>{if(!r.target.value||r.target.value==0)return;r.target.value&&r.target.value!=="none"?this.setState({...this.state,currentDoc:r.target.value}):this.setState({...this.state,currentDoc:null});const{documentView:i}=this.props,a=i[this.props.side].iiifShortID,h=this.generateThumbs(a,r.target.value!=="none"?this.props.document.folios.filter(m=>m.doc_id===r.target.value):this.props.document.folios),c=h.length>this.loadIncrement?this.loadIncrement:h.length,p=h.slice(0,c);this.setState({thumbs:h,visibleThumbs:p})}),Mr(this,"onClickThumb",(r,i)=>{this.props.documentViewActions.changeCurrentFolio(r,this.props.side,"f")}),Mr(this,"moreThumbs",()=>{const{thumbs:r}=this.state;let{visibleThumbs:i}=this.state;const a=i.length+this.loadIncrement;r.length>=a?i=r.slice(0,a):i=r,this.setState({visibleThumbs:i})}),this.generateThumbs=this.generateThumbs.bind(this),this.loadIncrement=10,this.state={jumpToBuffer:"",thumbs:"",visibleThumbs:[],currentDoc:n.selectedDoc||null}}componentDidUpdate(n){const{documentView:t}=this.props,r=t[this.props.side].iiifShortID,i=this.props.documentView[this.props.side].iiifShortID;if(r!==i){const a=this.generateThumbs(i,this.state.currentDoc?this.props.document.folios.filter(p=>p.doc_id===this.state.currentDoc):this.props.document.folios),h=a.length>this.loadIncrement?this.loadIncrement:a.length,c=a.slice(0,h);this.setState({thumbs:a,visibleThumbs:c})}}renderToolbar(){return ee.jsxs("div",{className:"imageGridToolbar",children:[ee.jsx("span",{className:"fas fa-th",style:{paddingLeft:"15px"}}),this.props.document.variorum?this.renderDocSelect():ee.jsx("div",{className:"doc-select",style:{marginTop:"5px"},children:this.props.document.documentName}),ee.jsx("div",{className:"jump-to",children:ee.jsxs("form",{onSubmit:this.onJumpTo,children:[ee.jsx("span",{children:"Jump to: "}),ee.jsx("input",{id:"jump-to-input",placeholder:"Page Name (e.g. '3r')",onChange:this.onJumpToChange,value:this.state.jumpToBuffer}),ee.jsx("button",{id:"jump-to-button",onClick:this.onJumpTo,children:ee.jsx("span",{style:{color:"black"},className:"fa fa-hand-point-right"})})]})})]})}renderDocSelect(){return ee.jsx("div",{className:"doc-select",children:ee.jsx(vy,{id:"doc-filter",className:"dark",style:{color:"white",fontSize:"max(16px, 1rem)"},value:this.state.currentDoc||Object.keys(this.props.document.derivativeNames)[0],onClick:this.onSelectDoc,children:Object.keys(this.props.document.derivativeNames).map(n=>ee.jsx(qo,{value:n,children:this.props.document.derivativeNames[n]},n))})})}componentDidMount(){const{documentView:n}=this.props,t=n[this.props.side].iiifShortID,r=this.generateThumbs(t,this.props.document.variorum&&this.state.currentDoc?this.props.document.folios.filter(h=>h.doc_id===this.state.currentDoc):this.props.document.folios),i=r.length>this.loadIncrement?this.loadIncrement:r.length,a=r.slice(0,i);this.setState({thumbs:r,visibleThumbs:a})}generateThumbs(n,t){return t.map((r,i)=>ee.jsxs("li",{className:"thumbnail",children:[ee.jsx("figure",{children:ee.jsx("a",{id:r.id,onClick:this.onClickThumb.bind(this,r.id),children:ee.jsx("img",{src:r.image_thumbnail_url,alt:r.name,style:{maxWidth:"130px",maxHeight:"130px"},onError:({currentTarget:a})=>{a.onerror=null,r.image_zoom_url&&a.src!==`${r.image_zoom_url.slice(0,-9)}full/full/0/default.jpg`&&(a.src=`${r.image_zoom_url.slice(0,-9)}full/full/0/default.jpg`)}})})}),ee.jsx("figcaption",{className:"thumbnail-caption",children:r.name})]},`thumb-${i}`))}hasMore(){return this.state.visibleThumbs.length!==this.state.thumbs.length}render(){let n="imageGridComponent";n=`${n} ${this.props.side}`;let{visibleThumbs:t}=this.state;return t.constructor.toString().includes("Array")||(t=[]),ee.jsxs("div",{className:n,children:[this.renderToolbar(),ee.jsx(Dy,{element:"ul",loadMore:this.moreThumbs,hasMore:this.hasMore(),useWindow:!1,children:t})]})}}function Zne(e){return{document:e.document}}const Xne=Yr(Zne)($ne);var e2={exports:{}};(function(e,n){(function(t,r){e.exports=r()})(zn,function(){var t=Object.defineProperty,r=(s,u,o)=>u in s?t(s,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[u]=o,i=(s,u,o)=>(r(s,typeof u!="symbol"?u+"":u,o),o),a,h,c,p,m,g,b,S={},T=[],_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function k(s,u){for(var o in u)s[o]=u[o];return s}function C(s){var u=s.parentNode;u&&u.removeChild(s)}function P(s,u,o){var l,d,f,v={};for(f in u)f=="key"?l=u[f]:f=="ref"?d=u[f]:v[f]=u[f];if(arguments.length>2&&(v.children=arguments.length>3?a.call(arguments,2):o),typeof s=="function"&&s.defaultProps!=null)for(f in s.defaultProps)v[f]===void 0&&(v[f]=s.defaultProps[f]);return A(s,v,l,d,null)}function A(s,u,o,l,d){var f={type:s,props:u,key:o,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:d??++c};return d==null&&h.vnode!=null&&h.vnode(f),f}function N(){return{current:null}}function W(s){return s.children}function Z(s,u){this.props=s,this.context=u}function H(s,u){if(u==null)return s.__?H(s.__,s.__.__k.indexOf(s)+1):null;for(var o;u<s.__k.length;u++)if((o=s.__k[u])!=null&&o.__e!=null)return o.__e;return typeof s.type=="function"?H(s):null}function ie(s){var u,o;if((s=s.__)!=null&&s.__c!=null){for(s.__e=s.__c.base=null,u=0;u<s.__k.length;u++)if((o=s.__k[u])!=null&&o.__e!=null){s.__e=s.__c.base=o.__e;break}return ie(s)}}function ne(s){(!s.__d&&(s.__d=!0)&&p.push(s)&&!ae.__r++||g!==h.debounceRendering)&&((g=h.debounceRendering)||m)(ae)}function ae(){for(var s;ae.__r=p.length;)s=p.sort(function(u,o){return u.__v.__b-o.__v.__b}),p=[],s.some(function(u){var o,l,d,f,v,y;u.__d&&(v=(f=(o=u).__v).__e,(y=o.__P)&&(l=[],(d=k({},f)).__v=f.__v+1,be(y,f,d,o.__n,y.ownerSVGElement!==void 0,f.__h!=null?[v]:null,l,v??H(f),f.__h),q(l,f),f.__e!=v&&ie(f)))})}function Se(s,u,o,l,d,f,v,y,w,x){var E,R,O,F,G,re,J,se=l&&l.__k||T,D=se.length;for(o.__k=[],E=0;E<u.length;E++)if((F=o.__k[E]=(F=u[E])==null||typeof F=="boolean"?null:typeof F=="string"||typeof F=="number"||typeof F=="bigint"?A(null,F,null,null,F):Array.isArray(F)?A(W,{children:F},null,null,null):F.__b>0?A(F.type,F.props,F.key,null,F.__v):F)!=null){if(F.__=o,F.__b=o.__b+1,(O=se[E])===null||O&&F.key==O.key&&F.type===O.type)se[E]=void 0;else for(R=0;R<D;R++){if((O=se[R])&&F.key==O.key&&F.type===O.type){se[R]=void 0;break}O=null}be(s,F,O=O||S,d,f,v,y,w,x),G=F.__e,(R=F.ref)&&O.ref!=R&&(J||(J=[]),O.ref&&J.push(O.ref,null,F),J.push(R,F.__c||G,F)),G!=null?(re==null&&(re=G),typeof F.type=="function"&&F.__k===O.__k?F.__d=w=me(F,w,s):w=he(s,F,O,se,G,w),typeof o.type=="function"&&(o.__d=w)):w&&O.__e==w&&w.parentNode!=s&&(w=H(O))}for(o.__e=re,E=D;E--;)se[E]!=null&&(typeof o.type=="function"&&se[E].__e!=null&&se[E].__e==o.__d&&(o.__d=H(l,E+1)),$(se[E],se[E]));if(J)for(E=0;E<J.length;E++)De(J[E],J[++E],J[++E])}function me(s,u,o){for(var l,d=s.__k,f=0;d&&f<d.length;f++)(l=d[f])&&(l.__=s,u=typeof l.type=="function"?me(l,u,o):he(o,l,l,d,l.__e,u));return u}function fe(s,u){return u=u||[],s==null||typeof s=="boolean"||(Array.isArray(s)?s.some(function(o){fe(o,u)}):u.push(s)),u}function he(s,u,o,l,d,f){var v,y,w;if(u.__d!==void 0)v=u.__d,u.__d=void 0;else if(o==null||d!=f||d.parentNode==null)e:if(f==null||f.parentNode!==s)s.appendChild(d),v=null;else{for(y=f,w=0;(y=y.nextSibling)&&w<l.length;w+=2)if(y==d)break e;s.insertBefore(d,f),v=f}return v!==void 0?v:d.nextSibling}function Ae(s,u,o,l,d){var f;for(f in o)f==="children"||f==="key"||f in u||ve(s,f,null,o[f],l);for(f in u)d&&typeof u[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||o[f]===u[f]||ve(s,f,u[f],o[f],l)}function Le(s,u,o){u[0]==="-"?s.setProperty(u,o):s[u]=o==null?"":typeof o!="number"||_.test(u)?o:o+"px"}function ve(s,u,o,l,d){var f;e:if(u==="style")if(typeof o=="string")s.style.cssText=o;else{if(typeof l=="string"&&(s.style.cssText=l=""),l)for(u in l)o&&u in o||Le(s.style,u,"");if(o)for(u in o)l&&o[u]===l[u]||Le(s.style,u,o[u])}else if(u[0]==="o"&&u[1]==="n")f=u!==(u=u.replace(/Capture$/,"")),u=u.toLowerCase()in s?u.toLowerCase().slice(2):u.slice(2),s.l||(s.l={}),s.l[u+f]=o,o?l||s.addEventListener(u,f?Ee:de,f):s.removeEventListener(u,f?Ee:de,f);else if(u!=="dangerouslySetInnerHTML"){if(d)u=u.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(u!=="href"&&u!=="list"&&u!=="form"&&u!=="tabIndex"&&u!=="download"&&u in s)try{s[u]=o??"";break e}catch{}typeof o=="function"||(o!=null&&(o!==!1||u[0]==="a"&&u[1]==="r")?s.setAttribute(u,o):s.removeAttribute(u))}}function de(s){this.l[s.type+!1](h.event?h.event(s):s)}function Ee(s){this.l[s.type+!0](h.event?h.event(s):s)}function be(s,u,o,l,d,f,v,y,w){var x,E,R,O,F,G,re,J,se,D,te,ce=u.type;if(u.constructor!==void 0)return null;o.__h!=null&&(w=o.__h,y=u.__e=o.__e,u.__h=null,f=[y]),(x=h.__b)&&x(u);try{e:if(typeof ce=="function"){if(J=u.props,se=(x=ce.contextType)&&l[x.__c],D=x?se?se.props.value:x.__:l,o.__c?re=(E=u.__c=o.__c).__=E.__E:("prototype"in ce&&ce.prototype.render?u.__c=E=new ce(J,D):(u.__c=E=new Z(J,D),E.constructor=ce,E.render=Qe),se&&se.sub(E),E.props=J,E.state||(E.state={}),E.context=D,E.__n=l,R=E.__d=!0,E.__h=[]),E.__s==null&&(E.__s=E.state),ce.getDerivedStateFromProps!=null&&(E.__s==E.state&&(E.__s=k({},E.__s)),k(E.__s,ce.getDerivedStateFromProps(J,E.__s))),O=E.props,F=E.state,R)ce.getDerivedStateFromProps==null&&E.componentWillMount!=null&&E.componentWillMount(),E.componentDidMount!=null&&E.__h.push(E.componentDidMount);else{if(ce.getDerivedStateFromProps==null&&J!==O&&E.componentWillReceiveProps!=null&&E.componentWillReceiveProps(J,D),!E.__e&&E.shouldComponentUpdate!=null&&E.shouldComponentUpdate(J,E.__s,D)===!1||u.__v===o.__v){E.props=J,E.state=E.__s,u.__v!==o.__v&&(E.__d=!1),E.__v=u,u.__e=o.__e,u.__k=o.__k,u.__k.forEach(function(ue){ue&&(ue.__=u)}),E.__h.length&&v.push(E);break e}E.componentWillUpdate!=null&&E.componentWillUpdate(J,E.__s,D),E.componentDidUpdate!=null&&E.__h.push(function(){E.componentDidUpdate(O,F,G)})}E.context=D,E.props=J,E.state=E.__s,(x=h.__r)&&x(u),E.__d=!1,E.__v=u,E.__P=s,x=E.render(E.props,E.state,E.context),E.state=E.__s,E.getChildContext!=null&&(l=k(k({},l),E.getChildContext())),R||E.getSnapshotBeforeUpdate==null||(G=E.getSnapshotBeforeUpdate(O,F)),te=x!=null&&x.type===W&&x.key==null?x.props.children:x,Se(s,Array.isArray(te)?te:[te],u,o,l,d,f,v,y,w),E.base=u.__e,u.__h=null,E.__h.length&&v.push(E),re&&(E.__E=E.__=null),E.__e=!1}else f==null&&u.__v===o.__v?(u.__k=o.__k,u.__e=o.__e):u.__e=ge(o.__e,u,o,l,d,f,v,w);(x=h.diffed)&&x(u)}catch(ue){u.__v=null,(w||f!=null)&&(u.__e=y,u.__h=!!w,f[f.indexOf(y)]=null),h.__e(ue,u,o)}}function q(s,u){h.__c&&h.__c(u,s),s.some(function(o){try{s=o.__h,o.__h=[],s.some(function(l){l.call(o)})}catch(l){h.__e(l,o.__v)}})}function ge(s,u,o,l,d,f,v,y){var w,x,E,R=o.props,O=u.props,F=u.type,G=0;if(F==="svg"&&(d=!0),f!=null){for(;G<f.length;G++)if((w=f[G])&&"setAttribute"in w==!!F&&(F?w.localName===F:w.nodeType===3)){s=w,f[G]=null;break}}if(s==null){if(F===null)return document.createTextNode(O);s=d?document.createElementNS("http://www.w3.org/2000/svg",F):document.createElement(F,O.is&&O),f=null,y=!1}if(F===null)R===O||y&&s.data===O||(s.data=O);else{if(f=f&&a.call(s.childNodes),x=(R=o.props||S).dangerouslySetInnerHTML,E=O.dangerouslySetInnerHTML,!y){if(f!=null)for(R={},G=0;G<s.attributes.length;G++)R[s.attributes[G].name]=s.attributes[G].value;(E||x)&&(E&&(x&&E.__html==x.__html||E.__html===s.innerHTML)||(s.innerHTML=E&&E.__html||""))}if(Ae(s,O,R,d,y),E)u.__k=[];else if(G=u.props.children,Se(s,Array.isArray(G)?G:[G],u,o,l,d&&F!=="foreignObject",f,v,f?f[0]:o.__k&&H(o,0),y),f!=null)for(G=f.length;G--;)f[G]!=null&&C(f[G]);y||("value"in O&&(G=O.value)!==void 0&&(G!==R.value||G!==s.value||F==="progress"&&!G)&&ve(s,"value",G,R.value,!1),"checked"in O&&(G=O.checked)!==void 0&&G!==s.checked&&ve(s,"checked",G,R.checked,!1))}return s}function De(s,u,o){try{typeof s=="function"?s(u):s.current=u}catch(l){h.__e(l,o)}}function $(s,u,o){var l,d;if(h.unmount&&h.unmount(s),(l=s.ref)&&(l.current&&l.current!==s.__e||De(l,null,u)),(l=s.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(f){h.__e(f,u)}l.base=l.__P=null}if(l=s.__k)for(d=0;d<l.length;d++)l[d]&&$(l[d],u,typeof s.type!="function");o||s.__e==null||C(s.__e),s.__e=s.__d=void 0}function Qe(s,u,o){return this.constructor(s,o)}function et(s,u,o){var l,d,f;h.__&&h.__(s,u),d=(l=typeof o=="function")?null:o&&o.__k||u.__k,f=[],be(u,s=(!l&&o||u).__k=P(W,null,[s]),d||S,S,u.ownerSVGElement!==void 0,!l&&o?[o]:d?null:u.firstChild?a.call(u.childNodes):null,f,!l&&o?o:d?d.__e:u.firstChild,l),q(f,s)}function ot(s,u){et(s,u,ot)}function ct(s,u,o){var l,d,f,v=k({},s.props);for(f in u)f=="key"?l=u[f]:f=="ref"?d=u[f]:v[f]=u[f];return arguments.length>2&&(v.children=arguments.length>3?a.call(arguments,2):o),A(s.type,v,l||s.key,d||s.ref,null)}function yt(s,u){var o={__c:u="__cC"+b++,__:s,Consumer:function(l,d){return l.children(d)},Provider:function(l){var d,f;return this.getChildContext||(d=[],(f={})[u]=this,this.getChildContext=function(){return f},this.shouldComponentUpdate=function(v){this.props.value!==v.value&&d.some(ne)},this.sub=function(v){d.push(v);var y=v.componentWillUnmount;v.componentWillUnmount=function(){d.splice(d.indexOf(v),1),y&&y.call(v)}}),l.children}};return o.Provider.__=o.Consumer.contextType=o}a=T.slice,h={__e:function(s,u){for(var o,l,d;u=u.__;)if((o=u.__c)&&!o.__)try{if((l=o.constructor)&&l.getDerivedStateFromError!=null&&(o.setState(l.getDerivedStateFromError(s)),d=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(s),d=o.__d),d)return o.__E=o}catch(f){s=f}throw s}},c=0,Z.prototype.setState=function(s,u){var o;o=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=k({},this.state),typeof s=="function"&&(s=s(k({},o),this.props)),s&&k(o,s),s!=null&&this.__v&&(u&&this.__h.push(u),ne(this))},Z.prototype.forceUpdate=function(s){this.__v&&(this.__e=!0,s&&this.__h.push(s),ne(this))},Z.prototype.render=W,p=[],m=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ae.__r=0,b=0;var gt,Ke,Ot,Nt=0,_t=[],un=h.__b,Et=h.__r,jt=h.diffed,M=h.__c,Y=h.unmount;function pe(s,u){h.__h&&h.__h(Ke,s,Nt||u),Nt=0;var o=Ke.__H||(Ke.__H={__:[],__h:[]});return s>=o.__.length&&o.__.push({}),o.__[s]}function Me(s){return Nt=1,_e(Xe,s)}function _e(s,u,o){var l=pe(gt++,2);return l.t=s,l.__c||(l.__=[o?o(u):Xe(void 0,u),function(d){var f=l.t(l.__[0],d);l.__[0]!==f&&(l.__=[f,l.__[1]],l.__c.setState({}))}],l.__c=Ke),l.__}function qe(s,u){var o=pe(gt++,3);!h.__s&&lt(o.__H,u)&&(o.__=s,o.__H=u,Ke.__H.__h.push(o))}function He(s,u){var o=pe(gt++,4);!h.__s&&lt(o.__H,u)&&(o.__=s,o.__H=u,Ke.__h.push(o))}function pt(s){return Nt=5,Pt(function(){return{current:s}},[])}function Tt(s,u,o){Nt=6,He(function(){typeof s=="function"?s(u()):s&&(s.current=u())},o==null?o:o.concat(s))}function Pt(s,u){var o=pe(gt++,7);return lt(o.__H,u)&&(o.__=s(),o.__H=u,o.__h=s),o.__}function le(s,u){return Nt=8,Pt(function(){return s},u)}function ke(s){var u=Ke.context[s.__c],o=pe(gt++,9);return o.c=s,u?(o.__==null&&(o.__=!0,u.sub(Ke)),u.props.value):s.__}function L(s,u){h.useDebugValue&&h.useDebugValue(u?u(s):s)}function j(s){var u=pe(gt++,10),o=Me();return u.__=s,Ke.componentDidCatch||(Ke.componentDidCatch=function(l){u.__&&u.__(l),o[1](l)}),[o[0],function(){o[1](void 0)}]}function U(){var s;for(_t.sort(function(u,o){return u.__v.__b-o.__v.__b});s=_t.pop();)if(s.__P)try{s.__H.__h.forEach(we),s.__H.__h.forEach(je),s.__H.__h=[]}catch(u){s.__H.__h=[],h.__e(u,s.__v)}}h.__b=function(s){Ke=null,un&&un(s)},h.__r=function(s){Et&&Et(s),gt=0;var u=(Ke=s.__c).__H;u&&(u.__h.forEach(we),u.__h.forEach(je),u.__h=[])},h.diffed=function(s){jt&&jt(s);var u=s.__c;u&&u.__H&&u.__H.__h.length&&(_t.push(u)!==1&&Ot===h.requestAnimationFrame||((Ot=h.requestAnimationFrame)||function(o){var l,d=function(){clearTimeout(f),X&&cancelAnimationFrame(l),setTimeout(o)},f=setTimeout(d,100);X&&(l=requestAnimationFrame(d))})(U)),Ke=null},h.__c=function(s,u){u.some(function(o){try{o.__h.forEach(we),o.__h=o.__h.filter(function(l){return!l.__||je(l)})}catch(l){u.some(function(d){d.__h&&(d.__h=[])}),u=[],h.__e(l,o.__v)}}),M&&M(s,u)},h.unmount=function(s){Y&&Y(s);var u,o=s.__c;o&&o.__H&&(o.__H.__.forEach(function(l){try{we(l)}catch(d){u=d}}),u&&h.__e(u,o.__v))};var X=typeof requestAnimationFrame=="function";function we(s){var u=Ke,o=s.__c;typeof o=="function"&&(s.__c=void 0,o()),Ke=u}function je(s){var u=Ke;s.__c=s.__(),Ke=u}function lt(s,u){return!s||s.length!==u.length||u.some(function(o,l){return o!==s[l]})}function Xe(s,u){return typeof u=="function"?u(s):u}function Ye(s,u){for(var o in u)s[o]=u[o];return s}function wn(s,u){for(var o in s)if(o!=="__source"&&!(o in u))return!0;for(var l in u)if(l!=="__source"&&s[l]!==u[l])return!0;return!1}function Bt(s){this.props=s}function ei(s,u){function o(d){var f=this.props.ref,v=f==d.ref;return!v&&f&&(f.call?f(null):f.current=null),u?!u(this.props,d)||!v:wn(this.props,d)}function l(d){return this.shouldComponentUpdate=o,P(s,d)}return l.displayName="Memo("+(s.displayName||s.name)+")",l.prototype.isReactComponent=!0,l.__f=!0,l}(Bt.prototype=new Z).isPureReactComponent=!0,Bt.prototype.shouldComponentUpdate=function(s,u){return wn(this.props,s)||wn(this.state,u)};var Ka=h.__b;h.__b=function(s){s.type&&s.type.__f&&s.ref&&(s.props.ref=s.ref,s.ref=null),Ka&&Ka(s)};var sc=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function bs(s){function u(o,l){var d=Ye({},o);return delete d.ref,s(d,(l=o.ref||l)&&(typeof l!="object"||"current"in l)?l:null)}return u.$$typeof=sc,u.render=u,u.prototype.isReactComponent=u.__f=!0,u.displayName="ForwardRef("+(s.displayName||s.name)+")",u}var Fx=function(s,u){return s==null?null:fe(fe(s).map(u))},Bx={map:Fx,forEach:Fx,count:function(s){return s?fe(s).length:0},only:function(s){var u=fe(s);if(u.length!==1)throw"Children.only";return u[0]},toArray:fe},n2=h.__e;h.__e=function(s,u,o){if(s.then){for(var l,d=u;d=d.__;)if((l=d.__c)&&l.__c)return u.__e==null&&(u.__e=o.__e,u.__k=o.__k),l.__c(s,u)}n2(s,u,o)};var Hx=h.unmount;function Ja(){this.__u=0,this.t=null,this.__b=null}function zx(s){var u=s.__.__c;return u&&u.__e&&u.__e(s)}function Vx(s){var u,o,l;function d(f){if(u||(u=s()).then(function(v){o=v.default||v},function(v){l=v}),l)throw l;if(!o)throw u;return P(o,f)}return d.displayName="Lazy",d.__f=!0,d}function Ss(){this.u=null,this.o=null}h.unmount=function(s){var u=s.__c;u&&u.__R&&u.__R(),u&&s.__h===!0&&(s.type=null),Hx&&Hx(s)},(Ja.prototype=new Z).__c=function(s,u){var o=u.__c,l=this;l.t==null&&(l.t=[]),l.t.push(o);var d=zx(l.__v),f=!1,v=function(){f||(f=!0,o.__R=null,d?d(y):y())};o.__R=v;var y=function(){if(!--l.__u){if(l.state.__e){var x=l.state.__e;l.__v.__k[0]=function R(O,F,G){return O&&(O.__v=null,O.__k=O.__k&&O.__k.map(function(re){return R(re,F,G)}),O.__c&&O.__c.__P===F&&(O.__e&&G.insertBefore(O.__e,O.__d),O.__c.__e=!0,O.__c.__P=G)),O}(x,x.__c.__P,x.__c.__O)}var E;for(l.setState({__e:l.__b=null});E=l.t.pop();)E.forceUpdate()}},w=u.__h===!0;l.__u++||w||l.setState({__e:l.__b=l.__v.__k[0]}),s.then(v,v)},Ja.prototype.componentWillUnmount=function(){this.t=[]},Ja.prototype.render=function(s,u){if(this.__b){if(this.__v.__k){var o=document.createElement("div"),l=this.__v.__k[0].__c;this.__v.__k[0]=function f(v,y,w){return v&&(v.__c&&v.__c.__H&&(v.__c.__H.__.forEach(function(x){typeof x.__c=="function"&&x.__c()}),v.__c.__H=null),(v=Ye({},v)).__c!=null&&(v.__c.__P===w&&(v.__c.__P=y),v.__c=null),v.__k=v.__k&&v.__k.map(function(x){return f(x,y,w)})),v}(this.__b,o,l.__O=l.__P)}this.__b=null}var d=u.__e&&P(W,null,s.fallback);return d&&(d.__h=null),[P(W,null,u.__e?null:s.children),d]};var Ux=function(s,u,o){if(++o[1]===o[0]&&s.o.delete(u),s.props.revealOrder&&(s.props.revealOrder[0]!=="t"||!s.o.size))for(o=s.u;o;){for(;o.length>3;)o.pop()();if(o[1]<o[0])break;s.u=o=o[2]}};function r2(s){return this.getChildContext=function(){return s.context},s.children}function i2(s){var u=this,o=s.i;u.componentWillUnmount=function(){et(null,u.l),u.l=null,u.i=null},u.i&&u.i!==o&&u.componentWillUnmount(),s.__v?(u.l||(u.i=o,u.l={nodeType:1,parentNode:o,childNodes:[],appendChild:function(l){this.childNodes.push(l),u.i.appendChild(l)},insertBefore:function(l,d){this.childNodes.push(l),u.i.appendChild(l)},removeChild:function(l){this.childNodes.splice(this.childNodes.indexOf(l)>>>1,1),u.i.removeChild(l)}}),et(P(r2,{context:u.context},s.__v),u.l)):u.l&&u.componentWillUnmount()}function Mp(s,u){return P(i2,{__v:s,i:u})}(Ss.prototype=new Z).__e=function(s){var u=this,o=zx(u.__v),l=u.o.get(s);return l[0]++,function(d){var f=function(){u.props.revealOrder?(l.push(d),Ux(u,s,l)):d()};o?o(f):f()}},Ss.prototype.render=function(s){this.u=null,this.o=new Map;var u=fe(s.children);s.revealOrder&&s.revealOrder[0]==="b"&&u.reverse();for(var o=u.length;o--;)this.o.set(u[o],this.u=[1,0,this.u]);return s.children},Ss.prototype.componentDidUpdate=Ss.prototype.componentDidMount=function(){var s=this;this.o.forEach(function(u,o){Ux(s,o,u)})};var Wx=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,o2=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,s2=typeof document<"u",a2=function(s){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(s)};function Gx(s,u,o){return u.__k==null&&(u.textContent=""),et(s,u),typeof o=="function"&&o(),s?s.__c:null}function qx(s,u,o){return ot(s,u),typeof o=="function"&&o(),s?s.__c:null}Z.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(s){Object.defineProperty(Z.prototype,s,{configurable:!0,get:function(){return this["UNSAFE_"+s]},set:function(u){Object.defineProperty(this,s,{configurable:!0,writable:!0,value:u})}})});var $x=h.event;function l2(){}function u2(){return this.cancelBubble}function c2(){return this.defaultPrevented}h.event=function(s){return $x&&(s=$x(s)),s.persist=l2,s.isPropagationStopped=u2,s.isDefaultPrevented=c2,s.nativeEvent=s};var Zx,Xx={configurable:!0,get:function(){return this.class}},Yx=h.vnode;h.vnode=function(s){var u=s.type,o=s.props,l=o;if(typeof u=="string"){var d=u.indexOf("-")===-1;for(var f in l={},o){var v=o[f];s2&&f==="children"&&u==="noscript"||f==="value"&&"defaultValue"in o&&v==null||(f==="defaultValue"&&"value"in o&&o.value==null?f="value":f==="download"&&v===!0?v="":/ondoubleclick/i.test(f)?f="ondblclick":/^onchange(textarea|input)/i.test(f+u)&&!a2(o.type)?f="oninput":/^onfocus$/i.test(f)?f="onfocusin":/^onblur$/i.test(f)?f="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(f)?f=f.toLowerCase():d&&o2.test(f)?f=f.replace(/[A-Z0-9]/,"-$&").toLowerCase():v===null&&(v=void 0),l[f]=v)}u=="select"&&l.multiple&&Array.isArray(l.value)&&(l.value=fe(o.children).forEach(function(y){y.props.selected=l.value.indexOf(y.props.value)!=-1})),u=="select"&&l.defaultValue!=null&&(l.value=fe(o.children).forEach(function(y){y.props.selected=l.multiple?l.defaultValue.indexOf(y.props.value)!=-1:l.defaultValue==y.props.value})),s.props=l,o.class!=o.className&&(Xx.enumerable="className"in o,o.className!=null&&(l.class=o.className),Object.defineProperty(l,"className",Xx))}s.$$typeof=Wx,Yx&&Yx(s)};var Kx=h.__r;h.__r=function(s){Kx&&Kx(s),Zx=s.__c};var Jx={ReactCurrentDispatcher:{current:{readContext:function(s){return Zx.__n[s.__c].props.value}}}},d2="17.0.2";function Qx(s){return P.bind(null,s)}function Ip(s){return!!s&&s.$$typeof===Wx}function eb(s){return Ip(s)?ct.apply(null,arguments):s}function tb(s){return!!s.__k&&(et(null,s),!0)}function nb(s){return s&&(s.base||s.nodeType===1&&s)||null}var rb=function(s,u){return s(u)},ib=function(s,u){return s(u)},h2=W,Re={useState:Me,useReducer:_e,useEffect:qe,useLayoutEffect:He,useRef:pt,useImperativeHandle:Tt,useMemo:Pt,useCallback:le,useContext:ke,useDebugValue:L,version:"17.0.2",Children:Bx,render:Gx,hydrate:qx,unmountComponentAtNode:tb,createPortal:Mp,createElement:P,createContext:yt,createFactory:Qx,cloneElement:eb,createRef:N,Fragment:W,isValidElement:Ip,findDOMNode:nb,Component:Z,PureComponent:Bt,memo:ei,forwardRef:bs,flushSync:ib,unstable_batchedUpdates:rb,StrictMode:W,Suspense:Ja,SuspenseList:Ss,lazy:Vx,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Jx},Lp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Re,version:d2,Children:Bx,render:Gx,hydrate:qx,unmountComponentAtNode:tb,createPortal:Mp,createFactory:Qx,cloneElement:eb,isValidElement:Ip,findDOMNode:nb,PureComponent:Bt,memo:ei,forwardRef:bs,flushSync:ib,unstable_batchedUpdates:rb,StrictMode:h2,Suspense:Ja,SuspenseList:Ss,lazy:Vx,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Jx,createElement:P,createContext:yt,createRef:N,Fragment:W,Component:Z,useState:Me,useReducer:_e,useEffect:qe,useLayoutEffect:He,useRef:pt,useImperativeHandle:Tt,useMemo:Pt,useCallback:le,useContext:ke,useDebugValue:L,useErrorBoundary:j}),zi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof zn<"u"?zn:typeof self<"u"?self:{};function p2(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function jp(s){if(s.__esModule)return s;var u=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(s).forEach(function(o){var l=Object.getOwnPropertyDescriptor(s,o);Object.defineProperty(u,o,l.get?l:{enumerable:!0,get:function(){return s[o]}})}),u}var Np={exports:{}};function Fp(){}Fp.prototype={on:function(s,u,o){var l=this.e||(this.e={});return(l[s]||(l[s]=[])).push({fn:u,ctx:o}),this},once:function(s,u,o){var l=this;function d(){l.off(s,d),u.apply(o,arguments)}return d._=u,this.on(s,d,o)},emit:function(s){var u=[].slice.call(arguments,1),o=((this.e||(this.e={}))[s]||[]).slice(),l=0,d=o.length;for(l;l<d;l++)o[l].fn.apply(o[l].ctx,u);return this},off:function(s,u){var o=this.e||(this.e={}),l=o[s],d=[];if(l&&u)for(var f=0,v=l.length;f<v;f++)l[f].fn!==u&&l[f].fn._!==u&&d.push(l[f]);return d.length?o[s]=d:delete o[s],this}},Np.exports=Fp,Np.exports.TinyEmitter=Fp;var ac=Np.exports,lc={exports:{}},ob={},Es=jp(Lp),Qa={exports:{}},f2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",m2=f2,g2=m2;function sb(){}function ab(){}ab.resetWarningCache=sb;var v2=function(){function s(l,d,f,v,y,w){if(w!==g2){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}s.isRequired=s;function u(){return s}var o={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:u,element:s,elementType:s,instanceOf:u,node:s,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:ab,resetWarningCache:sb};return o.PropTypes=o,o};Qa.exports=v2();function lb(s){var u,o,l="";if(typeof s=="string"||typeof s=="number")l+=s;else if(typeof s=="object")if(Array.isArray(s))for(u=0;u<s.length;u++)s[u]&&(o=lb(s[u]))&&(l&&(l+=" "),l+=o);else for(u in s)s[u]&&(l&&(l+=" "),l+=u);return l}function ub(){for(var s,u,o=0,l="";o<arguments.length;)(s=arguments[o++])&&(u=lb(s))&&(l&&(l+=" "),l+=u);return l}var y2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",clsx:ub,default:ub}),w2=jp(y2),En={},si={};Object.defineProperty(si,"__esModule",{value:!0}),si.dontSetMe=T2,si.findInArray=x2,si.int=E2,si.isFunction=b2,si.isNum=S2;function x2(s,u){for(var o=0,l=s.length;o<l;o++)if(u.apply(u,[s[o],o,s]))return s[o]}function b2(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function S2(s){return typeof s=="number"&&!isNaN(s)}function E2(s){return parseInt(s,10)}function T2(s,u,o){if(s[u])return new Error("Invalid prop ".concat(u," passed to ").concat(o," - do not set this, set it on the child."))}var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.browserPrefixToKey=db,Ao.browserPrefixToStyle=C2,Ao.default=void 0,Ao.getPrefix=cb;var Bp=["Moz","Webkit","O","ms"];function cb(){var s,u,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var l=(s=window.document)===null||s===void 0||(u=s.documentElement)===null||u===void 0?void 0:u.style;if(!l||o in l)return"";for(var d=0;d<Bp.length;d++)if(db(o,Bp[d])in l)return Bp[d];return""}function db(s,u){return u?"".concat(u).concat(P2(s)):s}function C2(s,u){return u?"-".concat(u.toLowerCase(),"-").concat(s):s}function P2(s){for(var u="",o=!0,l=0;l<s.length;l++)o?(u+=s[l].toUpperCase(),o=!1):s[l]==="-"?o=!0:u+=s[l];return u}var k2=cb();Ao.default=k2;function Hp(s){return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},Hp(s)}Object.defineProperty(En,"__esModule",{value:!0}),En.addClassName=yb,En.addEvent=O2,En.addUserSelectStyles=z2,En.createCSSTransform=N2,En.createSVGTransform=F2,En.getTouch=B2,En.getTouchIdentifier=H2,En.getTranslation=zp,En.innerHeight=I2,En.innerWidth=L2,En.matchesSelector=vb,En.matchesSelectorAndParentsTo=R2,En.offsetXYFromParent=j2,En.outerHeight=D2,En.outerWidth=M2,En.removeClassName=wb,En.removeEvent=A2,En.removeUserSelectStyles=V2;var Tr=si,hb=_2(Ao);function pb(s){if(typeof WeakMap!="function")return null;var u=new WeakMap,o=new WeakMap;return(pb=function(l){return l?o:u})(s)}function _2(s,u){if(s&&s.__esModule)return s;if(s===null||Hp(s)!=="object"&&typeof s!="function")return{default:s};var o=pb(u);if(o&&o.has(s))return o.get(s);var l={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in s)if(f!=="default"&&Object.prototype.hasOwnProperty.call(s,f)){var v=d?Object.getOwnPropertyDescriptor(s,f):null;v&&(v.get||v.set)?Object.defineProperty(l,f,v):l[f]=s[f]}return l.default=s,o&&o.set(s,l),l}function fb(s,u){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);u&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),o.push.apply(o,l)}return o}function mb(s){for(var u=1;u<arguments.length;u++){var o=arguments[u]!=null?arguments[u]:{};u%2?fb(Object(o),!0).forEach(function(l){gb(s,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):fb(Object(o)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(o,l))})}return s}function gb(s,u,o){return u in s?Object.defineProperty(s,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[u]=o,s}var uc="";function vb(s,u){return uc||(uc=(0,Tr.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(o){return(0,Tr.isFunction)(s[o])})),(0,Tr.isFunction)(s[uc])?s[uc](u):!1}function R2(s,u,o){var l=s;do{if(vb(l,u))return!0;if(l===o)return!1;l=l.parentNode}while(l);return!1}function O2(s,u,o,l){if(s){var d=mb({capture:!0},l);s.addEventListener?s.addEventListener(u,o,d):s.attachEvent?s.attachEvent("on"+u,o):s["on"+u]=o}}function A2(s,u,o,l){if(s){var d=mb({capture:!0},l);s.removeEventListener?s.removeEventListener(u,o,d):s.detachEvent?s.detachEvent("on"+u,o):s["on"+u]=null}}function D2(s){var u=s.clientHeight,o=s.ownerDocument.defaultView.getComputedStyle(s);return u+=(0,Tr.int)(o.borderTopWidth),u+=(0,Tr.int)(o.borderBottomWidth),u}function M2(s){var u=s.clientWidth,o=s.ownerDocument.defaultView.getComputedStyle(s);return u+=(0,Tr.int)(o.borderLeftWidth),u+=(0,Tr.int)(o.borderRightWidth),u}function I2(s){var u=s.clientHeight,o=s.ownerDocument.defaultView.getComputedStyle(s);return u-=(0,Tr.int)(o.paddingTop),u-=(0,Tr.int)(o.paddingBottom),u}function L2(s){var u=s.clientWidth,o=s.ownerDocument.defaultView.getComputedStyle(s);return u-=(0,Tr.int)(o.paddingLeft),u-=(0,Tr.int)(o.paddingRight),u}function j2(s,u,o){var l=u===u.ownerDocument.body,d=l?{left:0,top:0}:u.getBoundingClientRect(),f=(s.clientX+u.scrollLeft-d.left)/o,v=(s.clientY+u.scrollTop-d.top)/o;return{x:f,y:v}}function N2(s,u){var o=zp(s,u,"px");return gb({},(0,hb.browserPrefixToKey)("transform",hb.default),o)}function F2(s,u){var o=zp(s,u,"");return o}function zp(s,u,o){var l=s.x,d=s.y,f="translate(".concat(l).concat(o,",").concat(d).concat(o,")");if(u){var v="".concat(typeof u.x=="string"?u.x:u.x+o),y="".concat(typeof u.y=="string"?u.y:u.y+o);f="translate(".concat(v,", ").concat(y,")")+f}return f}function B2(s,u){return s.targetTouches&&(0,Tr.findInArray)(s.targetTouches,function(o){return u===o.identifier})||s.changedTouches&&(0,Tr.findInArray)(s.changedTouches,function(o){return u===o.identifier})}function H2(s){if(s.targetTouches&&s.targetTouches[0])return s.targetTouches[0].identifier;if(s.changedTouches&&s.changedTouches[0])return s.changedTouches[0].identifier}function z2(s){if(s){var u=s.getElementById("react-draggable-style-el");u||(u=s.createElement("style"),u.type="text/css",u.id="react-draggable-style-el",u.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,u.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,s.getElementsByTagName("head")[0].appendChild(u)),s.body&&yb(s.body,"react-draggable-transparent-selection")}}function V2(s){if(s)try{if(s.body&&wb(s.body,"react-draggable-transparent-selection"),s.selection)s.selection.empty();else{var u=(s.defaultView||window).getSelection();u&&u.type!=="Caret"&&u.removeAllRanges()}}catch{}}function yb(s,u){s.classList?s.classList.add(u):s.className.match(new RegExp("(?:^|\\s)".concat(u,"(?!\\S)")))||(s.className+=" ".concat(u))}function wb(s,u){s.classList?s.classList.remove(u):s.className=s.className.replace(new RegExp("(?:^|\\s)".concat(u,"(?!\\S)"),"g"),"")}var ai={};Object.defineProperty(ai,"__esModule",{value:!0}),ai.canDragX=G2,ai.canDragY=q2,ai.createCoreData=Z2,ai.createDraggableData=X2,ai.getBoundPosition=U2,ai.getControlPosition=$2,ai.snapToGrid=W2;var Cr=si,Ts=En;function U2(s,u,o){if(!s.props.bounds)return[u,o];var l=s.props.bounds;l=typeof l=="string"?l:Y2(l);var d=Vp(s);if(typeof l=="string"){var f=d.ownerDocument,v=f.defaultView,y;if(l==="parent"?y=d.parentNode:y=f.querySelector(l),!(y instanceof v.HTMLElement))throw new Error('Bounds selector "'+l+'" could not find an element.');var w=y,x=v.getComputedStyle(d),E=v.getComputedStyle(w);l={left:-d.offsetLeft+(0,Cr.int)(E.paddingLeft)+(0,Cr.int)(x.marginLeft),top:-d.offsetTop+(0,Cr.int)(E.paddingTop)+(0,Cr.int)(x.marginTop),right:(0,Ts.innerWidth)(w)-(0,Ts.outerWidth)(d)-d.offsetLeft+(0,Cr.int)(E.paddingRight)-(0,Cr.int)(x.marginRight),bottom:(0,Ts.innerHeight)(w)-(0,Ts.outerHeight)(d)-d.offsetTop+(0,Cr.int)(E.paddingBottom)-(0,Cr.int)(x.marginBottom)}}return(0,Cr.isNum)(l.right)&&(u=Math.min(u,l.right)),(0,Cr.isNum)(l.bottom)&&(o=Math.min(o,l.bottom)),(0,Cr.isNum)(l.left)&&(u=Math.max(u,l.left)),(0,Cr.isNum)(l.top)&&(o=Math.max(o,l.top)),[u,o]}function W2(s,u,o){var l=Math.round(u/s[0])*s[0],d=Math.round(o/s[1])*s[1];return[l,d]}function G2(s){return s.props.axis==="both"||s.props.axis==="x"}function q2(s){return s.props.axis==="both"||s.props.axis==="y"}function $2(s,u,o){var l=typeof u=="number"?(0,Ts.getTouch)(s,u):null;if(typeof u=="number"&&!l)return null;var d=Vp(o),f=o.props.offsetParent||d.offsetParent||d.ownerDocument.body;return(0,Ts.offsetXYFromParent)(l||s,f,o.props.scale)}function Z2(s,u,o){var l=s.state,d=!(0,Cr.isNum)(l.lastX),f=Vp(s);return d?{node:f,deltaX:0,deltaY:0,lastX:u,lastY:o,x:u,y:o}:{node:f,deltaX:u-l.lastX,deltaY:o-l.lastY,lastX:l.lastX,lastY:l.lastY,x:u,y:o}}function X2(s,u){var o=s.props.scale;return{node:u.node,x:s.state.x+u.deltaX/o,y:s.state.y+u.deltaY/o,deltaX:u.deltaX/o,deltaY:u.deltaY/o,lastX:s.state.x,lastY:s.state.y}}function Y2(s){return{left:s.left,top:s.top,right:s.right,bottom:s.bottom}}function Vp(s){var u=s.findDOMNode();if(!u)throw new Error("<DraggableCore>: Unmounted during event!");return u}var cc={},dc={};Object.defineProperty(dc,"__esModule",{value:!0}),dc.default=K2;function K2(){}function hc(s){return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},hc(s)}Object.defineProperty(cc,"__esModule",{value:!0}),cc.default=void 0;var Up=Q2(Es),Pr=Gp(Qa.exports),J2=Gp(Es),er=En,Vi=ai,Wp=si,el=Gp(dc);function Gp(s){return s&&s.__esModule?s:{default:s}}function xb(s){if(typeof WeakMap!="function")return null;var u=new WeakMap,o=new WeakMap;return(xb=function(l){return l?o:u})(s)}function Q2(s,u){if(s&&s.__esModule)return s;if(s===null||hc(s)!=="object"&&typeof s!="function")return{default:s};var o=xb(u);if(o&&o.has(s))return o.get(s);var l={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in s)if(f!=="default"&&Object.prototype.hasOwnProperty.call(s,f)){var v=d?Object.getOwnPropertyDescriptor(s,f):null;v&&(v.get||v.set)?Object.defineProperty(l,f,v):l[f]=s[f]}return l.default=s,o&&o.set(s,l),l}function bb(s,u){return rI(s)||nI(s,u)||tI(s,u)||eI()}function eI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tI(s,u){if(s){if(typeof s=="string")return Sb(s,u);var o=Object.prototype.toString.call(s).slice(8,-1);if(o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set")return Array.from(s);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Sb(s,u)}}function Sb(s,u){(u==null||u>s.length)&&(u=s.length);for(var o=0,l=new Array(u);o<u;o++)l[o]=s[o];return l}function nI(s,u){var o=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(o!=null){var l=[],d=!0,f=!1,v,y;try{for(o=o.call(s);!(d=(v=o.next()).done)&&(l.push(v.value),!(u&&l.length===u));d=!0);}catch(w){f=!0,y=w}finally{try{!d&&o.return!=null&&o.return()}finally{if(f)throw y}}return l}}function rI(s){if(Array.isArray(s))return s}function iI(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}function oI(s,u){for(var o=0;o<u.length;o++){var l=u[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}function sI(s,u,o){return u&&oI(s.prototype,u),Object.defineProperty(s,"prototype",{writable:!1}),s}function aI(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(u&&u.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),u&&qp(s,u)}function qp(s,u){return qp=Object.setPrototypeOf||function(o,l){return o.__proto__=l,o},qp(s,u)}function lI(s){var u=cI();return function(){var o=pc(s),l;if(u){var d=pc(this).constructor;l=Reflect.construct(o,arguments,d)}else l=o.apply(this,arguments);return uI(this,l)}}function uI(s,u){if(u&&(hc(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(s)}function tr(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function cI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pc(s){return pc=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},pc(s)}function Br(s,u,o){return u in s?Object.defineProperty(s,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[u]=o,s}var ti={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Ui=ti.mouse,fc=function(s){aI(o,s);var u=lI(o);function o(){var l;iI(this,o);for(var d=arguments.length,f=new Array(d),v=0;v<d;v++)f[v]=arguments[v];return l=u.call.apply(u,[this].concat(f)),Br(tr(l),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Br(tr(l),"mounted",!1),Br(tr(l),"handleDragStart",function(y){if(l.props.onMouseDown(y),!l.props.allowAnyClick&&typeof y.button=="number"&&y.button!==0)return!1;var w=l.findDOMNode();if(!w||!w.ownerDocument||!w.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var x=w.ownerDocument;if(!(l.props.disabled||!(y.target instanceof x.defaultView.Node)||l.props.handle&&!(0,er.matchesSelectorAndParentsTo)(y.target,l.props.handle,w)||l.props.cancel&&(0,er.matchesSelectorAndParentsTo)(y.target,l.props.cancel,w))){y.type==="touchstart"&&y.preventDefault();var E=(0,er.getTouchIdentifier)(y);l.setState({touchIdentifier:E});var R=(0,Vi.getControlPosition)(y,E,tr(l));if(R!=null){var O=R.x,F=R.y,G=(0,Vi.createCoreData)(tr(l),O,F);(0,el.default)("DraggableCore: handleDragStart: %j",G),(0,el.default)("calling",l.props.onStart);var re=l.props.onStart(y,G);re===!1||l.mounted===!1||(l.props.enableUserSelectHack&&(0,er.addUserSelectStyles)(x),l.setState({dragging:!0,lastX:O,lastY:F}),(0,er.addEvent)(x,Ui.move,l.handleDrag),(0,er.addEvent)(x,Ui.stop,l.handleDragStop))}}}),Br(tr(l),"handleDrag",function(y){var w=(0,Vi.getControlPosition)(y,l.state.touchIdentifier,tr(l));if(w!=null){var x=w.x,E=w.y;if(Array.isArray(l.props.grid)){var R=x-l.state.lastX,O=E-l.state.lastY,F=(0,Vi.snapToGrid)(l.props.grid,R,O),G=bb(F,2);if(R=G[0],O=G[1],!R&&!O)return;x=l.state.lastX+R,E=l.state.lastY+O}var re=(0,Vi.createCoreData)(tr(l),x,E);(0,el.default)("DraggableCore: handleDrag: %j",re);var J=l.props.onDrag(y,re);if(J===!1||l.mounted===!1){try{l.handleDragStop(new MouseEvent("mouseup"))}catch{var se=document.createEvent("MouseEvents");se.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),l.handleDragStop(se)}return}l.setState({lastX:x,lastY:E})}}),Br(tr(l),"handleDragStop",function(y){if(l.state.dragging){var w=(0,Vi.getControlPosition)(y,l.state.touchIdentifier,tr(l));if(w!=null){var x=w.x,E=w.y;if(Array.isArray(l.props.grid)){var R=x-l.state.lastX||0,O=E-l.state.lastY||0,F=(0,Vi.snapToGrid)(l.props.grid,R,O),G=bb(F,2);R=G[0],O=G[1],x=l.state.lastX+R,E=l.state.lastY+O}var re=(0,Vi.createCoreData)(tr(l),x,E),J=l.props.onStop(y,re);if(J===!1||l.mounted===!1)return!1;var se=l.findDOMNode();se&&l.props.enableUserSelectHack&&(0,er.removeUserSelectStyles)(se.ownerDocument),(0,el.default)("DraggableCore: handleDragStop: %j",re),l.setState({dragging:!1,lastX:NaN,lastY:NaN}),se&&((0,el.default)("DraggableCore: Removing handlers"),(0,er.removeEvent)(se.ownerDocument,Ui.move,l.handleDrag),(0,er.removeEvent)(se.ownerDocument,Ui.stop,l.handleDragStop))}}}),Br(tr(l),"onMouseDown",function(y){return Ui=ti.mouse,l.handleDragStart(y)}),Br(tr(l),"onMouseUp",function(y){return Ui=ti.mouse,l.handleDragStop(y)}),Br(tr(l),"onTouchStart",function(y){return Ui=ti.touch,l.handleDragStart(y)}),Br(tr(l),"onTouchEnd",function(y){return Ui=ti.touch,l.handleDragStop(y)}),l}return sI(o,[{key:"componentDidMount",value:function(){this.mounted=!0;var l=this.findDOMNode();l&&(0,er.addEvent)(l,ti.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var l=this.findDOMNode();if(l){var d=l.ownerDocument;(0,er.removeEvent)(d,ti.mouse.move,this.handleDrag),(0,er.removeEvent)(d,ti.touch.move,this.handleDrag),(0,er.removeEvent)(d,ti.mouse.stop,this.handleDragStop),(0,er.removeEvent)(d,ti.touch.stop,this.handleDragStop),(0,er.removeEvent)(l,ti.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,er.removeUserSelectStyles)(d)}}},{key:"findDOMNode",value:function(){var l,d,f;return(l=this.props)!==null&&l!==void 0&&l.nodeRef?(d=this.props)===null||d===void 0||(f=d.nodeRef)===null||f===void 0?void 0:f.current:J2.default.findDOMNode(this)}},{key:"render",value:function(){return Up.cloneElement(Up.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),o}(Up.Component);cc.default=fc,Br(fc,"displayName","DraggableCore"),Br(fc,"propTypes",{allowAnyClick:Pr.default.bool,disabled:Pr.default.bool,enableUserSelectHack:Pr.default.bool,offsetParent:function(s,u){if(s[u]&&s[u].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Pr.default.arrayOf(Pr.default.number),handle:Pr.default.string,cancel:Pr.default.string,nodeRef:Pr.default.object,onStart:Pr.default.func,onDrag:Pr.default.func,onStop:Pr.default.func,onMouseDown:Pr.default.func,scale:Pr.default.number,className:Wp.dontSetMe,style:Wp.dontSetMe,transform:Wp.dontSetMe}),Br(fc,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(s){function u(Ie){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(We){return typeof We}:function(We){return We&&typeof Symbol=="function"&&We.constructor===Symbol&&We!==Symbol.prototype?"symbol":typeof We},u(Ie)}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"DraggableCore",{enumerable:!0,get:function(){return x.default}}),s.default=void 0;var o=G(Es),l=O(Qa.exports),d=O(Es),f=O(w2),v=En,y=ai,w=si,x=O(cc),E=O(dc),R=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function O(Ie){return Ie&&Ie.__esModule?Ie:{default:Ie}}function F(Ie){if(typeof WeakMap!="function")return null;var We=new WeakMap,Ze=new WeakMap;return(F=function(Ge){return Ge?Ze:We})(Ie)}function G(Ie,We){if(Ie&&Ie.__esModule)return Ie;if(Ie===null||u(Ie)!=="object"&&typeof Ie!="function")return{default:Ie};var Ze=F(We);if(Ze&&Ze.has(Ie))return Ze.get(Ie);var Ge={},Je=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var vt in Ie)if(vt!=="default"&&Object.prototype.hasOwnProperty.call(Ie,vt)){var Qt=Je?Object.getOwnPropertyDescriptor(Ie,vt):null;Qt&&(Qt.get||Qt.set)?Object.defineProperty(Ge,vt,Qt):Ge[vt]=Ie[vt]}return Ge.default=Ie,Ze&&Ze.set(Ie,Ge),Ge}function re(){return re=Object.assign||function(Ie){for(var We=1;We<arguments.length;We++){var Ze=arguments[We];for(var Ge in Ze)Object.prototype.hasOwnProperty.call(Ze,Ge)&&(Ie[Ge]=Ze[Ge])}return Ie},re.apply(this,arguments)}function J(Ie,We){if(Ie==null)return{};var Ze=se(Ie,We),Ge,Je;if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(Ie);for(Je=0;Je<vt.length;Je++)Ge=vt[Je],!(We.indexOf(Ge)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Ie,Ge)||(Ze[Ge]=Ie[Ge]))}return Ze}function se(Ie,We){if(Ie==null)return{};var Ze={},Ge=Object.keys(Ie),Je,vt;for(vt=0;vt<Ge.length;vt++)Je=Ge[vt],!(We.indexOf(Je)>=0)&&(Ze[Je]=Ie[Je]);return Ze}function D(Ie,We){var Ze=Object.keys(Ie);if(Object.getOwnPropertySymbols){var Ge=Object.getOwnPropertySymbols(Ie);We&&(Ge=Ge.filter(function(Je){return Object.getOwnPropertyDescriptor(Ie,Je).enumerable})),Ze.push.apply(Ze,Ge)}return Ze}function te(Ie){for(var We=1;We<arguments.length;We++){var Ze=arguments[We]!=null?arguments[We]:{};We%2?D(Object(Ze),!0).forEach(function(Ge){rt(Ie,Ge,Ze[Ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ie,Object.getOwnPropertyDescriptors(Ze)):D(Object(Ze)).forEach(function(Ge){Object.defineProperty(Ie,Ge,Object.getOwnPropertyDescriptor(Ze,Ge))})}return Ie}function ce(Ie,We){return ze(Ie)||Fe(Ie,We)||ye(Ie,We)||ue()}function ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ye(Ie,We){if(Ie){if(typeof Ie=="string")return xe(Ie,We);var Ze=Object.prototype.toString.call(Ie).slice(8,-1);if(Ze==="Object"&&Ie.constructor&&(Ze=Ie.constructor.name),Ze==="Map"||Ze==="Set")return Array.from(Ie);if(Ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ze))return xe(Ie,We)}}function xe(Ie,We){(We==null||We>Ie.length)&&(We=Ie.length);for(var Ze=0,Ge=new Array(We);Ze<We;Ze++)Ge[Ze]=Ie[Ze];return Ge}function Fe(Ie,We){var Ze=Ie==null?null:typeof Symbol<"u"&&Ie[Symbol.iterator]||Ie["@@iterator"];if(Ze!=null){var Ge=[],Je=!0,vt=!1,Qt,xn;try{for(Ze=Ze.call(Ie);!(Je=(Qt=Ze.next()).done)&&(Ge.push(Qt.value),!(We&&Ge.length===We));Je=!0);}catch(Gt){vt=!0,xn=Gt}finally{try{!Je&&Ze.return!=null&&Ze.return()}finally{if(vt)throw xn}}return Ge}}function ze(Ie){if(Array.isArray(Ie))return Ie}function tt(Ie,We){if(!(Ie instanceof We))throw new TypeError("Cannot call a class as a function")}function st(Ie,We){for(var Ze=0;Ze<We.length;Ze++){var Ge=We[Ze];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(Ie,Ge.key,Ge)}}function nt(Ie,We,Ze){return We&&st(Ie.prototype,We),Ze&&st(Ie,Ze),Object.defineProperty(Ie,"prototype",{writable:!1}),Ie}function mt(Ie,We){if(typeof We!="function"&&We!==null)throw new TypeError("Super expression must either be null or a function");Ie.prototype=Object.create(We&&We.prototype,{constructor:{value:Ie,writable:!0,configurable:!0}}),Object.defineProperty(Ie,"prototype",{writable:!1}),We&&ft(Ie,We)}function ft(Ie,We){return ft=Object.setPrototypeOf||function(Ze,Ge){return Ze.__proto__=Ge,Ze},ft(Ie,We)}function At(Ie){var We=$t();return function(){var Ze=on(Ie),Ge;if(We){var Je=on(this).constructor;Ge=Reflect.construct(Ze,arguments,Je)}else Ge=Ze.apply(this,arguments);return Rt(this,Ge)}}function Rt(Ie,We){if(We&&(u(We)==="object"||typeof We=="function"))return We;if(We!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mt(Ie)}function Mt(Ie){if(Ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}function $t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function on(Ie){return on=Object.setPrototypeOf?Object.getPrototypeOf:function(We){return We.__proto__||Object.getPrototypeOf(We)},on(Ie)}function rt(Ie,We,Ze){return We in Ie?Object.defineProperty(Ie,We,{value:Ze,enumerable:!0,configurable:!0,writable:!0}):Ie[We]=Ze,Ie}var Ht=function(Ie){mt(Ze,Ie);var We=At(Ze);function Ze(Ge){var Je;return tt(this,Ze),Je=We.call(this,Ge),rt(Mt(Je),"onDragStart",function(vt,Qt){(0,E.default)("Draggable: onDragStart: %j",Qt);var xn=Je.props.onStart(vt,(0,y.createDraggableData)(Mt(Je),Qt));if(xn===!1)return!1;Je.setState({dragging:!0,dragged:!0})}),rt(Mt(Je),"onDrag",function(vt,Qt){if(!Je.state.dragging)return!1;(0,E.default)("Draggable: onDrag: %j",Qt);var xn=(0,y.createDraggableData)(Mt(Je),Qt),Gt={x:xn.x,y:xn.y};if(Je.props.bounds){var Hr=Gt.x,mr=Gt.y;Gt.x+=Je.state.slackX,Gt.y+=Je.state.slackY;var Or=(0,y.getBoundPosition)(Mt(Je),Gt.x,Gt.y),I=ce(Or,2),oe=I[0],Te=I[1];Gt.x=oe,Gt.y=Te,Gt.slackX=Je.state.slackX+(Hr-Gt.x),Gt.slackY=Je.state.slackY+(mr-Gt.y),xn.x=Gt.x,xn.y=Gt.y,xn.deltaX=Gt.x-Je.state.x,xn.deltaY=Gt.y-Je.state.y}var Be=Je.props.onDrag(vt,xn);if(Be===!1)return!1;Je.setState(Gt)}),rt(Mt(Je),"onDragStop",function(vt,Qt){if(!Je.state.dragging)return!1;var xn=Je.props.onStop(vt,(0,y.createDraggableData)(Mt(Je),Qt));if(xn===!1)return!1;(0,E.default)("Draggable: onDragStop: %j",Qt);var Gt={dragging:!1,slackX:0,slackY:0},Hr=!!Je.props.position;if(Hr){var mr=Je.props.position,Or=mr.x,I=mr.y;Gt.x=Or,Gt.y=I}Je.setState(Gt)}),Je.state={dragging:!1,dragged:!1,x:Ge.position?Ge.position.x:Ge.defaultPosition.x,y:Ge.position?Ge.position.y:Ge.defaultPosition.y,prevPropsPosition:te({},Ge.position),slackX:0,slackY:0,isElementSVG:!1},Ge.position&&!(Ge.onDrag||Ge.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Je}return nt(Ze,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var Ge,Je,vt;return(Ge=(Je=this.props)===null||Je===void 0||(vt=Je.nodeRef)===null||vt===void 0?void 0:vt.current)!==null&&Ge!==void 0?Ge:d.default.findDOMNode(this)}},{key:"render",value:function(){var Ge,Je=this.props;Je.axis,Je.bounds;var vt=Je.children,Qt=Je.defaultPosition,xn=Je.defaultClassName,Gt=Je.defaultClassNameDragging,Hr=Je.defaultClassNameDragged,mr=Je.position,Or=Je.positionOffset;Je.scale;var I=J(Je,R),oe={},Te=null,Be=!!mr,Ne=!Be||this.state.dragging,ht=mr||Qt,it={x:(0,y.canDragX)(this)&&Ne?this.state.x:ht.x,y:(0,y.canDragY)(this)&&Ne?this.state.y:ht.y};this.state.isElementSVG?Te=(0,v.createSVGTransform)(it,Or):oe=(0,v.createCSSTransform)(it,Or);var Zt=(0,f.default)(vt.props.className||"",xn,(Ge={},rt(Ge,Gt,this.state.dragging),rt(Ge,Hr,this.state.dragged),Ge));return o.createElement(x.default,re({},I,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(vt),{className:Zt,style:te(te({},vt.props.style),oe),transform:Te}))}}],[{key:"getDerivedStateFromProps",value:function(Ge,Je){var vt=Ge.position,Qt=Je.prevPropsPosition;return vt&&(!Qt||vt.x!==Qt.x||vt.y!==Qt.y)?((0,E.default)("Draggable: getDerivedStateFromProps %j",{position:vt,prevPropsPosition:Qt}),{x:vt.x,y:vt.y,prevPropsPosition:te({},vt)}):null}}]),Ze}(o.Component);s.default=Ht,rt(Ht,"displayName","Draggable"),rt(Ht,"propTypes",te(te({},x.default.propTypes),{},{axis:l.default.oneOf(["both","x","y","none"]),bounds:l.default.oneOfType([l.default.shape({left:l.default.number,right:l.default.number,top:l.default.number,bottom:l.default.number}),l.default.string,l.default.oneOf([!1])]),defaultClassName:l.default.string,defaultClassNameDragging:l.default.string,defaultClassNameDragged:l.default.string,defaultPosition:l.default.shape({x:l.default.number,y:l.default.number}),positionOffset:l.default.shape({x:l.default.oneOfType([l.default.number,l.default.string]),y:l.default.oneOfType([l.default.number,l.default.string])}),position:l.default.shape({x:l.default.number,y:l.default.number}),className:w.dontSetMe,style:w.dontSetMe,transform:w.dontSetMe})),rt(Ht,"defaultProps",te(te({},x.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(ob);var Eb=ob,Tb=Eb.default,dI=Eb.DraggableCore;lc.exports=Tb,lc.exports.default=Tb,lc.exports.DraggableCore=dI;var hI=lc.exports,pI=["second","minute","hour","day","week","month","year"];function fI(s,u){if(u===0)return["just now","right now"];var o=pI[Math.floor(u/2)];return s>1&&(o+="s"),[s+" "+o+" ago","in "+s+" "+o]}var mI=["","","","","","",""];function gI(s,u){if(u===0)return["",""];var o=mI[~~(u/2)];return[s+" "+o+"",s+" "+o+""]}var $p={},Tn=function(s,u){$p[s]=u},Cb=function(s){return $p[s]||$p.en_US},Do=[60,60,24,7,365/7/12,12];function Pb(s){return s instanceof Date?s:!isNaN(s)||/^\d+$/.test(s)?new Date(parseInt(s)):(s=(s||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(s))}function kb(s,u){var o=s<0?1:0;s=Math.abs(s);for(var l=s,d=0;s>=Do[d]&&d<Do.length;d++)s/=Do[d];return s=Math.floor(s),d*=2,s>(d===0?9:1)&&(d+=1),u(s,d,l)[o].replace("%s",s.toString())}function _b(s,u){var o=u?Pb(u):new Date;return(+o-+Pb(s))/1e3}function vI(s){for(var u=1,o=0,l=Math.abs(s);s>=Do[o]&&o<Do.length;o++)s/=Do[o],u*=Do[o];return l=l%u,l=l?u-l:u,Math.ceil(l)}var yI=function(s,u,o){var l=_b(s,o&&o.relativeDate);return kb(l,Cb(u))},Rb="timeago-id";function wI(s){return s.getAttribute("datetime")}function xI(s,u){s.setAttribute(Rb,u)}function Ob(s){return parseInt(s.getAttribute(Rb))}var Zp={},Xp=function(s){clearTimeout(s),delete Zp[s]};function Ab(s,u,o,l){Xp(Ob(s));var d=l.relativeDate,f=l.minInterval,v=_b(u,d);s.innerText=kb(v,o);var y=setTimeout(function(){Ab(s,u,o,l)},Math.min(Math.max(vI(v),f||1)*1e3,2147483647));Zp[y]=0,xI(s,y)}function Db(s){s?Xp(Ob(s)):Object.keys(Zp).forEach(Xp)}function bI(s,u,o){var l=s.length?s:[s];return l.forEach(function(d){Ab(d,wI(d),Cb(u),o||{})}),l}Tn("en_US",fI),Tn("zh_CN",gI);var SI=globalThis&&globalThis.__extends||function(){var s=function(u,o){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var f in d)d.hasOwnProperty(f)&&(l[f]=d[f])},s(u,o)};return function(u,o){s(u,o);function l(){this.constructor=u}u.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}(),Yp=globalThis&&globalThis.__assign||function(){return Yp=Object.assign||function(s){for(var u,o=1,l=arguments.length;o<l;o++){u=arguments[o];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(s[d]=u[d])}return s},Yp.apply(this,arguments)},EI=globalThis&&globalThis.__rest||function(s,u){var o={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&u.indexOf(l)<0&&(o[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(s);d<l.length;d++)u.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(s,l[d])&&(o[l[d]]=s[l[d]]);return o},TI=function(s){return""+(s instanceof Date?s.getTime():s)},CI=function(s){SI(u,s);function u(){var o=s!==null&&s.apply(this,arguments)||this;return o.dom=null,o}return u.prototype.componentDidMount=function(){this.renderTimeAgo()},u.prototype.componentDidUpdate=function(){this.renderTimeAgo()},u.prototype.renderTimeAgo=function(){var o=this.props,l=o.live,d=o.datetime,f=o.locale,v=o.opts;Db(this.dom),l!==!1&&(this.dom.setAttribute("datetime",TI(d)),bI(this.dom,f,v))},u.prototype.componentWillUnmount=function(){Db(this.dom)},u.prototype.render=function(){var o=this,l=this.props,d=l.datetime;l.live;var f=l.locale,v=l.opts,y=EI(l,["datetime","live","locale","opts"]);return P("time",Yp({ref:function(w){o.dom=w}},y),yI(d,f,v))},u.defaultProps={live:!0,className:""},u}(Bt);function PI(s,u){const o=l=>{s.current&&!s.current.contains(event.target)&&u()};qe(()=>(document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)))}var Mb=Object.prototype.toString,Ib=function(s){var u=Mb.call(s),o=u==="[object Arguments]";return o||(o=u!=="[object Array]"&&s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&Mb.call(s.callee)==="[object Function]"),o},Lb;if(!Object.keys){var mc=Object.prototype.hasOwnProperty,jb=Object.prototype.toString,kI=Ib,Nb=Object.prototype.propertyIsEnumerable,_I=!Nb.call({toString:null},"toString"),RI=Nb.call(function(){},"prototype"),gc=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Kp=function(s){var u=s.constructor;return u&&u.prototype===s},OI={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},AI=function(){if(typeof window>"u")return!1;for(var s in window)try{if(!OI["$"+s]&&mc.call(window,s)&&window[s]!==null&&typeof window[s]=="object")try{Kp(window[s])}catch{return!0}}catch{return!0}return!1}(),DI=function(s){if(typeof window>"u"||!AI)return Kp(s);try{return Kp(s)}catch{return!1}};Lb=function(s){var u=s!==null&&typeof s=="object",o=jb.call(s)==="[object Function]",l=kI(s),d=u&&jb.call(s)==="[object String]",f=[];if(!u&&!o&&!l)throw new TypeError("Object.keys called on a non-object");var v=RI&&o;if(d&&s.length>0&&!mc.call(s,0))for(var y=0;y<s.length;++y)f.push(String(y));if(l&&s.length>0)for(var w=0;w<s.length;++w)f.push(String(w));else for(var x in s)!(v&&x==="prototype")&&mc.call(s,x)&&f.push(String(x));if(_I)for(var E=DI(s),R=0;R<gc.length;++R)!(E&&gc[R]==="constructor")&&mc.call(s,gc[R])&&f.push(gc[R]);return f}}var MI=Lb,II=Array.prototype.slice,LI=Ib,Fb=Object.keys,vc=Fb?function(s){return Fb(s)}:MI,Bb=Object.keys;vc.shim=function(){if(Object.keys){var s=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);s||(Object.keys=function(u){return LI(u)?Bb(II.call(u)):Bb(u)})}else Object.keys=vc;return Object.keys||vc};var jI=vc,Hb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var s={},u=Symbol("test"),o=Object(u);if(typeof u=="string"||Object.prototype.toString.call(u)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var l=42;s[u]=l;for(u in s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var d=Object.getOwnPropertySymbols(s);if(d.length!==1||d[0]!==u||!Object.prototype.propertyIsEnumerable.call(s,u))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(s,u);if(f.value!==l||f.enumerable!==!0)return!1}return!0},zb=typeof Symbol<"u"&&Symbol,NI=Hb,Vb=function(){return typeof zb!="function"||typeof Symbol!="function"||typeof zb("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:NI()},Ub={foo:{}},FI=Object,BI=function(){return{__proto__:Ub}.foo===Ub.foo&&!({__proto__:null}instanceof FI)},HI="Function.prototype.bind called on incompatible ",Jp=Array.prototype.slice,zI=Object.prototype.toString,VI="[object Function]",UI=function(s){var u=this;if(typeof u!="function"||zI.call(u)!==VI)throw new TypeError(HI+u);for(var o=Jp.call(arguments,1),l,d=function(){if(this instanceof l){var x=u.apply(this,o.concat(Jp.call(arguments)));return Object(x)===x?x:this}else return u.apply(s,o.concat(Jp.call(arguments)))},f=Math.max(0,u.length-o.length),v=[],y=0;y<f;y++)v.push("$"+y);if(l=Function("binder","return function ("+v.join(",")+"){ return binder.apply(this,arguments); }")(d),u.prototype){var w=function(){};w.prototype=u.prototype,l.prototype=new w,w.prototype=null}return l},WI=UI,Qp=Function.prototype.bind||WI,GI=Qp,Wb=GI.call(Function.call,Object.prototype.hasOwnProperty),Vt,Cs=SyntaxError,Gb=Function,Ps=TypeError,ef=function(s){try{return Gb('"use strict"; return ('+s+").constructor;")()}catch{}},Mo=Object.getOwnPropertyDescriptor;if(Mo)try{Mo({},"")}catch{Mo=null}var tf=function(){throw new Ps},qI=Mo?function(){try{return arguments.callee,tf}catch{try{return Mo(arguments,"callee").get}catch{return tf}}}():tf,ks=Vb(),$I=BI(),jn=Object.getPrototypeOf||($I?function(s){return s.__proto__}:null),_s={},ZI=typeof Uint8Array>"u"||!jn?Vt:jn(Uint8Array),Io={"%AggregateError%":typeof AggregateError>"u"?Vt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Vt:ArrayBuffer,"%ArrayIteratorPrototype%":ks&&jn?jn([][Symbol.iterator]()):Vt,"%AsyncFromSyncIteratorPrototype%":Vt,"%AsyncFunction%":_s,"%AsyncGenerator%":_s,"%AsyncGeneratorFunction%":_s,"%AsyncIteratorPrototype%":_s,"%Atomics%":typeof Atomics>"u"?Vt:Atomics,"%BigInt%":typeof BigInt>"u"?Vt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Vt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Vt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Vt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Vt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Vt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Vt:FinalizationRegistry,"%Function%":Gb,"%GeneratorFunction%":_s,"%Int8Array%":typeof Int8Array>"u"?Vt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Vt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Vt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ks&&jn?jn(jn([][Symbol.iterator]())):Vt,"%JSON%":typeof JSON=="object"?JSON:Vt,"%Map%":typeof Map>"u"?Vt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ks||!jn?Vt:jn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Vt:Promise,"%Proxy%":typeof Proxy>"u"?Vt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Vt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Vt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ks||!jn?Vt:jn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Vt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ks&&jn?jn(""[Symbol.iterator]()):Vt,"%Symbol%":ks?Symbol:Vt,"%SyntaxError%":Cs,"%ThrowTypeError%":qI,"%TypedArray%":ZI,"%TypeError%":Ps,"%Uint8Array%":typeof Uint8Array>"u"?Vt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Vt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Vt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Vt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Vt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Vt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Vt:WeakSet};if(jn)try{null.error}catch(s){var XI=jn(jn(s));Io["%Error.prototype%"]=XI}var YI=function s(u){var o;if(u==="%AsyncFunction%")o=ef("async function () {}");else if(u==="%GeneratorFunction%")o=ef("function* () {}");else if(u==="%AsyncGeneratorFunction%")o=ef("async function* () {}");else if(u==="%AsyncGenerator%"){var l=s("%AsyncGeneratorFunction%");l&&(o=l.prototype)}else if(u==="%AsyncIteratorPrototype%"){var d=s("%AsyncGenerator%");d&&jn&&(o=jn(d.prototype))}return Io[u]=o,o},qb={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},tl=Qp,yc=Wb,KI=tl.call(Function.call,Array.prototype.concat),JI=tl.call(Function.apply,Array.prototype.splice),$b=tl.call(Function.call,String.prototype.replace),wc=tl.call(Function.call,String.prototype.slice),QI=tl.call(Function.call,RegExp.prototype.exec),eL=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,tL=/\\(\\)?/g,nL=function(s){var u=wc(s,0,1),o=wc(s,-1);if(u==="%"&&o!=="%")throw new Cs("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&u!=="%")throw new Cs("invalid intrinsic syntax, expected opening `%`");var l=[];return $b(s,eL,function(d,f,v,y){l[l.length]=v?$b(y,tL,"$1"):f||d}),l},rL=function(s,u){var o=s,l;if(yc(qb,o)&&(l=qb[o],o="%"+l[0]+"%"),yc(Io,o)){var d=Io[o];if(d===_s&&(d=YI(o)),typeof d>"u"&&!u)throw new Ps("intrinsic "+s+" exists, but is not available. Please file an issue!");return{alias:l,name:o,value:d}}throw new Cs("intrinsic "+s+" does not exist!")},Wn=function(s,u){if(typeof s!="string"||s.length===0)throw new Ps("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof u!="boolean")throw new Ps('"allowMissing" argument must be a boolean');if(QI(/^%?[^%]*%?$/,s)===null)throw new Cs("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=nL(s),l=o.length>0?o[0]:"",d=rL("%"+l+"%",u),f=d.name,v=d.value,y=!1,w=d.alias;w&&(l=w[0],JI(o,KI([0,1],w)));for(var x=1,E=!0;x<o.length;x+=1){var R=o[x],O=wc(R,0,1),F=wc(R,-1);if((O==='"'||O==="'"||O==="`"||F==='"'||F==="'"||F==="`")&&O!==F)throw new Cs("property names with quotes must have matching quotes");if((R==="constructor"||!E)&&(y=!0),l+="."+R,f="%"+l+"%",yc(Io,f))v=Io[f];else if(v!=null){if(!(R in v)){if(!u)throw new Ps("base intrinsic for "+s+" exists, but the property is not available.");return}if(Mo&&x+1>=o.length){var G=Mo(v,R);E=!!G,E&&"get"in G&&!("originalValue"in G.get)?v=G.get:v=v[R]}else E=yc(v,R),v=v[R];E&&!y&&(Io[f]=v)}}return v},iL=Wn,nf=iL("%Object.defineProperty%",!0),rf=function(){if(nf)try{return nf({},"a",{value:1}),!0}catch{return!1}return!1};rf.hasArrayLengthDefineBug=function(){if(!rf())return null;try{return nf([],"length",{value:1}).length!==1}catch{return!0}};var oL=rf,sL=jI,aL=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",lL=Object.prototype.toString,uL=Array.prototype.concat,Zb=Object.defineProperty,cL=function(s){return typeof s=="function"&&lL.call(s)==="[object Function]"},dL=oL(),Xb=Zb&&dL,hL=function(s,u,o,l){if(u in s){if(l===!0){if(s[u]===o)return}else if(!cL(l)||!l())return}Xb?Zb(s,u,{configurable:!0,enumerable:!1,value:o,writable:!0}):s[u]=o},Yb=function(s,u){var o=arguments.length>2?arguments[2]:{},l=sL(u);aL&&(l=uL.call(l,Object.getOwnPropertySymbols(u)));for(var d=0;d<l.length;d+=1)hL(s,l[d],u[l[d]],o[l[d]])};Yb.supportsDescriptors=!!Xb;var Rs=Yb,nl={exports:{}};(function(s){var u=Qp,o=Wn,l=o("%Function.prototype.apply%"),d=o("%Function.prototype.call%"),f=o("%Reflect.apply%",!0)||u.call(d,l),v=o("%Object.getOwnPropertyDescriptor%",!0),y=o("%Object.defineProperty%",!0),w=o("%Math.max%");if(y)try{y({},"a",{value:1})}catch{y=null}s.exports=function(E){var R=f(u,d,arguments);if(v&&y){var O=v(R,"length");O.configurable&&y(R,"length",{value:1+w(0,E.length-(arguments.length-1))})}return R};var x=function(){return f(u,l,arguments)};y?y(s.exports,"apply",{value:x}):s.exports.apply=x})(nl);var Kb=Wn,Jb=nl.exports,pL=Jb(Kb("String.prototype.indexOf")),Ci=function(s,u){var o=Kb(s,!!u);return typeof o=="function"&&pL(s,".prototype.")>-1?Jb(o):o},fL=Wn,mL=fL("%TypeError%"),gL=function(s,u){if(s==null)throw new mL(u||"Cannot call method on "+s);return s},rl=gL,vL=Wn,Qb=vL("%Array%"),yL=!Qb.isArray&&Ci("Object.prototype.toString"),wL=Qb.isArray||function(s){return yL(s)==="[object Array]"},xL=wL,e0=Wn,bL=Ci,SL=e0("%TypeError%"),EL=xL,TL=e0("%Reflect.apply%",!0)||bL("Function.prototype.apply"),CL=function(s,u){var o=arguments.length>2?arguments[2]:[];if(!EL(o))throw new SL("Assertion failed: optional `argumentsList`, if provided, must be a List");return TL(s,u,o)},PL={},kL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:PL}),_L=jp(kL),of=typeof Map=="function"&&Map.prototype,sf=Object.getOwnPropertyDescriptor&&of?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,xc=of&&sf&&typeof sf.get=="function"?sf.get:null,t0=of&&Map.prototype.forEach,af=typeof Set=="function"&&Set.prototype,lf=Object.getOwnPropertyDescriptor&&af?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,bc=af&&lf&&typeof lf.get=="function"?lf.get:null,n0=af&&Set.prototype.forEach,RL=typeof WeakMap=="function"&&WeakMap.prototype,il=RL?WeakMap.prototype.has:null,OL=typeof WeakSet=="function"&&WeakSet.prototype,ol=OL?WeakSet.prototype.has:null,AL=typeof WeakRef=="function"&&WeakRef.prototype,r0=AL?WeakRef.prototype.deref:null,DL=Boolean.prototype.valueOf,ML=Object.prototype.toString,IL=Function.prototype.toString,LL=String.prototype.match,uf=String.prototype.slice,Wi=String.prototype.replace,jL=String.prototype.toUpperCase,i0=String.prototype.toLowerCase,o0=RegExp.prototype.test,s0=Array.prototype.concat,li=Array.prototype.join,NL=Array.prototype.slice,a0=Math.floor,cf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,df=Object.getOwnPropertySymbols,hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Os=typeof Symbol=="function"&&typeof Symbol.iterator=="object",nr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Os||!0)?Symbol.toStringTag:null,l0=Object.prototype.propertyIsEnumerable,u0=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(s){return s.__proto__}:null);function c0(s,u){if(s===1/0||s===-1/0||s!==s||s&&s>-1e3&&s<1e3||o0.call(/e/,u))return u;var o=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof s=="number"){var l=s<0?-a0(-s):a0(s);if(l!==s){var d=String(l),f=uf.call(u,d.length+1);return Wi.call(d,o,"$&_")+"."+Wi.call(Wi.call(f,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Wi.call(u,o,"$&_")}var pf=_L,d0=pf.custom,h0=m0(d0)?d0:null,FL=function s(u,o,l,d){var f=o||{};if(Gi(f,"quoteStyle")&&f.quoteStyle!=="single"&&f.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Gi(f,"maxStringLength")&&(typeof f.maxStringLength=="number"?f.maxStringLength<0&&f.maxStringLength!==1/0:f.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var v=Gi(f,"customInspect")?f.customInspect:!0;if(typeof v!="boolean"&&v!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Gi(f,"indent")&&f.indent!==null&&f.indent!=="	"&&!(parseInt(f.indent,10)===f.indent&&f.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Gi(f,"numericSeparator")&&typeof f.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var y=f.numericSeparator;if(typeof u>"u")return"undefined";if(u===null)return"null";if(typeof u=="boolean")return u?"true":"false";if(typeof u=="string")return v0(u,f);if(typeof u=="number"){if(u===0)return 1/0/u>0?"0":"-0";var w=String(u);return y?c0(u,w):w}if(typeof u=="bigint"){var x=String(u)+"n";return y?c0(u,x):x}var E=typeof f.depth>"u"?5:f.depth;if(typeof l>"u"&&(l=0),l>=E&&E>0&&typeof u=="object")return ff(u)?"[Array]":"[Object]";var R=nj(f,l);if(typeof d>"u")d=[];else if(g0(d,u)>=0)return"[Circular]";function O(mt,ft,At){if(ft&&(d=NL.call(d),d.push(ft)),At){var Rt={depth:f.depth};return Gi(f,"quoteStyle")&&(Rt.quoteStyle=f.quoteStyle),s(mt,Rt,l+1,d)}return s(mt,f,l+1,d)}if(typeof u=="function"&&!f0(u)){var F=$L(u),G=Sc(u,O);return"[Function"+(F?": "+F:" (anonymous)")+"]"+(G.length>0?" { "+li.call(G,", ")+" }":"")}if(m0(u)){var re=Os?Wi.call(String(u),/^(Symbol\(.*\))_[^)]*$/,"$1"):hf.call(u);return typeof u=="object"&&!Os?sl(re):re}if(QL(u)){for(var J="<"+i0.call(String(u.nodeName)),se=u.attributes||[],D=0;D<se.length;D++)J+=" "+se[D].name+"="+p0(BL(se[D].value),"double",f);return J+=">",u.childNodes&&u.childNodes.length&&(J+="..."),J+="</"+i0.call(String(u.nodeName))+">",J}if(ff(u)){if(u.length===0)return"[]";var te=Sc(u,O);return R&&!tj(te)?"["+gf(te,R)+"]":"[ "+li.call(te,", ")+" ]"}if(zL(u)){var ce=Sc(u,O);return!("cause"in Error.prototype)&&"cause"in u&&!l0.call(u,"cause")?"{ ["+String(u)+"] "+li.call(s0.call("[cause]: "+O(u.cause),ce),", ")+" }":ce.length===0?"["+String(u)+"]":"{ ["+String(u)+"] "+li.call(ce,", ")+" }"}if(typeof u=="object"&&v){if(h0&&typeof u[h0]=="function"&&pf)return pf(u,{depth:E-l});if(v!=="symbol"&&typeof u.inspect=="function")return u.inspect()}if(ZL(u)){var ue=[];return t0&&t0.call(u,function(mt,ft){ue.push(O(ft,u,!0)+" => "+O(mt,u))}),y0("Map",xc.call(u),ue,R)}if(KL(u)){var ye=[];return n0&&n0.call(u,function(mt){ye.push(O(mt,u))}),y0("Set",bc.call(u),ye,R)}if(XL(u))return mf("WeakMap");if(JL(u))return mf("WeakSet");if(YL(u))return mf("WeakRef");if(UL(u))return sl(O(Number(u)));if(GL(u))return sl(O(cf.call(u)));if(WL(u))return sl(DL.call(u));if(VL(u))return sl(O(String(u)));if(!HL(u)&&!f0(u)){var xe=Sc(u,O),Fe=u0?u0(u)===Object.prototype:u instanceof Object||u.constructor===Object,ze=u instanceof Object?"":"null prototype",tt=!Fe&&nr&&Object(u)===u&&nr in u?uf.call(qi(u),8,-1):ze?"Object":"",st=Fe||typeof u.constructor!="function"?"":u.constructor.name?u.constructor.name+" ":"",nt=st+(tt||ze?"["+li.call(s0.call([],tt||[],ze||[]),": ")+"] ":"");return xe.length===0?nt+"{}":R?nt+"{"+gf(xe,R)+"}":nt+"{ "+li.call(xe,", ")+" }"}return String(u)};function p0(s,u,o){var l=(o.quoteStyle||u)==="double"?'"':"'";return l+s+l}function BL(s){return Wi.call(String(s),/"/g,"&quot;")}function ff(s){return qi(s)==="[object Array]"&&(!nr||!(typeof s=="object"&&nr in s))}function HL(s){return qi(s)==="[object Date]"&&(!nr||!(typeof s=="object"&&nr in s))}function f0(s){return qi(s)==="[object RegExp]"&&(!nr||!(typeof s=="object"&&nr in s))}function zL(s){return qi(s)==="[object Error]"&&(!nr||!(typeof s=="object"&&nr in s))}function VL(s){return qi(s)==="[object String]"&&(!nr||!(typeof s=="object"&&nr in s))}function UL(s){return qi(s)==="[object Number]"&&(!nr||!(typeof s=="object"&&nr in s))}function WL(s){return qi(s)==="[object Boolean]"&&(!nr||!(typeof s=="object"&&nr in s))}function m0(s){if(Os)return s&&typeof s=="object"&&s instanceof Symbol;if(typeof s=="symbol")return!0;if(!s||typeof s!="object"||!hf)return!1;try{return hf.call(s),!0}catch{}return!1}function GL(s){if(!s||typeof s!="object"||!cf)return!1;try{return cf.call(s),!0}catch{}return!1}var qL=Object.prototype.hasOwnProperty||function(s){return s in this};function Gi(s,u){return qL.call(s,u)}function qi(s){return ML.call(s)}function $L(s){if(s.name)return s.name;var u=LL.call(IL.call(s),/^function\s*([\w$]+)/);return u?u[1]:null}function g0(s,u){if(s.indexOf)return s.indexOf(u);for(var o=0,l=s.length;o<l;o++)if(s[o]===u)return o;return-1}function ZL(s){if(!xc||!s||typeof s!="object")return!1;try{xc.call(s);try{bc.call(s)}catch{return!0}return s instanceof Map}catch{}return!1}function XL(s){if(!il||!s||typeof s!="object")return!1;try{il.call(s,il);try{ol.call(s,ol)}catch{return!0}return s instanceof WeakMap}catch{}return!1}function YL(s){if(!r0||!s||typeof s!="object")return!1;try{return r0.call(s),!0}catch{}return!1}function KL(s){if(!bc||!s||typeof s!="object")return!1;try{bc.call(s);try{xc.call(s)}catch{return!0}return s instanceof Set}catch{}return!1}function JL(s){if(!ol||!s||typeof s!="object")return!1;try{ol.call(s,ol);try{il.call(s,il)}catch{return!0}return s instanceof WeakSet}catch{}return!1}function QL(s){return!s||typeof s!="object"?!1:typeof HTMLElement<"u"&&s instanceof HTMLElement?!0:typeof s.nodeName=="string"&&typeof s.getAttribute=="function"}function v0(s,u){if(s.length>u.maxStringLength){var o=s.length-u.maxStringLength,l="... "+o+" more character"+(o>1?"s":"");return v0(uf.call(s,0,u.maxStringLength),u)+l}var d=Wi.call(Wi.call(s,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ej);return p0(d,"single",u)}function ej(s){var u=s.charCodeAt(0),o={8:"b",9:"t",10:"n",12:"f",13:"r"}[u];return o?"\\"+o:"\\x"+(u<16?"0":"")+jL.call(u.toString(16))}function sl(s){return"Object("+s+")"}function mf(s){return s+" { ? }"}function y0(s,u,o,l){var d=l?gf(o,l):li.call(o,", ");return s+" ("+u+") {"+d+"}"}function tj(s){for(var u=0;u<s.length;u++)if(g0(s[u],`
`)>=0)return!1;return!0}function nj(s,u){var o;if(s.indent==="	")o="	";else if(typeof s.indent=="number"&&s.indent>0)o=li.call(Array(s.indent+1)," ");else return null;return{base:o,prev:li.call(Array(u+1),o)}}function gf(s,u){if(s.length===0)return"";var o=`
`+u.prev+u.base;return o+li.call(s,","+o)+`
`+u.prev}function Sc(s,u){var o=ff(s),l=[];if(o){l.length=s.length;for(var d=0;d<s.length;d++)l[d]=Gi(s,d)?u(s[d],s):""}var f=typeof df=="function"?df(s):[],v;if(Os){v={};for(var y=0;y<f.length;y++)v["$"+f[y]]=f[y]}for(var w in s)!Gi(s,w)||o&&String(Number(w))===w&&w<s.length||Os&&v["$"+w]instanceof Symbol||(o0.call(/[^\w$]/,w)?l.push(u(w,s)+": "+u(s[w],s)):l.push(w+": "+u(s[w],s)));if(typeof df=="function")for(var x=0;x<f.length;x++)l0.call(s,f[x])&&l.push("["+u(f[x])+"]: "+u(s[f[x]],s));return l}var w0=function(s){return typeof s=="string"||typeof s=="symbol"},rj=function(s){if(s===null)return"Null";if(typeof s>"u")return"Undefined";if(typeof s=="function"||typeof s=="object")return"Object";if(typeof s=="number")return"Number";if(typeof s=="boolean")return"Boolean";if(typeof s=="string")return"String"},ij=rj,al=function(s){return typeof s=="symbol"?"Symbol":typeof s=="bigint"?"BigInt":ij(s)},oj=Wn,x0=oj("%TypeError%"),sj=FL,aj=w0,lj=al,b0=function(s,u){if(lj(s)!=="Object")throw new x0("Assertion failed: Type(O) is not Object");if(!aj(u))throw new x0("Assertion failed: IsPropertyKey(P) is not true, got "+sj(u));return s[u]},uj=Wn,S0=uj("%TypeError%"),cj=w0,dj=al,hj=function(s,u){if(dj(s)!=="Object")throw new S0("Assertion failed: `O` must be an Object");if(!cj(u))throw new S0("Assertion failed: `P` must be a Property Key");return u in s},E0=Function.prototype.toString,As=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,vf,Ec;if(typeof As=="function"&&typeof Object.defineProperty=="function")try{vf=Object.defineProperty({},"length",{get:function(){throw Ec}}),Ec={},As(function(){throw 42},null,vf)}catch(s){s!==Ec&&(As=null)}else As=null;var pj=/^\s*class\b/,yf=function(s){try{var u=E0.call(s);return pj.test(u)}catch{return!1}},wf=function(s){try{return yf(s)?!1:(E0.call(s),!0)}catch{return!1}},Tc=Object.prototype.toString,fj="[object Object]",mj="[object Function]",gj="[object GeneratorFunction]",vj="[object HTMLAllCollection]",yj="[object HTML document.all class]",wj="[object HTMLCollection]",xj=typeof Symbol=="function"&&!!Symbol.toStringTag,bj=!(0 in[,]),xf=function(){return!1};if(typeof document=="object"){var Sj=document.all;Tc.call(Sj)===Tc.call(document.all)&&(xf=function(s){if((bj||!s)&&(typeof s>"u"||typeof s=="object"))try{var u=Tc.call(s);return(u===vj||u===yj||u===wj||u===fj)&&s("")==null}catch{}return!1})}var T0=As?function(s){if(xf(s))return!0;if(!s||typeof s!="function"&&typeof s!="object")return!1;try{As(s,null,vf)}catch(u){if(u!==Ec)return!1}return!yf(s)&&wf(s)}:function(s){if(xf(s))return!0;if(!s||typeof s!="function"&&typeof s!="object")return!1;if(xj)return wf(s);if(yf(s))return!1;var u=Tc.call(s);return u!==mj&&u!==gj&&!/^\[object HTML/.test(u)?!1:wf(s)},Ej=T0,C0=Wn,Tj=C0("%Math%"),Cj=C0("%Number%"),Pj=Cj.MAX_SAFE_INTEGER||Tj.pow(2,53)-1,kj=Wn,_j=kj("%Math.abs%"),Rj=function(s){return _j(s)},Oj=al,Aj=Math.floor,Dj=function(s){return Oj(s)==="BigInt"?s:Aj(s)},Mj=function(s){return s===null||typeof s!="function"&&typeof s!="object"},Ij=function(s){return s===null||typeof s!="function"&&typeof s!="object"},Lj=Hb,bf=function(){return Lj()&&!!Symbol.toStringTag},jj=Date.prototype.getDay,Nj=function(s){try{return jj.call(s),!0}catch{return!1}},Fj=Object.prototype.toString,Bj="[object Date]",Hj=bf(),zj=function(s){return typeof s!="object"||s===null?!1:Hj?Nj(s):Fj.call(s)===Bj},Sf={exports:{}},Vj=Object.prototype.toString,Uj=Vb();if(Uj){var Wj=Symbol.prototype.toString,Gj=/^Symbol\(.*\)$/,qj=function(s){return typeof s.valueOf()!="symbol"?!1:Gj.test(Wj.call(s))};Sf.exports=function(s){if(typeof s=="symbol")return!0;if(Vj.call(s)!=="[object Symbol]")return!1;try{return qj(s)}catch{return!1}}}else Sf.exports=function(s){return!1};var $j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",Ef=Ij,P0=T0,Zj=zj,k0=Sf.exports,Xj=function(s,u){if(typeof s>"u"||s===null)throw new TypeError("Cannot call method on "+s);if(typeof u!="string"||u!=="number"&&u!=="string")throw new TypeError('hint must be "string" or "number"');var o=u==="string"?["toString","valueOf"]:["valueOf","toString"],l,d,f;for(f=0;f<o.length;++f)if(l=s[o[f]],P0(l)&&(d=l.call(s),Ef(d)))return d;throw new TypeError("No default value")},Yj=function(s,u){var o=s[u];if(o!==null&&typeof o<"u"){if(!P0(o))throw new TypeError(o+" returned for property "+u+" of object "+s+" is not a function");return o}},Kj=function(s){if(Ef(s))return s;var u="default";arguments.length>1&&(arguments[1]===String?u="string":arguments[1]===Number&&(u="number"));var o;if($j&&(Symbol.toPrimitive?o=Yj(s,Symbol.toPrimitive):k0(s)&&(o=Symbol.prototype.valueOf)),typeof o<"u"){var l=o.call(s,u);if(Ef(l))return l;throw new TypeError("unable to convert exotic object to primitive")}return u==="default"&&(Zj(s)||k0(s))&&(u="string"),Xj(s,u==="default"?"number":u)},_0=Kj,Jj=function(s){return arguments.length>1?_0(s,arguments[1]):_0(s)},Tf=Ci,R0=bf(),O0,A0,Cf,Pf;if(R0){O0=Tf("Object.prototype.hasOwnProperty"),A0=Tf("RegExp.prototype.exec"),Cf={};var kf=function(){throw Cf};Pf={toString:kf,valueOf:kf},typeof Symbol.toPrimitive=="symbol"&&(Pf[Symbol.toPrimitive]=kf)}var Qj=Tf("Object.prototype.toString"),eN=Object.getOwnPropertyDescriptor,tN="[object RegExp]",nN=R0?function(s){if(!s||typeof s!="object")return!1;var u=eN(s,"lastIndex"),o=u&&O0(u,"value");if(!o)return!1;try{A0(s,Pf)}catch(l){return l===Cf}}:function(s){return!s||typeof s!="object"&&typeof s!="function"?!1:Qj(s)===tN},rN=Ci,iN=Wn,oN=nN,sN=rN("RegExp.prototype.exec"),aN=iN("%TypeError%"),lN=function(s){if(!oN(s))throw new aN("`regex` must be a RegExp");return function(u){return sN(s,u)!==null}},D0=Wn,uN=D0("%String%"),cN=D0("%TypeError%"),M0=function(s){if(typeof s=="symbol")throw new cN("Cannot convert a Symbol value to a string");return uN(s)},dN=rl,hN=M0,pN=Ci,I0=pN("String.prototype.replace"),L0=/^\s$/.test(""),fN=L0?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,mN=L0?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,j0=function(){var s=hN(dN(this));return I0(I0(s,fN,""),mN,"")},gN=j0,N0="",Ds="",F0=function(){return String.prototype.trim&&N0.trim()===N0&&Ds.trim()===Ds&&("_"+Ds).trim()==="_"+Ds&&(Ds+"_").trim()===Ds+"_"?String.prototype.trim:gN},vN=Rs,yN=F0,wN=function(){var s=yN();return vN(String.prototype,{trim:s},{trim:function(){return String.prototype.trim!==s}}),s},xN=nl.exports,bN=Rs,SN=rl,EN=j0,B0=F0,TN=wN,CN=xN(B0()),H0=function(s){return SN(s),CN(s)};bN(H0,{getPolyfill:B0,implementation:EN,shim:TN});var z0=H0,Cc=Wn,_f=Cc("%Number%"),PN=Cc("%RegExp%"),kN=Cc("%TypeError%"),V0=Cc("%parseInt%"),_N=Ci,Pc=lN,U0=_N("String.prototype.slice"),RN=Pc(/^0b[01]+$/i),ON=Pc(/^0o[0-7]+$/i),AN=Pc(/^[-+]0x[0-9a-f]+$/i),DN=["","",""].join(""),MN=new PN("["+DN+"]","g"),IN=Pc(MN),LN=z0,jN=al,NN=function s(u){if(jN(u)!=="String")throw new kN("Assertion failed: `argument` is not a String");if(RN(u))return _f(V0(U0(u,2),2));if(ON(u))return _f(V0(U0(u,2),8));if(IN(u)||AN(u))return NaN;var o=LN(u);return o!==u?s(o):_f(u)},W0=Wn,G0=W0("%TypeError%"),q0=W0("%Number%"),FN=Mj,BN=Jj,HN=NN,zN=function(s){var u=FN(s)?s:BN(s,q0);if(typeof u=="symbol")throw new G0("Cannot convert a Symbol value to a number");if(typeof u=="bigint")throw new G0("Conversion from 'BigInt' to 'number' is not allowed.");return typeof u=="string"?HN(u):q0(u)},$0=Number.isNaN||function(s){return s!==s},VN=$0,UN=function(s){return(typeof s=="number"||typeof s=="bigint")&&!VN(s)&&s!==1/0&&s!==-1/0},WN=function(s){return s>=0?1:-1},GN=Rj,qN=Dj,$N=zN,ZN=$0,XN=UN,YN=WN,KN=function(s){var u=$N(s);if(ZN(u)||u===0)return 0;if(!XN(u))return u;var o=qN(GN(u));return o===0?0:YN(u)*o},Z0=Pj,JN=KN,QN=function(s){var u=JN(s);return u<=0?0:u>Z0?Z0:u},eF=Wn,tF=eF("%TypeError%"),nF=b0,rF=QN,iF=al,oF=function(s){if(iF(s)!=="Object")throw new tF("Assertion failed: `obj` must be an Object");return rF(nF(s,"length"))},sF=Wn,aF=sF("%Object%"),lF=rl,uF=function(s){return lF(s),aF(s)},cF=String.prototype.valueOf,dF=function(s){try{return cF.call(s),!0}catch{return!1}},hF=Object.prototype.toString,pF="[object String]",fF=bf(),mF=function(s){return typeof s=="string"?!0:typeof s!="object"?!1:fF?dF(s):hF.call(s)===pF},gF=Wn,vF=Ci,yF=gF("%TypeError%"),wF=CL,xF=b0,bF=hj,SF=Ej,EF=oF,TF=uF,CF=M0,PF=mF,kF=vF("String.prototype.split"),X0=Object("a"),_F=X0[0]!=="a"||!(0 in X0),Y0=function(s){var u=TF(this),o=_F&&PF(this)?kF(this,""):u,l=EF(o);if(!SF(s))throw new yF("Array.prototype.forEach callback must be a function");var d;arguments.length>1&&(d=arguments[1]);for(var f=0;f<l;){var v=CF(f),y=bF(o,v);if(y){var w=xF(o,v);wF(s,d,[w,f,o])}f+=1}},RF=function(s){var u=!0,o=!0,l=!1;if(typeof s=="function"){try{s.call("f",function(d,f,v){typeof v!="object"&&(u=!1)}),s.call([null],function(){"use strict";o=typeof this=="string"},"x")}catch{l=!0}return!l&&u&&o}return!1},OF=RF,AF=Y0,K0=function(){var s=Array.prototype.forEach;return OF(s)?s:AF},DF=Rs,MF=K0,IF=function(){var s=MF();return DF(Array.prototype,{forEach:s},{forEach:function(){return Array.prototype.forEach!==s}}),s},LF=Rs,jF=nl.exports,NF=Ci,FF=rl,BF=Y0,J0=K0,HF=J0(),zF=IF,VF=NF("Array.prototype.slice"),UF=jF.apply(HF),Q0=function(s,u){return FF(s),UF(s,VF(arguments,1))};LF(Q0,{getPolyfill:J0,implementation:BF,shim:zF});var WF=Q0,GF=rl,eS=Ci,qF=eS("Object.prototype.propertyIsEnumerable"),$F=eS("Array.prototype.push"),tS=function(s){var u=GF(s),o=[];for(var l in u)qF(u,l)&&$F(o,[l,u[l]]);return o},ZF=tS,nS=function(){return typeof Object.entries=="function"?Object.entries:ZF},XF=nS,YF=Rs,KF=function(){var s=XF();return YF(Object,{entries:s},{entries:function(){return Object.entries!==s}}),s},JF=Rs,QF=nl.exports,eB=tS,rS=nS,tB=KF,iS=QF(rS(),Object);JF(iS,{getPolyfill:rS,implementation:eB,shim:tB});var nB=iS,kc=WF,Rf=nB,oS=Wb,rB=z0,iB=function(s){},sS=String.prototype.replace,aS=String.prototype.split,_c="||||",Of=function(s){var u=s%100,o=u%10;return u!==11&&o===1?0:2<=o&&o<=4&&!(u>=12&&u<=14)?1:2},lS={pluralTypes:{arabic:function(s){if(s<3)return s;var u=s%100;return u>=3&&u<=10?3:u>=11?4:5},bosnian_serbian:Of,chinese:function(){return 0},croatian:Of,french:function(s){return s>=2?1:0},german:function(s){return s!==1?1:0},russian:Of,lithuanian:function(s){return s%10===1&&s%100!==11?0:s%10>=2&&s%10<=9&&(s%100<11||s%100>19)?1:2},czech:function(s){return s===1?0:s>=2&&s<=4?1:2},polish:function(s){if(s===1)return 0;var u=s%10;return 2<=u&&u<=4&&(s%100<10||s%100>=20)?1:2},icelandic:function(s){return s%10!==1||s%100===11?1:0},slovenian:function(s){var u=s%100;return u===1?0:u===2?1:u===3||u===4?2:3},romanian:function(s){if(s===1)return 0;var u=s%100;return s===0||u>=2&&u<=19?1:2}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is","mk"],slovenian:["sl-SL"],romanian:["ro"]}};function oB(s){var u={};return kc(Rf(s),function(o){var l=o[0],d=o[1];kc(d,function(f){u[f]=l})}),u}function sB(s,u){var o=oB(s.pluralTypeToLanguages);return o[u]||o[aS.call(u,/-/,1)[0]]||o.en}function aB(s,u,o){return s.pluralTypes[u](o)}function lB(){var s={};return function(u,o){var l=s[o];return l&&!u.pluralTypes[l]&&(l=null,s[o]=l),l||(l=sB(u,o),l&&(s[o]=l)),l}}function uS(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function uB(s){var u=s&&s.prefix||"%{",o=s&&s.suffix||"}";if(u===_c||o===_c)throw new RangeError('"'+_c+'" token is reserved for pluralization');return new RegExp(uS(u)+"(.*?)"+uS(o),"g")}var cB=lB(),dB=/%\{(.*?)\}/g;function Af(s,u,o,l,d,f){if(typeof s!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(u==null)return s;var v=s,y=l||dB,w=f||sS,x=typeof u=="number"?{smart_count:u}:u;if(x.smart_count!=null&&s){var E=d||lS,R=aS.call(s,_c),O=o||"en",F=cB(E,O),G=aB(E,F,x.smart_count);v=rB(R[G]||R[0])}return v=w.call(v,y,function(re,J){return!oS(x,J)||x[J]==null?re:x[J]}),v}function Pi(s){var u=s||{};this.phrases={},this.extend(u.phrases||{}),this.currentLocale=u.locale||"en";var o=u.allowMissing?Af:null;this.onMissingKey=typeof u.onMissingKey=="function"?u.onMissingKey:o,this.warn=u.warn||iB,this.replaceImplementation=u.replace||sS,this.tokenRegex=uB(u.interpolation),this.pluralRules=u.pluralRules||lS}Pi.prototype.locale=function(s){return s&&(this.currentLocale=s),this.currentLocale},Pi.prototype.extend=function(s,u){kc(Rf(s||{}),function(o){var l=o[0],d=o[1],f=u?u+"."+l:l;typeof d=="object"?this.extend(d,f):this.phrases[f]=d},this)},Pi.prototype.unset=function(s,u){typeof s=="string"?delete this.phrases[s]:kc(Rf(s||{}),function(o){var l=o[0],d=o[1],f=u?u+"."+l:l;typeof d=="object"?this.unset(d,f):delete this.phrases[f]},this)},Pi.prototype.clear=function(){this.phrases={}},Pi.prototype.replace=function(s){this.clear(),this.extend(s)},Pi.prototype.t=function(s,u){var o,l,d=u??{};if(typeof this.phrases[s]=="string")o=this.phrases[s];else if(typeof d._=="string")o=d._;else if(this.onMissingKey){var f=this.onMissingKey;l=f(s,d,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)}else this.warn('Missing translation for key: "'+s+'"'),l=s;return typeof o=="string"&&(l=Af(o,d,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)),l},Pi.prototype.has=function(s){return oS(this.phrases,s)},Pi.transformPhrase=function(s,u,o){return Af(s,u,o)};var hB=Pi,pB={"Add a comment...":" ","Add a reply...":" ","Add tag...":" ",Cancel:"",Close:"",Edit:"Edit",Delete:"Delete",Ok:""},fB={"Add a comment...":"Napsat koment...","Add a reply...":"Odpovdt...","Add tag...":"Pidat ttek...",Cancel:"Zruit",Close:"Zavt",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},mB={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"Lschen",Ok:"Ok"},gB={"Add a comment...":"...","Add a reply...":"...","Add tag...":" tag...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:"Ok"},vB={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},yB={"Add a comment...":"Lis kommentti","Add a reply...":"Lis vastaus","Add tag...":"Lis tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},wB={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une rponse...","Add tag...":"Ajouter une tiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"diter",Delete:"Supprimer",Ok:"Ok"},xB={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},bB={"Add a comment...":" ","Add a reply...":" ","Add tag...":" ",Cancel:" ",Close:" ",Edit:" ",Delete:"",Ok:" "},SB={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},EB={"Add a comment...":"...","Add a reply...":"...","Add tag...":"...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:"Ok"},TB={"Add a comment...":" ","Add a reply...":" ","Add tag...":" ",Cancel:"",Close:"",Edit:"",Delete:"",Ok:""},CB={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},PB={"Add a comment...":"Adicionar um comentrio...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},kB={"Add a comment...":" ...","Add a reply...":" ...","Add tag...":" ...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:""},_B={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"Stng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},RB={"Add a comment...":"...","Add a reply...":"...","Add tag...":"...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:""},OB={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"ptal",Close:"Kapat",Edit:"Dzenle",Delete:"Sil",Ok:"Tamam"},AB={"Add a comment...":" ","Add a reply...":" ","Add tag...":" ",Cancel:" ",Close:" ",Edit:" ",Delete:"",Ok:" "},DB={"Add a comment...":"...","Add a reply...":"...","Add tag...":"...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:""},MB={"Add a comment...":"...","Add a reply...":"...","Add tag...":"...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:""},cS={};Object.defineProperty(cS,"__esModule",{value:!0});var Df=[["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "]];function IB(s,u){return u<3?Df[s][u-1]:u>=3&&u<=10?Df[s][2]:Df[s][3]}function LB(s,u){if(u===0)return[" "," "];var o=IB(Math.floor(u/2),s);return[" "+o," "+o]}var jB=cS.default=LB,dS={};Object.defineProperty(dS,"__esModule",{value:!0});function NB(s,u){var o=0,l=u==1||u==3||u==5||u==7||u==9||u==11||u==13;return l&&s>=5&&(o=1),[[["prv te","prv te"]],[["ped %s vteinami","za %s vteiny"],["ped %s vteinami","za %s vtein"]],[["ped minutou","za minutu"]],[["ped %s minutami","za %s minuty"],["ped %s minutami","za %s minut"]],[["ped hodinou","za hodinu"]],[["ped %s hodinami","za %s hodiny"],["ped %s hodinami","za %s hodin"]],[["vera","ztra"]],[["ped %s dny","za %s dny"],["ped %s dny","za %s dn"]],[["minul tden","pt tden"]],[["ped %s tdny","za %s tdny"],["ped %s tdny","za %s tdn"]],[["minul msc","pst msc"]],[["ped %s msci","za %s msce"],["ped %s msci","za %s msc"]],[["ped rokem","pst rok"]],[["ped %s lety","za %s roky"],["ped %s lety","za %s let"]]][u][o]}var FB=dS.default=NB,hS={};Object.defineProperty(hS,"__esModule",{value:!0});function BB(s,u){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][u]}var HB=hS.default=BB,pS={};Object.defineProperty(pS,"__esModule",{value:!0});function zB(s,u){return[[" "," "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "]][u]}var VB=pS.default=zB,fS={};Object.defineProperty(fS,"__esModule",{value:!0});function UB(s,u){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 da","en 1 da"],["hace %s das","en %s das"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 ao","en 1 ao"],["hace %s aos","en %s aos"]][u]}var WB=fS.default=UB,mS={};Object.defineProperty(mS,"__esModule",{value:!0});function GB(s,u){return[["juuri sken","juuri nyt"],["%s sekuntia sitten","%s sekunnin pst"],["minuutti sitten","minuutin pst"],["%s minuuttia sitten","%s minuutin pst"],["tunti sitten","tunnin pst"],["%s tuntia sitten","%s tunnin pst"],["piv sitten","pivn pst"],["%s piv sitten","%s pivn pst"],["viikko sitten","viikon pst"],["%s viikkoa sitten","%s viikon pst"],["kuukausi sitten","kuukauden pst"],["%s kuukautta sitten","%s kuukauden pst"],["vuosi sitten","vuoden pst"],["%s vuotta sitten","%s vuoden pst"]][u]}var qB=mS.default=GB,gS={};Object.defineProperty(gS,"__esModule",{value:!0});function $B(s,u){return[[" l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][u]}var ZB=gS.default=$B,vS={};Object.defineProperty(vS,"__esModule",{value:!0});function XB(s,u){return[["xusto agora","daqu a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 da","nun da"],["hai %s das","en %s das"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][u]}var YB=vS.default=XB,yS={};Object.defineProperty(yS,"__esModule",{value:!0});function KB(s,u){return[[""," "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "]][u]}var JB=yS.default=KB,wS={};Object.defineProperty(wS,"__esModule",{value:!0});function QB(s,u){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][u]}var eH=wS.default=QB,xS={};Object.defineProperty(xS,"__esModule",{value:!0});function tH(s,u){return[["",""],["%s","%s"],["1","1"],["%s","%s"],["1","1"],["%s","%s"],["1","1"],["%s","%s"],["1","1"],["%s","%s"],["1","1"],["%s","%s"],["1","1"],["%s","%s"]][u]}var nH=xS.default=tH,bS={};Object.defineProperty(bS,"__esModule",{value:!0});function rH(s,u){return[["",""],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "]][u]}var iH=bS.default=rH,SS={};Object.defineProperty(SS,"__esModule",{value:!0});function oH(s,u){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][u]}var sH=SS.default=oH,ES={};Object.defineProperty(ES,"__esModule",{value:!0});function aH(s,u){return[["agora mesmo","agora"],["h %s segundos","em %s segundos"],["h um minuto","em um minuto"],["h %s minutos","em %s minutos"],["h uma hora","em uma hora"],["h %s horas","em %s horas"],["h um dia","em um dia"],["h %s dias","em %s dias"],["h uma semana","em uma semana"],["h %s semanas","em %s semanas"],["h um ms","em um ms"],["h %s meses","em %s meses"],["h um ano","em um ano"],["h %s anos","em %s anos"]][u]}var lH=ES.default=aH,TS={};Object.defineProperty(TS,"__esModule",{value:!0});function Lo(s,u,o,l,d){var f=d%10,v=l;return d===1?v=s:f===1&&d>20?v=u:f>1&&f<5&&(d>20||d<10)&&(v=o),v}var CS=Lo.bind(null,"","%s ","%s ","%s "),PS=Lo.bind(null,"","%s ","%s ","%s "),kS=Lo.bind(null,"","%s ","%s ","%s "),_S=Lo.bind(null,"","%s ","%s ","%s "),RS=Lo.bind(null,"","%s ","%s ","%s "),OS=Lo.bind(null,"","%s ","%s ","%s "),AS=Lo.bind(null,"","%s ","%s ","%s ");function uH(s,u){switch(u){case 0:return[" ","  "];case 1:return[CS(s)+" "," "+CS(s)];case 2:case 3:return[PS(s)+" "," "+PS(s)];case 4:case 5:return[kS(s)+" "," "+kS(s)];case 6:return["",""];case 7:return[_S(s)+" "," "+_S(s)];case 8:case 9:return[RS(s)+" "," "+RS(s)];case 10:case 11:return[OS(s)+" "," "+OS(s)];case 12:case 13:return[AS(s)+" "," "+AS(s)];default:return["",""]}}var cH=TS.default=uH,DS={};Object.defineProperty(DS,"__esModule",{value:!0});function dH(s,u){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 mnad sedan","om 1 mnad"],["%s mnader sedan","om %s mnader"],["1 r sedan","om 1 r"],["%s r sedan","om %s r"]][u]}var hH=DS.default=dH,MS={};Object.defineProperty(MS,"__esModule",{value:!0});function pH(s,u){return[["",""],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "]][u]}var fH=MS.default=pH,IS={};Object.defineProperty(IS,"__esModule",{value:!0});function mH(s,u){return[["az nce","imdi"],["%s saniye nce","%s saniye iinde"],["1 dakika nce","1 dakika iinde"],["%s dakika nce","%s dakika iinde"],["1 saat nce","1 saat iinde"],["%s saat nce","%s saat iinde"],["1 gn nce","1 gn iinde"],["%s gn nce","%s gn iinde"],["1 hafta nce","1 hafta iinde"],["%s hafta nce","%s hafta iinde"],["1 ay nce","1 ay iinde"],["%s ay nce","%s ay iinde"],["1 yl nce","1 yl iinde"],["%s yl nce","%s yl iinde"]][u]}var gH=IS.default=mH,LS={};Object.defineProperty(LS,"__esModule",{value:!0});var vH=["","","","","","",""];function yH(s,u){if(u===0)return["",""];var o=vH[~~(u/2)];return[s+" "+o+"",s+" "+o+""]}var wH=LS.default=yH,jS={};Object.defineProperty(jS,"__esModule",{value:!0});function xH(s,u){return[["",""],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "]][u]}var bH=jS.default=xH;const Ms={ar:pB,cs:fB,de:mB,el:gB,es:vB,fi:yB,fr:wB,gl:xB,hi:bB,it:SB,ja:EB,ko:TB,nl:CB,pt:PB,ru:kB,sv:_B,th:RB,tr:OB,ur:AB,"zh-CN":DB,"zh-TW":MB},SH=Object.keys(Ms),jo=new hB({allowMissing:!0});jo.init=(s,u)=>{jo.clear(),s&&(jo.locale(s),jo.extend(Ms[s])),u&&jo.extend(u)},Tn("ar",jB),Tn("cs",FB),Tn("de",HB),Tn("el",VB),Tn("es",WB),Tn("fi",qB),Tn("fr",ZB),Tn("gl",YB),Tn("hi",JB),Tn("it",eH),Tn("ja",nH),Tn("ko",iH),Tn("nl",sH),Tn("pt",lH),Tn("ru",cH),Tn("sv",hH),Tn("th",fH),Tn("tr",gH),Tn("zh-CN",wH),Tn("zh-TW",bH),jo.registerMessages=(s,u)=>{Ms[s]?Ms[s]={...Ms[s],...u}:Ms[s]=u};var kr=jo,EH=s=>{const u=pt();return PI(u,()=>s.onClickOutside()),Re.createElement("ul",{ref:u,className:"r6o-comment-dropdown-menu"},Re.createElement("li",{onClick:s.onEdit},kr.t("Edit")),Re.createElement("li",{onClick:s.onDelete},kr.t("Delete")))},NS={},Mf={},If={exports:{}};/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/(function(s,u){(function(o,l){l(s,u)})(zi,function(o,l){var d=typeof Map=="function"?new Map:function(){var E=[],R=[];return{has:function(O){return E.indexOf(O)>-1},get:function(O){return R[E.indexOf(O)]},set:function(O,F){E.indexOf(O)===-1&&(E.push(O),R.push(F))},delete:function(O){var F=E.indexOf(O);F>-1&&(E.splice(F,1),R.splice(F,1))}}}(),f=function(E){return new Event(E,{bubbles:!0})};try{new Event("test")}catch{f=function(E){var R=document.createEvent("Event");return R.initEvent(E,!0,!1),R}}function v(E){if(!E||!E.nodeName||E.nodeName!=="TEXTAREA"||d.has(E))return;var R=null,O=null,F=null;function G(){var ue=window.getComputedStyle(E,null);ue.resize==="vertical"?E.style.resize="none":ue.resize==="both"&&(E.style.resize="horizontal"),ue.boxSizing==="content-box"?R=-(parseFloat(ue.paddingTop)+parseFloat(ue.paddingBottom)):R=parseFloat(ue.borderTopWidth)+parseFloat(ue.borderBottomWidth),isNaN(R)&&(R=0),D()}function re(ue){{var ye=E.style.width;E.style.width="0px",E.offsetWidth,E.style.width=ye}E.style.overflowY=ue}function J(ue){for(var ye=[];ue&&ue.parentNode&&ue.parentNode instanceof Element;)ue.parentNode.scrollTop&&ye.push({node:ue.parentNode,scrollTop:ue.parentNode.scrollTop}),ue=ue.parentNode;return ye}function se(){if(E.scrollHeight!==0){var ue=J(E),ye=document.documentElement&&document.documentElement.scrollTop;E.style.height="",E.style.height=E.scrollHeight+R+"px",O=E.clientWidth,ue.forEach(function(xe){xe.node.scrollTop=xe.scrollTop}),ye&&(document.documentElement.scrollTop=ye)}}function D(){se();var ue=Math.round(parseFloat(E.style.height)),ye=window.getComputedStyle(E,null),xe=ye.boxSizing==="content-box"?Math.round(parseFloat(ye.height)):E.offsetHeight;if(xe<ue?ye.overflowY==="hidden"&&(re("scroll"),se(),xe=ye.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(E,null).height)):E.offsetHeight):ye.overflowY!=="hidden"&&(re("hidden"),se(),xe=ye.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(E,null).height)):E.offsetHeight),F!==xe){F=xe;var Fe=f("autosize:resized");try{E.dispatchEvent(Fe)}catch{}}}var te=function(){E.clientWidth!==O&&D()},ce=(function(ue){window.removeEventListener("resize",te,!1),E.removeEventListener("input",D,!1),E.removeEventListener("keyup",D,!1),E.removeEventListener("autosize:destroy",ce,!1),E.removeEventListener("autosize:update",D,!1),Object.keys(ue).forEach(function(ye){E.style[ye]=ue[ye]}),d.delete(E)}).bind(E,{height:E.style.height,resize:E.style.resize,overflowY:E.style.overflowY,overflowX:E.style.overflowX,wordWrap:E.style.wordWrap});E.addEventListener("autosize:destroy",ce,!1),"onpropertychange"in E&&"oninput"in E&&E.addEventListener("keyup",D,!1),window.addEventListener("resize",te,!1),E.addEventListener("input",D,!1),E.addEventListener("autosize:update",D,!1),E.style.overflowX="hidden",E.style.wordWrap="break-word",d.set(E,{destroy:ce,update:D}),G()}function y(E){var R=d.get(E);R&&R.destroy()}function w(E){var R=d.get(E);R&&R.update()}var x=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(x=function(E){return E},x.destroy=function(E){return E},x.update=function(E){return E}):(x=function(E,R){return E&&Array.prototype.forEach.call(E.length?E:[E],function(O){return v(O)}),E},x.destroy=function(E){return E&&Array.prototype.forEach.call(E.length?E:[E],y),E},x.update=function(E){return E&&Array.prototype.forEach.call(E.length?E:[E],w),E}),l.default=x,o.exports=l.default})})(If,If.exports);var TH=function(s,u,o){return o=window.getComputedStyle,(o?o(s):s.currentStyle)[u.replace(/-(\w)/gi,function(l,d){return d.toUpperCase()})]},CH=TH,Lf=CH;function PH(s){var u=Lf(s,"line-height"),o=parseFloat(u,10);if(u===o+""){var l=s.style.lineHeight;s.style.lineHeight=u+"em",u=Lf(s,"line-height"),o=parseFloat(u,10),l?s.style.lineHeight=l:delete s.style.lineHeight}if(u.indexOf("pt")!==-1?(o*=4,o/=3):u.indexOf("mm")!==-1?(o*=96,o/=25.4):u.indexOf("cm")!==-1?(o*=96,o/=2.54):u.indexOf("in")!==-1?o*=96:u.indexOf("pc")!==-1&&(o*=16),o=Math.round(o),u==="normal"){var d=s.nodeName,f=document.createElement(d);f.innerHTML="&nbsp;",d.toUpperCase()==="TEXTAREA"&&f.setAttribute("rows","1");var v=Lf(s,"font-size");f.style.fontSize=v,f.style.padding="0px",f.style.border="0px";var y=document.body;y.appendChild(f);var w=f.offsetHeight;o=w,y.removeChild(f)}return o}var kH=PH,_H=zi&&zi.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,o){u.__proto__=o}||function(u,o){for(var l in o)o.hasOwnProperty(l)&&(u[l]=o[l])};return function(u,o){s(u,o);function l(){this.constructor=u}u.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}(),jf=zi&&zi.__assign||Object.assign||function(s){for(var u,o=1,l=arguments.length;o<l;o++){u=arguments[o];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(s[d]=u[d])}return s},RH=zi&&zi.__rest||function(s,u){var o={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&u.indexOf(l)<0&&(o[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(s);d<l.length;d++)u.indexOf(l[d])<0&&(o[l[d]]=s[l[d]]);return o};Mf.__esModule=!0;var Rc=Es,ll=Qa.exports,Oc=If.exports,OH=kH,AH=OH,FS="autosize:resized",DH=function(s){_H(u,s);function u(){var o=s!==null&&s.apply(this,arguments)||this;return o.state={lineHeight:null},o.textarea=null,o.onResize=function(l){o.props.onResize&&o.props.onResize(l)},o.updateLineHeight=function(){o.textarea&&o.setState({lineHeight:AH(o.textarea)})},o.onChange=function(l){var d=o.props.onChange;o.currentValue=l.currentTarget.value,d&&d(l)},o}return u.prototype.componentDidMount=function(){var o=this,l=this.props,d=l.maxRows,f=l.async;typeof d=="number"&&this.updateLineHeight(),typeof d=="number"||f?setTimeout(function(){return o.textarea&&Oc(o.textarea)}):this.textarea&&Oc(this.textarea),this.textarea&&this.textarea.addEventListener(FS,this.onResize)},u.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(FS,this.onResize),Oc.destroy(this.textarea))},u.prototype.render=function(){var o=this,l=this,d=l.props;d.onResize;var f=d.maxRows;d.onChange;var v=d.style;d.innerRef;var y=d.children,w=RH(d,["onResize","maxRows","onChange","style","innerRef","children"]),x=l.state.lineHeight,E=f&&x?x*f:null;return Rc.createElement("textarea",jf({},w,{onChange:this.onChange,style:E?jf({},v,{maxHeight:E}):v,ref:function(R){o.textarea=R,typeof o.props.innerRef=="function"?o.props.innerRef(R):o.props.innerRef&&(o.props.innerRef.current=R)}}),y)},u.prototype.componentDidUpdate=function(){this.textarea&&Oc.update(this.textarea)},u.defaultProps={rows:1,async:!1},u.propTypes={rows:ll.number,maxRows:ll.number,onResize:ll.func,innerRef:ll.any,async:ll.bool},u}(Rc.Component);Mf.TextareaAutosize=Rc.forwardRef(function(s,u){return Rc.createElement(DH,jf({},s,{innerRef:u}))}),function(s){s.__esModule=!0;var u=Mf;s.default=u.TextareaAutosize}(NS);var MH=p2(NS);class BS extends Z{constructor(u){super(u),i(this,"onKeyDown",o=>{o.which===13&&o.ctrlKey&&this.props.onSaveAndClose()}),i(this,"onKeyUp",o=>{o.which===46&&o.stopPropagation()}),this.element=N()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return Re.createElement(MH,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||kr.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown})}}function bt(){return bt=Object.assign?Object.assign.bind():function(s){for(var u=1;u<arguments.length;u++){var o=arguments[u];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s},bt.apply(this,arguments)}function IH(s){if(s.sheet)return s.sheet;for(var u=0;u<document.styleSheets.length;u++)if(document.styleSheets[u].ownerNode===s)return document.styleSheets[u]}function LH(s){var u=document.createElement("style");return u.setAttribute("data-emotion",s.key),s.nonce!==void 0&&u.setAttribute("nonce",s.nonce),u.appendChild(document.createTextNode("")),u.setAttribute("data-s",""),u}var jH=function(){function s(o){var l=this;this._insertTag=function(d){var f;l.tags.length===0?l.insertionPoint?f=l.insertionPoint.nextSibling:l.prepend?f=l.container.firstChild:f=l.before:f=l.tags[l.tags.length-1].nextSibling,l.container.insertBefore(d,f),l.tags.push(d)},this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var u=s.prototype;return u.hydrate=function(o){o.forEach(this._insertTag)},u.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(LH(this));var l=this.tags[this.tags.length-1];if(this.isSpeedy){var d=IH(l);try{d.insertRule(o,d.cssRules.length)}catch{}}else l.appendChild(document.createTextNode(o));this.ctr++},u.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},s}(),rr="-ms-",Ac="-moz-",Yt="-webkit-",HS="comm",Nf="rule",Ff="decl",NH="@import",zS="@keyframes",FH="@layer",BH=Math.abs,Dc=String.fromCharCode,HH=Object.assign;function zH(s,u){return Gn(s,0)^45?(((u<<2^Gn(s,0))<<2^Gn(s,1))<<2^Gn(s,2))<<2^Gn(s,3):0}function VS(s){return s.trim()}function VH(s,u){return(s=u.exec(s))?s[0]:s}function Kt(s,u,o){return s.replace(u,o)}function Bf(s,u){return s.indexOf(u)}function Gn(s,u){return s.charCodeAt(u)|0}function ul(s,u,o){return s.slice(u,o)}function ui(s){return s.length}function Hf(s){return s.length}function Mc(s,u){return u.push(s),s}function UH(s,u){return s.map(u).join("")}var Ic=1,Is=1,US=0,fr=0,On=0,Ls="";function Lc(s,u,o,l,d,f,v){return{value:s,root:u,parent:o,type:l,props:d,children:f,line:Ic,column:Is,length:v,return:""}}function cl(s,u){return HH(Lc("",null,null,"",null,null,0),s,{length:-s.length},u)}function WH(){return On}function GH(){return On=fr>0?Gn(Ls,--fr):0,Is--,On===10&&(Is=1,Ic--),On}function _r(){return On=fr<US?Gn(Ls,fr++):0,Is++,On===10&&(Is=1,Ic++),On}function ci(){return Gn(Ls,fr)}function jc(){return fr}function dl(s,u){return ul(Ls,s,u)}function hl(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WS(s){return Ic=Is=1,US=ui(Ls=s),fr=0,[]}function GS(s){return Ls="",s}function Nc(s){return VS(dl(fr-1,zf(s===91?s+2:s===40?s+1:s)))}function qH(s){for(;(On=ci())&&On<33;)_r();return hl(s)>2||hl(On)>3?"":" "}function $H(s,u){for(;--u&&_r()&&!(On<48||On>102||On>57&&On<65||On>70&&On<97););return dl(s,jc()+(u<6&&ci()==32&&_r()==32))}function zf(s){for(;_r();)switch(On){case s:return fr;case 34:case 39:s!==34&&s!==39&&zf(On);break;case 40:s===41&&zf(s);break;case 92:_r();break}return fr}function ZH(s,u){for(;_r()&&s+On!==57&&!(s+On===84&&ci()===47););return"/*"+dl(u,fr-1)+"*"+Dc(s===47?s:_r())}function XH(s){for(;!hl(ci());)_r();return dl(s,fr)}function YH(s){return GS(Fc("",null,null,null,[""],s=WS(s),0,[0],s))}function Fc(s,u,o,l,d,f,v,y,w){for(var x=0,E=0,R=v,O=0,F=0,G=0,re=1,J=1,se=1,D=0,te="",ce=d,ue=f,ye=l,xe=te;J;)switch(G=D,D=_r()){case 40:if(G!=108&&Gn(xe,R-1)==58){Bf(xe+=Kt(Nc(D),"&","&\f"),"&\f")!=-1&&(se=-1);break}case 34:case 39:case 91:xe+=Nc(D);break;case 9:case 10:case 13:case 32:xe+=qH(G);break;case 92:xe+=$H(jc()-1,7);continue;case 47:switch(ci()){case 42:case 47:Mc(KH(ZH(_r(),jc()),u,o),w);break;default:xe+="/"}break;case 123*re:y[x++]=ui(xe)*se;case 125*re:case 59:case 0:switch(D){case 0:case 125:J=0;case 59+E:se==-1&&(xe=Kt(xe,/\f/g,"")),F>0&&ui(xe)-R&&Mc(F>32?$S(xe+";",l,o,R-1):$S(Kt(xe," ","")+";",l,o,R-2),w);break;case 59:xe+=";";default:if(Mc(ye=qS(xe,u,o,x,E,d,y,te,ce=[],ue=[],R),f),D===123)if(E===0)Fc(xe,u,ye,ye,ce,f,R,y,ue);else switch(O===99&&Gn(xe,3)===110?100:O){case 100:case 108:case 109:case 115:Fc(s,ye,ye,l&&Mc(qS(s,ye,ye,0,0,d,y,te,d,ce=[],R),ue),d,ue,R,y,l?ce:ue);break;default:Fc(xe,ye,ye,ye,[""],ue,0,y,ue)}}x=E=F=0,re=se=1,te=xe="",R=v;break;case 58:R=1+ui(xe),F=G;default:if(re<1){if(D==123)--re;else if(D==125&&re++==0&&GH()==125)continue}switch(xe+=Dc(D),D*re){case 38:se=E>0?1:(xe+="\f",-1);break;case 44:y[x++]=(ui(xe)-1)*se,se=1;break;case 64:ci()===45&&(xe+=Nc(_r())),O=ci(),E=R=ui(te=xe+=XH(jc())),D++;break;case 45:G===45&&ui(xe)==2&&(re=0)}}return f}function qS(s,u,o,l,d,f,v,y,w,x,E){for(var R=d-1,O=d===0?f:[""],F=Hf(O),G=0,re=0,J=0;G<l;++G)for(var se=0,D=ul(s,R+1,R=BH(re=v[G])),te=s;se<F;++se)(te=VS(re>0?O[se]+" "+D:Kt(D,/&\f/g,O[se])))&&(w[J++]=te);return Lc(s,u,o,d===0?Nf:y,w,x,E)}function KH(s,u,o){return Lc(s,u,o,HS,Dc(WH()),ul(s,2,-2),0)}function $S(s,u,o,l){return Lc(s,u,o,Ff,ul(s,0,l),ul(s,l+1,-1),l)}function js(s,u){for(var o="",l=Hf(s),d=0;d<l;d++)o+=u(s[d],d,s,u)||"";return o}function JH(s,u,o,l){switch(s.type){case FH:if(s.children.length)break;case NH:case Ff:return s.return=s.return||s.value;case HS:return"";case zS:return s.return=s.value+"{"+js(s.children,l)+"}";case Nf:s.value=s.props.join(",")}return ui(o=js(s.children,l))?s.return=s.value+"{"+o+"}":""}function QH(s){var u=Hf(s);return function(o,l,d,f){for(var v="",y=0;y<u;y++)v+=s[y](o,l,d,f)||"";return v}}function ez(s){return function(u){u.root||(u=u.return)&&s(u)}}function tz(s){var u=Object.create(null);return function(o){return u[o]===void 0&&(u[o]=s(o)),u[o]}}var nz=function(s,u,o){for(var l=0,d=0;l=d,d=ci(),l===38&&d===12&&(u[o]=1),!hl(d);)_r();return dl(s,fr)},rz=function(s,u){var o=-1,l=44;do switch(hl(l)){case 0:l===38&&ci()===12&&(u[o]=1),s[o]+=nz(fr-1,u,o);break;case 2:s[o]+=Nc(l);break;case 4:if(l===44){s[++o]=ci()===58?"&\f":"",u[o]=s[o].length;break}default:s[o]+=Dc(l)}while(l=_r());return s},iz=function(s,u){return GS(rz(WS(s),u))},ZS=new WeakMap,oz=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var u=s.value,o=s.parent,l=s.column===o.column&&s.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(s.props.length===1&&u.charCodeAt(0)!==58&&!ZS.get(o))&&!l){ZS.set(s,!0);for(var d=[],f=iz(u,d),v=o.props,y=0,w=0;y<f.length;y++)for(var x=0;x<v.length;x++,w++)s.props[w]=d[y]?f[y].replace(/&\f/g,v[x]):v[x]+" "+f[y]}}},sz=function(s){if(s.type==="decl"){var u=s.value;u.charCodeAt(0)===108&&u.charCodeAt(2)===98&&(s.return="",s.value="")}};function XS(s,u){switch(zH(s,u)){case 5103:return Yt+"print-"+s+s;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yt+s+s;case 5349:case 4246:case 4810:case 6968:case 2756:return Yt+s+Ac+s+rr+s+s;case 6828:case 4268:return Yt+s+rr+s+s;case 6165:return Yt+s+rr+"flex-"+s+s;case 5187:return Yt+s+Kt(s,/(\w+).+(:[^]+)/,Yt+"box-$1$2"+rr+"flex-$1$2")+s;case 5443:return Yt+s+rr+"flex-item-"+Kt(s,/flex-|-self/,"")+s;case 4675:return Yt+s+rr+"flex-line-pack"+Kt(s,/align-content|flex-|-self/,"")+s;case 5548:return Yt+s+rr+Kt(s,"shrink","negative")+s;case 5292:return Yt+s+rr+Kt(s,"basis","preferred-size")+s;case 6060:return Yt+"box-"+Kt(s,"-grow","")+Yt+s+rr+Kt(s,"grow","positive")+s;case 4554:return Yt+Kt(s,/([^-])(transform)/g,"$1"+Yt+"$2")+s;case 6187:return Kt(Kt(Kt(s,/(zoom-|grab)/,Yt+"$1"),/(image-set)/,Yt+"$1"),s,"")+s;case 5495:case 3959:return Kt(s,/(image-set\([^]*)/,Yt+"$1$`$1");case 4968:return Kt(Kt(s,/(.+:)(flex-)?(.*)/,Yt+"box-pack:$3"+rr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yt+s+s;case 4095:case 3583:case 4068:case 2532:return Kt(s,/(.+)-inline(.+)/,Yt+"$1$2")+s;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ui(s)-1-u>6)switch(Gn(s,u+1)){case 109:if(Gn(s,u+4)!==45)break;case 102:return Kt(s,/(.+:)(.+)-([^]+)/,"$1"+Yt+"$2-$3$1"+Ac+(Gn(s,u+3)==108?"$3":"$2-$3"))+s;case 115:return~Bf(s,"stretch")?XS(Kt(s,"stretch","fill-available"),u)+s:s}break;case 4949:if(Gn(s,u+1)!==115)break;case 6444:switch(Gn(s,ui(s)-3-(~Bf(s,"!important")&&10))){case 107:return Kt(s,":",":"+Yt)+s;case 101:return Kt(s,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Yt+(Gn(s,14)===45?"inline-":"")+"box$3$1"+Yt+"$2$3$1"+rr+"$2box$3")+s}break;case 5936:switch(Gn(s,u+11)){case 114:return Yt+s+rr+Kt(s,/[svh]\w+-[tblr]{2}/,"tb")+s;case 108:return Yt+s+rr+Kt(s,/[svh]\w+-[tblr]{2}/,"tb-rl")+s;case 45:return Yt+s+rr+Kt(s,/[svh]\w+-[tblr]{2}/,"lr")+s}return Yt+s+rr+s+s}return s}var az=function(s,u,o,l){if(s.length>-1&&!s.return)switch(s.type){case Ff:s.return=XS(s.value,s.length);break;case zS:return js([cl(s,{value:Kt(s.value,"@","@"+Yt)})],l);case Nf:if(s.length)return UH(s.props,function(d){switch(VH(d,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return js([cl(s,{props:[Kt(d,/:(read-\w+)/,":"+Ac+"$1")]})],l);case"::placeholder":return js([cl(s,{props:[Kt(d,/:(plac\w+)/,":"+Yt+"input-$1")]}),cl(s,{props:[Kt(d,/:(plac\w+)/,":"+Ac+"$1")]}),cl(s,{props:[Kt(d,/:(plac\w+)/,rr+"input-$1")]})],l)}return""})}},lz=[az],uz=function(s){var u=s.key;if(u==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(G){var re=G.getAttribute("data-emotion");re.indexOf(" ")!==-1&&(document.head.appendChild(G),G.setAttribute("data-s",""))})}var l=s.stylisPlugins||lz,d={},f,v=[];f=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+u+' "]'),function(G){for(var re=G.getAttribute("data-emotion").split(" "),J=1;J<re.length;J++)d[re[J]]=!0;v.push(G)});var y,w=[oz,sz];{var x,E=[JH,ez(function(G){x.insert(G)})],R=QH(w.concat(l,E)),O=function(G){return js(YH(G),R)};y=function(G,re,J,se){x=J,O(G?G+"{"+re.styles+"}":re.styles),se&&(F.inserted[re.name]=!0)}}var F={key:u,sheet:new jH({key:u,container:f,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:d,registered:{},insert:y};return F.sheet.hydrate(v),F},YS={exports:{}},rn={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Nn=typeof Symbol=="function"&&Symbol.for,Vf=Nn?Symbol.for("react.element"):60103,Uf=Nn?Symbol.for("react.portal"):60106,Bc=Nn?Symbol.for("react.fragment"):60107,Hc=Nn?Symbol.for("react.strict_mode"):60108,zc=Nn?Symbol.for("react.profiler"):60114,Vc=Nn?Symbol.for("react.provider"):60109,Uc=Nn?Symbol.for("react.context"):60110,Wf=Nn?Symbol.for("react.async_mode"):60111,Wc=Nn?Symbol.for("react.concurrent_mode"):60111,Gc=Nn?Symbol.for("react.forward_ref"):60112,qc=Nn?Symbol.for("react.suspense"):60113,cz=Nn?Symbol.for("react.suspense_list"):60120,$c=Nn?Symbol.for("react.memo"):60115,Zc=Nn?Symbol.for("react.lazy"):60116,dz=Nn?Symbol.for("react.block"):60121,hz=Nn?Symbol.for("react.fundamental"):60117,pz=Nn?Symbol.for("react.responder"):60118,fz=Nn?Symbol.for("react.scope"):60119;function Rr(s){if(typeof s=="object"&&s!==null){var u=s.$$typeof;switch(u){case Vf:switch(s=s.type,s){case Wf:case Wc:case Bc:case zc:case Hc:case qc:return s;default:switch(s=s&&s.$$typeof,s){case Uc:case Gc:case Zc:case $c:case Vc:return s;default:return u}}case Uf:return u}}}function KS(s){return Rr(s)===Wc}rn.AsyncMode=Wf,rn.ConcurrentMode=Wc,rn.ContextConsumer=Uc,rn.ContextProvider=Vc,rn.Element=Vf,rn.ForwardRef=Gc,rn.Fragment=Bc,rn.Lazy=Zc,rn.Memo=$c,rn.Portal=Uf,rn.Profiler=zc,rn.StrictMode=Hc,rn.Suspense=qc,rn.isAsyncMode=function(s){return KS(s)||Rr(s)===Wf},rn.isConcurrentMode=KS,rn.isContextConsumer=function(s){return Rr(s)===Uc},rn.isContextProvider=function(s){return Rr(s)===Vc},rn.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===Vf},rn.isForwardRef=function(s){return Rr(s)===Gc},rn.isFragment=function(s){return Rr(s)===Bc},rn.isLazy=function(s){return Rr(s)===Zc},rn.isMemo=function(s){return Rr(s)===$c},rn.isPortal=function(s){return Rr(s)===Uf},rn.isProfiler=function(s){return Rr(s)===zc},rn.isStrictMode=function(s){return Rr(s)===Hc},rn.isSuspense=function(s){return Rr(s)===qc},rn.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===Bc||s===Wc||s===zc||s===Hc||s===qc||s===cz||typeof s=="object"&&s!==null&&(s.$$typeof===Zc||s.$$typeof===$c||s.$$typeof===Vc||s.$$typeof===Uc||s.$$typeof===Gc||s.$$typeof===hz||s.$$typeof===pz||s.$$typeof===fz||s.$$typeof===dz)},rn.typeOf=Rr,YS.exports=rn;var JS=YS.exports,mz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},QS={};QS[JS.ForwardRef]=mz,QS[JS.Memo]=gz;var vz=!0;function eE(s,u,o){var l="";return o.split(" ").forEach(function(d){s[d]!==void 0?u.push(s[d]+";"):l+=d+" "}),l}var Gf=function(s,u,o){var l=s.key+"-"+u.name;(o===!1||vz===!1)&&s.registered[l]===void 0&&(s.registered[l]=u.styles)},tE=function(s,u,o){Gf(s,u,o);var l=s.key+"-"+u.name;if(s.inserted[u.name]===void 0){var d=u;do s.insert(u===d?"."+l:"",d,s.sheet,!0),d=d.next;while(d!==void 0)}};function yz(s){for(var u=0,o,l=0,d=s.length;d>=4;++l,d-=4)o=s.charCodeAt(l)&255|(s.charCodeAt(++l)&255)<<8|(s.charCodeAt(++l)&255)<<16|(s.charCodeAt(++l)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,u=(o&65535)*1540483477+((o>>>16)*59797<<16)^(u&65535)*1540483477+((u>>>16)*59797<<16);switch(d){case 3:u^=(s.charCodeAt(l+2)&255)<<16;case 2:u^=(s.charCodeAt(l+1)&255)<<8;case 1:u^=s.charCodeAt(l)&255,u=(u&65535)*1540483477+((u>>>16)*59797<<16)}return u^=u>>>13,u=(u&65535)*1540483477+((u>>>16)*59797<<16),((u^u>>>15)>>>0).toString(36)}var wz={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xz=/[A-Z]|^ms/g,bz=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nE=function(s){return s.charCodeAt(1)===45},rE=function(s){return s!=null&&typeof s!="boolean"},qf=tz(function(s){return nE(s)?s:s.replace(xz,"-$&").toLowerCase()}),iE=function(s,u){switch(s){case"animation":case"animationName":if(typeof u=="string")return u.replace(bz,function(o,l,d){return di={name:l,styles:d,next:di},l})}return wz[s]!==1&&!nE(s)&&typeof u=="number"&&u!==0?u+"px":u};function pl(s,u,o){if(o==null)return"";if(o.__emotion_styles!==void 0)return o;switch(typeof o){case"boolean":return"";case"object":{if(o.anim===1)return di={name:o.name,styles:o.styles,next:di},o.name;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)di={name:l.name,styles:l.styles,next:di},l=l.next;var d=o.styles+";";return d}return Sz(s,u,o)}case"function":{if(s!==void 0){var f=di,v=o(s);return di=f,pl(s,u,v)}break}}if(u==null)return o;var y=u[o];return y!==void 0?y:o}function Sz(s,u,o){var l="";if(Array.isArray(o))for(var d=0;d<o.length;d++)l+=pl(s,u,o[d])+";";else for(var f in o){var v=o[f];if(typeof v!="object")u!=null&&u[v]!==void 0?l+=f+"{"+u[v]+"}":rE(v)&&(l+=qf(f)+":"+iE(f,v)+";");else if(Array.isArray(v)&&typeof v[0]=="string"&&(u==null||u[v[0]]===void 0))for(var y=0;y<v.length;y++)rE(v[y])&&(l+=qf(f)+":"+iE(f,v[y])+";");else{var w=pl(s,u,v);switch(f){case"animation":case"animationName":{l+=qf(f)+":"+w+";";break}default:l+=f+"{"+w+"}"}}}return l}var oE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,di,$f=function(s,u,o){if(s.length===1&&typeof s[0]=="object"&&s[0]!==null&&s[0].styles!==void 0)return s[0];var l=!0,d="";di=void 0;var f=s[0];f==null||f.raw===void 0?(l=!1,d+=pl(o,u,f)):d+=f[0];for(var v=1;v<s.length;v++)d+=pl(o,u,s[v]),l&&(d+=f[v]);oE.lastIndex=0;for(var y="",w;(w=oE.exec(d))!==null;)y+="-"+w[1];var x=yz(d)+y;return{name:x,styles:d,next:di}},Ez=function(s){return s()},Tz=Lp.useInsertionEffect?Lp.useInsertionEffect:!1,sE=Tz||Ez,Zf={}.hasOwnProperty,aE=yt(typeof HTMLElement<"u"?uz({key:"css"}):null);aE.Provider;var lE=function(s){return bs(function(u,o){var l=ke(aE);return s(u,l,o)})},uE=yt({}),Xf="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Cz=function(s,u){var o={};for(var l in u)Zf.call(u,l)&&(o[l]=u[l]);return o[Xf]=s,o},Pz=function(s){var u=s.cache,o=s.serialized,l=s.isStringTag;return Gf(u,o,l),sE(function(){return tE(u,o,l)}),null},kz=lE(function(s,u,o){var l=s.css;typeof l=="string"&&u.registered[l]!==void 0&&(l=u.registered[l]);var d=s[Xf],f=[l],v="";typeof s.className=="string"?v=eE(u.registered,f,s.className):s.className!=null&&(v=s.className+" ");var y=$f(f,void 0,ke(uE));v+=u.key+"-"+y.name;var w={};for(var x in s)Zf.call(s,x)&&x!=="css"&&x!==Xf&&(w[x]=s[x]);return w.ref=o,w.className=v,P(W,null,P(Pz,{cache:u,serialized:y,isStringTag:typeof d=="string"}),P(d,w))}),_z=kz,St=function(s,u){var o=arguments;if(u==null||!Zf.call(u,"css"))return P.apply(void 0,o);var l=o.length,d=new Array(l);d[0]=_z,d[1]=Cz(s,u);for(var f=2;f<l;f++)d[f]=o[f];return P.apply(null,d)};function Yf(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];return $f(u)}var Rz=function(){var s=Yf.apply(void 0,arguments),u="animation-"+s.name;return{name:u,styles:"@keyframes "+u+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Oz=function s(u){for(var o=u.length,l=0,d="";l<o;l++){var f=u[l];if(f!=null){var v=void 0;switch(typeof f){case"boolean":break;case"object":{if(Array.isArray(f))v=s(f);else{v="";for(var y in f)f[y]&&y&&(v&&(v+=" "),v+=y)}break}default:v=f}v&&(d&&(d+=" "),d+=v)}}return d};function Az(s,u,o){var l=[],d=eE(s,l,o);return l.length<2?o:d+u(l)}var Dz=function(s){var u=s.cache,o=s.serializedArr;return sE(function(){for(var l=0;l<o.length;l++)tE(u,o[l],!1)}),null},Mz=lE(function(s,u){var o=[],l=function(){for(var y=arguments.length,w=new Array(y),x=0;x<y;x++)w[x]=arguments[x];var E=$f(w,u.registered);return o.push(E),Gf(u,E,!1),u.key+"-"+E.name},d=function(){for(var y=arguments.length,w=new Array(y),x=0;x<y;x++)w[x]=arguments[x];return Az(u.registered,l,Oz(w))},f={css:l,cx:d,theme:ke(uE)},v=s.children(f);return P(W,null,P(Dz,{cache:u,serializedArr:o}),v)});function Iz(s,u){return u||(u=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(u)}}))}function Kf(s,u){if(s==null)return{};var o={},l=Object.keys(s),d,f;for(f=0;f<l.length;f++)d=l[f],!(u.indexOf(d)>=0)&&(o[d]=s[d]);return o}function Ns(s,u){if(s==null)return{};var o=Kf(s,u),l,d;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(s);for(d=0;d<f.length;d++)l=f[d],!(u.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(s,l)||(o[l]=s[l]))}return o}function Fs(s){return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},Fs(s)}var cE={};Object.defineProperty(cE,"__esModule",{value:!0});var Jf=Object.assign||function(s){for(var u=1;u<arguments.length;u++){var o=arguments[u];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s},dE=function(){function s(u,o){for(var l=0;l<o.length;l++){var d=o[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,o,l){return o&&s(u.prototype,o),l&&s(u,l),u}}(),hE=Es,fl=pE(hE),Lz=Qa.exports,Mn=pE(Lz);function pE(s){return s&&s.__esModule?s:{default:s}}function jz(s,u){var o={};for(var l in s)u.indexOf(l)>=0||!Object.prototype.hasOwnProperty.call(s,l)||(o[l]=s[l]);return o}function Nz(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}function Fz(s,u){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:s}function Bz(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);s.prototype=Object.create(u&&u.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(s,u):s.__proto__=u)}var fE={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},Hz=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],zz=function(s){return Hz.forEach(function(u){return delete s[u]}),s},mE=function(s,u){u.style.fontSize=s.fontSize,u.style.fontFamily=s.fontFamily,u.style.fontWeight=s.fontWeight,u.style.fontStyle=s.fontStyle,u.style.letterSpacing=s.letterSpacing,u.style.textTransform=s.textTransform},gE=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,vE=function(){return gE?"_"+Math.random().toString(36).substr(2,12):void 0},Qf=function(s){Bz(u,s),dE(u,null,[{key:"getDerivedStateFromProps",value:function(o,l){var d=o.id;return d!==l.prevId?{inputId:d||vE(),prevId:d}:null}}]);function u(o){Nz(this,u);var l=Fz(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,o));return l.inputRef=function(d){l.input=d,typeof l.props.inputRef=="function"&&l.props.inputRef(d)},l.placeHolderSizerRef=function(d){l.placeHolderSizer=d},l.sizerRef=function(d){l.sizer=d},l.state={inputWidth:o.minWidth,inputId:o.id||vE(),prevId:o.id},l}return dE(u,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(o,l){l.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var o=this.input&&window.getComputedStyle(this.input);!o||(mE(o,this.sizer),this.placeHolderSizer&&mE(o,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var o=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?o=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:o=this.sizer.scrollWidth+2;var l=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;o+=l,o<this.props.minWidth&&(o=this.props.minWidth),o!==this.state.inputWidth&&this.setState({inputWidth:o})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var o=this.props.injectStyles;return gE&&o?fl.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var o=[this.props.defaultValue,this.props.value,""].reduce(function(v,y){return v??y}),l=Jf({},this.props.style);l.display||(l.display="inline-block");var d=Jf({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),f=jz(this.props,[]);return zz(f),f.className=this.props.inputClassName,f.id=this.state.inputId,f.style=d,fl.default.createElement("div",{className:this.props.className,style:l},this.renderStyles(),fl.default.createElement("input",Jf({},f,{ref:this.inputRef})),fl.default.createElement("div",{ref:this.sizerRef,style:fE},o),this.props.placeholder?fl.default.createElement("div",{ref:this.placeHolderSizerRef,style:fE},this.props.placeholder):null)}}]),u}(hE.Component);Qf.propTypes={className:Mn.default.string,defaultValue:Mn.default.any,extraWidth:Mn.default.oneOfType([Mn.default.number,Mn.default.string]),id:Mn.default.string,injectStyles:Mn.default.bool,inputClassName:Mn.default.string,inputRef:Mn.default.func,inputStyle:Mn.default.object,minWidth:Mn.default.oneOfType([Mn.default.number,Mn.default.string]),onAutosize:Mn.default.func,onChange:Mn.default.func,placeholder:Mn.default.string,placeholderIsMinWidth:Mn.default.bool,style:Mn.default.object,value:Mn.default.any},Qf.defaultProps={minWidth:1,injectStyles:!0};var Vz=cE.default=Qf;function Xc(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}function Uz(s,u){if(Fs(s)!=="object"||s===null)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var l=o.call(s,u);if(Fs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}function yE(s){var u=Uz(s,"string");return Fs(u)==="symbol"?u:String(u)}function wE(s,u){for(var o=0;o<u.length;o++){var l=u[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,yE(l.key),l)}}function Yc(s,u,o){return u&&wE(s.prototype,u),o&&wE(s,o),Object.defineProperty(s,"prototype",{writable:!1}),s}function Kc(s,u){return Kc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},Kc(s,u)}function Jc(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(u&&u.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),u&&Kc(s,u)}function ki(s,u,o){return u=yE(u),u in s?Object.defineProperty(s,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[u]=o,s}function Wz(s,u,o){return u in s?Object.defineProperty(s,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[u]=o,s}function xE(s,u){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);u&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),o.push.apply(o,l)}return o}function qn(s){for(var u=1;u<arguments.length;u++){var o=arguments[u]!=null?arguments[u]:{};u%2?xE(Object(o),!0).forEach(function(l){Wz(s,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):xE(Object(o)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(o,l))})}return s}function Qc(s){return Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},Qc(s)}function Gz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function qz(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function $z(s,u){return u&&(typeof u=="object"||typeof u=="function")?u:qz(s)}function ed(s){var u=Gz();return function(){var o=Qc(s),l;if(u){var d=Qc(this).constructor;l=Reflect.construct(o,arguments,d)}else l=o.apply(this,arguments);return $z(this,l)}}var td=function(){};function Zz(s,u){return u?u[0]==="-"?s+u:s+"__"+u:s}function Xz(s,u,o){var l=[o];if(u&&s)for(var d in u)u.hasOwnProperty(d)&&u[d]&&l.push("".concat(Zz(s,d)));return l.filter(function(f){return f}).map(function(f){return String(f).trim()}).join(" ")}var bE=function(s){return Array.isArray(s)?s.filter(Boolean):Fs(s)==="object"&&s!==null?[s]:[]},SE=function(s){s.className,s.clearValue,s.cx,s.getStyles,s.getValue,s.hasValue,s.isMulti,s.isRtl,s.options,s.selectOption,s.selectProps,s.setValue,s.theme;var u=Ns(s,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return qn({},u)};function em(s){return[document.documentElement,document.body,window].indexOf(s)>-1}function EE(s){return em(s)?window.pageYOffset:s.scrollTop}function nd(s,u){if(em(s)){window.scrollTo(0,u);return}s.scrollTop=u}function Yz(s){var u=getComputedStyle(s),o=u.position==="absolute",l=/(auto|scroll)/,d=document.documentElement;if(u.position==="fixed")return d;for(var f=s;f=f.parentElement;)if(u=getComputedStyle(f),!(o&&u.position==="static")&&l.test(u.overflow+u.overflowY+u.overflowX))return f;return d}function Kz(s,u,o,l){return o*((s=s/l-1)*s*s+1)+u}function rd(s,u){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:td,d=EE(s),f=u-d,v=10,y=0;function w(){y+=v;var x=Kz(y,d,f,o);nd(s,x),y<o?window.requestAnimationFrame(w):l(s)}w()}function Jz(s,u){var o=s.getBoundingClientRect(),l=u.getBoundingClientRect(),d=u.offsetHeight/3;l.bottom+d>o.bottom?nd(s,Math.min(u.offsetTop+u.clientHeight-s.offsetHeight+d,s.scrollHeight)):l.top-d<o.top&&nd(s,Math.max(u.offsetTop-d,0))}function Qz(s){var u=s.getBoundingClientRect();return{bottom:u.bottom,height:u.height,left:u.left,right:u.right,top:u.top,width:u.width}}function TE(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function e9(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var CE=!1,t9={get passive(){return CE=!0}},id=typeof window<"u"?window:{};id.addEventListener&&id.removeEventListener&&(id.addEventListener("p",td,t9),id.removeEventListener("p",td,!1));var n9=CE;function r9(s){var u=s.maxHeight,o=s.menuEl,l=s.minHeight,d=s.placement,f=s.shouldScroll,v=s.isFixedPosition,y=s.theme,w=y.spacing,x=Yz(o),E={placement:"bottom",maxHeight:u};if(!o||!o.offsetParent)return E;var R=x.getBoundingClientRect(),O=R.height,F=o.getBoundingClientRect(),G=F.bottom,re=F.height,J=F.top,se=o.offsetParent.getBoundingClientRect(),D=se.top,te=window.innerHeight,ce=EE(x),ue=parseInt(getComputedStyle(o).marginBottom,10),ye=parseInt(getComputedStyle(o).marginTop,10),xe=D-ye,Fe=te-J,ze=xe+ce,tt=O-ce-J,st=G-te+ce+ue,nt=ce+J-ye,mt=160;switch(d){case"auto":case"bottom":if(Fe>=re)return{placement:"bottom",maxHeight:u};if(tt>=re&&!v)return f&&rd(x,st,mt),{placement:"bottom",maxHeight:u};if(!v&&tt>=l||v&&Fe>=l){f&&rd(x,st,mt);var ft=v?Fe-ue:tt-ue;return{placement:"bottom",maxHeight:ft}}if(d==="auto"||v){var At=u,Rt=v?xe:ze;return Rt>=l&&(At=Math.min(Rt-ue-w.controlHeight,u)),{placement:"top",maxHeight:At}}if(d==="bottom")return f&&nd(x,st),{placement:"bottom",maxHeight:u};break;case"top":if(xe>=re)return{placement:"top",maxHeight:u};if(ze>=re&&!v)return f&&rd(x,nt,mt),{placement:"top",maxHeight:u};if(!v&&ze>=l||v&&xe>=l){var Mt=u;return(!v&&ze>=l||v&&xe>=l)&&(Mt=v?xe-ye:ze-ye),f&&rd(x,nt,mt),{placement:"top",maxHeight:Mt}}return{placement:"bottom",maxHeight:u};default:throw new Error('Invalid placement provided "'.concat(d,'".'))}return E}function i9(s){var u={bottom:"top",top:"bottom"};return s?u[s]:"bottom"}var tm=function(s){return s==="auto"?"bottom":s},o9=function(s){var u,o=s.placement,l=s.theme,d=l.borderRadius,f=l.spacing,v=l.colors;return u={label:"menu"},ki(u,i9(o),"100%"),ki(u,"backgroundColor",v.neutral0),ki(u,"borderRadius",d),ki(u,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),ki(u,"marginBottom",f.menuGutter),ki(u,"marginTop",f.menuGutter),ki(u,"position","absolute"),ki(u,"width","100%"),ki(u,"zIndex",1),u},PE=yt({getPortalPlacement:null}),kE=function(s){Jc(o,s);var u=ed(o);function o(){var l;Xc(this,o);for(var d=arguments.length,f=new Array(d),v=0;v<d;v++)f[v]=arguments[v];return l=u.call.apply(u,[this].concat(f)),l.state={maxHeight:l.props.maxMenuHeight,placement:null},l.getPlacement=function(y){var w=l.props,x=w.minMenuHeight,E=w.maxMenuHeight,R=w.menuPlacement,O=w.menuPosition,F=w.menuShouldScrollIntoView,G=w.theme;if(y){var re=O==="fixed",J=F&&!re,se=r9({maxHeight:E,menuEl:y,minHeight:x,placement:R,shouldScroll:J,isFixedPosition:re,theme:G}),D=l.context.getPortalPlacement;D&&D(se),l.setState(se)}},l.getUpdatedProps=function(){var y=l.props.menuPlacement,w=l.state.placement||tm(y);return qn(qn({},l.props),{},{placement:w,maxHeight:l.state.maxHeight})},l}return Yc(o,[{key:"render",value:function(){var l=this.props.children;return l({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),o}(Z);kE.contextType=PE;var s9=function(s){var u=s.children,o=s.className,l=s.cx,d=s.getStyles,f=s.innerRef,v=s.innerProps;return St("div",bt({css:d("menu",s),className:l({menu:!0},o),ref:f},v),u)},a9=function(s){var u=s.maxHeight,o=s.theme.spacing.baseUnit;return{maxHeight:u,overflowY:"auto",paddingBottom:o,paddingTop:o,position:"relative",WebkitOverflowScrolling:"touch"}},l9=function(s){var u=s.children,o=s.className,l=s.cx,d=s.getStyles,f=s.innerProps,v=s.innerRef,y=s.isMulti;return St("div",bt({css:d("menuList",s),className:l({"menu-list":!0,"menu-list--is-multi":y},o),ref:v},f),u)},_E=function(s){var u=s.theme,o=u.spacing.baseUnit,l=u.colors;return{color:l.neutral40,padding:"".concat(o*2,"px ").concat(o*3,"px"),textAlign:"center"}},u9=_E,c9=_E,RE=function(s){var u=s.children,o=s.className,l=s.cx,d=s.getStyles,f=s.innerProps;return St("div",bt({css:d("noOptionsMessage",s),className:l({"menu-notice":!0,"menu-notice--no-options":!0},o)},f),u)};RE.defaultProps={children:"No options"};var OE=function(s){var u=s.children,o=s.className,l=s.cx,d=s.getStyles,f=s.innerProps;return St("div",bt({css:d("loadingMessage",s),className:l({"menu-notice":!0,"menu-notice--loading":!0},o)},f),u)};OE.defaultProps={children:"Loading..."};var d9=function(s){var u=s.rect,o=s.offset,l=s.position;return{left:u.left,position:l,top:o,width:u.width,zIndex:1}},h9=function(s){Jc(o,s);var u=ed(o);function o(){var l;Xc(this,o);for(var d=arguments.length,f=new Array(d),v=0;v<d;v++)f[v]=arguments[v];return l=u.call.apply(u,[this].concat(f)),l.state={placement:null},l.getPortalPlacement=function(y){var w=y.placement,x=tm(l.props.menuPlacement);w!==x&&l.setState({placement:w})},l}return Yc(o,[{key:"render",value:function(){var l=this.props,d=l.appendTo,f=l.children,v=l.className,y=l.controlElement,w=l.cx,x=l.innerProps,E=l.menuPlacement,R=l.menuPosition,O=l.getStyles,F=R==="fixed";if(!d&&!F||!y)return null;var G=this.state.placement||tm(E),re=Qz(y),J=F?0:window.pageYOffset,se=re[G]+J,D={offset:se,position:R,rect:re},te=St("div",bt({css:O("menuPortal",D),className:w({"menu-portal":!0},v)},x),f);return St(PE.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},d?Mp(te,d):te)}}]),o}(Z),p9=function(s){var u=s.isDisabled,o=s.isRtl;return{label:"container",direction:o?"rtl":null,pointerEvents:u?"none":null,position:"relative"}},f9=function(s){var u=s.children,o=s.className,l=s.cx,d=s.getStyles,f=s.innerProps,v=s.isDisabled,y=s.isRtl;return St("div",bt({css:d("container",s),className:l({"--is-disabled":v,"--is-rtl":y},o)},f),u)},m9=function(s){var u=s.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(u.baseUnit/2,"px ").concat(u.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},g9=function(s){var u=s.children,o=s.className,l=s.cx,d=s.innerProps,f=s.isMulti,v=s.getStyles,y=s.hasValue;return St("div",bt({css:v("valueContainer",s),className:l({"value-container":!0,"value-container--is-multi":f,"value-container--has-value":y},o)},d),u)},v9=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},y9=function(s){var u=s.children,o=s.className,l=s.cx,d=s.innerProps,f=s.getStyles;return St("div",bt({css:f("indicatorsContainer",s),className:l({indicators:!0},o)},d),u)},AE,w9={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},DE=function(s){var u=s.size,o=Ns(s,["size"]);return St("svg",bt({height:u,width:u,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:w9},o))},nm=function(s){return St(DE,bt({size:20},s),St("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ME=function(s){return St(DE,bt({size:20},s),St("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},IE=function(s){var u=s.isFocused,o=s.theme,l=o.spacing.baseUnit,d=o.colors;return{label:"indicatorContainer",color:u?d.neutral60:d.neutral20,display:"flex",padding:l*2,transition:"color 150ms",":hover":{color:u?d.neutral80:d.neutral40}}},x9=IE,b9=function(s){var u=s.children,o=s.className,l=s.cx,d=s.getStyles,f=s.innerProps;return St("div",bt({css:d("dropdownIndicator",s),className:l({indicator:!0,"dropdown-indicator":!0},o)},f),u||St(ME,null))},S9=IE,E9=function(s){var u=s.children,o=s.className,l=s.cx,d=s.getStyles,f=s.innerProps;return St("div",bt({css:d("clearIndicator",s),className:l({indicator:!0,"clear-indicator":!0},o)},f),u||St(nm,null))},T9=function(s){var u=s.isDisabled,o=s.theme,l=o.spacing.baseUnit,d=o.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:u?d.neutral10:d.neutral20,marginBottom:l*2,marginTop:l*2,width:1}},C9=function(s){var u=s.className,o=s.cx,l=s.getStyles,d=s.innerProps;return St("span",bt({},d,{css:l("indicatorSeparator",s),className:o({"indicator-separator":!0},u)}))},P9=Rz(AE||(AE=Iz([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),k9=function(s){var u=s.isFocused,o=s.size,l=s.theme,d=l.colors,f=l.spacing.baseUnit;return{label:"loadingIndicator",color:u?d.neutral60:d.neutral20,display:"flex",padding:f*2,transition:"color 150ms",alignSelf:"center",fontSize:o,lineHeight:1,marginRight:o,textAlign:"center",verticalAlign:"middle"}},rm=function(s){var u=s.delay,o=s.offset;return St("span",{css:Yf({animation:"".concat(P9," 1s ease-in-out ").concat(u,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:o?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},LE=function(s){var u=s.className,o=s.cx,l=s.getStyles,d=s.innerProps,f=s.isRtl;return St("div",bt({css:l("loadingIndicator",s),className:o({indicator:!0,"loading-indicator":!0},u)},d),St(rm,{delay:0,offset:f}),St(rm,{delay:160,offset:!0}),St(rm,{delay:320,offset:!f}))};LE.defaultProps={size:4};var _9=function(s){var u=s.isDisabled,o=s.isFocused,l=s.theme,d=l.colors,f=l.borderRadius,v=l.spacing;return{label:"control",alignItems:"center",backgroundColor:u?d.neutral5:d.neutral0,borderColor:u?d.neutral10:o?d.primary:d.neutral20,borderRadius:f,borderStyle:"solid",borderWidth:1,boxShadow:o?"0 0 0 1px ".concat(d.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:v.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:o?d.primary:d.neutral30}}},R9=function(s){var u=s.children,o=s.cx,l=s.getStyles,d=s.className,f=s.isDisabled,v=s.isFocused,y=s.innerRef,w=s.innerProps,x=s.menuIsOpen;return St("div",bt({ref:y,css:l("control",s),className:o({control:!0,"control--is-disabled":f,"control--is-focused":v,"control--menu-is-open":x},d)},w),u)},O9=function(s){var u=s.theme.spacing;return{paddingBottom:u.baseUnit*2,paddingTop:u.baseUnit*2}},A9=function(s){var u=s.children,o=s.className,l=s.cx,d=s.getStyles,f=s.Heading,v=s.headingProps,y=s.innerProps,w=s.label,x=s.theme,E=s.selectProps;return St("div",bt({css:d("group",s),className:l({group:!0},o)},y),St(f,bt({},v,{selectProps:E,theme:x,getStyles:d,cx:l}),w),St("div",null,u))},D9=function(s){var u=s.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:u.baseUnit*3,paddingRight:u.baseUnit*3,textTransform:"uppercase"}},M9=function(s){var u=s.getStyles,o=s.cx,l=s.className,d=SE(s);d.data;var f=Ns(d,["data"]);return St("div",bt({css:u("groupHeading",s),className:o({"group-heading":!0},l)},f))},I9=function(s){var u=s.isDisabled,o=s.theme,l=o.spacing,d=o.colors;return{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,visibility:u?"hidden":"visible",color:d.neutral80}},L9=function(s){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:s?0:1,outline:0,padding:0,color:"inherit"}},j9=function(s){var u=s.className,o=s.cx,l=s.getStyles,d=SE(s),f=d.innerRef,v=d.isDisabled,y=d.isHidden,w=Ns(d,["innerRef","isDisabled","isHidden"]);return St("div",{css:l("input",s)},St(Vz,bt({className:o({input:!0},u),inputRef:f,inputStyle:L9(y),disabled:v},w)))},N9=function(s){var u=s.theme,o=u.spacing,l=u.borderRadius,d=u.colors;return{label:"multiValue",backgroundColor:d.neutral10,borderRadius:l/2,display:"flex",margin:o.baseUnit/2,minWidth:0}},F9=function(s){var u=s.theme,o=u.borderRadius,l=u.colors,d=s.cropWithEllipsis;return{borderRadius:o/2,color:l.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:d?"ellipsis":null,whiteSpace:"nowrap"}},B9=function(s){var u=s.theme,o=u.spacing,l=u.borderRadius,d=u.colors,f=s.isFocused;return{alignItems:"center",borderRadius:l/2,backgroundColor:f&&d.dangerLight,display:"flex",paddingLeft:o.baseUnit,paddingRight:o.baseUnit,":hover":{backgroundColor:d.dangerLight,color:d.danger}}},jE=function(s){var u=s.children,o=s.innerProps;return St("div",o,u)},H9=jE,z9=jE;function V9(s){var u=s.children,o=s.innerProps;return St("div",o,u||St(nm,{size:14}))}var NE=function(s){var u=s.children,o=s.className,l=s.components,d=s.cx,f=s.data,v=s.getStyles,y=s.innerProps,w=s.isDisabled,x=s.removeProps,E=s.selectProps,R=l.Container,O=l.Label,F=l.Remove;return St(Mz,null,function(G){var re=G.css,J=G.cx;return St(R,{data:f,innerProps:qn({className:J(re(v("multiValue",s)),d({"multi-value":!0,"multi-value--is-disabled":w},o))},y),selectProps:E},St(O,{data:f,innerProps:{className:J(re(v("multiValueLabel",s)),d({"multi-value__label":!0},o))},selectProps:E},u),St(F,{data:f,innerProps:qn({className:J(re(v("multiValueRemove",s)),d({"multi-value__remove":!0},o))},x),selectProps:E}))})};NE.defaultProps={cropWithEllipsis:!0};var U9=function(s){var u=s.isDisabled,o=s.isFocused,l=s.isSelected,d=s.theme,f=d.spacing,v=d.colors;return{label:"option",backgroundColor:l?v.primary:o?v.primary25:"transparent",color:u?v.neutral20:l?v.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(f.baseUnit*2,"px ").concat(f.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!u&&(l?v.primary:v.primary50)}}},W9=function(s){var u=s.children,o=s.className,l=s.cx,d=s.getStyles,f=s.isDisabled,v=s.isFocused,y=s.isSelected,w=s.innerRef,x=s.innerProps;return St("div",bt({css:d("option",s),className:l({option:!0,"option--is-disabled":f,"option--is-focused":v,"option--is-selected":y},o),ref:w},x),u)},G9=function(s){var u=s.theme,o=u.spacing,l=u.colors;return{label:"placeholder",color:l.neutral50,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},q9=function(s){var u=s.children,o=s.className,l=s.cx,d=s.getStyles,f=s.innerProps;return St("div",bt({css:d("placeholder",s),className:l({placeholder:!0},o)},f),u)},$9=function(s){var u=s.isDisabled,o=s.theme,l=o.spacing,d=o.colors;return{label:"singleValue",color:u?d.neutral40:d.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2,maxWidth:"calc(100% - ".concat(l.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},Z9=function(s){var u=s.children,o=s.className,l=s.cx,d=s.getStyles,f=s.isDisabled,v=s.innerProps;return St("div",bt({css:d("singleValue",s),className:l({"single-value":!0,"single-value--is-disabled":f},o)},v),u)},X9={ClearIndicator:E9,Control:R9,DropdownIndicator:b9,DownChevron:ME,CrossIcon:nm,Group:A9,GroupHeading:M9,IndicatorsContainer:y9,IndicatorSeparator:C9,Input:j9,LoadingIndicator:LE,Menu:s9,MenuList:l9,MenuPortal:h9,LoadingMessage:OE,NoOptionsMessage:RE,MultiValue:NE,MultiValueContainer:H9,MultiValueLabel:z9,MultiValueRemove:V9,Option:W9,Placeholder:q9,SelectContainer:f9,SingleValue:Z9,ValueContainer:g9},Y9=function(s){return qn(qn({},X9),s.components)};function im(s,u){(u==null||u>s.length)&&(u=s.length);for(var o=0,l=new Array(u);o<u;o++)l[o]=s[o];return l}function K9(s){if(Array.isArray(s))return im(s)}function J9(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function Q9(s,u){if(s){if(typeof s=="string")return im(s,u);var o=Object.prototype.toString.call(s).slice(8,-1);if(o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set")return Array.from(s);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return im(s,u)}}function e6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FE(s){return K9(s)||J9(s)||Q9(s)||e6()}var BE=Number.isNaN||function(s){return typeof s=="number"&&s!==s};function t6(s,u){return!!(s===u||BE(s)&&BE(u))}function n6(s,u){if(s.length!==u.length)return!1;for(var o=0;o<s.length;o++)if(!t6(s[o],u[o]))return!1;return!0}function r6(s,u){u===void 0&&(u=n6);var o,l=[],d,f=!1;function v(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];return f&&o===this&&u(y,l)||(d=s.apply(this,y),f=!0,o=this,l=y),d}return v}for(var i6={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},o6=function(s){return St("span",bt({css:i6},s))},s6={guidance:function(s){var u=s.isSearchable,o=s.isMulti,l=s.isDisabled,d=s.tabSelectsValue,f=s.context;switch(f){case"menu":return"Use Up and Down to choose options".concat(l?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(d?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(s["aria-label"]||"Select"," is focused ").concat(u?",type to refine list":"",", press Down to open the menu, ").concat(o?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(s){var u=s.action,o=s.label,l=o===void 0?"":o,d=s.isDisabled;switch(u){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(l,", deselected.");case"select-option":return d?"option ".concat(l," is disabled. Select another option."):"option ".concat(l,", selected.");default:return""}},onFocus:function(s){var u=s.context,o=s.focused,l=o===void 0?{}:o,d=s.options,f=s.label,v=f===void 0?"":f,y=s.selectValue,w=s.isDisabled,x=s.isSelected,E=function(F,G){return F&&F.length?"".concat(F.indexOf(G)+1," of ").concat(F.length):""};if(u==="value"&&y)return"value ".concat(v," focused, ").concat(E(y,l),".");if(u==="menu"){var R=w?" disabled":"",O="".concat(x?"selected":"focused").concat(R);return"option ".concat(v," ").concat(O,", ").concat(E(d,l),".")}return""},onFilter:function(s){var u=s.inputValue,o=s.resultsMessage;return"".concat(o).concat(u?" for search term "+u:"",".")}},a6=function(s){var u=s.ariaSelection,o=s.focusedOption,l=s.focusedValue,d=s.focusableOptions,f=s.isFocused,v=s.selectValue,y=s.selectProps,w=y.ariaLiveMessages,x=y.getOptionLabel,E=y.inputValue,R=y.isMulti,O=y.isOptionDisabled,F=y.isSearchable,G=y.menuIsOpen,re=y.options,J=y.screenReaderStatus,se=y.tabSelectsValue,D=y["aria-label"],te=y["aria-live"],ce=Pt(function(){return qn(qn({},s6),w||{})},[w]),ue=Pt(function(){var tt="";if(u&&ce.onChange){var st=u.option,nt=u.removedValue,mt=u.value,ft=function(Mt){return Array.isArray(Mt)?null:Mt},At=nt||st||ft(mt),Rt=qn({isDisabled:At&&O(At),label:At?x(At):""},u);tt=ce.onChange(Rt)}return tt},[u,O,x,ce]),ye=Pt(function(){var tt="",st=o||l,nt=!!(o&&v&&v.includes(o));if(st&&ce.onFocus){var mt={focused:st,label:x(st),isDisabled:O(st),isSelected:nt,options:re,context:st===o?"menu":"value",selectValue:v};tt=ce.onFocus(mt)}return tt},[o,l,x,O,ce,re,v]),xe=Pt(function(){var tt="";if(G&&re.length&&ce.onFilter){var st=J({count:d.length});tt=ce.onFilter({inputValue:E,resultsMessage:st})}return tt},[d,E,G,ce,re,J]),Fe=Pt(function(){var tt="";if(ce.guidance){var st=l?"value":G?"menu":"input";tt=ce.guidance({"aria-label":D,context:st,isDisabled:o&&O(o),isMulti:R,isSearchable:F,tabSelectsValue:se})}return tt},[D,o,l,R,O,F,G,ce,se]),ze="".concat(ye," ").concat(xe," ").concat(Fe);return St(o6,{"aria-live":te,"aria-atomic":"false","aria-relevant":"additions text"},f&&St(Re.Fragment,null,St("span",{id:"aria-selection"},ue),St("span",{id:"aria-context"},ze)))},om=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],l6=new RegExp("["+om.map(function(s){return s.letters}).join("")+"]","g"),HE={},sm=0;sm<om.length;sm++)for(var am=om[sm],lm=0;lm<am.letters.length;lm++)HE[am.letters[lm]]=am.base;var zE=function(s){return s.replace(l6,function(u){return HE[u]})},u6=r6(zE),VE=function(s){return s.replace(/^\s+|\s+$/g,"")},c6=function(s){return"".concat(s.label," ").concat(s.value)},d6=function(s){return function(u,o){var l=qn({ignoreCase:!0,ignoreAccents:!0,stringify:c6,trim:!0,matchFrom:"any"},s),d=l.ignoreCase,f=l.ignoreAccents,v=l.stringify,y=l.trim,w=l.matchFrom,x=y?VE(o):o,E=y?VE(v(u)):v(u);return d&&(x=x.toLowerCase(),E=E.toLowerCase()),f&&(x=u6(x),E=zE(E)),w==="start"?E.substr(0,x.length)===x:E.indexOf(x)>-1}};function h6(s){s.in,s.out,s.onExited,s.appear,s.enter,s.exit;var u=s.innerRef;s.emotion;var o=Ns(s,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return St("input",bt({ref:u},o,{css:Yf({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var p6=function(s){s.preventDefault(),s.stopPropagation()};function f6(s){var u=s.isEnabled,o=s.onBottomArrive,l=s.onBottomLeave,d=s.onTopArrive,f=s.onTopLeave,v=pt(!1),y=pt(!1),w=pt(0),x=pt(null),E=le(function(J,se){if(x.current!==null){var D=x.current,te=D.scrollTop,ce=D.scrollHeight,ue=D.clientHeight,ye=x.current,xe=se>0,Fe=ce-ue-te,ze=!1;Fe>se&&v.current&&(l&&l(J),v.current=!1),xe&&y.current&&(f&&f(J),y.current=!1),xe&&se>Fe?(o&&!v.current&&o(J),ye.scrollTop=ce,ze=!0,v.current=!0):!xe&&-se>te&&(d&&!y.current&&d(J),ye.scrollTop=0,ze=!0,y.current=!0),ze&&p6(J)}},[]),R=le(function(J){E(J,J.deltaY)},[E]),O=le(function(J){w.current=J.changedTouches[0].clientY},[]),F=le(function(J){var se=w.current-J.changedTouches[0].clientY;E(J,se)},[E]),G=le(function(J){if(J){var se=n9?{passive:!1}:!1;typeof J.addEventListener=="function"&&J.addEventListener("wheel",R,se),typeof J.addEventListener=="function"&&J.addEventListener("touchstart",O,se),typeof J.addEventListener=="function"&&J.addEventListener("touchmove",F,se)}},[F,O,R]),re=le(function(J){!J||(typeof J.removeEventListener=="function"&&J.removeEventListener("wheel",R,!1),typeof J.removeEventListener=="function"&&J.removeEventListener("touchstart",O,!1),typeof J.removeEventListener=="function"&&J.removeEventListener("touchmove",F,!1))},[F,O,R]);return qe(function(){if(u){var J=x.current;return G(J),function(){re(J)}}},[u,G,re]),function(J){x.current=J}}var UE=["boxSizing","height","overflow","paddingRight","position"],WE={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function GE(s){s.preventDefault()}function qE(s){s.stopPropagation()}function $E(){var s=this.scrollTop,u=this.scrollHeight,o=s+this.offsetHeight;s===0?this.scrollTop=1:o===u&&(this.scrollTop=s-1)}function ZE(){return"ontouchstart"in window||navigator.maxTouchPoints}var XE=!!(typeof window<"u"&&window.document&&window.document.createElement),ml=0,Bs={capture:!1,passive:!1};function m6(s){var u=s.isEnabled,o=s.accountForScrollbars,l=o===void 0?!0:o,d=pt({}),f=pt(null),v=le(function(w){if(XE){var x=document.body,E=x&&x.style;if(l&&UE.forEach(function(G){var re=E&&E[G];d.current[G]=re}),l&&ml<1){var R=parseInt(d.current.paddingRight,10)||0,O=document.body?document.body.clientWidth:0,F=window.innerWidth-O+R||0;Object.keys(WE).forEach(function(G){var re=WE[G];E&&(E[G]=re)}),E&&(E.paddingRight="".concat(F,"px"))}x&&ZE()&&(x.addEventListener("touchmove",GE,Bs),w&&(w.addEventListener("touchstart",$E,Bs),w.addEventListener("touchmove",qE,Bs))),ml+=1}},[]),y=le(function(w){if(XE){var x=document.body,E=x&&x.style;ml=Math.max(ml-1,0),l&&ml<1&&UE.forEach(function(R){var O=d.current[R];E&&(E[R]=O)}),x&&ZE()&&(x.removeEventListener("touchmove",GE,Bs),w&&(w.removeEventListener("touchstart",$E,Bs),w.removeEventListener("touchmove",qE,Bs)))}},[]);return qe(function(){if(u){var w=f.current;return v(w),function(){y(w)}}},[u,v,y]),function(w){f.current=w}}var g6=function(){return document.activeElement&&document.activeElement.blur()},v6={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function y6(s){var u=s.children,o=s.lockEnabled,l=s.captureEnabled,d=l===void 0?!0:l,f=s.onBottomArrive,v=s.onBottomLeave,y=s.onTopArrive,w=s.onTopLeave,x=f6({isEnabled:d,onBottomArrive:f,onBottomLeave:v,onTopArrive:y,onTopLeave:w}),E=m6({isEnabled:o}),R=function(O){x(O),E(O)};return St(Re.Fragment,null,o&&St("div",{onClick:g6,css:v6}),u(R))}var w6=function(s){return s.label},x6=function(s){return s.label},b6=function(s){return s.value},S6=function(s){return!!s.isDisabled},E6={clearIndicator:S9,container:p9,control:_9,dropdownIndicator:x9,group:O9,groupHeading:D9,indicatorsContainer:v9,indicatorSeparator:T9,input:I9,loadingIndicator:k9,loadingMessage:c9,menu:o9,menuList:a9,menuPortal:d9,multiValue:N9,multiValueLabel:F9,multiValueRemove:B9,noOptionsMessage:u9,option:U9,placeholder:G9,singleValue:$9,valueContainer:m9},T6={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},C6=4,YE=4,P6=38,k6=YE*2,_6={baseUnit:YE,controlHeight:P6,menuGutter:k6},um={borderRadius:C6,colors:T6,spacing:_6},R6={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:TE(),captureMenuScroll:!TE(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:d6(),formatGroupLabel:w6,getOptionLabel:x6,getOptionValue:b6,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:S6,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!e9(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(s){var u=s.count;return"".concat(u," result").concat(u!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function KE(s,u,o,l){var d=nT(s,u,o),f=rT(s,u,o),v=tT(s,u),y=od(s,u);return{type:"option",data:u,isDisabled:d,isSelected:f,label:v,value:y,index:l}}function JE(s,u){return s.options.map(function(o,l){if(o.options){var d=o.options.map(function(v,y){return KE(s,v,u,y)}).filter(function(v){return eT(s,v)});return d.length>0?{type:"group",data:o,options:d,index:l}:void 0}var f=KE(s,o,u,l);return eT(s,f)?f:void 0}).filter(function(o){return!!o})}function QE(s){return s.reduce(function(u,o){return o.type==="group"?u.push.apply(u,FE(o.options.map(function(l){return l.data}))):u.push(o.data),u},[])}function O6(s,u){return QE(JE(s,u))}function eT(s,u){var o=s.inputValue,l=o===void 0?"":o,d=u.data,f=u.isSelected,v=u.label,y=u.value;return(!oT(s)||!f)&&iT(s,{label:v,value:y,data:d},l)}function A6(s,u){var o=s.focusedValue,l=s.selectValue,d=l.indexOf(o);if(d>-1){var f=u.indexOf(o);if(f>-1)return o;if(d<u.length)return u[d]}return null}function D6(s,u){var o=s.focusedOption;return o&&u.indexOf(o)>-1?o:u[0]}var tT=function(s,u){return s.getOptionLabel(u)},od=function(s,u){return s.getOptionValue(u)};function nT(s,u,o){return typeof s.isOptionDisabled=="function"?s.isOptionDisabled(u,o):!1}function rT(s,u,o){if(o.indexOf(u)>-1)return!0;if(typeof s.isOptionSelected=="function")return s.isOptionSelected(u,o);var l=od(s,u);return o.some(function(d){return od(s,d)===l})}function iT(s,u,o){return s.filterOption?s.filterOption(u,o):!0}var oT=function(s){var u=s.hideSelectedOptions,o=s.isMulti;return u===void 0?o:u},M6=1,sT=function(s){Jc(o,s);var u=ed(o);function o(l){var d;return Xc(this,o),d=u.call(this,l),d.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},d.blockOptionHover=!1,d.isComposing=!1,d.commonProps=void 0,d.initialTouchX=0,d.initialTouchY=0,d.instancePrefix="",d.openAfterFocus=!1,d.scrollToFocusedOptionOnUpdate=!1,d.userIsDragging=void 0,d.controlRef=null,d.getControlRef=function(f){d.controlRef=f},d.focusedOptionRef=null,d.getFocusedOptionRef=function(f){d.focusedOptionRef=f},d.menuListRef=null,d.getMenuListRef=function(f){d.menuListRef=f},d.inputRef=null,d.getInputRef=function(f){d.inputRef=f},d.focus=d.focusInput,d.blur=d.blurInput,d.onChange=function(f,v){var y=d.props,w=y.onChange,x=y.name;v.name=x,d.ariaOnChange(f,v),w(f,v)},d.setValue=function(f){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",y=arguments.length>2?arguments[2]:void 0,w=d.props,x=w.closeMenuOnSelect,E=w.isMulti;d.onInputChange("",{action:"set-value"}),x&&(d.setState({inputIsHiddenAfterUpdate:!E}),d.onMenuClose()),d.setState({clearFocusValueOnUpdate:!0}),d.onChange(f,{action:v,option:y})},d.selectOption=function(f){var v=d.props,y=v.blurInputOnSelect,w=v.isMulti,x=v.name,E=d.state.selectValue,R=w&&d.isOptionSelected(f,E),O=d.isOptionDisabled(f,E);if(R){var F=d.getOptionValue(f);d.setValue(E.filter(function(G){return d.getOptionValue(G)!==F}),"deselect-option",f)}else if(!O)w?d.setValue([].concat(FE(E),[f]),"select-option",f):d.setValue(f,"select-option");else{d.ariaOnChange(f,{action:"select-option",name:x});return}y&&d.blurInput()},d.removeValue=function(f){var v=d.props.isMulti,y=d.state.selectValue,w=d.getOptionValue(f),x=y.filter(function(R){return d.getOptionValue(R)!==w}),E=v?x:x[0]||null;d.onChange(E,{action:"remove-value",removedValue:f}),d.focusInput()},d.clearValue=function(){var f=d.state.selectValue;d.onChange(d.props.isMulti?[]:null,{action:"clear",removedValues:f})},d.popValue=function(){var f=d.props.isMulti,v=d.state.selectValue,y=v[v.length-1],w=v.slice(0,v.length-1),x=f?w:w[0]||null;d.onChange(x,{action:"pop-value",removedValue:y})},d.getValue=function(){return d.state.selectValue},d.cx=function(){for(var f=arguments.length,v=new Array(f),y=0;y<f;y++)v[y]=arguments[y];return Xz.apply(void 0,[d.props.classNamePrefix].concat(v))},d.getOptionLabel=function(f){return tT(d.props,f)},d.getOptionValue=function(f){return od(d.props,f)},d.getStyles=function(f,v){var y=E6[f](v);y.boxSizing="border-box";var w=d.props.styles[f];return w?w(y,v):y},d.getElementId=function(f){return"".concat(d.instancePrefix,"-").concat(f)},d.getComponents=function(){return Y9(d.props)},d.buildCategorizedOptions=function(){return JE(d.props,d.state.selectValue)},d.getCategorizedOptions=function(){return d.props.menuIsOpen?d.buildCategorizedOptions():[]},d.buildFocusableOptions=function(){return QE(d.buildCategorizedOptions())},d.getFocusableOptions=function(){return d.props.menuIsOpen?d.buildFocusableOptions():[]},d.ariaOnChange=function(f,v){d.setState({ariaSelection:qn({value:f},v)})},d.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),d.focusInput())},d.onMenuMouseMove=function(f){d.blockOptionHover=!1},d.onControlMouseDown=function(f){var v=d.props.openMenuOnClick;d.state.isFocused?d.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&d.onMenuClose():v&&d.openMenu("first"):(v&&(d.openAfterFocus=!0),d.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()},d.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!d.props.isDisabled){var v=d.props,y=v.isMulti,w=v.menuIsOpen;d.focusInput(),w?(d.setState({inputIsHiddenAfterUpdate:!y}),d.onMenuClose()):d.openMenu("first"),f.preventDefault(),f.stopPropagation()}},d.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(d.clearValue(),f.stopPropagation(),d.openAfterFocus=!1,f.type==="touchend"?d.focusInput():setTimeout(function(){return d.focusInput()}))},d.onScroll=function(f){typeof d.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&em(f.target)&&d.props.onMenuClose():typeof d.props.closeMenuOnScroll=="function"&&d.props.closeMenuOnScroll(f)&&d.props.onMenuClose()},d.onCompositionStart=function(){d.isComposing=!0},d.onCompositionEnd=function(){d.isComposing=!1},d.onTouchStart=function(f){var v=f.touches,y=v&&v.item(0);!y||(d.initialTouchX=y.clientX,d.initialTouchY=y.clientY,d.userIsDragging=!1)},d.onTouchMove=function(f){var v=f.touches,y=v&&v.item(0);if(y){var w=Math.abs(y.clientX-d.initialTouchX),x=Math.abs(y.clientY-d.initialTouchY),E=5;d.userIsDragging=w>E||x>E}},d.onTouchEnd=function(f){d.userIsDragging||(d.controlRef&&!d.controlRef.contains(f.target)&&d.menuListRef&&!d.menuListRef.contains(f.target)&&d.blurInput(),d.initialTouchX=0,d.initialTouchY=0)},d.onControlTouchEnd=function(f){d.userIsDragging||d.onControlMouseDown(f)},d.onClearIndicatorTouchEnd=function(f){d.userIsDragging||d.onClearIndicatorMouseDown(f)},d.onDropdownIndicatorTouchEnd=function(f){d.userIsDragging||d.onDropdownIndicatorMouseDown(f)},d.handleInputChange=function(f){var v=f.currentTarget.value;d.setState({inputIsHiddenAfterUpdate:!1}),d.onInputChange(v,{action:"input-change"}),d.props.menuIsOpen||d.onMenuOpen()},d.onInputFocus=function(f){d.props.onFocus&&d.props.onFocus(f),d.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(d.openAfterFocus||d.props.openMenuOnFocus)&&d.openMenu("first"),d.openAfterFocus=!1},d.onInputBlur=function(f){if(d.menuListRef&&d.menuListRef.contains(document.activeElement)){d.inputRef.focus();return}d.props.onBlur&&d.props.onBlur(f),d.onInputChange("",{action:"input-blur"}),d.onMenuClose(),d.setState({focusedValue:null,isFocused:!1})},d.onOptionHover=function(f){d.blockOptionHover||d.state.focusedOption===f||d.setState({focusedOption:f})},d.shouldHideSelectedOptions=function(){return oT(d.props)},d.onKeyDown=function(f){var v=d.props,y=v.isMulti,w=v.backspaceRemovesValue,x=v.escapeClearsValue,E=v.inputValue,R=v.isClearable,O=v.isDisabled,F=v.menuIsOpen,G=v.onKeyDown,re=v.tabSelectsValue,J=v.openMenuOnFocus,se=d.state,D=se.focusedOption,te=se.focusedValue,ce=se.selectValue;if(!O&&!(typeof G=="function"&&(G(f),f.defaultPrevented))){switch(d.blockOptionHover=!0,f.key){case"ArrowLeft":if(!y||E)return;d.focusValue("previous");break;case"ArrowRight":if(!y||E)return;d.focusValue("next");break;case"Delete":case"Backspace":if(E)return;if(te)d.removeValue(te);else{if(!w)return;y?d.popValue():R&&d.clearValue()}break;case"Tab":if(d.isComposing||f.shiftKey||!F||!re||!D||J&&d.isOptionSelected(D,ce))return;d.selectOption(D);break;case"Enter":if(f.keyCode===229)break;if(F){if(!D||d.isComposing)return;d.selectOption(D);break}return;case"Escape":F?(d.setState({inputIsHiddenAfterUpdate:!1}),d.onInputChange("",{action:"menu-close"}),d.onMenuClose()):R&&x&&d.clearValue();break;case" ":if(E)return;if(!F){d.openMenu("first");break}if(!D)return;d.selectOption(D);break;case"ArrowUp":F?d.focusOption("up"):d.openMenu("last");break;case"ArrowDown":F?d.focusOption("down"):d.openMenu("first");break;case"PageUp":if(!F)return;d.focusOption("pageup");break;case"PageDown":if(!F)return;d.focusOption("pagedown");break;case"Home":if(!F)return;d.focusOption("first");break;case"End":if(!F)return;d.focusOption("last");break;default:return}f.preventDefault()}},d.instancePrefix="react-select-"+(d.props.instanceId||++M6),d.state.selectValue=bE(l.value),d}return Yc(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(l){var d=this.props,f=d.isDisabled,v=d.menuIsOpen,y=this.state.isFocused;(y&&!f&&l.isDisabled||y&&v&&!l.menuIsOpen)&&this.focusInput(),y&&f&&!l.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Jz(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(l,d){this.props.onInputChange(l,d)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(l){var d=this,f=this.state,v=f.selectValue,y=f.isFocused,w=this.buildFocusableOptions(),x=l==="first"?0:w.length-1;if(!this.props.isMulti){var E=w.indexOf(v[0]);E>-1&&(x=E)}this.scrollToFocusedOptionOnUpdate=!(y&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:w[x]},function(){return d.onMenuOpen()})}},{key:"focusValue",value:function(l){var d=this.state,f=d.selectValue,v=d.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var y=f.indexOf(v);v||(y=-1);var w=f.length-1,x=-1;if(f.length){switch(l){case"previous":y===0?x=0:y===-1?x=w:x=y-1;break;case"next":y>-1&&y<w&&(x=y+1);break}this.setState({inputIsHidden:x!==-1,focusedValue:f[x]})}}}},{key:"focusOption",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",d=this.props.pageSize,f=this.state.focusedOption,v=this.getFocusableOptions();if(v.length){var y=0,w=v.indexOf(f);f||(w=-1),l==="up"?y=w>0?w-1:v.length-1:l==="down"?y=(w+1)%v.length:l==="pageup"?(y=w-d,y<0&&(y=0)):l==="pagedown"?(y=w+d,y>v.length-1&&(y=v.length-1)):l==="last"&&(y=v.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:v[y],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(um):qn(qn({},um),this.props.theme):um}},{key:"getCommonProps",value:function(){var l=this.clearValue,d=this.cx,f=this.getStyles,v=this.getValue,y=this.selectOption,w=this.setValue,x=this.props,E=x.isMulti,R=x.isRtl,O=x.options,F=this.hasValue();return{clearValue:l,cx:d,getStyles:f,getValue:v,hasValue:F,isMulti:E,isRtl:R,options:O,selectOption:y,selectProps:x,setValue:w,theme:this.getTheme()}}},{key:"hasValue",value:function(){var l=this.state.selectValue;return l.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var l=this.props,d=l.isClearable,f=l.isMulti;return d===void 0?f:d}},{key:"isOptionDisabled",value:function(l,d){return nT(this.props,l,d)}},{key:"isOptionSelected",value:function(l,d){return rT(this.props,l,d)}},{key:"filterOption",value:function(l,d){return iT(this.props,l,d)}},{key:"formatOptionLabel",value:function(l,d){if(typeof this.props.formatOptionLabel=="function"){var f=this.props.inputValue,v=this.state.selectValue;return this.props.formatOptionLabel(l,{context:d,inputValue:f,selectValue:v})}else return this.getOptionLabel(l)}},{key:"formatGroupLabel",value:function(l){return this.props.formatGroupLabel(l)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var l=this.props,d=l.isDisabled,f=l.isSearchable,v=l.inputId,y=l.inputValue,w=l.tabIndex,x=l.form,E=this.getComponents(),R=E.Input,O=this.state.inputIsHidden,F=this.commonProps,G=v||this.getElementId("input"),re={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return f?Re.createElement(R,bt({},F,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:G,innerRef:this.getInputRef,isDisabled:d,isHidden:O,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:w,form:x,type:"text",value:y},re)):Re.createElement(h6,bt({id:G,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:td,onFocus:this.onInputFocus,readOnly:!0,disabled:d,tabIndex:w,form:x,value:""},re))}},{key:"renderPlaceholderOrValue",value:function(){var l=this,d=this.getComponents(),f=d.MultiValue,v=d.MultiValueContainer,y=d.MultiValueLabel,w=d.MultiValueRemove,x=d.SingleValue,E=d.Placeholder,R=this.commonProps,O=this.props,F=O.controlShouldRenderValue,G=O.isDisabled,re=O.isMulti,J=O.inputValue,se=O.placeholder,D=this.state,te=D.selectValue,ce=D.focusedValue,ue=D.isFocused;if(!this.hasValue()||!F)return J?null:Re.createElement(E,bt({},R,{key:"placeholder",isDisabled:G,isFocused:ue}),se);if(re){var ye=te.map(function(Fe,ze){var tt=Fe===ce;return Re.createElement(f,bt({},R,{components:{Container:v,Label:y,Remove:w},isFocused:tt,isDisabled:G,key:"".concat(l.getOptionValue(Fe)).concat(ze),index:ze,removeProps:{onClick:function(){return l.removeValue(Fe)},onTouchEnd:function(){return l.removeValue(Fe)},onMouseDown:function(st){st.preventDefault(),st.stopPropagation()}},data:Fe}),l.formatOptionLabel(Fe,"value"))});return ye}if(J)return null;var xe=te[0];return Re.createElement(x,bt({},R,{data:xe,isDisabled:G}),this.formatOptionLabel(xe,"value"))}},{key:"renderClearIndicator",value:function(){var l=this.getComponents(),d=l.ClearIndicator,f=this.commonProps,v=this.props,y=v.isDisabled,w=v.isLoading,x=this.state.isFocused;if(!this.isClearable()||!d||y||!this.hasValue()||w)return null;var E={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Re.createElement(d,bt({},f,{innerProps:E,isFocused:x}))}},{key:"renderLoadingIndicator",value:function(){var l=this.getComponents(),d=l.LoadingIndicator,f=this.commonProps,v=this.props,y=v.isDisabled,w=v.isLoading,x=this.state.isFocused;if(!d||!w)return null;var E={"aria-hidden":"true"};return Re.createElement(d,bt({},f,{innerProps:E,isDisabled:y,isFocused:x}))}},{key:"renderIndicatorSeparator",value:function(){var l=this.getComponents(),d=l.DropdownIndicator,f=l.IndicatorSeparator;if(!d||!f)return null;var v=this.commonProps,y=this.props.isDisabled,w=this.state.isFocused;return Re.createElement(f,bt({},v,{isDisabled:y,isFocused:w}))}},{key:"renderDropdownIndicator",value:function(){var l=this.getComponents(),d=l.DropdownIndicator;if(!d)return null;var f=this.commonProps,v=this.props.isDisabled,y=this.state.isFocused,w={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Re.createElement(d,bt({},f,{innerProps:w,isDisabled:v,isFocused:y}))}},{key:"renderMenu",value:function(){var l=this,d=this.getComponents(),f=d.Group,v=d.GroupHeading,y=d.Menu,w=d.MenuList,x=d.MenuPortal,E=d.LoadingMessage,R=d.NoOptionsMessage,O=d.Option,F=this.commonProps,G=this.state.focusedOption,re=this.props,J=re.captureMenuScroll,se=re.inputValue,D=re.isLoading,te=re.loadingMessage,ce=re.minMenuHeight,ue=re.maxMenuHeight,ye=re.menuIsOpen,xe=re.menuPlacement,Fe=re.menuPosition,ze=re.menuPortalTarget,tt=re.menuShouldBlockScroll,st=re.menuShouldScrollIntoView,nt=re.noOptionsMessage,mt=re.onMenuScrollToTop,ft=re.onMenuScrollToBottom;if(!ye)return null;var At=function(Ht,Ie){var We=Ht.type,Ze=Ht.data,Ge=Ht.isDisabled,Je=Ht.isSelected,vt=Ht.label,Qt=Ht.value,xn=G===Ze,Gt=Ge?void 0:function(){return l.onOptionHover(Ze)},Hr=Ge?void 0:function(){return l.selectOption(Ze)},mr="".concat(l.getElementId("option"),"-").concat(Ie),Or={id:mr,onClick:Hr,onMouseMove:Gt,onMouseOver:Gt,tabIndex:-1};return Re.createElement(O,bt({},F,{innerProps:Or,data:Ze,isDisabled:Ge,isSelected:Je,key:mr,label:vt,type:We,value:Qt,isFocused:xn,innerRef:xn?l.getFocusedOptionRef:void 0}),l.formatOptionLabel(Ht.data,"menu"))},Rt;if(this.hasOptions())Rt=this.getCategorizedOptions().map(function(Ht){if(Ht.type==="group"){var Ie=Ht.data,We=Ht.options,Ze=Ht.index,Ge="".concat(l.getElementId("group"),"-").concat(Ze),Je="".concat(Ge,"-heading");return Re.createElement(f,bt({},F,{key:Ge,data:Ie,options:We,Heading:v,headingProps:{id:Je,data:Ht.data},label:l.formatGroupLabel(Ht.data)}),Ht.options.map(function(vt){return At(vt,"".concat(Ze,"-").concat(vt.index))}))}else if(Ht.type==="option")return At(Ht,"".concat(Ht.index))});else if(D){var Mt=te({inputValue:se});if(Mt===null)return null;Rt=Re.createElement(E,F,Mt)}else{var $t=nt({inputValue:se});if($t===null)return null;Rt=Re.createElement(R,F,$t)}var on={minMenuHeight:ce,maxMenuHeight:ue,menuPlacement:xe,menuPosition:Fe,menuShouldScrollIntoView:st},rt=Re.createElement(kE,bt({},F,on),function(Ht){var Ie=Ht.ref,We=Ht.placerProps,Ze=We.placement,Ge=We.maxHeight;return Re.createElement(y,bt({},F,on,{innerRef:Ie,innerProps:{onMouseDown:l.onMenuMouseDown,onMouseMove:l.onMenuMouseMove},isLoading:D,placement:Ze}),Re.createElement(y6,{captureEnabled:J,onTopArrive:mt,onBottomArrive:ft,lockEnabled:tt},function(Je){return Re.createElement(w,bt({},F,{innerRef:function(vt){l.getMenuListRef(vt),Je(vt)},isLoading:D,maxHeight:Ge,focusedOption:G}),Rt)}))});return ze||Fe==="fixed"?Re.createElement(x,bt({},F,{appendTo:ze,controlElement:this.controlRef,menuPlacement:xe,menuPosition:Fe}),rt):rt}},{key:"renderFormField",value:function(){var l=this,d=this.props,f=d.delimiter,v=d.isDisabled,y=d.isMulti,w=d.name,x=this.state.selectValue;if(!(!w||v))if(y)if(f){var E=x.map(function(F){return l.getOptionValue(F)}).join(f);return Re.createElement("input",{name:w,type:"hidden",value:E})}else{var R=x.length>0?x.map(function(F,G){return Re.createElement("input",{key:"i-".concat(G),name:w,type:"hidden",value:l.getOptionValue(F)})}):Re.createElement("input",{name:w,type:"hidden"});return Re.createElement("div",null,R)}else{var O=x[0]?this.getOptionValue(x[0]):"";return Re.createElement("input",{name:w,type:"hidden",value:O})}}},{key:"renderLiveRegion",value:function(){var l=this.commonProps,d=this.state,f=d.ariaSelection,v=d.focusedOption,y=d.focusedValue,w=d.isFocused,x=d.selectValue,E=this.getFocusableOptions();return Re.createElement(a6,bt({},l,{ariaSelection:f,focusedOption:v,focusedValue:y,isFocused:w,selectValue:x,focusableOptions:E}))}},{key:"render",value:function(){var l=this.getComponents(),d=l.Control,f=l.IndicatorsContainer,v=l.SelectContainer,y=l.ValueContainer,w=this.props,x=w.className,E=w.id,R=w.isDisabled,O=w.menuIsOpen,F=this.state.isFocused,G=this.commonProps=this.getCommonProps();return Re.createElement(v,bt({},G,{className:x,innerProps:{id:E,onKeyDown:this.onKeyDown},isDisabled:R,isFocused:F}),this.renderLiveRegion(),Re.createElement(d,bt({},G,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:R,isFocused:F,menuIsOpen:O}),Re.createElement(y,bt({},G,{isDisabled:R}),this.renderPlaceholderOrValue(),this.renderInput()),Re.createElement(f,bt({},G,{isDisabled:R}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(l,d){var f=d.prevProps,v=d.clearFocusValueOnUpdate,y=d.inputIsHiddenAfterUpdate,w=l.options,x=l.value,E=l.menuIsOpen,R=l.inputValue,O={};if(f&&(x!==f.value||w!==f.options||E!==f.menuIsOpen||R!==f.inputValue)){var F=bE(x),G=E?O6(l,F):[],re=v?A6(d,F):null,J=D6(d,G);O={selectValue:F,focusedOption:J,focusedValue:re,clearFocusValueOnUpdate:!1}}var se=y!=null&&l!==f?{inputIsHidden:y,inputIsHiddenAfterUpdate:void 0}:{};return qn(qn(qn({},O),se),{},{prevProps:l})}}]),o}(Z);sT.defaultProps=R6;var I6={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},L6=function(s){var u,o;return o=u=function(l){Jc(f,l);var d=ed(f);function f(){var v;Xc(this,f);for(var y=arguments.length,w=new Array(y),x=0;x<y;x++)w[x]=arguments[x];return v=d.call.apply(d,[this].concat(w)),v.select=void 0,v.state={inputValue:v.props.inputValue!==void 0?v.props.inputValue:v.props.defaultInputValue,menuIsOpen:v.props.menuIsOpen!==void 0?v.props.menuIsOpen:v.props.defaultMenuIsOpen,value:v.props.value!==void 0?v.props.value:v.props.defaultValue},v.onChange=function(E,R){v.callProp("onChange",E,R),v.setState({value:E})},v.onInputChange=function(E,R){var O=v.callProp("onInputChange",E,R);v.setState({inputValue:O!==void 0?O:E})},v.onMenuOpen=function(){v.callProp("onMenuOpen"),v.setState({menuIsOpen:!0})},v.onMenuClose=function(){v.callProp("onMenuClose"),v.setState({menuIsOpen:!1})},v}return Yc(f,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(v){return this.props[v]!==void 0?this.props[v]:this.state[v]}},{key:"callProp",value:function(v){if(typeof this.props[v]=="function"){for(var y,w=arguments.length,x=new Array(w>1?w-1:0),E=1;E<w;E++)x[E-1]=arguments[E];return(y=this.props)[v].apply(y,x)}}},{key:"render",value:function(){var v=this,y=this.props;y.defaultInputValue,y.defaultMenuIsOpen,y.defaultValue;var w=Ns(y,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return Re.createElement(s,bt({},w,{ref:function(x){v.select=x},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),f}(Z),u.defaultProps=I6,o},j6=L6(sT),N6=j6;const cm=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var aT=s=>{const u=s.content?cm.find(o=>o.value===s.content):null;return Re.createElement("div",{className:"r6o-purposedropdown"},Re.createElement(N6,{value:u,onChange:s.onChange,options:cm,isDisabled:!s.editable}))};const F6=s=>Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:s.width},Re.createElement("metadata",null,"IcoFont Icons"),Re.createElement("title",null,"simple-down"),Re.createElement("glyph",{glyphName:"simple-down",unicode:"",horizAdvX:"1000"}),Re.createElement("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),B6=s=>Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:s.width},Re.createElement("metadata",null,"IcoFont Icons"),Re.createElement("title",null,"close"),Re.createElement("glyph",{glyphName:"close",unicode:"",horizAdvX:"1000"}),Re.createElement("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),H6=s=>Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:s.width},Re.createElement("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var z6=s=>{const[u,o]=Me(!1),[l,d]=Me(!1),f=R=>{o(!0),d(!1)},v=R=>{s.onDelete(s.body),d(!1)},y=R=>s.onUpdate(s.body,{...s.body,value:R.target.value}),w=R=>s.onUpdate(s.body,{...s.body,purpose:R.value}),x=s.body.modified||s.body.created,E=s.body.creator&&Re.createElement("div",{className:"r6o-lastmodified"},Re.createElement("span",{className:"r6o-lastmodified-by"},s.body.creator.name||s.body.creator.id),s.body.created&&Re.createElement("span",{className:"r6o-lastmodified-at"},Re.createElement(CI,{datetime:s.env.toClientTime(x),locale:kr.locale()})));return s.readOnly?Re.createElement("div",{className:"r6o-widget comment"},Re.createElement("div",{className:"r6o-readonly-comment"},s.body.value),E):Re.createElement("div",{className:u?"r6o-widget comment editable":"r6o-widget comment"},Re.createElement(BS,{editable:u,content:s.body.value,onChange:y,onSaveAndClose:s.onSaveAndClose}),!u&&E,s.purposeSelector&&Re.createElement(aT,{editable:u,content:s.body.purpose,onChange:w,onSaveAndClose:s.onSaveAndClose}),Re.createElement("div",{className:l?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>d(!l)},Re.createElement(F6,{width:12})),l&&Re.createElement(EH,{onEdit:f,onDelete:v,onClickOutside:()=>d(!1)}))};const V6=cm.map(s=>s.value),lT=(s,u)=>{const o=u?V6.indexOf(s.purpose)>-1:s.purpose=="commenting"||s.purpose=="replying";return s.type==="TextualBody"&&(!Object.prototype.hasOwnProperty.call(s,"purpose")||o)},uT=(s,u)=>{var o,l;if(u.editable===!0)return!1;if(u.editable===!1)return!0;if(u.editable==="MINE_ONLY"){const d=(o=s.creator)==null?void 0:o.id;return((l=u.env.user)==null?void 0:l.id)!==d}return u.readOnly},U6=(s,u)=>s||{type:"TextualBody",value:"",purpose:u?"replying":"commenting",draft:!0},cT=s=>{const u=s.annotation?s.annotation.bodies.filter(w=>lT(w,s.purposeSelector)):[],o=U6(u.find(w=>w.draft==!0),u.length>1),l=u.filter(w=>w!=o),d=w=>{const x=o.value,E=w.target.value;x.length===0&&E.length>0?s.onAppendBody({...o,value:E}):x.length>0&&E.length===0?s.onRemoveBody(o):s.onUpdateBody(o,{...o,value:E})},f=w=>s.onUpdateBody(o,{...o,purpose:w.value}),v=!s.readOnly&&s.annotation,y=l.length===0||!s.disableReply;return Re.createElement(Re.Fragment,null,l.map((w,x)=>Re.createElement(z6,{key:x,env:s.env,purposeSelector:s.purposeSelector,readOnly:uT(w,s),body:w,onUpdate:s.onUpdateBody,onDelete:s.onRemoveBody,onSaveAndClose:s.onSaveAndClose})),v&&y&&Re.createElement("div",{className:"r6o-widget comment editable"},Re.createElement(BS,{focus:s.focus,content:o.value,editable:!0,placeholder:l.length>0?kr.t("Add a reply..."):s.textPlaceHolder||kr.t("Add a comment..."),onChange:d,onSaveAndClose:()=>s.onSaveAndClose()}),s.purposeSelector&&o.value.length>0&&Re.createElement(aT,{editable:!0,content:o.purpose,onChange:f,onSaveAndClose:()=>s.onSaveAndClose()})))};cT.disableDelete=(s,u)=>s.bodies.filter(o=>lT(o,u.purposeSelector)).some(o=>uT(o,u));var dT=cT;function hT(s,u){s.prototype=Object.create(u.prototype),s.prototype.constructor=s,Kc(s,u)}function W6(s,u){return s.classList?!!u&&s.classList.contains(u):(" "+(s.className.baseVal||s.className)+" ").indexOf(" "+u+" ")!==-1}function G6(s,u){s.classList?s.classList.add(u):W6(s,u)||(typeof s.className=="string"?s.className=s.className+" "+u:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+u))}function pT(s,u){return s.replace(new RegExp("(^|\\s)"+u+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function q6(s,u){s.classList?s.classList.remove(u):typeof s.className=="string"?s.className=pT(s.className,u):s.setAttribute("class",pT(s.className&&s.className.baseVal||"",u))}var fT={disabled:!1},mT=Re.createContext(null),gT=function(s){return s.scrollTop},gl="unmounted",No="exited",Fo="entering",Hs="entered",dm="exiting",_i=function(s){hT(u,s);function u(l,d){var f;f=s.call(this,l,d)||this;var v=d,y=v&&!v.isMounting?l.enter:l.appear,w;return f.appearStatus=null,l.in?y?(w=No,f.appearStatus=Fo):w=Hs:l.unmountOnExit||l.mountOnEnter?w=gl:w=No,f.state={status:w},f.nextCallback=null,f}u.getDerivedStateFromProps=function(l,d){var f=l.in;return f&&d.status===gl?{status:No}:null};var o=u.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(l){var d=null;if(l!==this.props){var f=this.state.status;this.props.in?f!==Fo&&f!==Hs&&(d=Fo):(f===Fo||f===Hs)&&(d=dm)}this.updateStatus(!1,d)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var l=this.props.timeout,d,f,v;return d=f=v=l,l!=null&&typeof l!="number"&&(d=l.exit,f=l.enter,v=l.appear!==void 0?l.appear:f),{exit:d,enter:f,appear:v}},o.updateStatus=function(l,d){if(l===void 0&&(l=!1),d!==null)if(this.cancelNextCallback(),d===Fo){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:Re.findDOMNode(this);f&&gT(f)}this.performEnter(l)}else this.performExit();else this.props.unmountOnExit&&this.state.status===No&&this.setState({status:gl})},o.performEnter=function(l){var d=this,f=this.props.enter,v=this.context?this.context.isMounting:l,y=this.props.nodeRef?[v]:[Re.findDOMNode(this),v],w=y[0],x=y[1],E=this.getTimeouts(),R=v?E.appear:E.enter;if(!l&&!f||fT.disabled){this.safeSetState({status:Hs},function(){d.props.onEntered(w)});return}this.props.onEnter(w,x),this.safeSetState({status:Fo},function(){d.props.onEntering(w,x),d.onTransitionEnd(R,function(){d.safeSetState({status:Hs},function(){d.props.onEntered(w,x)})})})},o.performExit=function(){var l=this,d=this.props.exit,f=this.getTimeouts(),v=this.props.nodeRef?void 0:Re.findDOMNode(this);if(!d||fT.disabled){this.safeSetState({status:No},function(){l.props.onExited(v)});return}this.props.onExit(v),this.safeSetState({status:dm},function(){l.props.onExiting(v),l.onTransitionEnd(f.exit,function(){l.safeSetState({status:No},function(){l.props.onExited(v)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(l,d){d=this.setNextCallback(d),this.setState(l,d)},o.setNextCallback=function(l){var d=this,f=!0;return this.nextCallback=function(v){f&&(f=!1,d.nextCallback=null,l(v))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},o.onTransitionEnd=function(l,d){this.setNextCallback(d);var f=this.props.nodeRef?this.props.nodeRef.current:Re.findDOMNode(this),v=l==null&&!this.props.addEndListener;if(!f||v){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var y=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],w=y[0],x=y[1];this.props.addEndListener(w,x)}l!=null&&setTimeout(this.nextCallback,l)},o.render=function(){var l=this.state.status;if(l===gl)return null;var d=this.props,f=d.children;d.in,d.mountOnEnter,d.unmountOnExit,d.appear,d.enter,d.exit,d.timeout,d.addEndListener,d.onEnter,d.onEntering,d.onEntered,d.onExit,d.onExiting,d.onExited,d.nodeRef;var v=Kf(d,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Re.createElement(mT.Provider,{value:null},typeof f=="function"?f(l,v):Re.cloneElement(Re.Children.only(f),v))},u}(Re.Component);_i.contextType=mT,_i.propTypes={};function zs(){}_i.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zs,onEntering:zs,onEntered:zs,onExit:zs,onExiting:zs,onExited:zs},_i.UNMOUNTED=gl,_i.EXITED=No,_i.ENTERING=Fo,_i.ENTERED=Hs,_i.EXITING=dm;var $6=_i,Z6=function(s,u){return s&&u&&u.split(" ").forEach(function(o){return G6(s,o)})},hm=function(s,u){return s&&u&&u.split(" ").forEach(function(o){return q6(s,o)})},pm=function(s){hT(u,s);function u(){for(var l,d=arguments.length,f=new Array(d),v=0;v<d;v++)f[v]=arguments[v];return l=s.call.apply(s,[this].concat(f))||this,l.appliedClasses={appear:{},enter:{},exit:{}},l.onEnter=function(y,w){var x=l.resolveArguments(y,w),E=x[0],R=x[1];l.removeClasses(E,"exit"),l.addClass(E,R?"appear":"enter","base"),l.props.onEnter&&l.props.onEnter(y,w)},l.onEntering=function(y,w){var x=l.resolveArguments(y,w),E=x[0],R=x[1],O=R?"appear":"enter";l.addClass(E,O,"active"),l.props.onEntering&&l.props.onEntering(y,w)},l.onEntered=function(y,w){var x=l.resolveArguments(y,w),E=x[0],R=x[1],O=R?"appear":"enter";l.removeClasses(E,O),l.addClass(E,O,"done"),l.props.onEntered&&l.props.onEntered(y,w)},l.onExit=function(y){var w=l.resolveArguments(y),x=w[0];l.removeClasses(x,"appear"),l.removeClasses(x,"enter"),l.addClass(x,"exit","base"),l.props.onExit&&l.props.onExit(y)},l.onExiting=function(y){var w=l.resolveArguments(y),x=w[0];l.addClass(x,"exit","active"),l.props.onExiting&&l.props.onExiting(y)},l.onExited=function(y){var w=l.resolveArguments(y),x=w[0];l.removeClasses(x,"exit"),l.addClass(x,"exit","done"),l.props.onExited&&l.props.onExited(y)},l.resolveArguments=function(y,w){return l.props.nodeRef?[l.props.nodeRef.current,y]:[y,w]},l.getClassNames=function(y){var w=l.props.classNames,x=typeof w=="string",E=x&&w?w+"-":"",R=x?""+E+y:w[y],O=x?R+"-active":w[y+"Active"],F=x?R+"-done":w[y+"Done"];return{baseClassName:R,activeClassName:O,doneClassName:F}},l}var o=u.prototype;return o.addClass=function(l,d,f){var v=this.getClassNames(d)[f+"ClassName"],y=this.getClassNames("enter"),w=y.doneClassName;d==="appear"&&f==="done"&&w&&(v+=" "+w),f==="active"&&l&&gT(l),v&&(this.appliedClasses[d][f]=v,Z6(l,v))},o.removeClasses=function(l,d){var f=this.appliedClasses[d],v=f.base,y=f.active,w=f.done;this.appliedClasses[d]={},v&&hm(l,v),y&&hm(l,y),w&&hm(l,w)},o.render=function(){var l=this.props;l.classNames;var d=Kf(l,["classNames"]);return Re.createElement($6,bt({},d,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},u}(Re.Component);pm.defaultProps={classNames:""},pm.propTypes={};var X6=pm;const Y6=(s,u)=>u.filter(o=>(o.label?o.label:o).toLowerCase().startsWith(s.toLowerCase())),K6=(s,u)=>u(s);var J6=s=>{const u=pt(),[o,l]=Me(s.initialValue||""),[d,f]=Me([]),[v,y]=Me(null);qe(()=>{s.focus&&u.current.querySelector("input").focus({preventScroll:!0})},[]),qe(()=>{s.onChange&&s.onChange(o)},[o]);const w=O=>{if(typeof s.vocabulary=="function"){const F=K6(O,s.vocabulary);F.then?F.then(f):f(F)}else{const F=Y6(O,s.vocabulary);f(F)}},x=()=>{if(v!==null)s.onSubmit(d[v]);else{const O=o.trim();if(O){const F=Array.isArray(s.vocabulary)?s.vocabulary.find(G=>(G.label||G).toLowerCase()===O.toLowerCase()):null;F?s.onSubmit(F):s.onSubmit(O)}}l(""),f([]),y(null)},E=O=>{if(O.which===13)x();else if(O.which===27)s.onCancel&&s.onCancel();else if(d.length>0){if(O.which===38)if(v===null)y(0);else{const F=Math.max(0,v-1);y(F)}else if(O.which===40)if(v===null)y(0);else{const F=Math.min(d.length-1,v+1);y(F)}}else O.which===40&&Array.isArray(s.vocabulary)&&f(s.vocabulary)},R=O=>{const{value:F}=O.target;l(F),y(null),F?w(F):f([])};return Re.createElement("div",{ref:u,className:"r6o-autocomplete"},Re.createElement("div",null,Re.createElement("input",{onKeyDown:E,onChange:R,value:o,placeholder:s.placeholder})),Re.createElement("ul",null,d.length>0&&d.map((O,F)=>Re.createElement("li",{key:`${O.label?O.label:O}${F}`,onClick:x,onMouseEnter:()=>y(F),style:v===F?{backgroundColor:"#bde4ff"}:{}},O.label?O.label:O))))};const Q6=s=>s||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var vT=s=>{const u=s.annotation?s.annotation.bodies.filter(R=>R.purpose==="tagging"):[],o=Q6(u.slice().reverse().find(R=>R.draft)),l=u.filter(R=>R!=o),[d,f]=Me(!1),v=R=>O=>{f(d===R?!1:R)},y=R=>{const O=o.value.trim(),F=R.trim();O.length===0&&F.length>0?s.onAppendBody({...o,value:F}):O.length>0&&F.length===0?s.onRemoveBody(o):O!==F&&s.onUpdateBody(o,{...o,value:F})},w=R=>O=>{O.stopPropagation(),s.onRemoveBody(R)},x=R=>{const O=R.uri?{type:"SpecificResource",purpose:"tagging",source:{id:R.uri,label:R.label}}:{type:"TextualBody",purpose:"tagging",value:R.label||R};o.value.trim().length===0?s.onAppendBody(O):s.onUpdateBody(o,O)},E=R=>R.value||R.source.label;return Re.createElement("div",{className:"r6o-widget r6o-tag"},l.length>0&&Re.createElement("ul",{className:"r6o-taglist"},l.map(R=>Re.createElement("li",{key:E(R),onClick:v(R)},Re.createElement("span",{className:"r6o-label"},E(R)),!s.readOnly&&Re.createElement(X6,{in:d===R,timeout:200,classNames:"r6o-delete"},Re.createElement("span",{className:"r6o-delete-wrapper",onClick:w(R)},Re.createElement("span",{className:"r6o-delete"},Re.createElement(B6,{width:12}))))))),!s.readOnly&&Re.createElement(J6,{focus:s.focus,placeholder:s.textPlaceHolder||kr.t("Add tag..."),vocabulary:s.vocabulary||[],onChange:y,onSubmit:x}))};class yT extends Z{constructor(u){super(u),this.element=Re.createRef()}renderWidget(u){const o=this.props.widget({annotation:u.annotation,readOnly:u.readOnly,...u.config,onAppendBody:(l,d)=>u.onAppendBody(l,d),onUpdateBody:(l,d,f)=>u.onUpdateBody(l,d,f),onUpsertBody:(l,d,f)=>u.onUpsertBody(l,d,f),onRemoveBody:(l,d)=>u.onRemoveBody(l,d),onBatchModify:(l,d)=>u.onBatchModify(l,d),onSetProperty:(l,d)=>u.onSetProperty(l,d),onAddContext:l=>u.onAddContext(l),onSaveAndClose:()=>u.onSaveAndClose()});for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(o)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(u){this.element.current&&this.props.annotation!==u.annotation&&this.renderWidget(u)}render(){return Re.createElement("div",{ref:this.element,className:"widget"})}}window.React=Re,window.ReactDOM=Re;const eV={COMMENT:dT,TAG:vT},tV=[Re.createElement(dT,null),Re.createElement(vT,null)],nV=s=>{const u=l=>{var d;return typeof l=="function"&&!!((d=l.prototype)!=null&&d.isReactComponent)},o=l=>typeof l=="function"&&(String(l).match(/return .+\(['|"].+['|"],\s*\{/g)||String(l).match(/return .+preact_compat/)||String(l).match(/return .+\.createElement/g));return u(s)||o(s)},rV=s=>{const u=(o,l,d)=>{if(typeof o=="string"||o instanceof String)return Re.createElement(eV[o],l);if((d==null?void 0:d.toLowerCase())==="react")return Re.createElement(o,l);if((d==null?void 0:d.toLowerCase())==="plainjs")return Re.createElement(yT,{widget:o,config:l});if(nV(o))return Re.createElement(o,l);if(typeof o=="function"||o instanceof Function)return Re.createElement(yT,{widget:o,config:l});throw`${o} is not a valid plugin`};if(s.widget){const{widget:o,force:l,...d}=s;return u(o,d,l)}else return u(s)},wT=14;var xT=(s,u,o,l)=>{const d=s.getBoundingClientRect();u.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:f,top:v,right:y,bottom:w}=o.getBoundingClientRect();if(u.style.top=`${w-d.top+wT}px`,u.style.left=`${f-d.left}px`,l){const x=u.children[1].getBoundingClientRect(),{innerWidth:E,innerHeight:R}=s.ownerDocument.defaultView;if(x.right>E&&(u.classList.remove("r6o-arrow-left"),u.classList.add("r6o-arrow-right"),u.style.left=`${y-x.width-d.left}px`),x.bottom>R){u.classList.remove("r6o-arrow-top"),u.classList.add("r6o-arrow-bottom");const F=u.children[1].getBoundingClientRect().height;u.style.top=`${v-d.top-F-wT}px`}const O=u.children[1].getBoundingClientRect();if(O.top<0){u.classList.add("pushed","down"),u.style.top=`${-d.top}px`;const F=w-d.top;O.height-d.top>F&&u.classList.remove("r6o-arrow-bottom")}O.left<0&&(u.classList.add("pushed","right"),u.style.left=`${-d.left}px`),requestAnimationFrame(()=>u.style.opacity=1)}};const bT=s=>{const{top:u,left:o,width:l,height:d}=s.getBoundingClientRect();return`${u}, ${o}, ${l}, ${d}`};class iV extends Z{constructor(u){super(u),i(this,"initResizeObserver",()=>{const o=this.props.autoPosition===void 0?!0:this.props.autoPosition;if(window!=null&&window.ResizeObserver){const l=new ResizeObserver(()=>{this.state.dragged||xT(this.props.wrapperEl,this.element.current,this.props.selectedElement,o)});return l.observe(this.props.wrapperEl),()=>l.disconnect()}else this.state.dragged||xT(this.props.wrapperEl,this.element.current,this.props.selectedElement,o)}),i(this,"creationMeta",o=>{const l={},{user:d}=this.props.env;return d&&(l.creator={},d.id&&(l.creator.id=d.id),d.displayName&&(l.creator.name=d.displayName),l[o.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),l}),i(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),i(this,"hasChanges",()=>{var o;return!((o=this.props.annotation)!=null&&o.isEqual(this.state.currentAnnotation))}),i(this,"updateCurrentAnnotation",(o,l)=>{this.setState({currentAnnotation:this.state.currentAnnotation.clone(o)},()=>{l?this.onOk():this.props.onChanged&&this.props.onChanged()})}),i(this,"onAppendBody",(o,l)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,{...o,...this.creationMeta(o)}]},l)),i(this,"onUpdateBody",(o,l,d)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(f=>f===o?{...l,...this.creationMeta(l)}:f)},d)),i(this,"onRemoveBody",(o,l)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(d=>d!==o)},l)),i(this,"onUpsertBody",(o,l,d)=>{if(o==null&&l!=null)this.onAppendBody(l,d);else if(o!=null&&l!=null)this.onUpdateBody(o,l,d);else if(o!=null&&l==null){const f=this.state.currentAnnotation.bodies.find(v=>v.purpose===o.purpose);f?this.onUpdateBody(f,o,d):this.onAppendBody(o,d)}}),i(this,"onBatchModify",(o,l)=>{const d=o.filter(x=>x.action==="upsert"&&x.body).map(x=>({previous:this.state.currentAnnotation.bodies.find(E=>E.purpose===x.body.purpose),updated:{...x.body,...this.creationMeta(x.body)}})),f=o.filter(x=>x.action==="remove").map(x=>x.body),v=[...o.filter(x=>x.action==="append"||x.action==="upsert"&&x.updated&&!x.previous).map(x=>({...x.body,...this.creationMeta(x.body)})),...d.filter(x=>!x.previous).map(x=>x.updated)],y=[...o.filter(x=>x.action==="update"||x.action==="upsert"&&x.updated&&x.previous).map(x=>({previous:x.previous,updated:{...x.updated,...this.creationMeta(x.updated)}})),...d.filter(x=>x.previous)],w=[...this.state.currentAnnotation.bodies.filter(x=>!f.includes(x)).map(x=>{const E=y.find(R=>R.previous===x);return E?E.updated:x}),...v];this.updateCurrentAnnotation({body:w},l)}),i(this,"onSetProperty",(o,l)=>{if(["@context","id","type","body","target"].includes(o))throw new Exception(`Cannot set ${o} - not allowed`);if(l)this.updateCurrentAnnotation({[o]:l});else{const d=this.currentAnnotation.clone();delete d[o],this.setState({currentAnnotation:d})}}),i(this,"onAddContext",o=>{const{currentAnnotation:l}=this.state,d=Array.isArray(l.context)?l.context:[l.context];d.indexOf(o)<0&&(d.push(o),this.updateCurrentAnnotation({"@context":d}))}),i(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),i(this,"onOk",()=>{const o=d=>d.clone({body:d.bodies.map(({draft:f,...v})=>v)}),{currentAnnotation:l}=this.state;l.bodies.length===0&&!this.props.allowEmpty?l.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation):l.isSelection?this.props.onAnnotationCreated(o(l).toAnnotation()):this.props.onAnnotationUpdated(o(l),this.props.annotation)}),i(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=Re.createRef(),this.state={currentAnnotation:u.annotation,dragged:!1,selectionBounds:bT(u.selectedElement)}}componentWillReceiveProps(u){var o;const{selectionBounds:l}=this.state,d=bT(u.selectedElement);(o=this.props.annotation)!=null&&o.isEqual(u.annotation)?this.setState({selectionBounds:d}):this.setState({currentAnnotation:u.annotation,selectionBounds:d}),this.props.modifiedTarget!=u.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),l!=d&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:u}=this.state,o=this.props.widgets?this.props.widgets.map(rV):tV,l=f=>f.type.disableDelete?f.type.disableDelete(u,{...f.props,readOnly:this.props.readOnly,env:this.props.env}):!1,d=u&&(u.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!u.isSelection&&!o.some(l);return Re.createElement(hI,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},Re.createElement("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},Re.createElement("div",{className:"r6o-arrow"}),Re.createElement("div",{className:"r6o-editor-inner"},o.map((f,v)=>Re.cloneElement(f,{key:`${v}`,focus:v===0,annotation:u,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onAddContext:this.onAddContext,onSaveAndClose:this.onOk})),this.props.readOnly?Re.createElement("div",{className:"r6o-footer"},Re.createElement("button",{className:"r6o-btn",onClick:this.onCancel},kr.t("Close"))):Re.createElement("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},d&&Re.createElement("button",{className:"r6o-btn left delete-annotation",title:kr.t("Delete"),onClick:this.onDelete},Re.createElement(H6,{width:12})),Re.createElement("button",{className:"r6o-btn outline",onClick:this.onCancel},kr.t("Cancel")),Re.createElement("button",{className:"r6o-btn ",onClick:this.onOk},kr.t("Ok"))))))}}var sd,oV=new Uint8Array(16);function sV(){if(!sd&&(sd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!sd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sd(oV)}var aV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function lV(s){return typeof s=="string"&&aV.test(s)}for(var $n=[],fm=0;fm<256;++fm)$n.push((fm+256).toString(16).substr(1));function uV(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=($n[s[u+0]]+$n[s[u+1]]+$n[s[u+2]]+$n[s[u+3]]+"-"+$n[s[u+4]]+$n[s[u+5]]+"-"+$n[s[u+6]]+$n[s[u+7]]+"-"+$n[s[u+8]]+$n[s[u+9]]+"-"+$n[s[u+10]]+$n[s[u+11]]+$n[s[u+12]]+$n[s[u+13]]+$n[s[u+14]]+$n[s[u+15]]).toLowerCase();if(!lV(o))throw TypeError("Stringified UUID is invalid");return o}function ST(s,u,o){s=s||{};var l=s.random||(s.rng||sV)();return l[6]=l[6]&15|64,l[8]=l[8]&63|128,uV(l)}var cV=function s(u,o){if(u===o)return!0;if(u&&o&&typeof u=="object"&&typeof o=="object"){if(u.constructor!==o.constructor)return!1;var l,d,f;if(Array.isArray(u)){if(l=u.length,l!=o.length)return!1;for(d=l;d--!==0;)if(!s(u[d],o[d]))return!1;return!0}if(u.constructor===RegExp)return u.source===o.source&&u.flags===o.flags;if(u.valueOf!==Object.prototype.valueOf)return u.valueOf()===o.valueOf();if(u.toString!==Object.prototype.toString)return u.toString()===o.toString();if(f=Object.keys(u),l=f.length,l!==Object.keys(o).length)return!1;for(d=l;d--!==0;)if(!Object.prototype.hasOwnProperty.call(o,f[d]))return!1;for(d=l;d--!==0;){var v=f[d];if(!s(u[v],o[v]))return!1}return!0}return u!==u&&o!==o},ET=cV;const mm=class{constructor(s,u){i(this,"clone",(o,l)=>new mm({...this.underlying,...o},{...this.opts,...l})),i(this,"selector",o=>{const{target:l}=this.underlying;if(l.selector)return(Array.isArray(l.selector)?l.selector:[l.selector]).find(d=>d.type===o)}),this.underlying=s,this.opts=u}isEqual(s){return(s==null?void 0:s.type)!=="Annotation"?!1:this.underlying===s.underlying?!0:!this.underlying.id||!s.underlying.id?!1:ET(this.underlying,s.underlying)}get readOnly(){var s;return(s=this.opts)==null?void 0:s.readOnly}get id(){return this.underlying.id}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(s){this.underlying.body=s}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){var s;return(s=this.selector("TextQuoteSelector"))==null?void 0:s.exact}get start(){var s;return(s=this.selector("TextPositionSelector"))==null?void 0:s.start}get end(){var s;return(s=this.selector("TextPositionSelector"))==null?void 0:s.end}};let Bo=mm;i(Bo,"create",s=>{const u={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${ST()}`,body:[]};return new mm({...u,...s})});class vl{constructor(u,o){i(this,"clone",l=>{const d=new vl;return d.underlying=JSON.parse(JSON.stringify(this.underlying)),l&&(d.underlying={...d.underlying,...l}),d}),i(this,"selector",l=>{const{target:d}=this.underlying;if(d.selector)return(Array.isArray(d.selector)?d.selector:[d.selector]).find(f=>f.type===l)}),i(this,"toAnnotation",()=>{const l=Object.assign({},this.underlying,{type:"Annotation",id:`#${ST()}`});return new Bo(l)}),this.underlying={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Selection",body:o||[],target:u}}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(u){return u?ET(this.underlying,u.underlying):!1}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){var u;return(u=this.selector("TextQuoteSelector"))==null?void 0:u.exact}get isSelection(){return!0}}let gm=0;var dV=()=>({setServerTime:s=>{const u=Date.now();gm=s-u},getCurrentTimeAdjusted:()=>new Date(Date.now()+gm).toISOString(),toClientTime:s=>Date.parse(s)-gm});const hV=(s,u)=>{if(s){const o=s==="auto"?window.navigator.userLanguage||window.navigator.language:s,l=o.split("-")[0].toLowerCase(),d=[o,l].find(f=>SH.includes(f));d||console.warn(`Unsupported locale '${o}'. Falling back to default en.`),kr.init(d,u)}else kr.init(null,u)};var TT={exports:{}};(function(s){//! openseadragon 3.0.0
//! Built on 2021-12-15
//! Git commit: v3.0.0-0-3eded36
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function u(o){return new u.Viewer(o)}(function(o){o.version={versionStr:"3.0.0",major:parseInt("3",10),minor:parseInt("0",10),revision:parseInt("0",10)};var l={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},d=Object.prototype.toString,f=Object.prototype.hasOwnProperty;o.isFunction=function(v){return o.type(v)==="function"},o.isArray=Array.isArray||function(v){return o.type(v)==="array"},o.isWindow=function(v){return v&&typeof v=="object"&&"setInterval"in v},o.type=function(v){return v==null?String(v):l[d.call(v)]||"object"},o.isPlainObject=function(v){if(!v||u.type(v)!=="object"||v.nodeType||o.isWindow(v)||v.constructor&&!f.call(v,"constructor")&&!f.call(v.constructor.prototype,"isPrototypeOf"))return!1;var y;for(var w in v)y=w;return y===void 0||f.call(v,y)},o.isEmptyObject=function(v){for(var y in v)return!1;return!0},o.freezeObject=function(v){return Object.freeze?o.freezeObject=Object.freeze:o.freezeObject=function(y){return y},o.freezeObject(v)},o.supportsCanvas=function(){var v=document.createElement("canvas");return!!(o.isFunction(v.getContext)&&v.getContext("2d"))}(),o.isCanvasTainted=function(v){var y=!1;try{v.getContext("2d").getImageData(0,0,1,1)}catch{y=!0}return y},o.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),o.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),o.supportsEventListenerOptions=function(){var v=0;if(o.supportsAddEventListener)try{var y={get capture(){return v++,!1},get once(){return v++,!1},get passive(){return v++,!1}};window.addEventListener("test",null,y),window.removeEventListener("test",null,y)}catch{v=0}return v>=3}(),o.getCurrentPixelDensityRatio=function(){if(o.supportsCanvas){var v=document.createElement("canvas").getContext("2d"),y=window.devicePixelRatio||1,w=v.webkitBackingStorePixelRatio||v.mozBackingStorePixelRatio||v.msBackingStorePixelRatio||v.oBackingStorePixelRatio||v.backingStorePixelRatio||1;return Math.max(y,1)/w}else return 1},o.pixelDensityRatio=o.getCurrentPixelDensityRatio()})(u),function(o){o.extend=function(){var w,x,E,R,O,F,G=arguments[0]||{},re=arguments.length,J=!1,se=1;for(typeof G=="boolean"&&(J=G,G=arguments[1]||{},se=2),typeof G!="object"&&!u.isFunction(G)&&(G={}),re===se&&(G=this,--se);se<re;se++)if(w=arguments[se],w!==null||w!==void 0)for(x in w)E=G[x],R=w[x],G!==R&&(J&&R&&(u.isPlainObject(R)||(O=u.isArray(R)))?(O?(O=!1,F=E&&u.isArray(E)?E:[]):F=E&&u.isPlainObject(E)?E:{},G[x]=u.extend(J,F,R)):R!==void 0&&(G[x]=R));return G};var l=function(){if(typeof navigator!="object")return!1;var w=navigator.userAgent;return typeof w!="string"?!1:w.indexOf("iPhone")!==-1||w.indexOf("iPad")!==-1||w.indexOf("iPod")!==-1};o.extend(o,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:l(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(w,x){return function(){var E=arguments;return E===void 0&&(E=[]),x.apply(w,E)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},_viewers:new Map,getViewer:function(w){return o._viewers.get(this.getElement(w))},getElement:function(w){return typeof w=="string"&&(w=document.getElementById(w)),w},getElementPosition:function(w){var x=new o.Point,E,R;for(w=o.getElement(w),E=o.getElementStyle(w).position==="fixed",R=y(w,E);R;)x.x+=w.offsetLeft,x.y+=w.offsetTop,E&&(x=x.plus(o.getPageScroll())),w=R,E=o.getElementStyle(w).position==="fixed",R=y(w,E);return x},getElementOffset:function(w){w=o.getElement(w);var x=w&&w.ownerDocument,E,R,O={top:0,left:0};return x?(E=x.documentElement,typeof w.getBoundingClientRect<"u"&&(O=w.getBoundingClientRect()),R=x===x.window?x:x.nodeType===9?x.defaultView||x.parentWindow:!1,new o.Point(O.left+(R.pageXOffset||E.scrollLeft)-(E.clientLeft||0),O.top+(R.pageYOffset||E.scrollTop)-(E.clientTop||0))):new o.Point},getElementSize:function(w){return w=o.getElement(w),new o.Point(w.clientWidth,w.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(w){return w=o.getElement(w),w.currentStyle}:function(w){return w=o.getElement(w),window.getComputedStyle(w,"")},getCssPropertyWithVendorPrefix:function(w){var x={};return o.getCssPropertyWithVendorPrefix=function(E){if(x[E]!==void 0)return x[E];var R=document.createElement("div").style,O=null;if(R[E]!==void 0)O=E;else for(var F=["Webkit","Moz","MS","O","webkit","moz","ms","o"],G=o.capitalizeFirstLetter(E),re=0;re<F.length;re++){var J=F[re]+G;if(R[J]!==void 0){O=J;break}}return x[E]=O,O},o.getCssPropertyWithVendorPrefix(w)},capitalizeFirstLetter:function(w){return w.charAt(0).toUpperCase()+w.slice(1)},positiveModulo:function(w,x){var E=w%x;return E<0&&(E+=x),E},pointInElement:function(w,x){w=o.getElement(w);var E=o.getElementOffset(w),R=o.getElementSize(w);return x.x>=E.x&&x.x<E.x+R.x&&x.y<E.y+R.y&&x.y>=E.y},getMousePosition:function(w){if(typeof w.pageX=="number")o.getMousePosition=function(x){var E=new o.Point;return E.x=x.pageX,E.y=x.pageY,E};else if(typeof w.clientX=="number")o.getMousePosition=function(x){var E=new o.Point;return E.x=x.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,E.y=x.clientY+document.body.scrollTop+document.documentElement.scrollTop,E};else throw new Error("Unknown event mouse position, no known technique.");return o.getMousePosition(w)},getPageScroll:function(){var w=document.documentElement||{},x=document.body||{};if(typeof window.pageXOffset=="number")o.getPageScroll=function(){return new o.Point(window.pageXOffset,window.pageYOffset)};else if(x.scrollLeft||x.scrollTop)o.getPageScroll=function(){return new o.Point(document.body.scrollLeft,document.body.scrollTop)};else if(w.scrollLeft||w.scrollTop)o.getPageScroll=function(){return new o.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new o.Point(0,0);return o.getPageScroll()},setPageScroll:function(w){if(typeof window.scrollTo<"u")o.setPageScroll=function(R){window.scrollTo(R.x,R.y)};else{var x=o.getPageScroll();if(x.x===w.x&&x.y===w.y)return;document.body.scrollLeft=w.x,document.body.scrollTop=w.y;var E=o.getPageScroll();if(E.x!==x.x&&E.y!==x.y){o.setPageScroll=function(R){document.body.scrollLeft=R.x,document.body.scrollTop=R.y};return}if(document.documentElement.scrollLeft=w.x,document.documentElement.scrollTop=w.y,E=o.getPageScroll(),E.x!==x.x&&E.y!==x.y){o.setPageScroll=function(R){document.documentElement.scrollLeft=R.x,document.documentElement.scrollTop=R.y};return}o.setPageScroll=function(R){}}o.setPageScroll(w)},getWindowSize:function(){var w=document.documentElement||{},x=document.body||{};if(typeof window.innerWidth=="number")o.getWindowSize=function(){return new o.Point(window.innerWidth,window.innerHeight)};else if(w.clientWidth||w.clientHeight)o.getWindowSize=function(){return new o.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(x.clientWidth||x.clientHeight)o.getWindowSize=function(){return new o.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return o.getWindowSize()},makeCenteredNode:function(w){w=o.getElement(w);var x=[o.makeNeutralElement("div"),o.makeNeutralElement("div"),o.makeNeutralElement("div")];return o.extend(x[0].style,{display:"table",height:"100%",width:"100%"}),o.extend(x[1].style,{display:"table-row"}),o.extend(x[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),x[0].appendChild(x[1]),x[1].appendChild(x[2]),x[2].appendChild(w),x[0]},makeNeutralElement:function(w){var x=document.createElement(w),E=x.style;return E.background="transparent none",E.border="none",E.margin="0px",E.padding="0px",E.position="static",x},now:function(){return Date.now?o.now=Date.now:o.now=function(){return new Date().getTime()},o.now()},makeTransparentImage:function(w){var x=o.makeNeutralElement("img");return x.src=w,x},setElementOpacity:function(w,x,E){var R,O;w=o.getElement(w),E&&!o.Browser.alpha&&(x=Math.round(x)),o.Browser.opacity?w.style.opacity=x<1?x:"":x<1?(R=Math.round(100*x),O="alpha(opacity="+R+")",w.style.filter=O):w.style.filter=""},setElementTouchActionNone:function(w){w=o.getElement(w),typeof w.style.touchAction<"u"?w.style.touchAction="none":typeof w.style.msTouchAction<"u"&&(w.style.msTouchAction="none")},setElementPointerEvents:function(w,x){w=o.getElement(w),typeof w.style.pointerEvents<"u"&&(w.style.pointerEvents=x)},setElementPointerEventsNone:function(w){o.setElementPointerEvents(w,"none")},addClass:function(w,x){w=o.getElement(w),w.className?(" "+w.className+" ").indexOf(" "+x+" ")===-1&&(w.className+=" "+x):w.className=x},indexOf:function(w,x,E){return Array.prototype.indexOf?this.indexOf=function(R,O,F){return R.indexOf(O,F)}:this.indexOf=function(R,O,F){var G,re=F||0,J;if(!R)throw new TypeError;if(J=R.length,J===0||re>=J)return-1;for(re<0&&(re=J-Math.abs(re)),G=re;G<J;G++)if(R[G]===O)return G;return-1},this.indexOf(w,x,E)},removeClass:function(w,x){var E,R=[],O;for(w=o.getElement(w),E=w.className.split(/\s+/),O=0;O<E.length;O++)E[O]&&E[O]!==x&&R.push(E[O]);w.className=R.join(" ")},normalizeEventListenerOptions:function(w){var x;return typeof w<"u"?typeof w=="boolean"?x=o.supportsEventListenerOptions?{capture:w}:w:x=o.supportsEventListenerOptions?w:typeof w.capture<"u"?w.capture:!1:x=o.supportsEventListenerOptions?{capture:!1}:!1,x},addEvent:function(){if(o.supportsAddEventListener)return function(w,x,E,R){R=o.normalizeEventListenerOptions(R),w=o.getElement(w),w.addEventListener(x,E,R)};if(document.documentElement.attachEvent&&document.attachEvent)return function(w,x,E){w=o.getElement(w),w.attachEvent("on"+x,E)};throw new Error("No known event model.")}(),removeEvent:function(){if(o.supportsRemoveEventListener)return function(w,x,E,R){R=o.normalizeEventListenerOptions(R),w=o.getElement(w),w.removeEventListener(x,E,R)};if(document.documentElement.detachEvent&&document.detachEvent)return function(w,x,E){w=o.getElement(w),w.detachEvent("on"+x,E)};throw new Error("No known event model.")}(),cancelEvent:function(w){w.preventDefault()},eventIsCanceled:function(w){return w.defaultPrevented},stopEvent:function(w){w.stopPropagation()},createCallback:function(w,x){var E=[],R;for(R=2;R<arguments.length;R++)E.push(arguments[R]);return function(){var O=E.concat([]),F;for(F=0;F<arguments.length;F++)O.push(arguments[F]);return x.apply(w,O)}},getUrlParameter:function(w){var x=v[w];return x||null},getUrlProtocol:function(w){var x=w.match(/^([a-z]+:)\/\//i);return x===null?window.location.protocol:x[1].toLowerCase()},createAjaxRequest:function(w){var x;try{x=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{x=!1}if(x)window.XMLHttpRequest?o.createAjaxRequest=function(E){return E?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:o.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)o.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return o.createAjaxRequest(w)},makeAjaxRequest:function(w,x,E){var R,O,F;o.isPlainObject(w)&&(x=w.success,E=w.error,R=w.withCredentials,O=w.headers,F=w.responseType||null,w=w.url);var G=o.getUrlProtocol(w),re=o.createAjaxRequest(G==="file:");if(!o.isFunction(x))throw new Error("makeAjaxRequest requires a success callback");re.onreadystatechange=function(){re.readyState===4&&(re.onreadystatechange=function(){},re.status>=200&&re.status<300||re.status===0&&G!=="http:"&&G!=="https:"?x(re):(o.console.log("AJAX request returned %d: %s",re.status,w),o.isFunction(E)&&E(re)))};try{if(re.open("GET",w,!0),F&&(re.responseType=F),O)for(var J in O)Object.prototype.hasOwnProperty.call(O,J)&&O[J]&&re.setRequestHeader(J,O[J]);R&&(re.withCredentials=!0),re.send(null)}catch(se){o.console.log("%s while making AJAX request: %s",se.name,se.message),re.onreadystatechange=function(){},o.isFunction(E)&&E(re,se)}return re},jsonp:function(w){var x,E=w.url,R=document.head||document.getElementsByTagName("head")[0]||document.documentElement,O=w.callbackName||"openseadragon"+o.now(),F=window[O],G="$1"+O+"$2",re=w.param||"callback",J=w.callback;E=E.replace(/(=)\?(&|$)|\?\?/i,G),E+=(/\?/.test(E)?"&":"?")+re+"="+O,window[O]=function(se){if(F)window[O]=F;else try{delete window[O]}catch{}J&&o.isFunction(J)&&J(se)},x=document.createElement("script"),(w.async!==void 0||w.async!==!1)&&(x.async="async"),w.scriptCharset&&(x.charset=w.scriptCharset),x.src=E,x.onload=x.onreadystatechange=function(se,D){(D||!x.readyState||/loaded|complete/.test(x.readyState))&&(x.onload=x.onreadystatechange=null,R&&x.parentNode&&R.removeChild(x),x=void 0)},R.insertBefore(x,R.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(w){if(window.DOMParser)o.parseXml=function(x){var E=null,R;return R=new DOMParser,E=R.parseFromString(x,"text/xml"),E};else if(window.ActiveXObject)o.parseXml=function(x){var E=null;return E=new ActiveXObject("Microsoft.XMLDOM"),E.async=!1,E.loadXML(x),E};else throw new Error("Browser doesn't support XML DOM.");return o.parseXml(w)},parseJSON:function(w){return o.parseJSON=window.JSON.parse,o.parseJSON(w)},imageFormatSupported:function(w){return w=w||"",!!f[w.toLowerCase()]},setImageFormatsSupported:function(w){o.extend(f,w)}});var d=function(w){};o.console=window.console||{log:d,debug:d,info:d,warn:d,error:d,assert:d},o.Browser={vendor:o.BROWSERS.UNKNOWN,version:0,alpha:!0};var f={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},v={};(function(){var w=navigator.appVersion,x=navigator.userAgent,E;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(o.Browser.vendor=o.BROWSERS.IE,o.Browser.version=parseFloat(x.substring(x.indexOf("MSIE")+5,x.indexOf(";",x.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(x.indexOf("Edge")>=0?(o.Browser.vendor=o.BROWSERS.EDGE,o.Browser.version=parseFloat(x.substring(x.indexOf("Edge")+5))):x.indexOf("Edg")>=0?(o.Browser.vendor=o.BROWSERS.CHROMEEDGE,o.Browser.version=parseFloat(x.substring(x.indexOf("Edg")+4))):x.indexOf("Firefox")>=0?(o.Browser.vendor=o.BROWSERS.FIREFOX,o.Browser.version=parseFloat(x.substring(x.indexOf("Firefox")+8))):x.indexOf("Safari")>=0?(o.Browser.vendor=x.indexOf("Chrome")>=0?o.BROWSERS.CHROME:o.BROWSERS.SAFARI,o.Browser.version=parseFloat(x.substring(x.substring(0,x.indexOf("Safari")).lastIndexOf("/")+1,x.indexOf("Safari")))):(E=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),E.exec(x)!==null&&(o.Browser.vendor=o.BROWSERS.IE,o.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":o.Browser.vendor=o.BROWSERS.OPERA,o.Browser.version=parseFloat(w);break}var R=window.location.search.substring(1),O=R.split("&"),F,G,re;for(re=0;re<O.length;re++)if(F=O[re],G=F.indexOf("="),G>0){var J=F.substring(0,G),se=F.substring(G+1);try{v[J]=decodeURIComponent(se)}catch{o.console.error("Ignoring malformed URL parameter: %s=%s",J,se)}}o.Browser.alpha=!(o.Browser.vendor===o.BROWSERS.CHROME&&o.Browser.version<2),o.Browser.opacity=!0,o.Browser.vendor===o.BROWSERS.IE&&o.Browser.version<11&&o.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(w){var x=w.requestAnimationFrame||w.mozRequestAnimationFrame||w.webkitRequestAnimationFrame||w.msRequestAnimationFrame,E=w.cancelAnimationFrame||w.mozCancelAnimationFrame||w.webkitCancelAnimationFrame||w.msCancelAnimationFrame;if(x&&E)o.requestAnimationFrame=function(){return x.apply(w,arguments)},o.cancelAnimationFrame=function(){return E.apply(w,arguments)};else{var R=[],O=[],F=0,G;o.requestAnimationFrame=function(re){return R.push([++F,re]),G||(G=setInterval(function(){if(R.length){var J=o.now(),se=O;for(O=R,R=se;O.length;)O.shift()[1](J)}else clearInterval(G),G=void 0},1e3/50)),F},o.cancelAnimationFrame=function(re){var J,se;for(J=0,se=R.length;J<se;J+=1)if(R[J][0]===re){R.splice(J,1);return}for(J=0,se=O.length;J<se;J+=1)if(O[J][0]===re){O.splice(J,1);return}}}}(window);function y(w,x){return x&&w!==document.body?document.body:w.offsetParent}}(u),function(o,l){s.exports?s.exports=l():o.OpenSeadragon=l()}(zi,function(){return u}),function(o){var l={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(l.supportsFullScreen=!0,l.getFullScreenElement=function(){return document.fullscreenElement},l.requestFullScreen=function(d){return d.requestFullscreen()},l.exitFullScreen=function(){document.exitFullscreen()},l.fullScreenEventName="fullscreenchange",l.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(l.supportsFullScreen=!0,l.getFullScreenElement=function(){return document.msFullscreenElement},l.requestFullScreen=function(d){return d.msRequestFullscreen()},l.exitFullScreen=function(){document.msExitFullscreen()},l.fullScreenEventName="MSFullscreenChange",l.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(l.supportsFullScreen=!0,l.getFullScreenElement=function(){return document.webkitFullscreenElement},l.requestFullScreen=function(d){return d.webkitRequestFullscreen()},l.exitFullScreen=function(){document.webkitExitFullscreen()},l.fullScreenEventName="webkitfullscreenchange",l.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(l.supportsFullScreen=!0,l.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},l.requestFullScreen=function(d){return d.webkitRequestFullScreen()},l.exitFullScreen=function(){document.webkitCancelFullScreen()},l.fullScreenEventName="webkitfullscreenchange",l.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(l.supportsFullScreen=!0,l.getFullScreenElement=function(){return document.mozFullScreenElement},l.requestFullScreen=function(d){return d.mozRequestFullScreen()},l.exitFullScreen=function(){document.mozCancelFullScreen()},l.fullScreenEventName="mozfullscreenchange",l.fullScreenErrorEventName="mozfullscreenerror"),l.isFullScreen=function(){return l.getFullScreenElement()!==null},l.cancelFullScreen=function(){o.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),l.exitFullScreen()},o.extend(o,l)}(u),function(o){o.EventSource=function(){this.events={}},o.EventSource.prototype={addOnceHandler:function(l,d,f,v){var y=this;v=v||1;var w=0,x=function(E){w++,w===v&&y.removeHandler(l,x),d(E)};this.addHandler(l,x,f)},addHandler:function(l,d,f){var v=this.events[l];v||(this.events[l]=v=[]),d&&o.isFunction(d)&&(v[v.length]={handler:d,userData:f||null})},removeHandler:function(l,d){var f=this.events[l],v=[],y;if(f&&o.isArray(f)){for(y=0;y<f.length;y++)f[y].handler!==d&&v.push(f[y]);this.events[l]=v}},removeAllHandlers:function(l){if(l)this.events[l]=[];else for(var d in this.events)this.events[d]=[]},getHandler:function(l){var d=this.events[l];return!d||!d.length?null:(d=d.length===1?[d[0]]:Array.apply(null,d),function(f,v){var y,w=d.length;for(y=0;y<w;y++)d[y]&&(v.eventSource=f,v.userData=d[y].userData,d[y].handler(v))})},raiseEvent:function(l,d){var f=this.getHandler(l);f&&(d||(d={}),f(this,d))}}}(u),function(o){var l={};o.MouseTracker=function(V){var B=arguments;o.isPlainObject(V)||(V={element:B[0],clickTimeThreshold:B[1],clickDistThreshold:B[2]}),this.hash=Math.random(),this.element=o.getElement(V.element),this.clickTimeThreshold=V.clickTimeThreshold||o.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=V.clickDistThreshold||o.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=V.dblClickTimeThreshold||o.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=V.dblClickDistThreshold||o.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=V.userData||null,this.stopDelay=V.stopDelay||50,this.preProcessEventHandler=V.preProcessEventHandler||null,this.contextMenuHandler=V.contextMenuHandler||null,this.enterHandler=V.enterHandler||null,this.leaveHandler=V.leaveHandler||null,this.exitHandler=V.exitHandler||null,this.overHandler=V.overHandler||null,this.outHandler=V.outHandler||null,this.pressHandler=V.pressHandler||null,this.nonPrimaryPressHandler=V.nonPrimaryPressHandler||null,this.releaseHandler=V.releaseHandler||null,this.nonPrimaryReleaseHandler=V.nonPrimaryReleaseHandler||null,this.moveHandler=V.moveHandler||null,this.scrollHandler=V.scrollHandler||null,this.clickHandler=V.clickHandler||null,this.dblClickHandler=V.dblClickHandler||null,this.dragHandler=V.dragHandler||null,this.dragEndHandler=V.dragEndHandler||null,this.pinchHandler=V.pinchHandler||null,this.stopHandler=V.stopHandler||null,this.keyDownHandler=V.keyDownHandler||null,this.keyUpHandler=V.keyUpHandler||null,this.keyHandler=V.keyHandler||null,this.focusHandler=V.focusHandler||null,this.blurHandler=V.blurHandler||null;var K=this;l[this.hash]={click:function(Q){te(K,Q)},dblclick:function(Q){ce(K,Q)},keydown:function(Q){ue(K,Q)},keyup:function(Q){ye(K,Q)},keypress:function(Q){xe(K,Q)},focus:function(Q){Fe(K,Q)},blur:function(Q){ze(K,Q)},contextmenu:function(Q){tt(K,Q)},wheel:function(Q){st(K,Q)},mousewheel:function(Q){nt(K,Q)},DOMMouseScroll:function(Q){nt(K,Q)},MozMousePixelScroll:function(Q){nt(K,Q)},losecapture:function(Q){ft(K,Q)},mouseenter:function(Q){We(K,Q)},mouseleave:function(Q){Ze(K,Q)},mouseover:function(Q){Ge(K,Q)},mouseout:function(Q){Je(K,Q)},mousedown:function(Q){vt(K,Q)},mouseup:function(Q){Qt(K,Q)},mousemove:function(Q){Hr(K,Q)},touchstart:function(Q){At(K,Q)},touchend:function(Q){Rt(K,Q)},touchmove:function(Q){Mt(K,Q)},touchcancel:function(Q){$t(K,Q)},gesturestart:function(Q){on(K,Q)},gesturechange:function(Q){rt(K,Q)},gotpointercapture:function(Q){Ht(K,Q)},lostpointercapture:function(Q){Ie(K,Q)},pointerenter:function(Q){We(K,Q)},pointerleave:function(Q){Ze(K,Q)},pointerover:function(Q){Ge(K,Q)},pointerout:function(Q){Je(K,Q)},pointerdown:function(Q){vt(K,Q)},pointerup:function(Q){Qt(K,Q)},pointermove:function(Q){Hr(K,Q)},pointercancel:function(Q){I(K,Q)},pointerupcaptured:function(Q){xn(K,Q)},pointermovecaptured:function(Q){mr(K,Q)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,o.MouseTracker.havePointerEvents&&o.setElementPointerEvents(this.element,"auto"),this.exitHandler&&o.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),V.startDisabled||this.setTracking(!0)},o.MouseTracker.prototype={destroy:function(){w(this),this.element=null,l[this.hash]=null,delete l[this.hash]},isTracking:function(){return l[this.hash].tracking},setTracking:function(V){return V?y(this):w(this),this},getActivePointersListByType:function(V){var B=l[this.hash],K,Q=B.activePointersLists.length,Pe;for(K=0;K<Q;K++)if(B.activePointersLists[K].type===V)return B.activePointersLists[K];return Pe=new o.MouseTracker.GesturePointList(V),B.activePointersLists.push(Pe),Pe},getActivePointerCount:function(){var V=l[this.hash],B,K=V.activePointersLists.length,Q=0;for(B=0;B<K;B++)Q+=V.activePointersLists[B].getLength();return Q},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var d=function(){try{return window.self!==window.top}catch{return!0}}();function f(V){try{return V.addEventListener&&V.removeEventListener}catch{return!1}}o.MouseTracker.gesturePointVelocityTracker=function(){var V=[],B=0,K=0,Q=function(sn,xt){return sn.hash.toString()+xt.type+xt.id.toString()},Pe=function(){var sn,xt=V.length,Ar,Fn,Gs=o.now(),$T,ZT,XT;for($T=Gs-K,K=Gs,sn=0;sn<xt;sn++)Ar=V[sn],Fn=Ar.gPoint,Fn.direction=Math.atan2(Fn.currentPos.y-Ar.lastPos.y,Fn.currentPos.x-Ar.lastPos.x),ZT=Ar.lastPos.distanceTo(Fn.currentPos),Ar.lastPos=Fn.currentPos,XT=1e3*ZT/($T+1),Fn.speed=.75*XT+.25*Fn.speed},Ve=function(sn,xt){var Ar=Q(sn,xt);V.push({guid:Ar,gPoint:xt,lastPos:xt.currentPos}),V.length===1&&(K=o.now(),B=window.setInterval(Pe,50))},wt=function(sn,xt){var Ar=Q(sn,xt),Fn,Gs=V.length;for(Fn=0;Fn<Gs;Fn++)if(V[Fn].guid===Ar){V.splice(Fn,1),Gs--,Gs===0&&window.clearInterval(B);break}};return{addPoint:Ve,removePoint:wt}}(),o.MouseTracker.captureElement=document,o.MouseTracker.wheelEventName=o.Browser.vendor===o.BROWSERS.IE&&o.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",o.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",o.MouseTracker.wheelEventName],o.MouseTracker.wheelEventName==="DOMMouseScroll"&&o.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(o.MouseTracker.havePointerEvents=!0,o.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),o.MouseTracker.havePointerCapture=function(){var V=document.createElement("div");return o.isFunction(V.setPointerCapture)&&o.isFunction(V.releasePointerCapture)}(),o.MouseTracker.havePointerCapture&&o.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(o.MouseTracker.havePointerEvents=!1,o.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),o.MouseTracker.mousePointerId="legacy-mouse",o.MouseTracker.havePointerCapture=function(){var V=document.createElement("div");return o.isFunction(V.setCapture)&&o.isFunction(V.releaseCapture)}(),o.MouseTracker.havePointerCapture&&o.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&o.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&o.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),o.MouseTracker.GesturePointList=function(V){this._gPoints=[],this.type=V,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},o.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(V){return this._gPoints.push(V)},removeById:function(V){var B,K=this._gPoints.length;for(B=0;B<K;B++)if(this._gPoints[B].id===V){this._gPoints.splice(B,1);break}return this._gPoints.length},getByIndex:function(V){return V<this._gPoints.length?this._gPoints[V]:null},getById:function(V){var B,K=this._gPoints.length;for(B=0;B<K;B++)if(this._gPoints[B].id===V)return this._gPoints[B];return null},getPrimary:function(V){var B,K=this._gPoints.length;for(B=0;B<K;B++)if(this._gPoints[B].isPrimary)return this._gPoints[B];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(o.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(o.console.warn("GesturePointList.removeContact() Implausible contacts value"),this.contacts=0)}};function v(V){var B=l[V.hash],K,Q,Pe,Ve,wt,sn=B.activePointersLists.length;for(K=0;K<sn;K++)if(Pe=B.activePointersLists[K],Pe.getLength()>0){for(wt=[],Ve=Pe.asArray(),Q=0;Q<Ve.length;Q++)wt.push(Ve[Q]);for(Q=0;Q<wt.length;Q++)Te(V,Pe,wt[Q])}for(K=0;K<sn;K++)B.activePointersLists.pop();B.sentDragEvent=!1}function y(V){var B=l[V.hash],K,Q;if(!B.tracking){for(Q=0;Q<o.MouseTracker.subscribeEvents.length;Q++)K=o.MouseTracker.subscribeEvents[Q],o.addEvent(V.element,K,B[K],K===o.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);v(V),B.tracking=!0}}function w(V){var B=l[V.hash],K,Q;if(B.tracking){for(Q=0;Q<o.MouseTracker.subscribeEvents.length;Q++)K=o.MouseTracker.subscribeEvents[Q],o.removeEvent(V.element,K,B[K],!1);v(V),B.tracking=!1}}function x(V,B){var K=l[V.hash];if(B==="pointerevent")return{upName:"pointerup",upHandler:K.pointerupcaptured,moveName:"pointermove",moveHandler:K.pointermovecaptured};if(B==="mouse")return{upName:"pointerup",upHandler:K.pointerupcaptured,moveName:"pointermove",moveHandler:K.pointermovecaptured};if(B==="touch")return{upName:"touchend",upHandler:K.touchendcaptured,moveName:"touchmove",moveHandler:K.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function E(V,B){var K;if(o.MouseTracker.havePointerCapture)if(o.MouseTracker.havePointerEvents)try{V.element.setPointerCapture(B.id)}catch{o.console.warn("setPointerCapture() called on invalid pointer ID");return}else V.element.setCapture(!0);else K=x(V,o.MouseTracker.havePointerEvents?"pointerevent":B.type),d&&f(window.top)&&o.addEvent(window.top,K.upName,K.upHandler,!0),o.addEvent(o.MouseTracker.captureElement,K.upName,K.upHandler,!0),o.addEvent(o.MouseTracker.captureElement,K.moveName,K.moveHandler,!0);ht(V,B,!0)}function R(V,B){var K,Q,Pe;if(o.MouseTracker.havePointerCapture)if(o.MouseTracker.havePointerEvents){if(Q=V.getActivePointersListByType(B.type),Pe=Q.getById(B.id),!Pe||!Pe.captured)return;try{V.element.releasePointerCapture(B.id)}catch{}}else V.element.releaseCapture();else K=x(V,o.MouseTracker.havePointerEvents?"pointerevent":B.type),d&&f(window.top)&&o.removeEvent(window.top,K.upName,K.upHandler,!0),o.removeEvent(o.MouseTracker.captureElement,K.moveName,K.moveHandler,!0),o.removeEvent(o.MouseTracker.captureElement,K.upName,K.upHandler,!0);ht(V,B,!1)}function O(V){return o.MouseTracker.havePointerEvents?V.pointerId:o.MouseTracker.mousePointerId}function F(V){return o.MouseTracker.havePointerEvents?V.pointerType||(o.Browser.vendor===o.BROWSERS.IE?"mouse":""):"mouse"}function G(V){return o.MouseTracker.havePointerEvents?V.isPrimary:!0}function re(V){return o.getMousePosition(V)}function J(V,B){return se(re(V),B)}function se(V,B){var K=o.getElementOffset(B);return V.minus(K)}function D(V,B){return new o.Point((V.x+B.x)/2,(V.y+B.y)/2)}function te(V,B){var K={originalEvent:B,eventType:"click",pointerType:"mouse",isEmulated:!1};Ne(V,K),K.preventDefault&&!K.defaultPrevented&&o.cancelEvent(B),K.stopPropagation&&o.stopEvent(B)}function ce(V,B){var K={originalEvent:B,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};Ne(V,K),K.preventDefault&&!K.defaultPrevented&&o.cancelEvent(B),K.stopPropagation&&o.stopEvent(B)}function ue(V,B){var K=null,Q={originalEvent:B,eventType:"keydown",pointerType:"",isEmulated:!1};Ne(V,Q),V.keyDownHandler&&!Q.preventGesture&&!Q.defaultPrevented&&(K={eventSource:V,keyCode:B.keyCode?B.keyCode:B.charCode,ctrl:B.ctrlKey,shift:B.shiftKey,alt:B.altKey,meta:B.metaKey,originalEvent:B,preventDefault:Q.preventDefault||Q.defaultPrevented,userData:V.userData},V.keyDownHandler(K)),(K&&K.preventDefault||Q.preventDefault&&!Q.defaultPrevented)&&o.cancelEvent(B),Q.stopPropagation&&o.stopEvent(B)}function ye(V,B){var K=null,Q={originalEvent:B,eventType:"keyup",pointerType:"",isEmulated:!1};Ne(V,Q),V.keyUpHandler&&!Q.preventGesture&&!Q.defaultPrevented&&(K={eventSource:V,keyCode:B.keyCode?B.keyCode:B.charCode,ctrl:B.ctrlKey,shift:B.shiftKey,alt:B.altKey,meta:B.metaKey,originalEvent:B,preventDefault:Q.preventDefault||Q.defaultPrevented,userData:V.userData},V.keyUpHandler(K)),(K&&K.preventDefault||Q.preventDefault&&!Q.defaultPrevented)&&o.cancelEvent(B),Q.stopPropagation&&o.stopEvent(B)}function xe(V,B){var K=null,Q={originalEvent:B,eventType:"keypress",pointerType:"",isEmulated:!1};Ne(V,Q),V.keyHandler&&!Q.preventGesture&&!Q.defaultPrevented&&(K={eventSource:V,keyCode:B.keyCode?B.keyCode:B.charCode,ctrl:B.ctrlKey,shift:B.shiftKey,alt:B.altKey,meta:B.metaKey,originalEvent:B,preventDefault:Q.preventDefault||Q.defaultPrevented,userData:V.userData},V.keyHandler(K)),(K&&K.preventDefault||Q.preventDefault&&!Q.defaultPrevented)&&o.cancelEvent(B),Q.stopPropagation&&o.stopEvent(B)}function Fe(V,B){var K={originalEvent:B,eventType:"focus",pointerType:"",isEmulated:!1};Ne(V,K),V.focusHandler&&!K.preventGesture&&V.focusHandler({eventSource:V,originalEvent:B,userData:V.userData})}function ze(V,B){var K={originalEvent:B,eventType:"blur",pointerType:"",isEmulated:!1};Ne(V,K),V.blurHandler&&!K.preventGesture&&V.blurHandler({eventSource:V,originalEvent:B,userData:V.userData})}function tt(V,B){var K=null,Q={originalEvent:B,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};Ne(V,Q),V.contextMenuHandler&&!Q.preventGesture&&!Q.defaultPrevented&&(K={eventSource:V,position:se(re(B),V.element),originalEvent:Q.originalEvent,preventDefault:Q.preventDefault||Q.defaultPrevented,userData:V.userData},V.contextMenuHandler(K)),(K&&K.preventDefault||Q.preventDefault&&!Q.defaultPrevented)&&o.cancelEvent(B),Q.stopPropagation&&o.stopEvent(B)}function st(V,B){mt(V,B,B)}function nt(V,B){var K={target:B.target||B.srcElement,type:"wheel",shiftKey:B.shiftKey||!1,clientX:B.clientX,clientY:B.clientY,pageX:B.pageX?B.pageX:B.clientX,pageY:B.pageY?B.pageY:B.clientY,deltaMode:B.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};o.MouseTracker.wheelEventName==="mousewheel"?K.deltaY=-B.wheelDelta/o.DEFAULT_SETTINGS.pixelsPerWheelLine:K.deltaY=B.detail,mt(V,K,B)}function mt(V,B,K){var Q=0,Pe,Ve=null;Q=B.deltaY<0?1:-1,Pe={originalEvent:B,eventType:"wheel",pointerType:"mouse",isEmulated:B!==K},Ne(V,Pe),V.scrollHandler&&!Pe.preventGesture&&!Pe.defaultPrevented&&(Ve={eventSource:V,pointerType:"mouse",position:J(B,V.element),scroll:Q,shift:B.shiftKey,isTouchEvent:!1,originalEvent:K,preventDefault:Pe.preventDefault||Pe.defaultPrevented,userData:V.userData},V.scrollHandler(Ve)),Pe.stopPropagation&&o.stopEvent(K),(Ve&&Ve.preventDefault||Pe.preventDefault&&!Pe.defaultPrevented)&&o.cancelEvent(K)}function ft(V,B){var K={id:o.MouseTracker.mousePointerId,type:"mouse"},Q={originalEvent:B,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};Ne(V,Q),B.target===V.element&&ht(V,K,!1),Q.stopPropagation&&o.stopEvent(B)}function At(V,B){var K,Q,Pe=B.changedTouches.length,Ve,wt=V.getActivePointersListByType("touch");K=o.now(),wt.getLength()>B.touches.length-Pe&&o.console.warn("Tracked touch contact count doesn't match event.touches.length");var sn={originalEvent:B,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(Ne(V,sn),Q=0;Q<Pe;Q++)Ve={id:B.changedTouches[Q].identifier,type:"touch",isPrimary:wt.getLength()===0,currentPos:re(B.changedTouches[Q]),currentTime:K},it(V,sn,Ve),Dt(V,sn,Ve,0),ht(V,Ve,!0);sn.preventDefault&&!sn.defaultPrevented&&o.cancelEvent(B),sn.stopPropagation&&o.stopEvent(B)}function Rt(V,B){var K,Q,Pe=B.changedTouches.length,Ve;K=o.now();var wt={originalEvent:B,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(Ne(V,wt),Q=0;Q<Pe;Q++)Ve={id:B.changedTouches[Q].identifier,type:"touch",currentPos:re(B.changedTouches[Q]),currentTime:K},Cn(V,wt,Ve,0),ht(V,Ve,!1),Zt(V,wt,Ve);wt.preventDefault&&!wt.defaultPrevented&&o.cancelEvent(B),wt.stopPropagation&&o.stopEvent(B)}function Mt(V,B){var K,Q,Pe=B.changedTouches.length,Ve;K=o.now();var wt={originalEvent:B,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(Ne(V,wt),Q=0;Q<Pe;Q++)Ve={id:B.changedTouches[Q].identifier,type:"touch",currentPos:re(B.changedTouches[Q]),currentTime:K},Wt(V,wt,Ve);wt.preventDefault&&!wt.defaultPrevented&&o.cancelEvent(B),wt.stopPropagation&&o.stopEvent(B)}function $t(V,B){var K=B.changedTouches.length,Q,Pe,Ve={originalEvent:B,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(Ne(V,Ve),Q=0;Q<K;Q++)Pe={id:B.changedTouches[Q].identifier,type:"touch"},Zn(V,Ve,Pe);Ve.stopPropagation&&o.stopEvent(B)}function on(V,B){return o.eventIsCanceled(B)||B.preventDefault(),!1}function rt(V,B){return o.eventIsCanceled(B)||B.preventDefault(),!1}function Ht(V,B){var K={originalEvent:B,eventType:"gotpointercapture",pointerType:F(B),isEmulated:!1};Ne(V,K),B.target===V.element&&ht(V,{id:B.pointerId,type:F(B)},!0),K.stopPropagation&&o.stopEvent(B)}function Ie(V,B){var K={originalEvent:B,eventType:"lostpointercapture",pointerType:F(B),isEmulated:!1};Ne(V,K),B.target===V.element&&ht(V,{id:B.pointerId,type:F(B)},!1),K.stopPropagation&&o.stopEvent(B)}function We(V,B){var K={id:O(B),type:F(B),isPrimary:G(B),currentPos:re(B),currentTime:o.now()},Q={originalEvent:B,eventType:"pointerenter",pointerType:K.type,isEmulated:!1};Ne(V,Q),it(V,Q,K)}function Ze(V,B){var K={id:O(B),type:F(B),isPrimary:G(B),currentPos:re(B),currentTime:o.now()},Q={originalEvent:B,eventType:"pointerleave",pointerType:K.type,isEmulated:!1};Ne(V,Q),Zt(V,Q,K)}function Ge(V,B){var K={id:O(B),type:F(B),isPrimary:G(B),currentPos:re(B),currentTime:o.now()},Q={originalEvent:B,eventType:"pointerover",pointerType:K.type,isEmulated:!1};Ne(V,Q),cn(V,Q,K),Q.preventDefault&&!Q.defaultPrevented&&o.cancelEvent(B),Q.stopPropagation&&o.stopEvent(B)}function Je(V,B){var K={id:O(B),type:F(B),isPrimary:G(B),currentPos:re(B),currentTime:o.now()},Q={originalEvent:B,eventType:"pointerout",pointerType:K.type,isEmulated:!1};Ne(V,Q),Xt(V,Q,K),Q.preventDefault&&!Q.defaultPrevented&&o.cancelEvent(B),Q.stopPropagation&&o.stopEvent(B)}function vt(V,B){var K={id:O(B),type:F(B),isPrimary:G(B),currentPos:re(B),currentTime:o.now()},Q=o.MouseTracker.havePointerEvents&&K.type==="touch"&&o.Browser.vendor!==o.BROWSERS.IE,Pe={originalEvent:B,eventType:"pointerdown",pointerType:K.type,isEmulated:!1};Ne(V,Pe),Dt(V,Pe,K,B.button),Pe.preventDefault&&!Pe.defaultPrevented&&o.cancelEvent(B),Pe.stopPropagation&&o.stopEvent(B),Pe.shouldCapture&&(Q?ht(V,K,!0):E(V,K))}function Qt(V,B){Gt(V,B)}function xn(V,B){var K=V.getActivePointersListByType(F(B));K.getById(B.pointerId)&&Gt(V,B),o.stopEvent(B)}function Gt(V,B){var K;K={id:O(B),type:F(B),isPrimary:G(B),currentPos:re(B),currentTime:o.now()};var Q={originalEvent:B,eventType:"pointerup",pointerType:K.type,isEmulated:!1};Ne(V,Q),Cn(V,Q,K,B.button),Q.preventDefault&&!Q.defaultPrevented&&o.cancelEvent(B),Q.stopPropagation&&o.stopEvent(B),Q.shouldReleaseCapture&&(B.target===V.element?R(V,K):ht(V,K,!1))}function Hr(V,B){Or(V,B)}function mr(V,B){var K=V.getActivePointersListByType(F(B));K.getById(B.pointerId)&&Or(V,B),o.stopEvent(B)}function Or(V,B){var K={id:O(B),type:F(B),isPrimary:G(B),currentPos:re(B),currentTime:o.now()},Q={originalEvent:B,eventType:"pointermove",pointerType:K.type,isEmulated:!1};Ne(V,Q),Wt(V,Q,K),Q.preventDefault&&!Q.defaultPrevented&&o.cancelEvent(B),Q.stopPropagation&&o.stopEvent(B)}function I(V,B){var K={id:B.pointerId,type:F(B)},Q={originalEvent:B,eventType:"pointercancel",pointerType:K.type,isEmulated:!1};Ne(V,Q),Zn(V,Q,K),Q.stopPropagation&&o.stopEvent(B)}function oe(V,B){return B.speed=0,B.direction=0,B.contactPos=B.currentPos,B.contactTime=B.currentTime,B.lastPos=B.currentPos,B.lastTime=B.currentTime,V.add(B)}function Te(V,B,K){var Q,Pe=B.getById(K.id);return Pe?(Pe.captured&&(o.console.warn("stopTrackingPointer() called on captured pointer"),R(V,Pe)),(B.type==="mouse"||B.type==="pen")&&B.contacts>0&&B.removeContact(),Q=B.removeById(K.id)):Q=B.getLength(),Q}function Be(V,B){switch(B.eventType){case"pointermove":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!1,B.preventGesture=!V.hasGestureHandlers,B.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!1,B.preventGesture=!1,B.stopPropagation=!1;break;case"pointerdown":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!1,B.preventGesture=!V.hasGestureHandlers,B.stopPropagation=!1;break;case"pointerup":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!1,B.preventGesture=!V.hasGestureHandlers,B.stopPropagation=!1;break;case"wheel":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!1,B.preventGesture=!V.hasScrollHandler,B.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":B.isStoppable=!0,B.isCancelable=!1,B.preventDefault=!1,B.preventGesture=!1,B.stopPropagation=!1;break;case"click":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!!V.clickHandler,B.preventGesture=!1,B.stopPropagation=!1;break;case"dblclick":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!!V.dblClickHandler,B.preventGesture=!1,B.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:B.isStoppable=!1,B.isCancelable=!1,B.preventDefault=!1,B.preventGesture=!1,B.stopPropagation=!1;break}}function Ne(V,B){B.eventSource=V,B.eventPhase=B.originalEvent&&typeof B.originalEvent.eventPhase<"u"?B.originalEvent.eventPhase:0,B.defaultPrevented=o.eventIsCanceled(B.originalEvent),B.shouldCapture=!1,B.shouldReleaseCapture=!1,B.userData=V.userData,Be(V,B),V.preProcessEventHandler&&V.preProcessEventHandler(B)}function ht(V,B,K){var Q=V.getActivePointersListByType(B.type),Pe=Q.getById(B.id);Pe?K&&!Pe.captured?(Pe.captured=!0,Q.captureCount++):!K&&Pe.captured&&(Pe.captured=!1,Q.captureCount--,Q.captureCount<0&&(Q.captureCount=0,o.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):o.console.warn("updatePointerCaptured() called on untracked pointer")}function it(V,B,K){var Q=V.getActivePointersListByType(K.type),Pe;Pe=Q.getById(K.id),Pe?(Pe.insideElement=!0,Pe.lastPos=Pe.currentPos,Pe.lastTime=Pe.currentTime,Pe.currentPos=K.currentPos,Pe.currentTime=K.currentTime,K=Pe):(K.captured=!1,K.insideElementPressed=!1,K.insideElement=!0,oe(Q,K)),V.enterHandler&&V.enterHandler({eventSource:V,pointerType:K.type,position:se(K.currentPos,V.element),buttons:Q.buttons,pointers:V.getActivePointerCount(),insideElementPressed:K.insideElementPressed,buttonDownAny:Q.buttons!==0,isTouchEvent:K.type==="touch",originalEvent:B.originalEvent,userData:V.userData})}function Zt(V,B,K){var Q=V.getActivePointersListByType(K.type),Pe,Ve;Pe=Q.getById(K.id),Pe?(Pe.captured?(Pe.insideElement=!1,Pe.lastPos=Pe.currentPos,Pe.lastTime=Pe.currentTime,Pe.currentPos=K.currentPos,Pe.currentTime=K.currentTime):Te(V,Q,Pe),K=Pe):(K.captured=!1,K.insideElementPressed=!1),(V.leaveHandler||V.exitHandler)&&(Ve={eventSource:V,pointerType:K.type,position:K.currentPos&&se(K.currentPos,V.element),buttons:Q.buttons,pointers:V.getActivePointerCount(),insideElementPressed:K.insideElementPressed,buttonDownAny:Q.buttons!==0,isTouchEvent:K.type==="touch",originalEvent:B.originalEvent,userData:V.userData},V.leaveHandler&&V.leaveHandler(Ve),V.exitHandler&&V.exitHandler(Ve))}function cn(V,B,K){var Q,Pe;Q=V.getActivePointersListByType(K.type),Pe=Q.getById(K.id),Pe?K=Pe:(K.captured=!1,K.insideElementPressed=!1),V.overHandler&&V.overHandler({eventSource:V,pointerType:K.type,position:se(K.currentPos,V.element),buttons:Q.buttons,pointers:V.getActivePointerCount(),insideElementPressed:K.insideElementPressed,buttonDownAny:Q.buttons!==0,isTouchEvent:K.type==="touch",originalEvent:B.originalEvent,userData:V.userData})}function Xt(V,B,K){var Q,Pe;Q=V.getActivePointersListByType(K.type),Pe=Q.getById(K.id),Pe?K=Pe:(K.captured=!1,K.insideElementPressed=!1),V.outHandler&&V.outHandler({eventSource:V,pointerType:K.type,position:K.currentPos&&se(K.currentPos,V.element),buttons:Q.buttons,pointers:V.getActivePointerCount(),insideElementPressed:K.insideElementPressed,buttonDownAny:Q.buttons!==0,isTouchEvent:K.type==="touch",originalEvent:B.originalEvent,userData:V.userData})}function Dt(V,B,K,Q){var Pe=l[V.hash],Ve=V.getActivePointersListByType(K.type),wt;if(typeof B.originalEvent.buttons<"u"?Ve.buttons=B.originalEvent.buttons:Q===0?Ve.buttons|=1:Q===1?Ve.buttons|=4:Q===2?Ve.buttons|=2:Q===3?Ve.buttons|=8:Q===4?Ve.buttons|=16:Q===5&&(Ve.buttons|=32),Q!==0){B.shouldCapture=!1,B.shouldReleaseCapture=!1,V.nonPrimaryPressHandler&&!B.preventGesture&&!B.defaultPrevented&&(B.preventDefault=!0,V.nonPrimaryPressHandler({eventSource:V,pointerType:K.type,position:se(K.currentPos,V.element),button:Q,buttons:Ve.buttons,isTouchEvent:K.type==="touch",originalEvent:B.originalEvent,userData:V.userData}));return}if(wt=Ve.getById(K.id),wt)wt.insideElementPressed=!0,wt.insideElement=!0,wt.originalTarget=B.originalEvent.target,wt.contactPos=K.currentPos,wt.contactTime=K.currentTime,wt.lastPos=wt.currentPos,wt.lastTime=wt.currentTime,wt.currentPos=K.currentPos,wt.currentTime=K.currentTime,K=wt;else{o.console.warn("pointerdown event on untracked pointer"),K.captured=!1,K.insideElementPressed=!0,K.insideElement=!0,K.originalTarget=B.originalEvent.target,oe(Ve,K);return}Ve.addContact(),!B.preventGesture&&!B.defaultPrevented?(B.shouldCapture=!0,B.shouldReleaseCapture=!1,B.preventDefault=!0,(V.dragHandler||V.dragEndHandler||V.pinchHandler)&&o.MouseTracker.gesturePointVelocityTracker.addPoint(V,K),Ve.contacts===1?V.pressHandler&&!B.preventGesture&&V.pressHandler({eventSource:V,pointerType:K.type,position:se(K.contactPos,V.element),buttons:Ve.buttons,isTouchEvent:K.type==="touch",originalEvent:B.originalEvent,userData:V.userData}):Ve.contacts===2&&V.pinchHandler&&K.type==="touch"&&(Pe.pinchGPoints=Ve.asArray(),Pe.lastPinchDist=Pe.currentPinchDist=Pe.pinchGPoints[0].currentPos.distanceTo(Pe.pinchGPoints[1].currentPos),Pe.lastPinchCenter=Pe.currentPinchCenter=D(Pe.pinchGPoints[0].currentPos,Pe.pinchGPoints[1].currentPos))):(B.shouldCapture=!1,B.shouldReleaseCapture=!1)}function Cn(V,B,K,Q){var Pe=l[V.hash],Ve=V.getActivePointersListByType(K.type),wt,sn,xt,Ar=!1,Fn;if(typeof B.originalEvent.buttons<"u"?Ve.buttons=B.originalEvent.buttons:Q===0?Ve.buttons^=-2:Q===1?Ve.buttons^=-5:Q===2?Ve.buttons^=-3:Q===3?Ve.buttons^=-9:Q===4?Ve.buttons^=-17:Q===5&&(Ve.buttons^=-33),B.shouldCapture=!1,Q!==0){B.shouldReleaseCapture=!1,V.nonPrimaryReleaseHandler&&!B.preventGesture&&!B.defaultPrevented&&(B.preventDefault=!0,V.nonPrimaryReleaseHandler({eventSource:V,pointerType:K.type,position:se(K.currentPos,V.element),button:Q,buttons:Ve.buttons,isTouchEvent:K.type==="touch",originalEvent:B.originalEvent,userData:V.userData}));return}xt=Ve.getById(K.id),xt?(Ve.removeContact(),xt.captured&&(Ar=!0),xt.lastPos=xt.currentPos,xt.lastTime=xt.currentTime,xt.currentPos=K.currentPos,xt.currentTime=K.currentTime,xt.insideElement||Te(V,Ve,xt),wt=xt.currentPos,sn=xt.currentTime):(o.console.warn("updatePointerUp(): pointerup on untracked gPoint"),K.captured=!1,K.insideElementPressed=!1,K.insideElement=!0,oe(Ve,K),xt=K),!B.preventGesture&&!B.defaultPrevented&&(Ar?(B.shouldReleaseCapture=!0,B.preventDefault=!0,(V.dragHandler||V.dragEndHandler||V.pinchHandler)&&o.MouseTracker.gesturePointVelocityTracker.removePoint(V,xt),Ve.contacts===0?(V.releaseHandler&&V.releaseHandler({eventSource:V,pointerType:xt.type,position:se(wt,V.element),buttons:Ve.buttons,insideElementPressed:xt.insideElementPressed,insideElementReleased:xt.insideElement,isTouchEvent:xt.type==="touch",originalEvent:B.originalEvent,userData:V.userData}),V.dragEndHandler&&Pe.sentDragEvent&&V.dragEndHandler({eventSource:V,pointerType:xt.type,position:se(xt.currentPos,V.element),speed:xt.speed,direction:xt.direction,shift:B.originalEvent.shiftKey,isTouchEvent:xt.type==="touch",originalEvent:B.originalEvent,userData:V.userData}),Pe.sentDragEvent=!1,(V.clickHandler||V.dblClickHandler)&&xt.insideElement&&(Fn=sn-xt.contactTime<=V.clickTimeThreshold&&xt.contactPos.distanceTo(wt)<=V.clickDistThreshold,V.clickHandler&&V.clickHandler({eventSource:V,pointerType:xt.type,position:se(xt.currentPos,V.element),quick:Fn,shift:B.originalEvent.shiftKey,isTouchEvent:xt.type==="touch",originalEvent:B.originalEvent,originalTarget:xt.originalTarget,userData:V.userData}),V.dblClickHandler&&Fn&&(Ve.clicks++,Ve.clicks===1?(Pe.lastClickPos=wt,Pe.dblClickTimeOut=setTimeout(function(){Ve.clicks=0},V.dblClickTimeThreshold)):Ve.clicks===2&&(clearTimeout(Pe.dblClickTimeOut),Ve.clicks=0,Pe.lastClickPos.distanceTo(wt)<=V.dblClickDistThreshold&&V.dblClickHandler({eventSource:V,pointerType:xt.type,position:se(xt.currentPos,V.element),shift:B.originalEvent.shiftKey,isTouchEvent:xt.type==="touch",originalEvent:B.originalEvent,userData:V.userData}),Pe.lastClickPos=null)))):Ve.contacts===2&&V.pinchHandler&&xt.type==="touch"&&(Pe.pinchGPoints=Ve.asArray(),Pe.lastPinchDist=Pe.currentPinchDist=Pe.pinchGPoints[0].currentPos.distanceTo(Pe.pinchGPoints[1].currentPos),Pe.lastPinchCenter=Pe.currentPinchCenter=D(Pe.pinchGPoints[0].currentPos,Pe.pinchGPoints[1].currentPos))):(B.shouldReleaseCapture=!1,V.releaseHandler&&(V.releaseHandler({eventSource:V,pointerType:xt.type,position:se(wt,V.element),buttons:Ve.buttons,insideElementPressed:xt.insideElementPressed,insideElementReleased:xt.insideElement,isTouchEvent:xt.type==="touch",originalEvent:B.originalEvent,userData:V.userData}),B.preventDefault=!0)))}function Wt(V,B,K){var Q=l[V.hash],Pe=V.getActivePointersListByType(K.type),Ve,wt,sn;if(typeof B.originalEvent.buttons<"u"&&(Pe.buttons=B.originalEvent.buttons),Ve=Pe.getById(K.id),Ve)Ve.lastPos=Ve.currentPos,Ve.lastTime=Ve.currentTime,Ve.currentPos=K.currentPos,Ve.currentTime=K.currentTime;else return;B.shouldCapture=!1,B.shouldReleaseCapture=!1,V.stopHandler&&K.type==="mouse"&&(clearTimeout(V.stopTimeOut),V.stopTimeOut=setTimeout(function(){Xi(V,B.originalEvent,K.type)},V.stopDelay)),Pe.contacts===0?V.moveHandler&&V.moveHandler({eventSource:V,pointerType:K.type,position:se(K.currentPos,V.element),buttons:Pe.buttons,isTouchEvent:K.type==="touch",originalEvent:B.originalEvent,userData:V.userData}):Pe.contacts===1?(V.moveHandler&&(Ve=Pe.asArray()[0],V.moveHandler({eventSource:V,pointerType:Ve.type,position:se(Ve.currentPos,V.element),buttons:Pe.buttons,isTouchEvent:Ve.type==="touch",originalEvent:B.originalEvent,userData:V.userData})),V.dragHandler&&!B.preventGesture&&!B.defaultPrevented&&(Ve=Pe.asArray()[0],sn=Ve.currentPos.minus(Ve.lastPos),V.dragHandler({eventSource:V,pointerType:Ve.type,position:se(Ve.currentPos,V.element),buttons:Pe.buttons,delta:sn,speed:Ve.speed,direction:Ve.direction,shift:B.originalEvent.shiftKey,isTouchEvent:Ve.type==="touch",originalEvent:B.originalEvent,userData:V.userData}),B.preventDefault=!0,Q.sentDragEvent=!0)):Pe.contacts===2&&(V.moveHandler&&(wt=Pe.asArray(),V.moveHandler({eventSource:V,pointerType:wt[0].type,position:se(D(wt[0].currentPos,wt[1].currentPos),V.element),buttons:Pe.buttons,isTouchEvent:wt[0].type==="touch",originalEvent:B.originalEvent,userData:V.userData})),V.pinchHandler&&K.type==="touch"&&!B.preventGesture&&!B.defaultPrevented&&(sn=Q.pinchGPoints[0].currentPos.distanceTo(Q.pinchGPoints[1].currentPos),sn!==Q.currentPinchDist&&(Q.lastPinchDist=Q.currentPinchDist,Q.currentPinchDist=sn,Q.lastPinchCenter=Q.currentPinchCenter,Q.currentPinchCenter=D(Q.pinchGPoints[0].currentPos,Q.pinchGPoints[1].currentPos),V.pinchHandler({eventSource:V,pointerType:"touch",gesturePoints:Q.pinchGPoints,lastCenter:se(Q.lastPinchCenter,V.element),center:se(Q.currentPinchCenter,V.element),lastDistance:Q.lastPinchDist,distance:Q.currentPinchDist,shift:B.originalEvent.shiftKey,originalEvent:B.originalEvent,userData:V.userData}),B.preventDefault=!0)))}function Zn(V,B,K){var Q=V.getActivePointersListByType(K.type),Pe;Pe=Q.getById(K.id),Pe&&Te(V,Q,Pe)}function Xi(V,B,K){V.stopHandler&&V.stopHandler({eventSource:V,pointerType:K,position:J(B,V.element),buttons:V.getActivePointersListByType(K).buttons,isTouchEvent:K==="touch",originalEvent:B,userData:V.userData})}}(u),function(o){o.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},o.Control=function(l,d,f){var v=l.parentNode;typeof d=="number"&&(o.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),d={anchor:d}),d.attachToViewer=typeof d.attachToViewer>"u"?!0:d.attachToViewer,this.autoFade=typeof d.autoFade>"u"?!0:d.autoFade,this.element=l,this.anchor=d.anchor,this.container=f,this.anchor===o.ControlAnchor.ABSOLUTE?(this.wrapper=o.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof d.top=="number"?d.top+"px":d.top,this.wrapper.style.left=typeof d.left=="number"?d.left+"px":d.left,this.wrapper.style.height=typeof d.height=="number"?d.height+"px":d.height,this.wrapper.style.width=typeof d.width=="number"?d.width+"px":d.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=o.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===o.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),d.attachToViewer?this.anchor===o.ControlAnchor.TOP_RIGHT||this.anchor===o.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):v.appendChild(this.wrapper)},o.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==o.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(l){this.wrapper.style.display=l?this.anchor===o.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(l){this.element[o.SIGNAL]&&o.Browser.vendor===o.BROWSERS.IE?o.setElementOpacity(this.element,l,!0):o.setElementOpacity(this.wrapper,l,!0)}}}(u),function(o){o.ControlDock=function(d){var f=["topleft","topright","bottomright","bottomleft"],v,y;for(o.extend(!0,this,{id:"controldock-"+o.now()+"-"+Math.floor(Math.random()*1e6),container:o.makeNeutralElement("div"),controls:[]},d),this.container.onsubmit=function(){return!1},this.element&&(this.element=o.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),y=0;y<f.length;y++)v=f[y],this.controls[v]=o.makeNeutralElement("div"),this.controls[v].style.position="absolute",v.match("left")&&(this.controls[v].style.left="0px"),v.match("right")&&(this.controls[v].style.right="0px"),v.match("top")&&(this.controls[v].style.top="0px"),v.match("bottom")&&(this.controls[v].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},o.ControlDock.prototype={addControl:function(d,f){d=o.getElement(d);var v=null;if(!(l(this,d)>=0)){switch(f.anchor){case o.ControlAnchor.TOP_RIGHT:v=this.controls.topright,d.style.position="relative",d.style.paddingRight="0px",d.style.paddingTop="0px";break;case o.ControlAnchor.BOTTOM_RIGHT:v=this.controls.bottomright,d.style.position="relative",d.style.paddingRight="0px",d.style.paddingBottom="0px";break;case o.ControlAnchor.BOTTOM_LEFT:v=this.controls.bottomleft,d.style.position="relative",d.style.paddingLeft="0px",d.style.paddingBottom="0px";break;case o.ControlAnchor.TOP_LEFT:v=this.controls.topleft,d.style.position="relative",d.style.paddingLeft="0px",d.style.paddingTop="0px";break;case o.ControlAnchor.ABSOLUTE:v=this.container,d.style.margin="0px",d.style.padding="0px";break;default:case o.ControlAnchor.NONE:v=this.container,d.style.margin="0px",d.style.padding="0px";break}this.controls.push(new o.Control(d,f,v)),d.style.display="inline-block"}},removeControl:function(d){d=o.getElement(d);var f=l(this,d);return f>=0&&(this.controls[f].destroy(),this.controls.splice(f,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var d;for(d=this.controls.length-1;d>=0;d--)if(this.controls[d].isVisible())return!0;return!1},setControlsEnabled:function(d){var f;for(f=this.controls.length-1;f>=0;f--)this.controls[f].setVisible(d);return this}};function l(d,f){var v=d.controls,y;for(y=v.length-1;y>=0;y--)if(v[y].element===f)return y;return-1}}(u),function(o){o.Placement=o.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(u),function(o){var l={},d=1;o.Viewer=function(I){var oe=arguments,Te=this,Be;if(o.isPlainObject(I)||(I={id:oe[0],xmlPath:oe.length>1?oe[1]:void 0,prefixUrl:oe.length>2?oe[2]:void 0,controls:oe.length>3?oe[3]:void 0,overlays:oe.length>4?oe[4]:void 0}),I.config&&(o.extend(!0,I,I.config),delete I.config),o.extend(!0,this,{id:I.id,hash:I.hash||d++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},o.DEFAULT_SETTINGS,I),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof l[this.hash]<"u"&&o.console.warn("Hash "+this.hash+" has already been used."),l[this.hash]={fsBoundsDelta:new o.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=o.now(),o.EventSource.call(this),this.addHandler("open-failed",function(Ne){var ht=o.getString("Errors.OpenFailed",Ne.eventSource,Ne.message);Te._showMessage(ht)}),o.ControlDock.call(this,I),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=o.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(Ne){Ne.width="100%",Ne.height="100%",Ne.overflow="hidden",Ne.position="absolute",Ne.top="0px",Ne.left="0px"}(this.canvas.style),o.setElementTouchActionNone(this.canvas),I.tabIndex!==""&&(this.canvas.tabIndex=I.tabIndex===void 0?0:I.tabIndex),this.container.className="openseadragon-container",function(Ne){Ne.width="100%",Ne.height="100%",Ne.position="relative",Ne.overflow="hidden",Ne.left="0px",Ne.top="0px",Ne.textAlign="left"}(this.container.style),o.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new o.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:o.delegate(this,J),keyDownHandler:o.delegate(this,se),keyHandler:o.delegate(this,D),clickHandler:o.delegate(this,te),dblClickHandler:o.delegate(this,ce),dragHandler:o.delegate(this,ue),dragEndHandler:o.delegate(this,ye),enterHandler:o.delegate(this,xe),leaveHandler:o.delegate(this,Fe),pressHandler:o.delegate(this,ze),releaseHandler:o.delegate(this,tt),nonPrimaryPressHandler:o.delegate(this,st),nonPrimaryReleaseHandler:o.delegate(this,nt),scrollHandler:o.delegate(this,ft),pinchHandler:o.delegate(this,mt)}),this.outerTracker=new o.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:o.delegate(this,At),leaveHandler:o.delegate(this,Rt)}),this.toolbar&&(this.toolbar=new o.ControlDock({element:this.toolbar})),this.bindStandardControls(),l[this.hash].prevContainerSize=f(this.container),this.world=new o.World({viewer:this}),this.world.addHandler("add-item",function(Ne){Te.source=Te.world.getItemAt(0).source,l[Te.hash].forceRedraw=!0,Te._updateRequestId||(Te._updateRequestId=x(Te,Mt))}),this.world.addHandler("remove-item",function(Ne){Te.world.getItemCount()?Te.source=Te.world.getItemAt(0).source:Te.source=null,l[Te.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(Ne){Te.viewport&&Te.viewport._setContentBounds(Te.world.getHomeBounds(),Te.world.getContentFactor())}),this.world.addHandler("item-index-change",function(Ne){Te.source=Te.world.getItemAt(0).source}),this.viewport=new o.Viewport({containerSize:l[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new o.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:I.timeout}),this.tileCache=new o.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new o.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=o.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(Be=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(Be,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(Be=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(Be,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new o.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),Be=0;Be<this.customControls.length;Be++)this.addControl(this.customControls[Be].id,{anchor:this.customControls[Be].anchor});o.requestAnimationFrame(function(){R(Te)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),o._viewers.set(this.element,this)},o.extend(o.Viewer.prototype,o.EventSource.prototype,o.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(I){return o.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(I)},openTileSource:function(I){return o.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(I)},open:function(I,oe){var Te=this;if(this.close(),!I)return this;if(this.sequenceMode&&o.isArray(I))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof oe<"u"&&!isNaN(oe)&&(this.initialPage=oe),this.tileSources=I,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(o.isArray(I)||(I=[I]),!I.length)return this;this._opening=!0;for(var Be=I.length,Ne=0,ht=0,it,Zt=function(){if(Ne+ht===Be)if(Ne){(Te._firstOpen||!Te.preserveViewport)&&(Te.viewport.goHome(!0),Te.viewport.update()),Te._firstOpen=!1;var Dt=I[0];if(Dt.tileSource&&(Dt=Dt.tileSource),Te.overlays&&!Te.preserveOverlays)for(var Cn=0;Cn<Te.overlays.length;Cn++)Te.currentOverlays[Cn]=y(Te,Te.overlays[Cn]);Te._drawOverlays(),Te._opening=!1,Te.raiseEvent("open",{source:Dt})}else Te._opening=!1,Te.raiseEvent("open-failed",it)},cn=function(Dt){(!o.isPlainObject(Dt)||!Dt.tileSource)&&(Dt={tileSource:Dt}),Dt.index!==void 0&&(o.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Dt.index),Dt.collectionImmediately===void 0&&(Dt.collectionImmediately=!0);var Cn=Dt.success;Dt.success=function(Zn){if(Ne++,Dt.tileSource.overlays)for(var Xi=0;Xi<Dt.tileSource.overlays.length;Xi++)Te.addOverlay(Dt.tileSource.overlays[Xi]);Cn&&Cn(Zn),Zt()};var Wt=Dt.error;Dt.error=function(Zn){ht++,it||(it=Zn),Wt&&Wt(Zn),Zt()},Te.addTiledImage(Dt)},Xt=0;Xt<I.length;Xt++)cn(I[Xt]);return this},close:function(){return l[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),l[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(l[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(o.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),l[this.navigator.hash]=null,delete l[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),l[this.hash]=null,delete l[this.hash],this.canvas=null,this.container=null,o._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(I){return this.innerTracker.setTracking(I),this.outerTracker.setTracking(I),this.raiseEvent("mouse-enabled",{enabled:I}),this},areControlsEnabled:function(){var I=this.controls.length,oe;for(oe=0;oe<this.controls.length;oe++)I=I&&this.controls[oe].isVisible();return I},setControlsEnabled:function(I){return I?F(this):R(this),this.raiseEvent("controls-enabled",{enabled:I}),this},setDebugMode:function(I){for(var oe=0;oe<this.world.getItemCount();oe++)this.world.getItemAt(oe).debugMode=I;this.debugMode=I,this.forceRedraw()},isFullPage:function(){return l[this.hash].fullPage},setFullPage:function(I){var oe=document.body,Te=oe.style,Be=document.documentElement.style,Ne=this,ht,it;if(I===this.isFullPage())return this;var Zt={fullPage:I,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",Zt),Zt.preventDefaultAction)return this;if(I){for(this.elementSize=o.getElementSize(this.element),this.pageScroll=o.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=Te.margin,this.docMargin=Be.margin,Te.margin="0",Be.margin="0",this.bodyPadding=Te.padding,this.docPadding=Be.padding,Te.padding="0",Be.padding="0",this.bodyWidth=Te.width,this.docWidth=Be.width,Te.width="100%",Be.width="100%",this.bodyHeight=Te.height,this.docHeight=Be.height,Te.height="100%",Be.height="100%",this.bodyDisplay=Te.display,Te.display="block",this.previousBody=[],l[this.hash].prevElementParent=this.element.parentNode,l[this.hash].prevNextSibling=this.element.nextSibling,l[this.hash].prevElementWidth=this.element.style.width,l[this.hash].prevElementHeight=this.element.style.height,ht=oe.childNodes.length,it=0;it<ht;it++)this.previousBody.push(oe.childNodes[0]),oe.removeChild(oe.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,oe.appendChild(this.toolbar.element),o.addClass(this.toolbar.element,"fullpage")),o.addClass(this.element,"fullpage"),oe.appendChild(this.element),this.element.style.height=o.getWindowSize().y+"px",this.element.style.width=o.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=o.getElementSize(this.element).y-o.getElementSize(this.toolbar.element).y+"px"),l[this.hash].fullPage=!0,o.delegate(this,At)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,Te.margin=this.bodyMargin,Be.margin=this.docMargin,Te.padding=this.bodyPadding,Be.padding=this.docPadding,Te.width=this.bodyWidth,Be.width=this.docWidth,Te.height=this.bodyHeight,Be.height=this.docHeight,Te.display=this.bodyDisplay,oe.removeChild(this.element),ht=this.previousBody.length,it=0;it<ht;it++)oe.appendChild(this.previousBody.shift());o.removeClass(this.element,"fullpage"),l[this.hash].prevElementParent.insertBefore(this.element,l[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(oe.removeChild(this.toolbar.element),o.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=l[this.hash].prevElementWidth,this.element.style.height=l[this.hash].prevElementHeight;var cn=0,Xt=function(){o.setPageScroll(Ne.pageScroll);var Dt=o.getPageScroll();cn++,cn<10&&(Dt.x!==Ne.pageScroll.x||Dt.y!==Ne.pageScroll.y)&&o.requestAnimationFrame(Xt)};o.requestAnimationFrame(Xt),l[this.hash].fullPage=!1,o.delegate(this,Rt)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:I}),this},setFullScreen:function(I){var oe=this;if(!o.supportsFullScreen)return this.setFullPage(I);if(o.isFullScreen()===I)return this;var Te={fullScreen:I,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",Te),Te.preventDefaultAction)return this;if(I){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var Be=function(){var Ne=o.isFullScreen();Ne||(o.removeEvent(document,o.fullScreenEventName,Be),o.removeEvent(document,o.fullScreenErrorEventName,Be),oe.setFullPage(!1),oe.isFullPage()&&(oe.element.style.width=oe.fullPageStyleWidth,oe.element.style.height=oe.fullPageStyleHeight)),oe.navigator&&oe.viewport&&setTimeout(function(){oe.navigator.update(oe.viewport)}),oe.raiseEvent("full-screen",{fullScreen:Ne})};o.addEvent(document,o.fullScreenEventName,Be),o.addEvent(document,o.fullScreenErrorEventName,Be),o.requestFullScreen(document.body)}else o.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},setVisible:function(I){return this.container.style.visibility=I?"":"hidden",this.raiseEvent("visible",{visible:I}),this},addTiledImage:function(I){o.console.assert(I,"[Viewer.addTiledImage] options is required"),o.console.assert(I.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),o.console.assert(!I.replace||I.index>-1&&I.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var oe=this;I.replace&&(I.replaceItem=oe.world.getItemAt(I.index)),this._hideMessage(),I.placeholderFillStyle===void 0&&(I.placeholderFillStyle=this.placeholderFillStyle),I.opacity===void 0&&(I.opacity=this.opacity),I.preload===void 0&&(I.preload=this.preload),I.compositeOperation===void 0&&(I.compositeOperation=this.compositeOperation),I.crossOriginPolicy===void 0&&(I.crossOriginPolicy=I.tileSource.crossOriginPolicy!==void 0?I.tileSource.crossOriginPolicy:this.crossOriginPolicy),I.ajaxWithCredentials===void 0&&(I.ajaxWithCredentials=this.ajaxWithCredentials),I.loadTilesWithAjax===void 0&&(I.loadTilesWithAjax=this.loadTilesWithAjax),I.ajaxHeaders===void 0||I.ajaxHeaders===null?I.ajaxHeaders=this.ajaxHeaders:o.isPlainObject(I.ajaxHeaders)&&o.isPlainObject(this.ajaxHeaders)&&(I.ajaxHeaders=o.extend({},this.ajaxHeaders,I.ajaxHeaders));var Te={options:I};function Be(it){for(var Zt=0;Zt<oe._loadQueue.length;Zt++)if(oe._loadQueue[Zt]===Te){oe._loadQueue.splice(Zt,1);break}oe._loadQueue.length===0&&Ne(Te),oe.raiseEvent("add-item-failed",it),I.error&&I.error(it)}function Ne(it){oe.collectionMode&&(oe.world.arrange({immediately:it.options.collectionImmediately,rows:oe.collectionRows,columns:oe.collectionColumns,layout:oe.collectionLayout,tileSize:oe.collectionTileSize,tileMargin:oe.collectionTileMargin}),oe.world.setAutoRefigureSizes(!0))}if(o.isArray(I.tileSource)){setTimeout(function(){Be({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:I.tileSource,options:I})});return}this._loadQueue.push(Te);function ht(){for(var it,Zt,cn;oe._loadQueue.length&&(it=oe._loadQueue[0],!!it.tileSource);){if(oe._loadQueue.splice(0,1),it.options.replace){var Xt=oe.world.getIndexOfItem(it.options.replaceItem);Xt!==-1&&(it.options.index=Xt),oe.world.removeItem(it.options.replaceItem)}Zt=new o.TiledImage({viewer:oe,source:it.tileSource,viewport:oe.viewport,drawer:oe.drawer,tileCache:oe.tileCache,imageLoader:oe.imageLoader,x:it.options.x,y:it.options.y,width:it.options.width,height:it.options.height,fitBounds:it.options.fitBounds,fitBoundsPlacement:it.options.fitBoundsPlacement,clip:it.options.clip,placeholderFillStyle:it.options.placeholderFillStyle,opacity:it.options.opacity,preload:it.options.preload,degrees:it.options.degrees,flipped:it.options.flipped,compositeOperation:it.options.compositeOperation,springStiffness:oe.springStiffness,animationTime:oe.animationTime,minZoomImageRatio:oe.minZoomImageRatio,wrapHorizontal:oe.wrapHorizontal,wrapVertical:oe.wrapVertical,immediateRender:oe.immediateRender,blendTime:oe.blendTime,alwaysBlend:oe.alwaysBlend,minPixelRatio:oe.minPixelRatio,smoothTileEdgesMinZoom:oe.smoothTileEdgesMinZoom,iOSDevice:oe.iOSDevice,crossOriginPolicy:it.options.crossOriginPolicy,ajaxWithCredentials:it.options.ajaxWithCredentials,loadTilesWithAjax:it.options.loadTilesWithAjax,ajaxHeaders:it.options.ajaxHeaders,debugMode:oe.debugMode}),oe.collectionMode&&oe.world.setAutoRefigureSizes(!1),oe.navigator&&(cn=o.extend({},it.options,{replace:!1,originalTiledImage:Zt,tileSource:it.tileSource}),oe.navigator.addTiledImage(cn)),oe.world.addItem(Zt,{index:it.options.index}),oe._loadQueue.length===0&&Ne(it),oe.world.getItemCount()===1&&!oe.preserveViewport&&oe.viewport.goHome(!0),it.options.success&&it.options.success({item:Zt})}}v(this,I.tileSource,I,function(it){Te.tileSource=it,ht()},function(it){it.options=I,Be(it),ht()})},addSimpleImage:function(I){o.console.assert(I,"[Viewer.addSimpleImage] options is required"),o.console.assert(I.url,"[Viewer.addSimpleImage] options.url is required");var oe=o.extend({},I,{tileSource:{type:"image",url:I.url}});delete oe.url,this.addTiledImage(oe)},addLayer:function(I){var oe=this;o.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var Te=o.extend({},I,{success:function(Be){oe.raiseEvent("add-layer",{options:I,drawer:Be.item})},error:function(Be){oe.raiseEvent("add-layer-failed",Be)}});return this.addTiledImage(Te),this},getLayerAtLevel:function(I){return o.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(I)},getLevelOfLayer:function(I){return o.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(I)},getLayersCount:function(){return o.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(I,oe){return o.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(I,oe)},removeLayer:function(I){return o.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(I)},forceRedraw:function(){return l[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var I=o.delegate(this,G),oe=o.delegate(this,re),Te=o.delegate(this,this.goToNextPage),Be=o.delegate(this,this.goToPreviousPage),Ne=this.navImages,ht=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(ht=!1),this.previousButton=new o.Button({element:this.previousButton?o.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.PreviousPage"),srcRest:rt(this.prefixUrl,Ne.previous.REST),srcGroup:rt(this.prefixUrl,Ne.previous.GROUP),srcHover:rt(this.prefixUrl,Ne.previous.HOVER),srcDown:rt(this.prefixUrl,Ne.previous.DOWN),onRelease:Be,onFocus:I,onBlur:oe}),this.nextButton=new o.Button({element:this.nextButton?o.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.NextPage"),srcRest:rt(this.prefixUrl,Ne.next.REST),srcGroup:rt(this.prefixUrl,Ne.next.GROUP),srcHover:rt(this.prefixUrl,Ne.next.HOVER),srcDown:rt(this.prefixUrl,Ne.next.DOWN),onRelease:Te,onFocus:I,onBlur:oe}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),ht&&(this.paging=new o.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:o.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||o.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var I=o.delegate(this,Ht),oe=o.delegate(this,We),Te=o.delegate(this,Je),Be=o.delegate(this,Ie),Ne=o.delegate(this,vt),ht=o.delegate(this,xn),it=o.delegate(this,Gt),Zt=o.delegate(this,Hr),cn=o.delegate(this,mr),Xt=o.delegate(this,Or),Dt=o.delegate(this,G),Cn=o.delegate(this,re),Wt=this.navImages,Zn=[],Xi=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(Xi=!1),this.showZoomControl&&(Zn.push(this.zoomInButton=new o.Button({element:this.zoomInButton?o.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.ZoomIn"),srcRest:rt(this.prefixUrl,Wt.zoomIn.REST),srcGroup:rt(this.prefixUrl,Wt.zoomIn.GROUP),srcHover:rt(this.prefixUrl,Wt.zoomIn.HOVER),srcDown:rt(this.prefixUrl,Wt.zoomIn.DOWN),onPress:I,onRelease:oe,onClick:Te,onEnter:I,onExit:oe,onFocus:Dt,onBlur:Cn})),Zn.push(this.zoomOutButton=new o.Button({element:this.zoomOutButton?o.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.ZoomOut"),srcRest:rt(this.prefixUrl,Wt.zoomOut.REST),srcGroup:rt(this.prefixUrl,Wt.zoomOut.GROUP),srcHover:rt(this.prefixUrl,Wt.zoomOut.HOVER),srcDown:rt(this.prefixUrl,Wt.zoomOut.DOWN),onPress:Be,onRelease:oe,onClick:Ne,onEnter:Be,onExit:oe,onFocus:Dt,onBlur:Cn}))),this.showHomeControl&&Zn.push(this.homeButton=new o.Button({element:this.homeButton?o.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.Home"),srcRest:rt(this.prefixUrl,Wt.home.REST),srcGroup:rt(this.prefixUrl,Wt.home.GROUP),srcHover:rt(this.prefixUrl,Wt.home.HOVER),srcDown:rt(this.prefixUrl,Wt.home.DOWN),onRelease:ht,onFocus:Dt,onBlur:Cn})),this.showFullPageControl&&Zn.push(this.fullPageButton=new o.Button({element:this.fullPageButton?o.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.FullPage"),srcRest:rt(this.prefixUrl,Wt.fullpage.REST),srcGroup:rt(this.prefixUrl,Wt.fullpage.GROUP),srcHover:rt(this.prefixUrl,Wt.fullpage.HOVER),srcDown:rt(this.prefixUrl,Wt.fullpage.DOWN),onRelease:it,onFocus:Dt,onBlur:Cn})),this.showRotationControl&&(Zn.push(this.rotateLeftButton=new o.Button({element:this.rotateLeftButton?o.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.RotateLeft"),srcRest:rt(this.prefixUrl,Wt.rotateleft.REST),srcGroup:rt(this.prefixUrl,Wt.rotateleft.GROUP),srcHover:rt(this.prefixUrl,Wt.rotateleft.HOVER),srcDown:rt(this.prefixUrl,Wt.rotateleft.DOWN),onRelease:Zt,onFocus:Dt,onBlur:Cn})),Zn.push(this.rotateRightButton=new o.Button({element:this.rotateRightButton?o.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.RotateRight"),srcRest:rt(this.prefixUrl,Wt.rotateright.REST),srcGroup:rt(this.prefixUrl,Wt.rotateright.GROUP),srcHover:rt(this.prefixUrl,Wt.rotateright.HOVER),srcDown:rt(this.prefixUrl,Wt.rotateright.DOWN),onRelease:cn,onFocus:Dt,onBlur:Cn}))),this.showFlipControl&&Zn.push(this.flipButton=new o.Button({element:this.flipButton?o.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.Flip"),srcRest:rt(this.prefixUrl,Wt.flip.REST),srcGroup:rt(this.prefixUrl,Wt.flip.GROUP),srcHover:rt(this.prefixUrl,Wt.flip.HOVER),srcDown:rt(this.prefixUrl,Wt.flip.DOWN),onRelease:Xt,onFocus:Dt,onBlur:Cn})),Xi?(this.buttonGroup=new o.ButtonGroup({buttons:Zn,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",o.delegate(this,Qt)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||o.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||o.ControlAnchor.TOP_LEFT})):this.customButtons=Zn),this},currentPage:function(){return this._sequenceIndex},goToPage:function(I){return this.tileSources&&I>=0&&I<this.tileSources.length&&(this._sequenceIndex=I,this._updateSequenceButtons(I),this.open(this.tileSources[I]),this.referenceStrip&&this.referenceStrip.setFocus(I),this.raiseEvent("page",{page:I})),this},addOverlay:function(I,oe,Te,Be){var Ne;if(o.isPlainObject(I)?Ne=I:Ne={element:I,location:oe,placement:Te,onDraw:Be},I=o.getElement(Ne.element),w(this.currentOverlays,I)>=0)return this;var ht=y(this,Ne);return this.currentOverlays.push(ht),ht.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:I,location:Ne.location,placement:Ne.placement}),this},updateOverlay:function(I,oe,Te){var Be;return I=o.getElement(I),Be=w(this.currentOverlays,I),Be>=0&&(this.currentOverlays[Be].update(oe,Te),l[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:I,location:oe,placement:Te})),this},removeOverlay:function(I){var oe;return I=o.getElement(I),oe=w(this.currentOverlays,I),oe>=0&&(this.currentOverlays[oe].destroy(),this.currentOverlays.splice(oe,1),l[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:I})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return l[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(I){var oe;return I=o.getElement(I),oe=w(this.currentOverlays,I),oe>=0?this.currentOverlays[oe]:null},_updateSequenceButtons:function(I){this.nextButton&&(!this.tileSources||this.tileSources.length-1===I?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(I>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(I){this._hideMessage();var oe=o.makeNeutralElement("div");oe.appendChild(document.createTextNode(I)),this.messageDiv=o.makeCenteredNode(oe),o.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var I=this.messageDiv;I&&(I.parentNode.removeChild(I),delete this.messageDiv)},gestureSettingsByDeviceType:function(I){switch(I){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var I,oe=this.currentOverlays.length;for(I=0;I<oe;I++)this.currentOverlays[I].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new o.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else o.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),o.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){o.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var I=o.pixelDensityRatio,oe=o.getCurrentPixelDensityRatio();I!==oe&&(o.pixelDensityRatio=oe,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var I=this._sequenceIndex-1;this.navPrevNextWrap&&I<0&&(I+=this.tileSources.length),this.goToPage(I)},goToNextPage:function(){var I=this._sequenceIndex+1;this.navPrevNextWrap&&I>=this.tileSources.length&&(I=0),this.goToPage(I)}});function f(I){return I=o.getElement(I),new o.Point(I.clientWidth===0?1:I.clientWidth,I.clientHeight===0?1:I.clientHeight)}function v(I,oe,Te,Be,Ne){var ht=I;if(o.type(oe)==="string"){if(oe.match(/^\s*<.*>\s*$/))oe=o.parseXml(oe);else if(oe.match(/^\s*[{[].*[}\]]\s*$/))try{var it=o.parseJSON(oe);oe=it}catch{}}function Zt(cn,Xt){cn.ready?Be(cn):(cn.addHandler("ready",function(){Be(cn)}),cn.addHandler("open-failed",function(Dt){Ne({message:Dt.message,source:Xt})}))}setTimeout(function(){if(o.type(oe)==="string")oe=new o.TileSource({url:oe,crossOriginPolicy:Te.crossOriginPolicy!==void 0?Te.crossOriginPolicy:I.crossOriginPolicy,ajaxWithCredentials:I.ajaxWithCredentials,ajaxHeaders:Te.ajaxHeaders?Te.ajaxHeaders:I.ajaxHeaders,useCanvas:I.useCanvas,success:function(Cn){Be(Cn.tileSource)}}),oe.addHandler("open-failed",function(Cn){Ne(Cn)});else if(o.isPlainObject(oe)||oe.nodeType)if(oe.crossOriginPolicy===void 0&&(Te.crossOriginPolicy!==void 0||I.crossOriginPolicy!==void 0)&&(oe.crossOriginPolicy=Te.crossOriginPolicy!==void 0?Te.crossOriginPolicy:I.crossOriginPolicy),oe.ajaxWithCredentials===void 0&&(oe.ajaxWithCredentials=I.ajaxWithCredentials),oe.useCanvas===void 0&&(oe.useCanvas=I.useCanvas),o.isFunction(oe.getTileUrl)){var cn=new o.TileSource(oe);cn.getTileUrl=oe.getTileUrl,Be(cn)}else{var Xt=o.TileSource.determineType(ht,oe);if(!Xt){Ne({message:"Unable to load TileSource",source:oe});return}var Dt=Xt.prototype.configure.apply(ht,[oe]);Zt(new Xt(Dt),oe)}else Zt(oe,oe)})}function y(I,oe){if(oe instanceof o.Overlay)return oe;var Te=null;if(oe.element)Te=o.getElement(oe.element);else{var Be=oe.id?oe.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);Te=o.getElement(oe.id),Te||(Te=document.createElement("a"),Te.href="#/overlay/"+Be),Te.id=Be,o.addClass(Te,oe.className?oe.className:"openseadragon-overlay")}var Ne=oe.location,ht=oe.width,it=oe.height;if(!Ne){var Zt=oe.x,cn=oe.y;if(oe.px!==void 0){var Xt=I.viewport.imageToViewportRectangle(new o.Rect(oe.px,oe.py,ht||0,it||0));Zt=Xt.x,cn=Xt.y,ht=ht!==void 0?Xt.width:void 0,it=it!==void 0?Xt.height:void 0}Ne=new o.Point(Zt,cn)}var Dt=oe.placement;return Dt&&o.type(Dt)==="string"&&(Dt=o.Placement[oe.placement.toUpperCase()]),new o.Overlay({element:Te,location:Ne,placement:Dt,onDraw:oe.onDraw,checkResize:oe.checkResize,width:ht,height:it,rotationMode:oe.rotationMode})}function w(I,oe){var Te;for(Te=I.length-1;Te>=0;Te--)if(I[Te].element===oe)return Te;return-1}function x(I,oe){return o.requestAnimationFrame(function(){oe(I)})}function E(I){o.requestAnimationFrame(function(){O(I)})}function R(I){!I.autoHideControls||(I.controlsShouldFade=!0,I.controlsFadeBeginTime=o.now()+I.controlsFadeDelay,window.setTimeout(function(){E(I)},I.controlsFadeDelay))}function O(I){var oe,Te,Be,Ne;if(I.controlsShouldFade){for(oe=o.now(),Te=oe-I.controlsFadeBeginTime,Be=1-Te/I.controlsFadeLength,Be=Math.min(1,Be),Be=Math.max(0,Be),Ne=I.controls.length-1;Ne>=0;Ne--)I.controls[Ne].autoFade&&I.controls[Ne].setOpacity(Be);Be>0&&E(I)}}function F(I){var oe;for(I.controlsShouldFade=!1,oe=I.controls.length-1;oe>=0;oe--)I.controls[oe].setOpacity(1)}function G(){F(this)}function re(){R(this)}function J(I){var oe={tracker:I.eventSource,position:I.position,originalEvent:I.originalEvent,preventDefault:I.preventDefault};this.raiseEvent("canvas-contextmenu",oe),I.preventDefault=oe.preventDefault}function se(I){var oe={originalEvent:I.originalEvent,preventDefaultAction:!1,preventVerticalPan:I.preventVerticalPan,preventHorizontalPan:I.preventHorizontalPan};if(this.raiseEvent("canvas-key",oe),!oe.preventDefaultAction&&!I.ctrl&&!I.alt&&!I.meta)switch(I.keyCode){case 38:oe.preventVerticalPan||(I.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 40:oe.preventVerticalPan||(I.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 37:oe.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 39:oe.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;default:I.preventDefault=!1;break}else I.preventDefault=!1}function D(I){var oe={originalEvent:I.originalEvent,preventDefaultAction:!1,preventVerticalPan:I.preventVerticalPan,preventHorizontalPan:I.preventHorizontalPan};if(this.raiseEvent("canvas-key",oe),!oe.preventDefaultAction&&!I.ctrl&&!I.alt&&!I.meta)switch(I.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 119:case 87:oe.preventVerticalPan||(I.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,-40))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 115:case 83:oe.preventVerticalPan||(I.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,40))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 97:oe.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(-40,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 100:oe.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(40,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(o.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(o.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(o.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(o.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),I.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:I.preventDefault=!1;break}else I.preventDefault=!1}function te(I){var oe,Te=document.activeElement===this.canvas;Te||this.canvas.focus(),this.viewport.flipped&&(I.position.x=this.viewport.getContainerSize().x-I.position.x);var Be={tracker:I.eventSource,position:I.position,quick:I.quick,shift:I.shift,originalEvent:I.originalEvent,originalTarget:I.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",Be),!Be.preventDefaultAction&&this.viewport&&I.quick&&(oe=this.gestureSettingsByDeviceType(I.pointerType),oe.clickToZoom&&(this.viewport.zoomBy(I.shift?1/this.zoomPerClick:this.zoomPerClick,oe.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints()))}function ce(I){var oe,Te={tracker:I.eventSource,position:I.position,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",Te),!Te.preventDefaultAction&&this.viewport&&(oe=this.gestureSettingsByDeviceType(I.pointerType),oe.dblClickToZoom&&(this.viewport.zoomBy(I.shift?1/this.zoomPerClick:this.zoomPerClick,oe.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints()))}function ue(I){var oe,Te={tracker:I.eventSource,pointerType:I.pointerType,position:I.position,delta:I.delta,speed:I.speed,direction:I.direction,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",Te),oe=this.gestureSettingsByDeviceType(I.pointerType),oe.dragToPan&&!Te.preventDefaultAction&&this.viewport){if(this.panHorizontal||(I.delta.x=0),this.panVertical||(I.delta.y=0),this.viewport.flipped&&(I.delta.x=-I.delta.x),this.constrainDuringPan){var Be=this.viewport.deltaPointsFromPixels(I.delta.negate());this.viewport.centerSpringX.target.value+=Be.x,this.viewport.centerSpringY.target.value+=Be.y;var Ne=this.viewport.getBounds(),ht=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=Be.x,this.viewport.centerSpringY.target.value-=Be.y,Ne.x!==ht.x&&(I.delta.x=0),Ne.y!==ht.y&&(I.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(I.delta.negate()),oe.flickEnabled&&!this.constrainDuringPan)}}function ye(I){var oe={tracker:I.eventSource,pointerType:I.pointerType,position:I.position,speed:I.speed,direction:I.direction,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",oe),!oe.preventDefaultAction&&this.viewport){var Te=this.gestureSettingsByDeviceType(I.pointerType);if(Te.flickEnabled&&I.speed>=Te.flickMinSpeed){var Be=0;this.panHorizontal&&(Be=Te.flickMomentum*I.speed*Math.cos(I.direction));var Ne=0;this.panVertical&&(Ne=Te.flickMomentum*I.speed*Math.sin(I.direction));var ht=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),it=this.viewport.pointFromPixel(new o.Point(ht.x-Be,ht.y-Ne));this.viewport.panTo(it,!1)}this.viewport.applyConstraints()}}function xe(I){this.raiseEvent("canvas-enter",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function Fe(I){this.raiseEvent("canvas-exit",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function ze(I){this.raiseEvent("canvas-press",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,insideElementPressed:I.insideElementPressed,insideElementReleased:I.insideElementReleased,originalEvent:I.originalEvent})}function tt(I){this.raiseEvent("canvas-release",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,insideElementPressed:I.insideElementPressed,insideElementReleased:I.insideElementReleased,originalEvent:I.originalEvent})}function st(I){this.raiseEvent("canvas-nonprimary-press",{tracker:I.eventSource,position:I.position,pointerType:I.pointerType,button:I.button,buttons:I.buttons,originalEvent:I.originalEvent})}function nt(I){this.raiseEvent("canvas-nonprimary-release",{tracker:I.eventSource,position:I.position,pointerType:I.pointerType,button:I.button,buttons:I.buttons,originalEvent:I.originalEvent})}function mt(I){var oe,Te,Be,Ne,ht={tracker:I.eventSource,pointerType:I.pointerType,gesturePoints:I.gesturePoints,lastCenter:I.lastCenter,center:I.center,lastDistance:I.lastDistance,distance:I.distance,shift:I.shift,originalEvent:I.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",ht),this.viewport&&(oe=this.gestureSettingsByDeviceType(I.pointerType),oe.pinchToZoom&&(!ht.preventDefaultPanAction||!ht.preventDefaultZoomAction)&&(Te=this.viewport.pointFromPixel(I.center,!0),ht.preventDefaultZoomAction||this.viewport.zoomBy(I.distance/I.lastDistance,Te,!0),oe.zoomToRefPoint&&!ht.preventDefaultPanAction&&(Be=this.viewport.pointFromPixel(I.lastCenter,!0),Ne=Be.minus(Te),this.panHorizontal||(Ne.x=0),this.panVertical||(Ne.y=0),this.viewport.panBy(Ne,!0)),this.viewport.applyConstraints()),oe.pinchRotate&&!ht.preventDefaultRotateAction)){var it=Math.atan2(I.gesturePoints[0].currentPos.y-I.gesturePoints[1].currentPos.y,I.gesturePoints[0].currentPos.x-I.gesturePoints[1].currentPos.x),Zt=Math.atan2(I.gesturePoints[0].lastPos.y-I.gesturePoints[1].lastPos.y,I.gesturePoints[0].lastPos.x-I.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(it-Zt)*(180/Math.PI))}}function ft(I){var oe,Te,Be,Ne,ht;Ne=o.now(),ht=Ne-this._lastScrollTime,ht>this.minScrollDeltaTime?(this._lastScrollTime=Ne,oe={tracker:I.eventSource,position:I.position,scroll:I.scroll,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",oe),!oe.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(I.position.x=this.viewport.getContainerSize().x-I.position.x),Te=this.gestureSettingsByDeviceType(I.pointerType),Te.scrollToZoom&&(Be=Math.pow(this.zoomPerScroll,I.scroll),this.viewport.zoomBy(Be,Te.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints())),I.preventDefault=oe.preventDefault):I.preventDefault=!0}function At(I){l[this.hash].mouseInside=!0,F(this),this.raiseEvent("container-enter",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function Rt(I){I.pointers<1&&(l[this.hash].mouseInside=!1,l[this.hash].animating||R(this)),this.raiseEvent("container-exit",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function Mt(I){$t(I),I.isOpen()?I._updateRequestId=x(I,Mt):I._updateRequestId=!1}function $t(I){if(!(I._opening||!l[I.hash])){if(I.autoResize){var oe=f(I.container),Te=l[I.hash].prevContainerSize;if(!oe.equals(Te)){var Be=I.viewport;if(I.preserveImageSizeOnResize){var Ne=Te.x/oe.x,ht=Be.getZoom()*Ne,it=Be.getCenter();Be.resize(oe,!1),Be.zoomTo(ht,null,!0),Be.panTo(it,!0)}else{var Zt=Be.getBounds();Be.resize(oe,!0),Be.fitBoundsWithConstraints(Zt,!0)}l[I.hash].prevContainerSize=oe,l[I.hash].forceRedraw=!0}}var cn=I.viewport.update(),Xt=I.world.update()||cn;cn&&I.raiseEvent("viewport-change"),I.referenceStrip&&(Xt=I.referenceStrip.update(I.viewport)||Xt),!l[I.hash].animating&&Xt&&(I.raiseEvent("animation-start"),F(I)),(Xt||l[I.hash].forceRedraw||I.world.needsDraw())&&(on(I),I._drawOverlays(),I.navigator&&I.navigator.update(I.viewport),l[I.hash].forceRedraw=!1,Xt&&I.raiseEvent("animation")),l[I.hash].animating&&!Xt&&(I.raiseEvent("animation-finish"),l[I.hash].mouseInside||R(I)),l[I.hash].animating=Xt}}function on(I){I.imageLoader.clear(),I.drawer.clear(),I.world.draw(),I.raiseEvent("update-viewport",{})}function rt(I,oe){return I?I+oe:oe}function Ht(){l[this.hash].lastZoomTime=o.now(),l[this.hash].zoomFactor=this.zoomPerSecond,l[this.hash].zooming=!0,Ze(this)}function Ie(){l[this.hash].lastZoomTime=o.now(),l[this.hash].zoomFactor=1/this.zoomPerSecond,l[this.hash].zooming=!0,Ze(this)}function We(){l[this.hash].zooming=!1}function Ze(I){o.requestAnimationFrame(o.delegate(I,Ge))}function Ge(){var I,oe,Te;l[this.hash].zooming&&this.viewport&&(I=o.now(),oe=I-l[this.hash].lastZoomTime,Te=Math.pow(l[this.hash].zoomFactor,oe/1e3),this.viewport.zoomBy(Te),this.viewport.applyConstraints(),l[this.hash].lastZoomTime=I,Ze(this))}function Je(){this.viewport&&(l[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function vt(){this.viewport&&(l[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Qt(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function xn(){this.viewport&&this.viewport.goHome()}function Gt(){this.isFullPage()&&!o.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function Hr(){if(this.viewport){var I=this.viewport.getRotation();this.viewport.flipped?I=o.positiveModulo(I+this.rotationIncrement,360):I=o.positiveModulo(I-this.rotationIncrement,360),this.viewport.setRotation(I)}}function mr(){if(this.viewport){var I=this.viewport.getRotation();this.viewport.flipped?I=o.positiveModulo(I-this.rotationIncrement,360):I=o.positiveModulo(I+this.rotationIncrement,360),this.viewport.setRotation(I)}}function Or(){this.viewport.toggleFlip()}}(u),function(o){o.Navigator=function(x){var E=x.viewer,R=this,O,F;x.id?(this.element=document.getElementById(x.id),x.controlOptions={anchor:o.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(x.id="navigator-"+o.now(),this.element=o.makeNeutralElement("div"),x.controlOptions={anchor:o.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:x.autoFade},x.position&&(x.position==="BOTTOM_RIGHT"?x.controlOptions.anchor=o.ControlAnchor.BOTTOM_RIGHT:x.position==="BOTTOM_LEFT"?x.controlOptions.anchor=o.ControlAnchor.BOTTOM_LEFT:x.position==="TOP_RIGHT"?x.controlOptions.anchor=o.ControlAnchor.TOP_RIGHT:x.position==="TOP_LEFT"?x.controlOptions.anchor=o.ControlAnchor.TOP_LEFT:x.position==="ABSOLUTE"&&(x.controlOptions.anchor=o.ControlAnchor.ABSOLUTE,x.controlOptions.top=x.top,x.controlOptions.left=x.left,x.controlOptions.height=x.height,x.controlOptions.width=x.width))),this.element.id=x.id,this.element.className+=" navigator",x=o.extend(!0,{sizeRatio:o.DEFAULT_SETTINGS.navigatorSizeRatio},x,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:x.autoResize,minZoomImageRatio:1,background:x.background,opacity:x.opacity,borderColor:x.borderColor,displayRegionColor:x.displayRegionColor}),x.minPixelRatio=this.minPixelRatio=E.minPixelRatio,o.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new o.Point(1,1),this.totalBorderWidths=new o.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),x.controlOptions.anchor!==o.ControlAnchor.NONE&&function(J,se){J.margin="0px",J.border=se+"px solid "+x.borderColor,J.padding="0px",J.background=x.background,J.opacity=x.opacity,J.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=o.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(J,se){J.position="relative",J.top="0px",J.left="0px",J.fontSize="0px",J.overflow="hidden",J.border=se+"px solid "+x.displayRegionColor,J.margin="0px",J.padding="0px",J.background="transparent",J.float="left",J.cssFloat="left",J.styleFloat="left",J.zIndex=999999999,J.cursor="default"}(this.displayRegion.style,this.borderWidth),o.setElementPointerEventsNone(this.displayRegion),o.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=o.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",o.setElementPointerEventsNone(this.displayRegionContainer),o.setElementTouchActionNone(this.displayRegionContainer),E.addControl(this.element,x.controlOptions),this._resizeWithViewer=x.controlOptions.anchor!==o.ControlAnchor.ABSOLUTE&&x.controlOptions.anchor!==o.ControlAnchor.NONE,x.width&&x.height?(this.setWidth(x.width),this.setHeight(x.height)):this._resizeWithViewer&&(O=o.getElementSize(E.element),this.element.style.height=Math.round(O.y*x.sizeRatio)+"px",this.element.style.width=Math.round(O.x*x.sizeRatio)+"px",this.oldViewerSize=O,F=o.getElementSize(this.element),this.elementArea=F.x*F.y),this.oldContainerSize=new o.Point(0,0),o.Viewer.apply(this,[x]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function G(J){y(R.displayRegionContainer,J),y(R.displayRegion,-J),R.viewport.setRotation(J)}if(x.navigatorRotate){var re=x.viewer.viewport?x.viewer.viewport.getRotation():x.viewer.degrees||0;G(re),x.viewer.addHandler("rotate",function(J){G(J.degrees)})}this.innerTracker.destroy(),this.innerTracker=new o.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:o.delegate(this,d),clickHandler:o.delegate(this,l),releaseHandler:o.delegate(this,f),scrollHandler:o.delegate(this,v),preProcessEventHandler:function(J){J.eventType==="wheel"&&(J.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",o.setElementPointerEventsNone(this.canvas),o.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){R.viewport&&R.viewport.goHome(!0)}),E.world.addHandler("item-index-change",function(J){window.setTimeout(function(){var se=R.world.getItemAt(J.previousIndex);R.world.setItemIndex(se,J.newIndex)},1)}),E.world.addHandler("remove-item",function(J){var se=J.item,D=R._getMatchingItem(se);D&&R.world.removeItem(D)}),this.update(E.viewport)},o.extend(o.Navigator.prototype,o.EventSource.prototype,o.Viewer.prototype,{updateSize:function(){if(this.viewport){var x=new o.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);x.equals(this.oldContainerSize)||(this.viewport.resize(x,!0),this.viewport.goHome(!0),this.oldContainerSize=x,this.drawer.clear(),this.world.draw())}},setWidth:function(x){this.width=x,this.element.style.width=typeof x=="number"?x+"px":x,this._resizeWithViewer=!1},setHeight:function(x){this.height=x,this.element.style.height=typeof x=="number"?x+"px":x,this._resizeWithViewer=!1},setFlip:function(x){return this.viewport.setFlip(x),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(x){w(this.displayRegion,x),w(this.canvas,x),w(this.element,x)},update:function(x){var E,R,O,F,G,re;if(E=o.getElementSize(this.viewer.element),this._resizeWithViewer&&E.x&&E.y&&!E.equals(this.oldViewerSize)&&(this.oldViewerSize=E,this.maintainSizeRatio||!this.elementArea?(R=E.x*this.sizeRatio,O=E.y*this.sizeRatio):(R=Math.sqrt(this.elementArea*(E.x/E.y)),O=this.elementArea/R),this.element.style.width=Math.round(R)+"px",this.element.style.height=Math.round(O)+"px",this.elementArea||(this.elementArea=R*O),this.updateSize()),x&&this.viewport){F=x.getBoundsNoRotate(!0),G=this.viewport.pixelFromPointNoRotate(F.getTopLeft(),!1),re=this.viewport.pixelFromPointNoRotate(F.getBottomRight(),!1).minus(this.totalBorderWidths);var J=this.displayRegion.style;J.display=this.world.getItemCount()?"block":"none",J.top=Math.round(G.y)+"px",J.left=Math.round(G.x)+"px";var se=Math.abs(G.x-re.x),D=Math.abs(G.y-re.y);J.width=Math.round(Math.max(se,0))+"px",J.height=Math.round(Math.max(D,0))+"px"}},addTiledImage:function(x){var E=this,R=x.originalTiledImage;delete x.original;var O=o.extend({},x,{success:function(F){var G=F.item;G._originalForNavigator=R,E._matchBounds(G,R,!0),E._matchOpacity(G,R),E._matchCompositeOperation(G,R);function re(){E._matchBounds(G,R)}function J(){E._matchOpacity(G,R)}function se(){E._matchCompositeOperation(G,R)}R.addHandler("bounds-change",re),R.addHandler("clip-change",re),R.addHandler("opacity-change",J),R.addHandler("composite-operation-change",se)}});return o.Viewer.prototype.addTiledImage.apply(this,[O])},destroy:function(){return o.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(x){for(var E=this.world.getItemCount(),R,O=0;O<E;O++)if(R=this.world.getItemAt(O),R._originalForNavigator===x)return R;return null},_matchBounds:function(x,E,R){var O=E.getBoundsNoRotate();x.setPosition(O.getTopLeft(),R),x.setWidth(O.width,R),x.setRotation(E.getRotation(),R),x.setClip(E.getClip()),x.setFlip(E.getFlip())},_matchOpacity:function(x,E){x.setOpacity(E.opacity)},_matchCompositeOperation:function(x,E){x.setCompositeOperation(E.compositeOperation)}});function l(x){var E={tracker:x.eventSource,position:x.position,quick:x.quick,shift:x.shift,originalEvent:x.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",E),!E.preventDefaultAction&&x.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(x.position.x=this.viewport.getContainerSize().x-x.position.x);var R=this.viewport.pointFromPixel(x.position);this.panVertical?this.panHorizontal||(R.x=this.viewer.viewport.getCenter(!0).x):R.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(R),this.viewer.viewport.applyConstraints()}}function d(x){var E={tracker:x.eventSource,position:x.position,delta:x.delta,speed:x.speed,direction:x.direction,shift:x.shift,originalEvent:x.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",E),!E.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(x.delta.x=0),this.panVertical||(x.delta.y=0),this.viewer.viewport.flipped&&(x.delta.x=-x.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(x.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function f(x){x.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function v(x){var E={tracker:x.eventSource,position:x.position,scroll:x.scroll,shift:x.shift,originalEvent:x.originalEvent,preventDefault:x.preventDefault};this.viewer.raiseEvent("navigator-scroll",E),x.preventDefault=E.preventDefault}function y(x,E){w(x,"rotate("+E+"deg)")}function w(x,E){x.style.webkitTransform=E,x.style.mozTransform=E,x.style.msTransform=E,x.style.oTransform=E,x.style.transform=E}}(u),function(o){var l={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};o.extend(o,{getString:function(d){var f=d.split("."),v=null,y=arguments,w=l,x;for(x=0;x<f.length-1;x++)w=w[f[x]]||{};return v=w[f[x]],typeof v!="string"&&(o.console.log("Untranslated source string:",d),v=""),v.replace(/\{\d+\}/g,function(E){var R=parseInt(E.match(/\d+/),10)+1;return R<y.length?y[R]:""})},setString:function(d,f){var v=d.split("."),y=l,w;for(w=0;w<v.length-1;w++)y[v[w]]||(y[v[w]]={}),y=y[v[w]];y[v[w]]=f}})}(u),function(o){o.Point=function(l,d){this.x=typeof l=="number"?l:0,this.y=typeof d=="number"?d:0},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},plus:function(l){return new o.Point(this.x+l.x,this.y+l.y)},minus:function(l){return new o.Point(this.x-l.x,this.y-l.y)},times:function(l){return new o.Point(this.x*l,this.y*l)},divide:function(l){return new o.Point(this.x/l,this.y/l)},negate:function(){return new o.Point(-this.x,-this.y)},distanceTo:function(l){return Math.sqrt(Math.pow(this.x-l.x,2)+Math.pow(this.y-l.y,2))},squaredDistanceTo:function(l){return Math.pow(this.x-l.x,2)+Math.pow(this.y-l.y,2)},apply:function(l){return new o.Point(l(this.x),l(this.y))},equals:function(l){return l instanceof o.Point&&this.x===l.x&&this.y===l.y},rotate:function(l,d){d=d||new o.Point(0,0);var f,v;if(l%90===0){var y=o.positiveModulo(l,360);switch(y){case 0:f=1,v=0;break;case 90:f=0,v=1;break;case 180:f=-1,v=0;break;case 270:f=0,v=-1;break}}else{var w=l*Math.PI/180;f=Math.cos(w),v=Math.sin(w)}var x=f*(this.x-d.x)-v*(this.y-d.y)+d.x,E=v*(this.x-d.x)+f*(this.y-d.y)+d.y;return new o.Point(x,E)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(u),function(o){o.TileSource=function(d,f,v,y,w,x){var E=this,R=arguments,O,F;if(o.isPlainObject(d)?O=d:O={width:R[0],height:R[1],tileSize:R[2],tileOverlap:R[3],minLevel:R[4],maxLevel:R[5]},o.EventSource.call(this),o.extend(!0,this,O),!this.success){for(F=0;F<arguments.length;F++)if(o.isFunction(arguments[F])){this.success=arguments[F];break}}this.success&&this.addHandler("ready",function(G){E.success(G)}),o.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new o.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=O.width&&O.height?O.width/O.height:1,this.dimensions=new o.Point(O.width,O.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=O.tileOverlap?O.tileOverlap:0,this.minLevel=O.minLevel?O.minLevel:0,this.maxLevel=O.maxLevel!==void 0&&O.maxLevel!==null?O.maxLevel:O.width&&O.height?Math.ceil(Math.log(Math.max(O.width,O.height))/Math.log(2)):0,this.success&&o.isFunction(this.success)&&this.success(this))},o.TileSource.prototype={getTileSize:function(d){return o.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(d){return this._tileWidth?this._tileWidth:this.getTileSize(d)},getTileHeight:function(d){return this._tileHeight?this._tileHeight:this.getTileSize(d)},setMaxLevel:function(d){this.maxLevel=d,this._memoizeLevelScale()},getLevelScale:function(d){return this._memoizeLevelScale(),this.getLevelScale(d)},_memoizeLevelScale:function(){var d={},f;for(f=0;f<=this.maxLevel;f++)d[f]=1/Math.pow(2,this.maxLevel-f);this.getLevelScale=function(v){return d[v]}},getNumTiles:function(d){var f=this.getLevelScale(d),v=Math.ceil(f*this.dimensions.x/this.getTileWidth(d)),y=Math.ceil(f*this.dimensions.y/this.getTileHeight(d));return new o.Point(v,y)},getPixelRatio:function(d){var f=this.dimensions.times(this.getLevelScale(d)),v=1/f.x*o.pixelDensityRatio,y=1/f.y*o.pixelDensityRatio;return new o.Point(v,y)},getClosestLevel:function(){var d,f;for(d=this.minLevel+1;d<=this.maxLevel&&(f=this.getNumTiles(d),!(f.x>1||f.y>1));d++);return d-1},getTileAtPoint:function(d,f){var v=f.x>=0&&f.x<=1&&f.y>=0&&f.y<=1/this.aspectRatio;o.console.assert(v,"[TileSource.getTileAtPoint] must be called with a valid point.");var y=this.dimensions.x*this.getLevelScale(d),w=f.x*y,x=f.y*y,E=Math.floor(w/this.getTileWidth(d)),R=Math.floor(x/this.getTileHeight(d));f.x>=1&&(E=this.getNumTiles(d).x-1);var O=1e-15;return f.y>=1/this.aspectRatio-O&&(R=this.getNumTiles(d).y-1),new o.Point(E,R)},getTileBounds:function(d,f,v,y){var w=this.dimensions.times(this.getLevelScale(d)),x=this.getTileWidth(d),E=this.getTileHeight(d),R=f===0?0:x*f-this.tileOverlap,O=v===0?0:E*v-this.tileOverlap,F=x+(f===0?1:2)*this.tileOverlap,G=E+(v===0?1:2)*this.tileOverlap,re=1/w.x;return F=Math.min(F,w.x-R),G=Math.min(G,w.y-O),y?new o.Rect(0,0,F,G):new o.Rect(R*re,O*re,F*re,G*re)},getImageInfo:function(d){var f=this,v,y,w,x,E,R,O;d&&(E=d.split("/"),R=E[E.length-1],O=R.lastIndexOf("."),O>-1&&(E[E.length-1]=R.slice(0,O))),y=function(F){typeof F=="string"&&(F=o.parseXml(F));var G=o.TileSource.determineType(f,F,d);if(!G){f.raiseEvent("open-failed",{message:"Unable to load TileSource",source:d});return}x=G.prototype.configure.apply(f,[F,d]),x.ajaxWithCredentials===void 0&&(x.ajaxWithCredentials=f.ajaxWithCredentials),w=new G(x),f.ready=!0,f.raiseEvent("ready",{tileSource:w})},d.match(/\.js$/)?(v=d.split("/").pop().replace(".js",""),o.jsonp({url:d,async:!1,callbackName:v,callback:y})):o.makeAjaxRequest({url:d,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(F){var G=l(F);y(G)},error:function(F,G){var re;try{re="HTTP "+F.status+" attempting to load TileSource"}catch{var J;typeof G>"u"||!G.toString?J="Unknown error":J=G.toString(),re=J+" attempting to load TileSource"}f.raiseEvent("open-failed",{message:re,source:d})}})},supports:function(d,f){return!1},configure:function(d,f){throw new Error("Method not implemented.")},getTileUrl:function(d,f,v){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(d,f,v){return{}},tileExists:function(d,f,v){var y=this.getNumTiles(d);return d>=this.minLevel&&d<=this.maxLevel&&f>=0&&v>=0&&f<y.x&&v<y.y}},o.extend(!0,o.TileSource.prototype,o.EventSource.prototype);function l(d){var f=d.responseText,v=d.status,y,w;if(d){if(d.status!==200&&d.status!==0)throw v=d.status,y=v===404?"Not Found":d.statusText,new Error(o.getString("Errors.Status",v,y))}else throw new Error(o.getString("Errors.Security"));if(f.match(/\s*<.*/))try{w=d.responseXML&&d.responseXML.documentElement?d.responseXML:o.parseXml(f)}catch{w=d.responseText}else if(f.match(/\s*[{[].*/))try{w=o.parseJSON(f)}catch{w=f}else w=f;return w}o.TileSource.determineType=function(d,f,v){var y;for(y in u)if(y.match(/.+TileSource$/)&&o.isFunction(u[y])&&o.isFunction(u[y].prototype.supports)&&u[y].prototype.supports.call(d,f,v))return u[y];return o.console.error("No TileSource was able to open %s %s",v,f),null}}(u),function(o){o.DziTileSource=function(f,v,y,w,x,E,R,O,F){var G,re,J,se;if(o.isPlainObject(f)?se=f:se={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=se.tilesUrl,this.fileFormat=se.fileFormat,this.displayRects=se.displayRects,this.displayRects)for(G=this.displayRects.length-1;G>=0;G--)for(re=this.displayRects[G],J=re.minLevel;J<=re.maxLevel;J++)this._levelRects[J]||(this._levelRects[J]=[]),this._levelRects[J].push(re);o.TileSource.apply(this,[se])},o.extend(o.DziTileSource.prototype,o.TileSource.prototype,{supports:function(f,v){var y;return f.Image?y=f.Image.xmlns:f.documentElement&&(f.documentElement.localName==="Image"||f.documentElement.tagName==="Image")&&(y=f.documentElement.namespaceURI),y=(y||"").toLowerCase(),y.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||y.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(f,v){var y;return o.isPlainObject(f)?y=d(this,f):y=l(this,f),v&&!y.tilesUrl&&(y.tilesUrl=v.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),v.search(/\.(dzi|xml|js)\?/)!==-1?y.queryParams=v.match(/\?.*/):y.queryParams=""),y},getTileUrl:function(f,v,y){return[this.tilesUrl,f,"/",v,"_",y,".",this.fileFormat,this.queryParams].join("")},tileExists:function(f,v,y){var w=this._levelRects[f],x,E,R,O,F,G,re;if(this.minLevel&&f<this.minLevel||this.maxLevel&&f>this.maxLevel)return!1;if(!w||!w.length)return!0;for(re=w.length-1;re>=0;re--)if(x=w[re],!(f<x.minLevel||f>x.maxLevel)&&(E=this.getLevelScale(f),R=x.x*E,O=x.y*E,F=R+x.width*E,G=O+x.height*E,R=Math.floor(R/this._tileWidth),O=Math.floor(O/this._tileWidth),F=Math.ceil(F/this._tileWidth),G=Math.ceil(G/this._tileWidth),R<=v&&v<F&&O<=y&&y<G))return!0;return!1}});function l(f,v){if(!v||!v.documentElement)throw new Error(o.getString("Errors.Xml"));var y=v.documentElement,w=y.localName||y.tagName,x=v.documentElement.namespaceURI,E=null,R=[],O,F,G,re,J;if(w==="Image")try{if(re=y.getElementsByTagName("Size")[0],re===void 0&&(re=y.getElementsByTagNameNS(x,"Size")[0]),E={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:y.getAttribute("Url"),Format:y.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(y.getAttribute("Overlap"),10),TileSize:parseInt(y.getAttribute("TileSize"),10),Size:{Height:parseInt(re.getAttribute("Height"),10),Width:parseInt(re.getAttribute("Width"),10)}}},!o.imageFormatSupported(E.Image.Format))throw new Error(o.getString("Errors.ImageFormat",E.Image.Format.toUpperCase()));for(O=y.getElementsByTagName("DisplayRect"),O===void 0&&(O=y.getElementsByTagNameNS(x,"DisplayRect")[0]),J=0;J<O.length;J++)F=O[J],G=F.getElementsByTagName("Rect")[0],G===void 0&&(G=F.getElementsByTagNameNS(x,"Rect")[0]),R.push({Rect:{X:parseInt(G.getAttribute("X"),10),Y:parseInt(G.getAttribute("Y"),10),Width:parseInt(G.getAttribute("Width"),10),Height:parseInt(G.getAttribute("Height"),10),MinLevel:parseInt(F.getAttribute("MinLevel"),10),MaxLevel:parseInt(F.getAttribute("MaxLevel"),10)}});return R.length&&(E.Image.DisplayRect=R),d(f,E)}catch(te){throw te instanceof Error?te:new Error(o.getString("Errors.Dzi"))}else{if(w==="Collection")throw new Error(o.getString("Errors.Dzc"));if(w==="Error"){var se=y.getElementsByTagName("Message")[0],D=se.firstChild.nodeValue;throw new Error(D)}}throw new Error(o.getString("Errors.Dzi"))}function d(f,v){var y=v.Image,w=y.Url,x=y.Format,E=y.Size,R=y.DisplayRect||[],O=parseInt(E.Width,10),F=parseInt(E.Height,10),G=parseInt(y.TileSize,10),re=parseInt(y.Overlap,10),J=[],se,D;for(D=0;D<R.length;D++)se=R[D].Rect,J.push(new o.DisplayRect(parseInt(se.X,10),parseInt(se.Y,10),parseInt(se.Width,10),parseInt(se.Height,10),parseInt(se.MinLevel,10),parseInt(se.MaxLevel,10)));return o.extend(!0,{width:O,height:F,tileSize:G,tileOverlap:re,minLevel:null,maxLevel:null,tilesUrl:w,fileFormat:x,displayRects:J},v)}}(u),function(o){o.IIIFTileSource=function(y){if(o.extend(!0,this,y),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(y.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=y.version,this.tile_width&&this.tile_height)y.tileWidth=this.tile_width,y.tileHeight=this.tile_height;else if(this.tile_width)y.tileSize=this.tile_width;else if(this.tile_height)y.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)y.tileWidth=this.tiles[0].width,y.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var w=0;w<this.tiles.length;w++)for(var x=0;x<this.tiles[w].scaleFactors.length;x++){var E=this.tiles[w].scaleFactors[x];this.scale_factors.push(E),y.tileSizePerScaleFactor[E]={width:this.tiles[w].width,height:this.tiles[w].height||this.tiles[w].width}}}else if(l(y)){for(var R=Math.min(this.height,this.width),O=[256,512,1024],F=[],G=0;G<O.length;G++)O[G]<=R&&F.push(O[G]);F.length>0?y.tileSize=Math.max.apply(null,F):y.tileSize=R}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,y.levels=d(this),o.extend(!0,y,{width:y.levels[y.levels.length-1].width,height:y.levels[y.levels.length-1].height,tileSize:Math.max(y.height,y.width),tileOverlap:0,minLevel:0,maxLevel:y.levels.length-1}),this.levels=y.levels):o.console.error("Nothing in the info.json to construct image pyramids from");if(!y.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)y.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var re=Math.max.apply(null,this.scale_factors);y.maxLevel=Math.round(Math.log(re)*Math.LOG2E)}o.TileSource.apply(this,[y])},o.extend(o.IIIFTileSource.prototype,o.TileSource.prototype,{supports:function(y,w){return y.protocol&&y.protocol==="http://iiif.io/api/image"||y["@context"]&&(y["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||y["@context"]==="http://iiif.io/api/image/1/context.json")||y.profile&&y.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||y.identifier&&y.width&&y.height?!0:!!(y.documentElement&&y.documentElement.tagName==="info"&&y.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(y,w){if(o.isPlainObject(y)){if(!y["@context"])y["@context"]="http://iiif.io/api/image/1.0/context.json",y["@id"]=w.replace("/info.json",""),y.version=1;else{var x=y["@context"];if(Array.isArray(x)){for(var E=0;E<x.length;E++)if(typeof x[E]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(x[E])||x[E]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){x=x[E];break}}switch(x){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":y.version=1;break;case"http://iiif.io/api/image/2/context.json":y.version=2;break;case"http://iiif.io/api/image/3/context.json":y.version=3;break;default:o.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!y["@id"]&&y.id&&(y["@id"]=y.id),y.preferredFormats){for(var R=0;R<y.preferredFormats.length;R++)if(u.imageFormatSupported(y.preferredFormats[R])){y.tileFormat=y.preferredFormats[R];break}}return y}else{var O=f(y);return O["@context"]="http://iiif.io/api/image/1.0/context.json",O["@id"]=w.replace("/info.xml",""),O.version=1,O}},getTileWidth:function(y){if(this.emulateLegacyImagePyramid)return o.TileSource.prototype.getTileWidth.call(this,y);var w=Math.pow(2,this.maxLevel-y);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[w]?this.tileSizePerScaleFactor[w].width:this._tileWidth},getTileHeight:function(y){if(this.emulateLegacyImagePyramid)return o.TileSource.prototype.getTileHeight.call(this,y);var w=Math.pow(2,this.maxLevel-y);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[w]?this.tileSizePerScaleFactor[w].height:this._tileHeight},getLevelScale:function(y){if(this.emulateLegacyImagePyramid){var w=NaN;return this.levels.length>0&&y>=this.minLevel&&y<=this.maxLevel&&(w=this.levels[y].width/this.levels[this.maxLevel].width),w}return o.TileSource.prototype.getLevelScale.call(this,y)},getNumTiles:function(y){if(this.emulateLegacyImagePyramid){var w=this.getLevelScale(y);return w?new o.Point(1,1):new o.Point(0,0)}return o.TileSource.prototype.getNumTiles.call(this,y)},getTileAtPoint:function(y,w){return this.emulateLegacyImagePyramid?new o.Point(0,0):o.TileSource.prototype.getTileAtPoint.call(this,y,w)},getTileUrl:function(y,w,x){if(this.emulateLegacyImagePyramid){var E=null;return this.levels.length>0&&y>=this.minLevel&&y<=this.maxLevel&&(E=this.levels[y].url),E}var R="0",O=Math.pow(.5,this.maxLevel-y),F=Math.ceil(this.width*O),G=Math.ceil(this.height*O),re,J,se,D,te,ce,ue,ye,xe,Fe,ze,tt,st,nt;return re=this.getTileWidth(y),J=this.getTileHeight(y),se=Math.ceil(re/O),D=Math.ceil(J/O),this.version===1?st="native."+this.tileFormat:st="default."+this.tileFormat,F<re&&G<J?(this.version===2&&F===this.width?Fe="full":this.version===3&&F===this.width&&G===this.height?Fe="max":this.version===3?Fe=F+","+G:Fe=F+",",te="full"):(ce=w*se,ue=x*D,ye=Math.min(se,this.width-ce),xe=Math.min(D,this.height-ue),w===0&&x===0&&ye===this.width&&xe===this.height?te="full":te=[ce,ue,ye,xe].join(","),ze=Math.ceil(ye*O),tt=Math.ceil(xe*O),this.version===2&&ze===this.width?Fe="full":this.version===3&&ze===this.width&&tt===this.height?Fe="max":this.version===3?Fe=ze+","+tt:Fe=ze+","),nt=[this["@id"],te,Fe,R,st].join("/"),nt},__testonly__:{canBeTiled:l,constructLevels:d}});function l(y){var w=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],x=Array.isArray(y.profile)?y.profile[0]:y.profile,E=w.indexOf(x)!==-1,R=!1;return y.version===2&&y.profile.length>1&&y.profile[1].supports&&(R=y.profile[1].supports.indexOf("sizeByW")!==-1),y.version===3&&y.extraFeatures&&(R=y.extraFeatures.indexOf("sizeByWh")!==-1),!E||R}function d(y){for(var w=[],x=0;x<y.sizes.length;x++)w.push({url:y["@id"]+"/full/"+y.sizes[x].width+","+(y.version===3?y.sizes[x].height:"")+"/0/default."+y.tileFormat,width:y.sizes[x].width,height:y.sizes[x].height});return w.sort(function(E,R){return E.width-R.width})}function f(y){if(!y||!y.documentElement)throw new Error(o.getString("Errors.Xml"));var w=y.documentElement,x=w.tagName,E=null;if(x==="info")try{return E={},v(w,E),E}catch(R){throw R instanceof Error?R:new Error(o.getString("Errors.IIIF"))}throw new Error(o.getString("Errors.IIIF"))}function v(y,w,x){var E,R;if(y.nodeType===3&&x)R=y.nodeValue.trim(),R.match(/^\d*$/)&&(R=Number(R)),w[x]?(o.isArray(w[x])||(w[x]=[w[x]]),w[x].push(R)):w[x]=R;else if(y.nodeType===1)for(E=0;E<y.childNodes.length;E++)v(y.childNodes[E],w,y.nodeName)}}(u),function(o){o.OsmTileSource=function(l,d,f,v,y){var w;o.isPlainObject(l)?w=l:w={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!w.width||!w.height)&&(w.width=65572864,w.height=65572864),w.tileSize||(w.tileSize=256,w.tileOverlap=0),w.tilesUrl||(w.tilesUrl="http://tile.openstreetmap.org/"),w.minLevel=8,o.TileSource.apply(this,[w])},o.extend(o.OsmTileSource.prototype,o.TileSource.prototype,{supports:function(l,d){return l.type&&l.type==="openstreetmaps"},configure:function(l,d){return l},getTileUrl:function(l,d,f){return this.tilesUrl+(l-8)+"/"+d+"/"+f+".png"}})}(u),function(o){o.TmsTileSource=function(l,d,f,v,y){var w;o.isPlainObject(l)?w=l:w={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var x=Math.ceil(w.width/256)*256,E=Math.ceil(w.height/256)*256,R;x>E?R=x/256:R=E/256,w.maxLevel=Math.ceil(Math.log(R)/Math.log(2))-1,w.tileSize=256,w.width=x,w.height=E,o.TileSource.apply(this,[w])},o.extend(o.TmsTileSource.prototype,o.TileSource.prototype,{supports:function(l,d){return l.type&&l.type==="tiledmapservice"},configure:function(l,d){return l},getTileUrl:function(l,d,f){var v=this.getNumTiles(l).y-1;return this.tilesUrl+l+"/"+d+"/"+(v-f)+".png"}})}(u),function(o){o.ZoomifyTileSource=function(l){typeof l.tileSize>"u"&&(l.tileSize=256),typeof l.fileFormat>"u"&&(l.fileFormat="jpg",this.fileFormat=l.fileFormat);var d={x:l.width,y:l.height};for(l.imageSizes=[{x:l.width,y:l.height}],l.gridSize=[this._getGridSize(l.width,l.height,l.tileSize)];parseInt(d.x,10)>l.tileSize||parseInt(d.y,10)>l.tileSize;)d.x=Math.floor(d.x/2),d.y=Math.floor(d.y/2),l.imageSizes.push({x:d.x,y:d.y}),l.gridSize.push(this._getGridSize(d.x,d.y,l.tileSize));l.imageSizes.reverse(),l.gridSize.reverse(),l.minLevel=0,l.maxLevel=l.gridSize.length-1,u.TileSource.apply(this,[l])},o.extend(o.ZoomifyTileSource.prototype,o.TileSource.prototype,{_getGridSize:function(l,d,f){return{x:Math.ceil(l/f),y:Math.ceil(d/f)}},_calculateAbsoluteTileNumber:function(l,d,f){for(var v=0,y={},w=0;w<l;w++)y=this.gridSize[w],v+=y.x*y.y;return y=this.gridSize[l],v+=y.x*f+d,v},supports:function(l,d){return l.type&&l.type==="zoomifytileservice"},configure:function(l,d){return l},getTileUrl:function(l,d,f){var v=0,y=this._calculateAbsoluteTileNumber(l,d,f);return v=Math.floor(y/256),this.tilesUrl+"TileGroup"+v+"/"+l+"-"+d+"-"+f+"."+this.fileFormat}})}(u),function(o){o.LegacyTileSource=function(v){var y,w,x;o.isArray(v)&&(y={type:"legacy-image-pyramid",levels:v}),y.levels=l(y.levels),y.levels.length>0?(w=y.levels[y.levels.length-1].width,x=y.levels[y.levels.length-1].height):(w=0,x=0,o.console.error("No supported image formats found")),o.extend(!0,y,{width:w,height:x,tileSize:Math.max(x,w),tileOverlap:0,minLevel:0,maxLevel:y.levels.length>0?y.levels.length-1:0}),o.TileSource.apply(this,[y]),this.levels=y.levels},o.extend(o.LegacyTileSource.prototype,o.TileSource.prototype,{supports:function(v,y){return v.type&&v.type==="legacy-image-pyramid"||v.documentElement&&v.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(v,y){var w;return o.isPlainObject(v)?w=f(this,v):w=d(this,v),w},getLevelScale:function(v){var y=NaN;return this.levels.length>0&&v>=this.minLevel&&v<=this.maxLevel&&(y=this.levels[v].width/this.levels[this.maxLevel].width),y},getNumTiles:function(v){var y=this.getLevelScale(v);return y?new o.Point(1,1):new o.Point(0,0)},getTileUrl:function(v,y,w){var x=null;return this.levels.length>0&&v>=this.minLevel&&v<=this.maxLevel&&(x=this.levels[v].url),x}});function l(v){var y=[],w,x;for(x=0;x<v.length;x++)w=v[x],w.height&&w.width&&w.url?y.push({url:w.url,width:Number(w.width),height:Number(w.height)}):o.console.error("Unsupported image format: %s",w.url?w.url:"<no URL>");return y.sort(function(E,R){return E.height-R.height})}function d(v,y){if(!y||!y.documentElement)throw new Error(o.getString("Errors.Xml"));var w=y.documentElement,x=w.tagName,E=null,R=[],O,F;if(x==="image")try{for(E={type:w.getAttribute("type"),levels:[]},R=w.getElementsByTagName("level"),F=0;F<R.length;F++)O=R[F],E.levels.push({url:O.getAttribute("url"),width:parseInt(O.getAttribute("width"),10),height:parseInt(O.getAttribute("height"),10)});return f(v,E)}catch(G){throw G instanceof Error?G:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(x==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(x==="error")throw new Error("Error: "+y)}throw new Error("Unknown element "+x)}function f(v,y){return y.levels}}(u),function(o){o.ImageTileSource=function(l){l=o.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},l),o.TileSource.apply(this,[l])},o.extend(o.ImageTileSource.prototype,o.TileSource.prototype,{supports:function(l,d){return l.type&&l.type==="image"},configure:function(l,d){return l},getImageInfo:function(l){var d=this._image=new Image,f=this;this.crossOriginPolicy&&(d.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(d.useCredentials=this.ajaxWithCredentials),o.addEvent(d,"load",function(){f.width=d.naturalWidth,f.height=d.naturalHeight,f.aspectRatio=f.width/f.height,f.dimensions=new o.Point(f.width,f.height),f._tileWidth=f.width,f._tileHeight=f.height,f.tileOverlap=0,f.minLevel=0,f.levels=f._buildLevels(),f.maxLevel=f.levels.length-1,f.ready=!0,f.raiseEvent("ready",{tileSource:f})}),o.addEvent(d,"error",function(){f.raiseEvent("open-failed",{message:"Error loading image at "+l,source:l})}),d.src=l},getLevelScale:function(l){var d=NaN;return l>=this.minLevel&&l<=this.maxLevel&&(d=this.levels[l].width/this.levels[this.maxLevel].width),d},getNumTiles:function(l){var d=this.getLevelScale(l);return d?new o.Point(1,1):new o.Point(0,0)},getTileUrl:function(l,d,f){var v=null;return l>=this.minLevel&&l<=this.maxLevel&&(v=this.levels[l].url),v},getContext2D:function(l,d,f){var v=null;return l>=this.minLevel&&l<=this.maxLevel&&(v=this.levels[l].context2D),v},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var l=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!o.supportsCanvas||!this.useCanvas)return delete this._image,l;var d=this._image.naturalWidth,f=this._image.naturalHeight,v=document.createElement("canvas"),y=v.getContext("2d");if(v.width=d,v.height=f,y.drawImage(this._image,0,0,d,f),l[0].context2D=y,delete this._image,o.isCanvasTainted(v))return l;for(;d>=2&&f>=2;){d=Math.floor(d/2),f=Math.floor(f/2);var w=document.createElement("canvas"),x=w.getContext("2d");w.width=d,w.height=f,x.drawImage(v,0,0,d,f),l.splice(0,0,{context2D:x,width:d,height:f}),v=w,y=x}return l},_freeupCanvasMemory:function(){for(var l=0;l<this.levels.length;l++)this.levels[l].context2D.canvas.height=0,this.levels[l].context2D.canvas.width=0}})}(u),function(o){o.TileSourceCollection=function(l,d,f,v){o.console.error("TileSourceCollection is deprecated; use World instead")}}(u),function(o){o.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},o.Button=function(x){var E=this;o.EventSource.call(this),o.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:o.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},x),this.element=x.element||o.makeNeutralElement("div"),x.element||(this.imgRest=o.makeTransparentImage(this.srcRest),this.imgGroup=o.makeTransparentImage(this.srcGroup),this.imgHover=o.makeTransparentImage(this.srcHover),this.imgDown=o.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,o.setElementPointerEventsNone(this.imgRest),o.setElementPointerEventsNone(this.imgGroup),o.setElementPointerEventsNone(this.imgHover),o.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",o.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",o.Browser.vendor===o.BROWSERS.FIREFOX&&o.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=o.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new o.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(R){R.insideElementPressed?(y(E,o.ButtonState.DOWN),E.raiseEvent("enter",{originalEvent:R.originalEvent})):R.buttonDownAny||y(E,o.ButtonState.HOVER)},focusHandler:function(R){E.tracker.enterHandler(R),E.raiseEvent("focus",{originalEvent:R.originalEvent})},leaveHandler:function(R){w(E,o.ButtonState.GROUP),R.insideElementPressed&&E.raiseEvent("exit",{originalEvent:R.originalEvent})},blurHandler:function(R){E.tracker.leaveHandler(R),E.raiseEvent("blur",{originalEvent:R.originalEvent})},pressHandler:function(R){y(E,o.ButtonState.DOWN),E.raiseEvent("press",{originalEvent:R.originalEvent})},releaseHandler:function(R){R.insideElementPressed&&R.insideElementReleased?(w(E,o.ButtonState.HOVER),E.raiseEvent("release",{originalEvent:R.originalEvent})):R.insideElementPressed?w(E,o.ButtonState.GROUP):y(E,o.ButtonState.HOVER)},clickHandler:function(R){R.quick&&E.raiseEvent("click",{originalEvent:R.originalEvent})},keyHandler:function(R){R.keyCode===13?(E.raiseEvent("click",{originalEvent:R.originalEvent}),E.raiseEvent("release",{originalEvent:R.originalEvent}),R.preventDefault=!0):R.preventDefault=!1}}),w(this,o.ButtonState.REST)},o.extend(o.Button.prototype,o.EventSource.prototype,{notifyGroupEnter:function(){y(this,o.ButtonState.GROUP)},notifyGroupExit:function(){w(this,o.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,o.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,o.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function l(x){o.requestAnimationFrame(function(){d(x)})}function d(x){var E,R,O;x.shouldFade&&(E=o.now(),R=E-x.fadeBeginTime,O=1-R/x.fadeLength,O=Math.min(1,O),O=Math.max(0,O),x.imgGroup&&o.setElementOpacity(x.imgGroup,O,!0),O>0&&l(x))}function f(x){x.shouldFade=!0,x.fadeBeginTime=o.now()+x.fadeDelay,window.setTimeout(function(){l(x)},x.fadeDelay)}function v(x){x.shouldFade=!1,x.imgGroup&&o.setElementOpacity(x.imgGroup,1,!0)}function y(x,E){x.element.disabled||(E>=o.ButtonState.GROUP&&x.currentState===o.ButtonState.REST&&(v(x),x.currentState=o.ButtonState.GROUP),E>=o.ButtonState.HOVER&&x.currentState===o.ButtonState.GROUP&&(x.imgHover&&(x.imgHover.style.visibility=""),x.currentState=o.ButtonState.HOVER),E>=o.ButtonState.DOWN&&x.currentState===o.ButtonState.HOVER&&(x.imgDown&&(x.imgDown.style.visibility=""),x.currentState=o.ButtonState.DOWN))}function w(x,E){x.element.disabled||(E<=o.ButtonState.HOVER&&x.currentState===o.ButtonState.DOWN&&(x.imgDown&&(x.imgDown.style.visibility="hidden"),x.currentState=o.ButtonState.HOVER),E<=o.ButtonState.GROUP&&x.currentState===o.ButtonState.HOVER&&(x.imgHover&&(x.imgHover.style.visibility="hidden"),x.currentState=o.ButtonState.GROUP),E<=o.ButtonState.REST&&x.currentState===o.ButtonState.GROUP&&(f(x),x.currentState=o.ButtonState.REST))}}(u),function(o){o.ButtonGroup=function(l){o.extend(!0,this,{buttons:[],clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:o.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},l);var d=this.buttons.concat([]),f=this,v;if(this.element=l.element||o.makeNeutralElement("div"),!l.group)for(this.element.style.display="inline-block",v=0;v<d.length;v++)this.element.appendChild(d[v].element);o.setElementTouchActionNone(this.element),this.tracker=new o.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(y){var w;for(w=0;w<f.buttons.length;w++)f.buttons[w].notifyGroupEnter()},leaveHandler:function(y){var w;if(!y.insideElementPressed)for(w=0;w<f.buttons.length;w++)f.buttons[w].notifyGroupExit()}})},o.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var l=this.buttons.pop();this.element.removeChild(l.element),l.destroy()}this.tracker.destroy(),this.element=null}}}(u),function(o){o.Rect=function(l,d,f,v,y){this.x=typeof l=="number"?l:0,this.y=typeof d=="number"?d:0,this.width=typeof f=="number"?f:0,this.height=typeof v=="number"?v:0,this.degrees=typeof y=="number"?y:0,this.degrees=o.positiveModulo(this.degrees,360);var w,x;this.degrees>=270?(w=this.getTopRight(),this.x=w.x,this.y=w.y,x=this.height,this.height=this.width,this.width=x,this.degrees-=270):this.degrees>=180?(w=this.getBottomRight(),this.x=w.x,this.y=w.y,this.degrees-=180):this.degrees>=90&&(w=this.getBottomLeft(),this.x=w.x,this.y=w.y,x=this.height,this.height=this.width,this.width=x,this.degrees-=90)},o.Rect.fromSummits=function(l,d,f){var v=l.distanceTo(d),y=l.distanceTo(f),w=d.minus(l),x=Math.atan(w.y/w.x);return w.x<0?x+=Math.PI:w.y<0&&(x+=2*Math.PI),new o.Rect(l.x,l.y,v,y,x/Math.PI*180)},o.Rect.prototype={clone:function(){return new o.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new o.Point(this.x,this.y)},getBottomRight:function(){return new o.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new o.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new o.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new o.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new o.Point(this.width,this.height)},equals:function(l){return l instanceof o.Rect&&this.x===l.x&&this.y===l.y&&this.width===l.width&&this.height===l.height&&this.degrees===l.degrees},times:function(l){return new o.Rect(this.x*l,this.y*l,this.width*l,this.height*l,this.degrees)},translate:function(l){return new o.Rect(this.x+l.x,this.y+l.y,this.width,this.height,this.degrees)},union:function(l){var d=this.getBoundingBox(),f=l.getBoundingBox(),v=Math.min(d.x,f.x),y=Math.min(d.y,f.y),w=Math.max(d.x+d.width,f.x+f.width),x=Math.max(d.y+d.height,f.y+f.height);return new o.Rect(v,y,w-v,x-y)},intersection:function(l){var d=1e-10,f=[],v=this.getTopLeft();l.containsPoint(v,d)&&f.push(v);var y=this.getTopRight();l.containsPoint(y,d)&&f.push(y);var w=this.getBottomLeft();l.containsPoint(w,d)&&f.push(w);var x=this.getBottomRight();l.containsPoint(x,d)&&f.push(x);var E=l.getTopLeft();this.containsPoint(E,d)&&f.push(E);var R=l.getTopRight();this.containsPoint(R,d)&&f.push(R);var O=l.getBottomLeft();this.containsPoint(O,d)&&f.push(O);var F=l.getBottomRight();this.containsPoint(F,d)&&f.push(F);for(var G=this._getSegments(),re=l._getSegments(),J=0;J<G.length;J++)for(var se=G[J],D=0;D<re.length;D++){var te=re[D],ce=ue(se[0],se[1],te[0],te[1]);ce&&f.push(ce)}function ue(nt,mt,ft,At){var Rt=mt.minus(nt),Mt=At.minus(ft),$t=-Mt.x*Rt.y+Rt.x*Mt.y;if($t===0)return null;var on=(Rt.x*(nt.y-ft.y)-Rt.y*(nt.x-ft.x))/$t,rt=(Mt.x*(nt.y-ft.y)-Mt.y*(nt.x-ft.x))/$t;return-d<=on&&on<=1-d&&-d<=rt&&rt<=1-d?new o.Point(nt.x+rt*Rt.x,nt.y+rt*Rt.y):null}if(f.length===0)return null;for(var ye=f[0].x,xe=f[0].x,Fe=f[0].y,ze=f[0].y,tt=1;tt<f.length;tt++){var st=f[tt];st.x<ye&&(ye=st.x),st.x>xe&&(xe=st.x),st.y<Fe&&(Fe=st.y),st.y>ze&&(ze=st.y)}return new o.Rect(ye,Fe,xe-ye,ze-Fe)},_getSegments:function(){var l=this.getTopLeft(),d=this.getTopRight(),f=this.getBottomLeft(),v=this.getBottomRight();return[[l,d],[d,v],[v,f],[f,l]]},rotate:function(l,d){if(l=o.positiveModulo(l,360),l===0)return this.clone();d=d||this.getCenter();var f=this.getTopLeft().rotate(l,d),v=this.getTopRight().rotate(l,d),y=v.minus(f);y=y.apply(function(x){var E=1e-15;return Math.abs(x)<E?0:x});var w=Math.atan(y.y/y.x);return y.x<0?w+=Math.PI:y.y<0&&(w+=2*Math.PI),new o.Rect(f.x,f.y,this.width,this.height,w/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var l=this.getTopLeft(),d=this.getTopRight(),f=this.getBottomLeft(),v=this.getBottomRight(),y=Math.min(l.x,d.x,f.x,v.x),w=Math.max(l.x,d.x,f.x,v.x),x=Math.min(l.y,d.y,f.y,v.y),E=Math.max(l.y,d.y,f.y,v.y);return new o.Rect(y,x,w-y,E-x)},getIntegerBoundingBox:function(){var l=this.getBoundingBox(),d=Math.floor(l.x),f=Math.floor(l.y),v=Math.ceil(l.width+l.x-d),y=Math.ceil(l.height+l.y-f);return new o.Rect(d,f,v,y)},containsPoint:function(l,d){d=d||0;var f=this.getTopLeft(),v=this.getTopRight(),y=this.getBottomLeft(),w=v.minus(f),x=y.minus(f);return(l.x-f.x)*w.x+(l.y-f.y)*w.y>=-d&&(l.x-v.x)*w.x+(l.y-v.y)*w.y<=d&&(l.x-f.x)*x.x+(l.y-f.y)*x.y>=-d&&(l.x-y.x)*x.x+(l.y-y.y)*x.y<=d},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(u),function(o){var l={};o.ReferenceStrip=function(O){var F=this,G=O.viewer,re=o.getElementSize(G.element),J,se,D;for(O.id||(O.id="referencestrip-"+o.now(),this.element=o.makeNeutralElement("div"),this.element.id=O.id,this.element.className="referencestrip"),O=o.extend(!0,{sizeRatio:o.DEFAULT_SETTINGS.referenceStripSizeRatio,position:o.DEFAULT_SETTINGS.referenceStripPosition,scroll:o.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold},O,{element:this.element}),o.extend(this,O),l[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,se=this.element.style,se.marginTop="0px",se.marginRight="0px",se.marginBottom="0px",se.marginLeft="0px",se.left="0px",se.bottom="0px",se.border="0px",se.background="#000",se.position="relative",o.setElementTouchActionNone(this.element),o.setElementOpacity(this.element,.8),this.viewer=G,this.tracker=new o.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:o.delegate(this,d),dragHandler:o.delegate(this,f),scrollHandler:o.delegate(this,v),enterHandler:o.delegate(this,w),leaveHandler:o.delegate(this,x),keyDownHandler:o.delegate(this,E),keyHandler:o.delegate(this,R),preProcessEventHandler:function(te){te.eventType==="wheel"&&(te.preventDefault=!0)}}),O.width&&O.height?(this.element.style.width=O.width+"px",this.element.style.height=O.height+"px",G.addControl(this.element,{anchor:o.ControlAnchor.BOTTOM_LEFT})):O.scroll==="horizontal"?(this.element.style.width=re.x*O.sizeRatio*G.tileSources.length+12*G.tileSources.length+"px",this.element.style.height=re.y*O.sizeRatio+"px",G.addControl(this.element,{anchor:o.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=re.y*O.sizeRatio*G.tileSources.length+12*G.tileSources.length+"px",this.element.style.width=re.x*O.sizeRatio+"px",G.addControl(this.element,{anchor:o.ControlAnchor.TOP_LEFT})),this.panelWidth=re.x*this.sizeRatio+8,this.panelHeight=re.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},D=0;D<G.tileSources.length;D++)J=o.makeNeutralElement("div"),J.id=this.element.id+"-"+D,J.style.width=F.panelWidth+"px",J.style.height=F.panelHeight+"px",J.style.display="inline",J.style.float="left",J.style.cssFloat="left",J.style.styleFloat="left",J.style.padding="2px",o.setElementTouchActionNone(J),o.setElementPointerEventsNone(J),this.element.appendChild(J),J.activePanel=!1,this.panels.push(J);y(this,this.scroll==="vertical"?re.y:re.x,0),this.setFocus(0)},o.ReferenceStrip.prototype={setFocus:function(O){var F=this.element.querySelector("#"+this.element.id+"-"+O),G=o.getElementSize(this.viewer.canvas),re=Number(this.element.style.width.replace("px","")),J=Number(this.element.style.height.replace("px","")),se=-Number(this.element.style.marginLeft.replace("px","")),D=-Number(this.element.style.marginTop.replace("px","")),te;this.currentSelected!==F&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=F,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(te=Number(O)*(this.panelWidth+3),te>se+G.x-this.panelWidth?(te=Math.min(te,re-G.x),this.element.style.marginLeft=-te+"px",y(this,G.x,-te)):te<se&&(te=Math.max(0,te-G.x/2),this.element.style.marginLeft=-te+"px",y(this,G.x,-te))):(te=Number(O)*(this.panelHeight+3),te>D+G.y-this.panelHeight?(te=Math.min(te,J-G.y),this.element.style.marginTop=-te+"px",y(this,G.y,-te)):te<D&&(te=Math.max(0,te-G.y/2),this.element.style.marginTop=-te+"px",y(this,G.y,-te))),this.currentPage=O,w.call(this,{eventSource:this.tracker}))},update:function(){return l[this.id].animating?(o.console.log("image reference strip update"),!0):!1},destroy:function(){if(this.miniViewers)for(var O in this.miniViewers)this.miniViewers[O].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function d(O){if(O.quick){var F;this.scroll==="horizontal"?F=Math.floor(O.position.x/this.panelWidth):F=Math.floor(O.position.y/this.panelHeight),this.viewer.goToPage(F)}this.element.focus()}function f(O){if(this.dragging=!0,this.element){var F=Number(this.element.style.marginLeft.replace("px","")),G=Number(this.element.style.marginTop.replace("px","")),re=Number(this.element.style.width.replace("px","")),J=Number(this.element.style.height.replace("px","")),se=o.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-O.delta.x>0?F>-(re-se.x)&&(this.element.style.marginLeft=F+O.delta.x*2+"px",y(this,se.x,F+O.delta.x*2)):-O.delta.x<0&&F<0&&(this.element.style.marginLeft=F+O.delta.x*2+"px",y(this,se.x,F+O.delta.x*2)):-O.delta.y>0?G>-(J-se.y)&&(this.element.style.marginTop=G+O.delta.y*2+"px",y(this,se.y,G+O.delta.y*2)):-O.delta.y<0&&G<0&&(this.element.style.marginTop=G+O.delta.y*2+"px",y(this,se.y,G+O.delta.y*2))}}function v(O){if(this.element){var F=Number(this.element.style.marginLeft.replace("px","")),G=Number(this.element.style.marginTop.replace("px","")),re=Number(this.element.style.width.replace("px","")),J=Number(this.element.style.height.replace("px","")),se=o.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?O.scroll>0?F>-(re-se.x)&&(this.element.style.marginLeft=F-O.scroll*60+"px",y(this,se.x,F-O.scroll*60)):O.scroll<0&&F<0&&(this.element.style.marginLeft=F-O.scroll*60+"px",y(this,se.x,F-O.scroll*60)):O.scroll<0?G>se.y-J&&(this.element.style.marginTop=G+O.scroll*60+"px",y(this,se.y,G+O.scroll*60)):O.scroll>0&&G<0&&(this.element.style.marginTop=G+O.scroll*60+"px",y(this,se.y,G+O.scroll*60)),O.preventDefault=!0}}function y(O,F,G){var re,J,se,D,te,ce;for(O.scroll==="horizontal"?re=O.panelWidth:re=O.panelHeight,J=Math.ceil(F/re)+5,se=Math.ceil((Math.abs(G)+F)/re)+1,J=se-J,J=J<0?0:J,te=J;te<se&&te<O.panels.length;te++)if(ce=O.panels[te],!ce.activePanel){var ue,ye=O.viewer.tileSources[te];ye.referenceStripThumbnailUrl?ue={type:"image",url:ye.referenceStripThumbnailUrl}:ue=ye,D=new o.Viewer({id:ce.id,tileSources:[ue],element:ce,navigatorSizeRatio:O.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:O.viewer.loadTilesWithAjax,ajaxHeaders:O.viewer.ajaxHeaders,useCanvas:O.useCanvas}),o.setElementPointerEventsNone(D.canvas),o.setElementPointerEventsNone(D.container),D.innerTracker.setTracking(!1),D.outerTracker.setTracking(!1),O.miniViewers[ce.id]=D,ce.activePanel=!0}}function w(O){var F=O.eventSource.element;this.scroll==="horizontal"?F.style.marginBottom="0px":F.style.marginLeft="0px"}function x(O){var F=O.eventSource.element;this.scroll==="horizontal"?F.style.marginBottom="-"+o.getElementSize(F).y/2+"px":F.style.marginLeft="-"+o.getElementSize(F).x/2+"px"}function E(O){if(!O.ctrl&&!O.alt&&!O.meta)switch(O.keyCode){case 38:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),O.preventDefault=!0;break;case 40:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),O.preventDefault=!0;break;case 37:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),O.preventDefault=!0;break;case 39:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),O.preventDefault=!0;break;default:O.preventDefault=!1;break}else O.preventDefault=!1}function R(O){if(!O.ctrl&&!O.alt&&!O.meta)switch(O.keyCode){case 61:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),O.preventDefault=!0;break;case 45:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),O.preventDefault=!0;break;case 48:case 119:case 87:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),O.preventDefault=!0;break;case 115:case 83:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),O.preventDefault=!0;break;case 97:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),O.preventDefault=!0;break;case 100:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),O.preventDefault=!0;break;default:O.preventDefault=!1;break}else O.preventDefault=!1}}(u),function(o){o.DisplayRect=function(l,d,f,v,y,w){o.Rect.apply(this,[l,d,f,v]),this.minLevel=y,this.maxLevel=w},o.extend(o.DisplayRect.prototype,o.Rect.prototype)}(u),function(o){o.Spring=function(d){var f=arguments;typeof d!="object"&&(d={initial:f.length&&typeof f[0]=="number"?f[0]:void 0,springStiffness:f.length>1?f[1].springStiffness:5,animationTime:f.length>1?f[1].animationTime:1.5}),o.console.assert(typeof d.springStiffness=="number"&&d.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),o.console.assert(typeof d.animationTime=="number"&&d.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),d.exponential&&(this._exponential=!0,delete d.exponential),o.extend(!0,this,d),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:o.now()},o.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},o.Spring.prototype={resetTo:function(d){o.console.assert(!this._exponential||d!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=d,this.start.time=this.target.time=this.current.time=o.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(d){o.console.assert(!this._exponential||d!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=d,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(d){this.start.value+=d,this.target.value+=d,this._exponential&&(o.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(d){this._exponential=d,this._exponential&&(o.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=o.now();var d,f;this._exponential?(d=this.start._logValue,f=this.target._logValue):(d=this.start.value,f=this.target.value);var v=this.current.time>=this.target.time?f:d+(f-d)*l(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),y=this.current.value;return this._exponential?this.current.value=Math.exp(v):this.current.value=v,y!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function l(d,f){return(1-Math.exp(d*-f))/(1-Math.exp(-d))}}(u),function(o){function l(f){o.extend(!0,this,{timeout:o.DEFAULT_SETTINGS.timeout,jobId:null},f),this.image=null}l.prototype={errorMsg:null,start:function(){var f=this,v=this.abort;this.image=new Image,this.image.onload=function(){f.finish(!0)},this.image.onabort=this.image.onerror=function(){f.errorMsg="Image load aborted",f.finish(!1)},this.jobId=window.setTimeout(function(){f.errorMsg="Image load exceeded timeout ("+f.timeout+" ms)",f.finish(!1)},this.timeout),this.loadWithAjax?(this.request=o.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(y){var w;try{w=new window.Blob([y.response])}catch(O){var x=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(O.name==="TypeError"&&x){var E=new x;E.append(y.response),w=E.getBlob()}}w.size===0&&(f.errorMsg="Empty image response.",f.finish(!1));var R=(window.URL||window.webkitURL).createObjectURL(w);f.image.src=R},error:function(y){f.errorMsg="Image load aborted - XHR error",f.finish(!1)}}),this.abort=function(){f.request.abort(),typeof v=="function"&&v()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(f){this.image.onload=this.image.onerror=this.image.onabort=null,f||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},o.ImageLoader=function(f){o.extend(!0,this,{jobLimit:o.DEFAULT_SETTINGS.imageLoaderLimit,timeout:o.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},f)},o.ImageLoader.prototype={addJob:function(f){var v=this,y=function(E){d(v,E,f.callback)},w={src:f.src,loadWithAjax:f.loadWithAjax,ajaxHeaders:f.loadWithAjax?f.ajaxHeaders:null,crossOriginPolicy:f.crossOriginPolicy,ajaxWithCredentials:f.ajaxWithCredentials,callback:y,abort:f.abort,timeout:this.timeout},x=new l(w);!this.jobLimit||this.jobsInProgress<this.jobLimit?(x.start(),this.jobsInProgress++):this.jobQueue.push(x)},clear:function(){for(var f=0;f<this.jobQueue.length;f++){var v=this.jobQueue[f];typeof v.abort=="function"&&v.abort()}this.jobQueue=[]}};function d(f,v,y){var w;f.jobsInProgress--,(!f.jobLimit||f.jobsInProgress<f.jobLimit)&&f.jobQueue.length>0&&(w=f.jobQueue.shift(),w.start(),f.jobsInProgress++),y(v.image,v.errorMsg,v.request)}}(u),function(o){o.Tile=function(l,d,f,v,y,w,x,E,R,O){this.level=l,this.x=d,this.y=f,this.bounds=v,this.sourceBounds=O,this.exists=y,this.url=w,this.context2D=x,this.loadWithAjax=E,this.ajaxHeaders=R,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},o.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(l){if(!this.cacheImageRecord){o.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){o.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=o.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==l&&l.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),o.setElementOpacity(this.element,this.opacity)},drawCanvas:function(l,d,f,v){var y=this.position.times(o.pixelDensityRatio),w=this.size.times(o.pixelDensityRatio),x;if(!this.context2D&&!this.cacheImageRecord){o.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(x=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!x){o.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}l.save(),l.globalAlpha=this.opacity,typeof f=="number"&&f!==1&&(y=y.times(f),w=w.times(f)),v instanceof o.Point&&(y=y.plus(v)),l.globalAlpha===1&&this._hasTransparencyChannel()&&l.clearRect(y.x,y.y,w.x,w.y),d({context:l,tile:this,rendered:x});var E,R;this.sourceBounds?(E=Math.min(this.sourceBounds.width,x.canvas.width),R=Math.min(this.sourceBounds.height,x.canvas.height)):(E=x.canvas.width,R=x.canvas.height),l.translate(y.x+w.x/2,0),this.flipped&&l.scale(-1,1),l.drawImage(x.canvas,0,0,E,R,-w.x/2,y.y,w.x,w.y),l.restore()},getScaleForEdgeSmoothing:function(){var l;if(this.cacheImageRecord)l=this.cacheImageRecord.getRenderedContext();else if(this.context2D)l=this.context2D;else return o.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return l.canvas.width/(this.size.x*o.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(l,d,f){var v=Math.max(1,Math.ceil((f.x-d.x)/2)),y=Math.max(1,Math.ceil((f.y-d.y)/2));return new o.Point(v,y).minus(this.position.times(o.pixelDensityRatio).times(l||1).apply(function(w){return w%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(u),function(o){o.OverlayPlacement=o.Placement,o.OverlayRotationMode=o.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),o.Overlay=function(l,d,f){var v;o.isPlainObject(l)?v=l:v={element:l,location:d,placement:f},this.element=v.element,this.style=v.element.style,this._init(v)},o.Overlay.prototype={_init:function(l){this.location=l.location,this.placement=l.placement===void 0?o.Placement.TOP_LEFT:l.placement,this.onDraw=l.onDraw,this.checkResize=l.checkResize===void 0?!0:l.checkResize,this.width=l.width===void 0?null:l.width,this.height=l.height===void 0?null:l.height,this.rotationMode=l.rotationMode||o.OverlayRotationMode.EXACT,this.location instanceof o.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=o.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new o.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(l,d){var f=o.Placement.properties[this.placement];!f||(f.isHorizontallyCentered?l.x-=d.x/2:f.isRight&&(l.x-=d.x),f.isVerticallyCentered?l.y-=d.y/2:f.isBottom&&(l.y-=d.y))},destroy:function(){var l=this.element,d=this.style;l.parentNode&&(l.parentNode.removeChild(l),l.prevElementParent&&(d.display="none",document.body.appendChild(l))),this.onDraw=null,d.top="",d.left="",d.position="",this.width!==null&&(d.width=""),this.height!==null&&(d.height="");var f=o.getCssPropertyWithVendorPrefix("transformOrigin"),v=o.getCssPropertyWithVendorPrefix("transform");f&&v&&(d[f]="",d[v]="")},drawHTML:function(l,d){var f=this.element;f.parentNode!==l&&(f.prevElementParent=f.parentNode,f.prevNextSibling=f.nextSibling,l.appendChild(f),this.style.position="absolute",this.size=o.getElementSize(f));var v=this._getOverlayPositionAndSize(d),y=v.position,w=this.size=v.size,x=v.rotate;if(this.onDraw)this.onDraw(y,w,this.element);else{var E=this.style;E.left=y.x+"px",E.top=y.y+"px",this.width!==null&&(E.width=w.x+"px"),this.height!==null&&(E.height=w.y+"px");var R=o.getCssPropertyWithVendorPrefix("transformOrigin"),O=o.getCssPropertyWithVendorPrefix("transform");R&&O&&(x?(E[R]=this._getTransformOrigin(),E[O]="rotate("+x+"deg)"):(E[R]="",E[O]="")),E.display="block"}},_getOverlayPositionAndSize:function(l){var d=l.pixelFromPoint(this.location,!0),f=this._getSizeInPixels(l);this.adjust(d,f);var v=0;if(l.degrees&&this.rotationMode!==o.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===o.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var y=new o.Rect(d.x,d.y,f.x,f.y),w=this._getBoundingBox(y,l.degrees);d=w.getTopLeft(),f=w.getSize()}else v=l.degrees;return{position:d,size:f,rotate:v}},_getSizeInPixels:function(l){var d=this.size.x,f=this.size.y;if(this.width!==null||this.height!==null){var v=l.deltaPixelsFromPointsNoRotate(new o.Point(this.width||0,this.height||0),!0);this.width!==null&&(d=v.x),this.height!==null&&(f=v.y)}if(this.checkResize&&(this.width===null||this.height===null)){var y=this.size=o.getElementSize(this.element);this.width===null&&(d=y.x),this.height===null&&(f=y.y)}return new o.Point(d,f)},_getBoundingBox:function(l,d){var f=this._getPlacementPoint(l);return l.rotate(d,f).getBoundingBox()},_getPlacementPoint:function(l){var d=new o.Point(l.x,l.y),f=o.Placement.properties[this.placement];return f&&(f.isHorizontallyCentered?d.x+=l.width/2:f.isRight&&(d.x+=l.width),f.isVerticallyCentered?d.y+=l.height/2:f.isBottom&&(d.y+=l.height)),d},_getTransformOrigin:function(){var l="",d=o.Placement.properties[this.placement];return d&&(d.isLeft?l="left":d.isRight&&(l="right"),d.isTop?l+=" top":d.isBottom&&(l+=" bottom")),l},update:function(l,d){var f=o.isPlainObject(l)?l:{location:l,placement:d};this._init({location:f.location||this.location,placement:f.placement!==void 0?f.placement:this.placement,onDraw:f.onDraw||this.onDraw,checkResize:f.checkResize||this.checkResize,width:f.width!==void 0?f.width:this.width,height:f.height!==void 0?f.height:this.height,rotationMode:f.rotationMode||this.rotationMode})},getBounds:function(l){o.console.assert(l,"A viewport must now be passed to Overlay.getBounds.");var d=this.width,f=this.height;if(d===null||f===null){var v=l.deltaPointsFromPixelsNoRotate(this.size,!0);d===null&&(d=v.x),f===null&&(f=v.y)}var y=this.location.clone();return this.adjust(y,new o.Point(d,f)),this._adjustBoundsForRotation(l,new o.Rect(y.x,y.y,d,f))},_adjustBoundsForRotation:function(l,d){if(!l||l.degrees===0||this.rotationMode===o.OverlayRotationMode.EXACT)return d;if(this.rotationMode===o.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return d;var f=this._getOverlayPositionAndSize(l);return l.viewerElementToViewportRectangle(new o.Rect(f.position.x,f.position.y,f.size.x,f.size.y))}return d.rotate(-l.degrees,this._getPlacementPoint(d))}}}(u),function(o){o.Drawer=function(l){o.console.assert(l.viewer,"[Drawer] options.viewer is required");var d=arguments;if(o.isPlainObject(l)||(l={source:d[0],viewport:d[1],element:d[2]}),o.console.assert(l.viewport,"[Drawer] options.viewport is required"),o.console.assert(l.element,"[Drawer] options.element is required"),l.source&&o.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=l.viewer,this.viewport=l.viewport,this.debugGridColor=typeof l.debugGridColor=="string"?[l.debugGridColor]:l.debugGridColor||o.DEFAULT_SETTINGS.debugGridColor,l.opacity&&o.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=o.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=o.getElement(l.element),this.canvas=o.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var f=this._calculateCanvasSize();this.canvas.width=f.x,this.canvas.height=f.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",o.setElementOpacity(this.canvas,this.opacity,!0),o.setElementPointerEventsNone(this.canvas),o.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},o.Drawer.prototype={addOverlay:function(l,d,f,v){return o.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(l,d,f,v),this},updateOverlay:function(l,d,f){return o.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(l,d,f),this},removeOverlay:function(l){return o.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(l),this},clearOverlays:function(){return o.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(l){var d=this.viewport.pixelFromPointNoRotate(l,!0);return new o.Point(d.x*o.pixelDensityRatio,d.y*o.pixelDensityRatio)},clipWithPolygons:function(l,d){if(this.useCanvas){var f=this._getContext(d);f.beginPath(),l.forEach(function(v){v.forEach(function(y,w){f[w===0?"moveTo":"lineTo"](y.x,y.y)})}),f.clip()}},setOpacity:function(l){o.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var d=this.viewer.world,f=0;f<d.getItemCount();f++)d.getItemAt(f).setOpacity(l);return this},getOpacity:function(){o.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var l=this.viewer.world,d=0,f=0;f<l.getItemCount();f++){var v=l.getItemAt(f).getOpacity();v>d&&(d=v)}return d},needsUpdate:function(){return o.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return o.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return o.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return o.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var l=this._calculateCanvasSize();if((this.canvas.width!==l.x||this.canvas.height!==l.y)&&(this.canvas.width=l.x,this.canvas.height=l.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var d=this._calculateSketchCanvasSize();this.sketchCanvas.width=d.x,this.sketchCanvas.height=d.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(l,d){if(this.useCanvas){var f=this._getContext(l);if(d)f.clearRect(d.x,d.y,d.width,d.height);else{var v=f.canvas;f.clearRect(0,0,v.width,v.height)}}},viewportToDrawerRectangle:function(l){var d=this.viewport.pixelFromPointNoRotate(l.getTopLeft(),!0),f=this.viewport.deltaPixelsFromPointsNoRotate(l.getSize(),!0);return new o.Rect(d.x*o.pixelDensityRatio,d.y*o.pixelDensityRatio,f.x*o.pixelDensityRatio,f.y*o.pixelDensityRatio)},drawTile:function(l,d,f,v,y){if(o.console.assert(l,"[Drawer.drawTile] tile is required"),o.console.assert(d,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var w=this._getContext(f);v=v||1,l.drawCanvas(w,d,v,y)}else l.drawHTML(this.canvas)},_getContext:function(l){var d=this.context;if(l){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var f=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=f.x,this.sketchCanvas.height=f.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var v=this;this.viewer.addHandler("rotate",function y(){if(v.viewport.getRotation()!==0){v.viewer.removeHandler("rotate",y);var w=v._calculateSketchCanvasSize();v.sketchCanvas.width=w.x,v.sketchCanvas.height=w.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}d=this.sketchContext}return d},saveContext:function(l){!this.useCanvas||this._getContext(l).save()},restoreContext:function(l){!this.useCanvas||this._getContext(l).restore()},setClip:function(l,d){if(this.useCanvas){var f=this._getContext(d);f.beginPath(),f.rect(l.x,l.y,l.width,l.height),f.clip()}},drawRectangle:function(l,d,f){if(this.useCanvas){var v=this._getContext(f);v.save(),v.fillStyle=d,v.fillRect(l.x,l.y,l.width,l.height),v.restore()}},blendSketch:function(l,d,f,v){var y=l;if(o.isPlainObject(y)||(y={opacity:l,scale:d,translate:f,compositeOperation:v}),!(!this.useCanvas||!this.sketchCanvas)){l=y.opacity,v=y.compositeOperation;var w=y.bounds;if(this.context.save(),this.context.globalAlpha=l,v&&(this.context.globalCompositeOperation=v),w)w.x<0&&(w.width+=w.x,w.x=0),w.x+w.width>this.canvas.width&&(w.width=this.canvas.width-w.x),w.y<0&&(w.height+=w.y,w.y=0),w.y+w.height>this.canvas.height&&(w.height=this.canvas.height-w.y),this.context.drawImage(this.sketchCanvas,w.x,w.y,w.width,w.height,w.x,w.y,w.width,w.height);else{d=y.scale||1,f=y.translate;var x=f instanceof o.Point?f:new o.Point(0,0),E=0,R=0;if(f){var O=this.sketchCanvas.width-this.canvas.width,F=this.sketchCanvas.height-this.canvas.height;E=Math.round(O/2),R=Math.round(F/2)}this.context.drawImage(this.sketchCanvas,x.x-E*d,x.y-R*d,(this.canvas.width+2*E)*d,(this.canvas.height+2*R)*d,-E,-R,this.canvas.width+2*E,this.canvas.height+2*R)}this.context.restore()}},drawDebugInfo:function(l,d,f,v){if(this.useCanvas){var y=this.viewer.world.getIndexOfItem(v)%this.debugGridColor.length,w=this.context;w.save(),w.lineWidth=2*o.pixelDensityRatio,w.font="small-caps bold "+13*o.pixelDensityRatio+"px arial",w.strokeStyle=this.debugGridColor[y],w.fillStyle=this.debugGridColor[y],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),v.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:v.getRotation(!0),point:v.viewport.pixelFromPointNoRotate(v._getRotationPoint(!0),!0)}),v.viewport.degrees===0&&v.getRotation(!0)%360===0&&v._drawer.viewer.viewport.getFlip()&&v._drawer._flip(),w.strokeRect(l.position.x*o.pixelDensityRatio,l.position.y*o.pixelDensityRatio,l.size.x*o.pixelDensityRatio,l.size.y*o.pixelDensityRatio);var x=(l.position.x+l.size.x/2)*o.pixelDensityRatio,E=(l.position.y+l.size.y/2)*o.pixelDensityRatio;w.translate(x,E),w.rotate(Math.PI/180*-this.viewport.degrees),w.translate(-x,-E),l.x===0&&l.y===0&&(w.fillText("Zoom: "+this.viewport.getZoom(),l.position.x*o.pixelDensityRatio,(l.position.y-30)*o.pixelDensityRatio),w.fillText("Pan: "+this.viewport.getBounds().toString(),l.position.x*o.pixelDensityRatio,(l.position.y-20)*o.pixelDensityRatio)),w.fillText("Level: "+l.level,(l.position.x+10)*o.pixelDensityRatio,(l.position.y+20)*o.pixelDensityRatio),w.fillText("Column: "+l.x,(l.position.x+10)*o.pixelDensityRatio,(l.position.y+30)*o.pixelDensityRatio),w.fillText("Row: "+l.y,(l.position.x+10)*o.pixelDensityRatio,(l.position.y+40)*o.pixelDensityRatio),w.fillText("Order: "+f+" of "+d,(l.position.x+10)*o.pixelDensityRatio,(l.position.y+50)*o.pixelDensityRatio),w.fillText("Size: "+l.size.toString(),(l.position.x+10)*o.pixelDensityRatio,(l.position.y+60)*o.pixelDensityRatio),w.fillText("Position: "+l.position.toString(),(l.position.x+10)*o.pixelDensityRatio,(l.position.y+70)*o.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),v.getRotation(!0)%360!==0&&this._restoreRotationChanges(),v.viewport.degrees===0&&v.getRotation(!0)%360===0&&v._drawer.viewer.viewport.getFlip()&&v._drawer._flip(),w.restore()}},debugRect:function(l){if(this.useCanvas){var d=this.context;d.save(),d.lineWidth=2*o.pixelDensityRatio,d.strokeStyle=this.debugGridColor[0],d.fillStyle=this.debugGridColor[0],d.strokeRect(l.x*o.pixelDensityRatio,l.y*o.pixelDensityRatio,l.width*o.pixelDensityRatio,l.height*o.pixelDensityRatio),d.restore()}},setImageSmoothingEnabled:function(l){this.useCanvas&&(this._imageSmoothingEnabled=l,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(l){l.msImageSmoothingEnabled=this._imageSmoothingEnabled,l.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(l){var d=this._getContext(l).canvas;return new o.Point(d.width,d.height)},getCanvasCenter:function(){return new o.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(l){var d=l.point?l.point.times(o.pixelDensityRatio):this.getCanvasCenter(),f=this._getContext(l.useSketch);f.save(),f.translate(d.x,d.y),this.viewer.viewport.flipped?(f.rotate(Math.PI/180*-l.degrees),f.scale(-1,1)):f.rotate(Math.PI/180*l.degrees),f.translate(-d.x,-d.y)},_flip:function(l){l=l||{};var d=l.point?l.point.times(o.pixelDensityRatio):this.getCanvasCenter(),f=this._getContext(l.useSketch);f.translate(d.x,0),f.scale(-1,1),f.translate(-d.x,0)},_restoreRotationChanges:function(l){var d=this._getContext(l);d.restore()},_calculateCanvasSize:function(){var l=o.pixelDensityRatio,d=this.viewport.getContainerSize();return{x:Math.round(d.x*l),y:Math.round(d.y*l)}},_calculateSketchCanvasSize:function(){var l=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return l;var d=Math.ceil(Math.sqrt(l.x*l.x+l.y*l.y));return{x:d,y:d}}}}(u),function(o){o.Viewport=function(l){var d=arguments;d.length&&d[0]instanceof o.Point&&(l={containerSize:d[0],contentSize:d[1],config:d[2]}),l.config&&(o.extend(!0,l,l.config),delete l.config),this._margins=o.extend({left:0,top:0,right:0,bottom:0},l.margins||{}),delete l.margins,o.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:o.DEFAULT_SETTINGS.springStiffness,animationTime:o.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:o.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:o.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:o.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:o.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:o.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:o.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:o.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:o.DEFAULT_SETTINGS.maxZoomLevel,degrees:o.DEFAULT_SETTINGS.degrees,flipped:o.DEFAULT_SETTINGS.flipped,homeFillsViewer:o.DEFAULT_SETTINGS.homeFillsViewer},l),this._updateContainerInnerSize(),this.centerSpringX=new o.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new o.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new o.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new o.Rect(0,0,1,1),1),this.goHome(!0),this.update()},o.Viewport.prototype={resetContentSize:function(l){return o.console.assert(l,"[Viewport.resetContentSize] contentSize is required"),o.console.assert(l instanceof o.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),o.console.assert(l.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),o.console.assert(l.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new o.Rect(0,0,1,l.y/l.x),l.x),this},setHomeBounds:function(l,d){o.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(l,d)},_setContentBounds:function(l,d){o.console.assert(l,"[Viewport._setContentBounds] bounds is required"),o.console.assert(l instanceof o.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),o.console.assert(l.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),o.console.assert(l.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=l.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(d),this._contentBounds=l.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(d),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:d,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var l=this._contentAspectRatio/this.getAspectRatio(),d;return this.homeFillsViewer?d=l>=1?l:1:d=l>=1?1:l,d/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var l=this._contentBounds.getCenter(),d=1/this.getHomeZoom(),f=d/this.getAspectRatio();return new o.Rect(l.x-d/2,l.y-f/2,d,f)},goHome:function(l){return this.viewer&&this.viewer.raiseEvent("home",{immediately:l}),this.fitBounds(this.getHomeBounds(),l)},getMinZoom:function(){var l=this.getHomeZoom(),d=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*l;return d},getMaxZoom:function(){var l=this.maxZoomLevel;return l||(l=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,l/=this._contentBounds.width),Math.max(l,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new o.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return o.extend({},this._margins)},setMargins:function(l){o.console.assert(o.type(l)==="object","[Viewport.setMargins] margins must be an object"),this._margins=o.extend({left:0,top:0,right:0,bottom:0},l),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(l){return this.getBoundsNoRotate(l).rotate(-this.getRotation())},getBoundsNoRotate:function(l){var d=this.getCenter(l),f=1/this.getZoom(l),v=f/this.getAspectRatio();return new o.Rect(d.x-f/2,d.y-v/2,f,v)},getBoundsWithMargins:function(l){return this.getBoundsNoRotateWithMargins(l).rotate(-this.getRotation(),this.getCenter(l))},getBoundsNoRotateWithMargins:function(l){var d=this.getBoundsNoRotate(l),f=this._containerInnerSize.x*this.getZoom(l);return d.x-=this._margins.left/f,d.y-=this._margins.top/f,d.width+=(this._margins.left+this._margins.right)/f,d.height+=(this._margins.top+this._margins.bottom)/f,d},getCenter:function(l){var d=new o.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),f=new o.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),v,y,w,x,E,R,O,F;return l?d:this.zoomPoint?(v=this.pixelFromPoint(this.zoomPoint,!0),y=this.getZoom(),w=1/y,x=w/this.getAspectRatio(),E=new o.Rect(d.x-w/2,d.y-x/2,w,x),R=this._pixelFromPoint(this.zoomPoint,E),O=R.minus(v),F=O.divide(this._containerInnerSize.x*y),f.plus(F)):f},getZoom:function(l){return l?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(l){return Math.max(Math.min(l,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(l){var d=new o.Rect(l.x,l.y,l.width,l.height);if(!this.wrapHorizontal){var f=this.visibilityRatio*d.width,v=d.x+d.width,y=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,w=this._contentBoundsNoRotate.x-v+f,x=y-d.x-f;f>this._contentBoundsNoRotate.width?d.x+=(w+x)/2:x<0?d.x+=x:w>0&&(d.x+=w)}if(!this.wrapVertical){var E=this.visibilityRatio*d.height,R=d.y+d.height,O=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,F=this._contentBoundsNoRotate.y-R+E,G=O-d.y-E;E>this._contentBoundsNoRotate.height?d.y+=(F+G)/2:G<0?d.y+=G:F>0&&(d.y+=F)}return d},_raiseConstraintsEvent:function(l){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:l})},applyConstraints:function(l){var d=this.getZoom(),f=this._applyZoomConstraints(d);d!==f&&this.zoomTo(f,this.zoomPoint,l);var v=this.getBoundsNoRotate(),y=this._applyBoundaryConstraints(v);return this._raiseConstraintsEvent(l),(v.x!==y.x||v.y!==y.y||l)&&this.fitBounds(y.rotate(-this.getRotation()),l),this},ensureVisible:function(l){return this.applyConstraints(l)},_fitBounds:function(l,d){d=d||{};var f=d.immediately||!1,v=d.constraints||!1,y=this.getAspectRatio(),w=l.getCenter(),x=new o.Rect(l.x,l.y,l.width,l.height,l.degrees+this.getRotation()).getBoundingBox();x.getAspectRatio()>=y?x.height=x.width/y:x.width=x.height*y,x.x=w.x-x.width/2,x.y=w.y-x.height/2;var E=1/x.width;if(v){var R=x.getAspectRatio(),O=this._applyZoomConstraints(E);E!==O&&(E=O,x.width=1/E,x.x=w.x-x.width/2,x.height=x.width/R,x.y=w.y-x.height/2),x=this._applyBoundaryConstraints(x),w=x.getCenter(),this._raiseConstraintsEvent(f)}if(f)return this.panTo(w,!0),this.zoomTo(E,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var F=this.getBounds(),G=this.getZoom();if(G===0||Math.abs(E/G-1)<1e-8)return this.zoomTo(E,!0),this.panTo(w,f);x=x.rotate(-this.getRotation());var re=x.getTopLeft().times(E).minus(F.getTopLeft().times(G)).divide(E-G);return this.zoomTo(E,re,f)},fitBounds:function(l,d){return this._fitBounds(l,{immediately:d,constraints:!1})},fitBoundsWithConstraints:function(l,d){return this._fitBounds(l,{immediately:d,constraints:!0})},fitVertically:function(l){var d=new o.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(d,l)},fitHorizontally:function(l){var d=new o.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(d,l)},getConstrainedBounds:function(l){var d,f;return d=this.getBounds(l),f=this._applyBoundaryConstraints(d),f},panBy:function(l,d){var f=new o.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(f.plus(l),d)},panTo:function(l,d){return d?(this.centerSpringX.resetTo(l.x),this.centerSpringY.resetTo(l.y)):(this.centerSpringX.springTo(l.x),this.centerSpringY.springTo(l.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:l,immediately:d}),this},zoomBy:function(l,d,f){return this.zoomTo(this.zoomSpring.target.value*l,d,f)},zoomTo:function(l,d,f){var v=this;return this.zoomPoint=d instanceof o.Point&&!isNaN(d.x)&&!isNaN(d.y)?d:null,f?this._adjustCenterSpringsForZoomPoint(function(){v.zoomSpring.resetTo(l)}):this.zoomSpring.springTo(l),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:l,refPoint:d,immediately:f}),this},setRotation:function(l){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=o.positiveModulo(l,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:l}),this)},getRotation:function(){return this.degrees},resize:function(l,d){var f=this.getBoundsNoRotate(),v=f,y;return this.containerSize.x=l.x,this.containerSize.y=l.y,this._updateContainerInnerSize(),d&&(y=l.x/this.containerSize.x,v.width=f.width*y,v.height=v.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:l,maintain:d}),this.fitBounds(v,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new o.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var l=this;this._adjustCenterSpringsForZoomPoint(function(){l.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var d=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,d},_adjustCenterSpringsForZoomPoint:function(l){if(this.zoomPoint){var d=this.pixelFromPoint(this.zoomPoint,!0);l();var f=this.pixelFromPoint(this.zoomPoint,!0),v=f.minus(d),y=this.deltaPointsFromPixels(v,!0);this.centerSpringX.shiftBy(y.x),this.centerSpringY.shiftBy(y.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else l()},deltaPixelsFromPointsNoRotate:function(l,d){return l.times(this._containerInnerSize.x*this.getZoom(d))},deltaPixelsFromPoints:function(l,d){return this.deltaPixelsFromPointsNoRotate(l.rotate(this.getRotation()),d)},deltaPointsFromPixelsNoRotate:function(l,d){return l.divide(this._containerInnerSize.x*this.getZoom(d))},deltaPointsFromPixels:function(l,d){return this.deltaPointsFromPixelsNoRotate(l,d).rotate(-this.getRotation())},pixelFromPointNoRotate:function(l,d){return this._pixelFromPointNoRotate(l,this.getBoundsNoRotate(d))},pixelFromPoint:function(l,d){return this._pixelFromPoint(l,this.getBoundsNoRotate(d))},_pixelFromPointNoRotate:function(l,d){return l.minus(d.getTopLeft()).times(this._containerInnerSize.x/d.width).plus(new o.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(l,d){return this._pixelFromPointNoRotate(l.rotate(this.getRotation(),this.getCenter(!0)),d)},pointFromPixelNoRotate:function(l,d){var f=this.getBoundsNoRotate(d);return l.minus(new o.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/f.width).plus(f.getTopLeft())},pointFromPixel:function(l,d){return this.pointFromPixelNoRotate(l,d).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(l,d){var f=this._contentBoundsNoRotate.width;return new o.Point(l*this._contentSizeNoRotate.x/f,d*this._contentSizeNoRotate.x/f)},viewportToImageCoordinates:function(l,d){if(l instanceof o.Point)return this.viewportToImageCoordinates(l.x,l.y);if(this.viewer){var f=this.viewer.world.getItemCount();if(f>1)o.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(f===1){var v=this.viewer.world.getItemAt(0);return v.viewportToImageCoordinates(l,d,!0)}}return this._viewportToImageDelta(l-this._contentBoundsNoRotate.x,d-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(l,d){var f=this._contentBoundsNoRotate.width;return new o.Point(l/this._contentSizeNoRotate.x*f,d/this._contentSizeNoRotate.x*f)},imageToViewportCoordinates:function(l,d){if(l instanceof o.Point)return this.imageToViewportCoordinates(l.x,l.y);if(this.viewer){var f=this.viewer.world.getItemCount();if(f>1)o.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(f===1){var v=this.viewer.world.getItemAt(0);return v.imageToViewportCoordinates(l,d,!0)}}var y=this._imageToViewportDelta(l,d);return y.x+=this._contentBoundsNoRotate.x,y.y+=this._contentBoundsNoRotate.y,y},imageToViewportRectangle:function(l,d,f,v){var y=l;if(y instanceof o.Rect||(y=new o.Rect(l,d,f,v)),this.viewer){var w=this.viewer.world.getItemCount();if(w>1)o.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(w===1){var x=this.viewer.world.getItemAt(0);return x.imageToViewportRectangle(l,d,f,v,!0)}}var E=this.imageToViewportCoordinates(y.x,y.y),R=this._imageToViewportDelta(y.width,y.height);return new o.Rect(E.x,E.y,R.x,R.y,y.degrees)},viewportToImageRectangle:function(l,d,f,v){var y=l;if(y instanceof o.Rect||(y=new o.Rect(l,d,f,v)),this.viewer){var w=this.viewer.world.getItemCount();if(w>1)o.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(w===1){var x=this.viewer.world.getItemAt(0);return x.viewportToImageRectangle(l,d,f,v,!0)}}var E=this.viewportToImageCoordinates(y.x,y.y),R=this._viewportToImageDelta(y.width,y.height);return new o.Rect(E.x,E.y,R.x,R.y,y.degrees)},viewerElementToImageCoordinates:function(l){var d=this.pointFromPixel(l,!0);return this.viewportToImageCoordinates(d)},imageToViewerElementCoordinates:function(l){var d=this.imageToViewportCoordinates(l);return this.pixelFromPoint(d,!0)},windowToImageCoordinates:function(l){o.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var d=l.minus(o.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(d)},imageToWindowCoordinates:function(l){o.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var d=this.imageToViewerElementCoordinates(l);return d.plus(o.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(l){return this.pointFromPixel(l,!0)},viewportToViewerElementCoordinates:function(l){return this.pixelFromPoint(l,!0)},viewerElementToViewportRectangle:function(l){return o.Rect.fromSummits(this.pointFromPixel(l.getTopLeft(),!0),this.pointFromPixel(l.getTopRight(),!0),this.pointFromPixel(l.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(l){return o.Rect.fromSummits(this.pixelFromPoint(l.getTopLeft(),!0),this.pixelFromPoint(l.getTopRight(),!0),this.pixelFromPoint(l.getBottomLeft(),!0))},windowToViewportCoordinates:function(l){o.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var d=l.minus(o.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(d)},viewportToWindowCoordinates:function(l){o.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var d=this.viewportToViewerElementCoordinates(l);return d.plus(o.getElementPosition(this.viewer.element))},viewportToImageZoom:function(l){if(this.viewer){var d=this.viewer.world.getItemCount();if(d>1)o.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(d===1){var f=this.viewer.world.getItemAt(0);return f.viewportToImageZoom(l)}}var v=this._contentSizeNoRotate.x,y=this._containerInnerSize.x,w=this._contentBoundsNoRotate.width,x=y/v*w;return l*x},imageToViewportZoom:function(l){if(this.viewer){var d=this.viewer.world.getItemCount();if(d>1)o.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(d===1){var f=this.viewer.world.getItemAt(0);return f.imageToViewportZoom(l)}}var v=this._contentSizeNoRotate.x,y=this._containerInnerSize.x,w=this._contentBoundsNoRotate.width,x=v/y/w;return l*x},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(l){return this.flipped===l?this:(this.flipped=l,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:l}),this)}}}(u),function(o){o.TiledImage=function(D){var te=this;o.console.assert(D.tileCache,"[TiledImage] options.tileCache is required"),o.console.assert(D.drawer,"[TiledImage] options.drawer is required"),o.console.assert(D.viewer,"[TiledImage] options.viewer is required"),o.console.assert(D.imageLoader,"[TiledImage] options.imageLoader is required"),o.console.assert(D.source,"[TiledImage] options.source is required"),o.console.assert(!D.clip||D.clip instanceof o.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),o.EventSource.call(this),this._tileCache=D.tileCache,delete D.tileCache,this._drawer=D.drawer,delete D.drawer,this._imageLoader=D.imageLoader,delete D.imageLoader,D.clip instanceof o.Rect&&(this._clip=D.clip.clone()),delete D.clip;var ce=D.x||0;delete D.x;var ue=D.y||0;delete D.y,this.normHeight=D.source.dimensions.y/D.source.dimensions.x,this.contentAspectX=D.source.dimensions.x/D.source.dimensions.y;var ye=1;D.width?(ye=D.width,delete D.width,D.height&&(o.console.error("specifying both width and height to a tiledImage is not supported"),delete D.height)):D.height&&(ye=D.height/this.normHeight,delete D.height);var xe=D.fitBounds;delete D.fitBounds;var Fe=D.fitBoundsPlacement||u.Placement.CENTER;delete D.fitBoundsPlacement;var ze=D.degrees||0;delete D.degrees,o.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:o.DEFAULT_SETTINGS.springStiffness,animationTime:o.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:o.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:o.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:o.DEFAULT_SETTINGS.wrapVertical,immediateRender:o.DEFAULT_SETTINGS.immediateRender,blendTime:o.DEFAULT_SETTINGS.blendTime,alwaysBlend:o.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:o.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:o.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:o.DEFAULT_SETTINGS.iOSDevice,debugMode:o.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:o.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:o.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:o.DEFAULT_SETTINGS.placeholderFillStyle,opacity:o.DEFAULT_SETTINGS.opacity,preload:o.DEFAULT_SETTINGS.preload,compositeOperation:o.DEFAULT_SETTINGS.compositeOperation},D),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new o.Spring({initial:ce,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new o.Spring({initial:ue,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new o.Spring({initial:ye,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new o.Spring({initial:ze,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),xe&&this.fitBounds(xe,Fe,!0),this._drawingHandler=function(tt){te.viewer.raiseEvent("tile-drawing",o.extend({tiledImage:te},tt))}},o.extend(o.TiledImage.prototype,o.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(D){D!==this._fullyLoaded&&(this._fullyLoaded=D,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=o.now(),this._needsDraw=!0},update:function(){var D=this._xSpring.update(),te=this._ySpring.update(),ce=this._scaleSpring.update(),ue=this._degreesSpring.update();return D||te||ce||ue?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(D){return this.getBoundsNoRotate(D).rotate(this.getRotation(D),this._getRotationPoint(D))},getBoundsNoRotate:function(D){return D?new o.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new o.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return o.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(D){var te=this.getBoundsNoRotate(D);if(this._clip){var ce=D?this._worldWidthCurrent:this._worldWidthTarget,ue=ce/this.source.dimensions.x,ye=this._clip.times(ue);te=new o.Rect(te.x+ye.x,te.y+ye.y,ye.width,ye.height)}return te.rotate(this.getRotation(D),this._getRotationPoint(D))},getTileBounds:function(D,te,ce){var ue=this.source.getNumTiles(D),ye=(ue.x+te%ue.x)%ue.x,xe=(ue.y+ce%ue.y)%ue.y,Fe=this.source.getTileBounds(D,ye,xe);return this.getFlip()&&(Fe.x=1-Fe.x-Fe.width),Fe.x+=(te-ye)/ue.x,Fe.y+=this._worldHeightCurrent/this._worldWidthCurrent*((ce-xe)/ue.y),Fe},getContentSize:function(){return new o.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var D=this.imageToWindowCoordinates(new o.Point(0,0)),te=this.imageToWindowCoordinates(this.getContentSize());return new o.Point(te.x-D.x,te.y-D.y)},_viewportToImageDelta:function(D,te,ce){var ue=ce?this._scaleSpring.current.value:this._scaleSpring.target.value;return new o.Point(D*(this.source.dimensions.x/ue),te*(this.source.dimensions.y*this.contentAspectX/ue))},viewportToImageCoordinates:function(D,te,ce){var ue;return D instanceof o.Point?(ce=te,ue=D):ue=new o.Point(D,te),ue=ue.rotate(-this.getRotation(ce),this._getRotationPoint(ce)),ce?this._viewportToImageDelta(ue.x-this._xSpring.current.value,ue.y-this._ySpring.current.value):this._viewportToImageDelta(ue.x-this._xSpring.target.value,ue.y-this._ySpring.target.value)},_imageToViewportDelta:function(D,te,ce){var ue=ce?this._scaleSpring.current.value:this._scaleSpring.target.value;return new o.Point(D/this.source.dimensions.x*ue,te/this.source.dimensions.y/this.contentAspectX*ue)},imageToViewportCoordinates:function(D,te,ce){D instanceof o.Point&&(ce=te,te=D.y,D=D.x);var ue=this._imageToViewportDelta(D,te);return ce?(ue.x+=this._xSpring.current.value,ue.y+=this._ySpring.current.value):(ue.x+=this._xSpring.target.value,ue.y+=this._ySpring.target.value),ue.rotate(this.getRotation(ce),this._getRotationPoint(ce))},imageToViewportRectangle:function(D,te,ce,ue,ye){var xe=D;xe instanceof o.Rect?ye=te:xe=new o.Rect(D,te,ce,ue);var Fe=this.imageToViewportCoordinates(xe.getTopLeft(),ye),ze=this._imageToViewportDelta(xe.width,xe.height,ye);return new o.Rect(Fe.x,Fe.y,ze.x,ze.y,xe.degrees+this.getRotation(ye))},viewportToImageRectangle:function(D,te,ce,ue,ye){var xe=D;D instanceof o.Rect?ye=te:xe=new o.Rect(D,te,ce,ue);var Fe=this.viewportToImageCoordinates(xe.getTopLeft(),ye),ze=this._viewportToImageDelta(xe.width,xe.height,ye);return new o.Rect(Fe.x,Fe.y,ze.x,ze.y,xe.degrees-this.getRotation(ye))},viewerElementToImageCoordinates:function(D){var te=this.viewport.pointFromPixel(D,!0);return this.viewportToImageCoordinates(te)},imageToViewerElementCoordinates:function(D){var te=this.imageToViewportCoordinates(D);return this.viewport.pixelFromPoint(te,!0)},windowToImageCoordinates:function(D){var te=D.minus(u.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(te)},imageToWindowCoordinates:function(D){var te=this.imageToViewerElementCoordinates(D);return te.plus(u.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(D){var te=this._scaleSpring.current.value;return D=D.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new o.Rect((D.x-this._xSpring.current.value)/te,(D.y-this._ySpring.current.value)/te,D.width/te,D.height/te,D.degrees)},viewportToImageZoom:function(D){var te=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return te*D},imageToViewportZoom:function(D){var te=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return D/te},setPosition:function(D,te){var ce=this._xSpring.target.value===D.x&&this._ySpring.target.value===D.y;if(te){if(ce&&this._xSpring.current.value===D.x&&this._ySpring.current.value===D.y)return;this._xSpring.resetTo(D.x),this._ySpring.resetTo(D.y),this._needsDraw=!0}else{if(ce)return;this._xSpring.springTo(D.x),this._ySpring.springTo(D.y),this._needsDraw=!0}ce||this._raiseBoundsChange()},setWidth:function(D,te){this._setScale(D,te)},setHeight:function(D,te){this._setScale(D/this.normHeight,te)},setCroppingPolygons:function(D){var te=function(ue){return ue instanceof o.Point||typeof ue.x=="number"&&typeof ue.y=="number"},ce=function(ue){return ue.map(function(ye){try{if(te(ye))return{x:ye.x,y:ye.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!o.isArray(D))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=D.map(function(ue){return ce(ue)})}catch(ue){o.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),o.console.error(ue),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(D,te,ce){te=te||o.Placement.CENTER;var ue=o.Placement.properties[te],ye=this.contentAspectX,xe=0,Fe=0,ze=1,tt=1;if(this._clip&&(ye=this._clip.getAspectRatio(),ze=this._clip.width/this.source.dimensions.x,tt=this._clip.height/this.source.dimensions.y,D.getAspectRatio()>ye?(xe=this._clip.x/this._clip.height*D.height,Fe=this._clip.y/this._clip.height*D.height):(xe=this._clip.x/this._clip.width*D.width,Fe=this._clip.y/this._clip.width*D.width)),D.getAspectRatio()>ye){var st=D.height/tt,nt=0;ue.isHorizontallyCentered?nt=(D.width-D.height*ye)/2:ue.isRight&&(nt=D.width-D.height*ye),this.setPosition(new o.Point(D.x-xe+nt,D.y-Fe),ce),this.setHeight(st,ce)}else{var mt=D.width/ze,ft=0;ue.isVerticallyCentered?ft=(D.height-D.width/ye)/2:ue.isBottom&&(ft=D.height-D.width/ye),this.setPosition(new o.Point(D.x-xe,D.y-Fe+ft),ce),this.setWidth(mt,ce)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(D){o.console.assert(!D||D instanceof o.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),D instanceof o.Rect?this._clip=D.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(D){this.flipped=!!D,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(D){D!==this.opacity&&(this.opacity=D,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(D){this._preload=!!D,this._needsDraw=!0},getRotation:function(D){return D?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(D,te){this._degreesSpring.target.value===D&&this._degreesSpring.isAtTargetValue()||(te?this._degreesSpring.resetTo(D):this._degreesSpring.springTo(D),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(D){return this.getBoundsNoRotate(D).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(D){D!==this.compositeOperation&&(this.compositeOperation=D,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(D,te){var ce=this._scaleSpring.target.value===D;if(te){if(ce&&this._scaleSpring.current.value===D)return;this._scaleSpring.resetTo(D),this._updateForScale(),this._needsDraw=!0}else{if(ce)return;this._scaleSpring.springTo(D),this._updateForScale(),this._needsDraw=!0}ce||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var D=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),te=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,ce=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(te/this.minPixelRatio)/Math.log(2))));return ce=Math.max(ce,this.source.minLevel||0),D=Math.min(D,ce),{lowestLevel:D,highestLevel:ce}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var D=this.lastDrawn.pop();D.beingDrawn=!1}var te=this.viewport,ce=this._viewportToTiledImageRectangle(te.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var ue=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(ce=ce.intersection(ue),ce===null)return}for(var ye=this._getLevelsInterval(),xe=ye.lowestLevel,Fe=ye.highestLevel,ze=null,tt=!1,st=o.now(),nt=Fe;nt>=xe;nt--){var mt=!1,ft=te.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(nt),!0).x*this._scaleSpring.current.value;if(nt===xe||!tt&&ft>=this.minPixelRatio)mt=!0,tt=!0;else if(!tt)continue;var At=te.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(nt),!1).x*this._scaleSpring.current.value,Rt=te.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,Mt=this.immediateRender?1:Rt,$t=Math.min(1,(ft-.5)/.5),on=Mt/Math.abs(Mt-At);if(ze=l(this,tt,mt,nt,$t,on,ce,st,ze),R(this.coverage,nt))break}J(this,this.lastDrawn),ze&&!ze.context2D?(v(this,ze,st),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(D,te,ce){var ue,ye;this.wrapHorizontal?(ue=o.positiveModulo(te.x,1),ye=o.positiveModulo(ce.x,1)):(ue=Math.max(0,te.x),ye=Math.min(1,ce.x));var xe,Fe,ze=1/this.source.aspectRatio;this.wrapVertical?(xe=o.positiveModulo(te.y,ze),Fe=o.positiveModulo(ce.y,ze)):(xe=Math.max(0,te.y),Fe=Math.min(ze,ce.y));var tt=this.source.getTileAtPoint(D,new o.Point(ue,xe)),st=this.source.getTileAtPoint(D,new o.Point(ye,Fe)),nt=this.source.getNumTiles(D);return this.wrapHorizontal&&(tt.x+=nt.x*Math.floor(te.x),st.x+=nt.x*Math.floor(ce.x)),this.wrapVertical&&(tt.y+=nt.y*Math.floor(te.y/ze),st.y+=nt.y*Math.floor(ce.y/ze)),{topLeft:tt,bottomRight:st}}});function l(D,te,ce,ue,ye,xe,Fe,ze,tt){var st=Fe.getBoundingBox().getTopLeft(),nt=Fe.getBoundingBox().getBottomRight();D.viewer&&D.viewer.raiseEvent("update-level",{tiledImage:D,havedrawn:te,level:ue,opacity:ye,visibility:xe,drawArea:Fe,topleft:st,bottomright:nt,currenttime:ze,best:tt}),G(D.coverage,ue),G(D.loadingCoverage,ue);var mt=D._getCornerTiles(ue,st,nt),ft=mt.topLeft,At=mt.bottomRight,Rt=D.source.getNumTiles(ue),Mt=D.viewport.pixelFromPoint(D.viewport.getCenter());D.getFlip()&&(At.x+=1,D.wrapHorizontal||(At.x=Math.min(At.x,Rt.x-1)));for(var $t=ft.x;$t<=At.x;$t++)for(var on=ft.y;on<=At.y;on++){var rt;if(D.getFlip()){var Ht=(Rt.x+$t%Rt.x)%Rt.x;rt=$t+Rt.x-Ht-Ht-1}else rt=$t;Fe.intersection(D.getTileBounds(ue,rt,on))!==null&&(tt=d(D,ce,te,rt,on,ue,ye,xe,Mt,Rt,ze,tt))}return tt}function d(D,te,ce,ue,ye,xe,Fe,ze,tt,st,nt,mt){var ft=f(ue,ye,xe,D,D.source,D.tilesMatrix,nt,st,D._worldWidthCurrent,D._worldHeightCurrent),At=ce;D.viewer&&D.viewer.raiseEvent("update-tile",{tiledImage:D,tile:ft}),F(D.coverage,xe,ue,ye,!1);var Rt=ft.loaded||ft.loading||O(D.loadingCoverage,xe,ue,ye);if(F(D.loadingCoverage,xe,ue,ye,Rt),!ft.exists||(te&&!At&&(O(D.coverage,xe,ue,ye)?F(D.coverage,xe,ue,ye,!0):At=!0),!At))return mt;if(x(ft,D.source.tileOverlap,D.viewport,tt,ze,D),!ft.loaded)if(ft.context2D)w(D,ft);else{var Mt=D._tileCache.getImageRecord(ft.cacheKey);if(Mt){var $t=Mt.getImage();w(D,ft,$t)}}if(ft.loaded){var on=E(D,ft,ue,ye,xe,Fe,nt);on&&(D._needsDraw=!0)}else ft.loading?D._tilesLoading++:Rt||(mt=re(mt,ft));return mt}function f(D,te,ce,ue,ye,xe,Fe,ze,tt,st){var nt,mt,ft,At,Rt,Mt,$t,on,rt;return xe[ce]||(xe[ce]={}),xe[ce][D]||(xe[ce][D]={}),(!xe[ce][D][te]||!xe[ce][D][te].flipped!=!ue.flipped)&&(nt=(ze.x+D%ze.x)%ze.x,mt=(ze.y+te%ze.y)%ze.y,ft=ue.getTileBounds(ce,D,te),At=ye.getTileBounds(ce,nt,mt,!0),Rt=ye.tileExists(ce,nt,mt),Mt=ye.getTileUrl(ce,nt,mt),ue.loadTilesWithAjax?($t=ye.getTileAjaxHeaders(ce,nt,mt),o.isPlainObject(ue.ajaxHeaders)&&($t=o.extend({},ue.ajaxHeaders,$t))):$t=null,on=ye.getContext2D?ye.getContext2D(ce,nt,mt):void 0,rt=new o.Tile(ce,D,te,ft,Rt,Mt,on,ue.loadTilesWithAjax,$t,At),ue.getFlip()?nt===0&&(rt.isRightMost=!0):nt===ze.x-1&&(rt.isRightMost=!0),mt===ze.y-1&&(rt.isBottomMost=!0),rt.flipped=ue.flipped,xe[ce][D][te]=rt),rt=xe[ce][D][te],rt.lastTouchTime=Fe,rt}function v(D,te,ce){te.loading=!0,D._imageLoader.addJob({src:te.url,loadWithAjax:te.loadWithAjax,ajaxHeaders:te.ajaxHeaders,crossOriginPolicy:D.crossOriginPolicy,ajaxWithCredentials:D.ajaxWithCredentials,callback:function(ue,ye,xe){y(D,te,ce,ue,ye,xe)},abort:function(){te.loading=!1}})}function y(D,te,ce,ue,ye,xe){if(!ue){o.console.log("Tile %s failed to load: %s - error: %s",te,te.url,ye),D.viewer.raiseEvent("tile-load-failed",{tile:te,tiledImage:D,time:ce,message:ye,tileRequest:xe}),te.loading=!1,te.exists=!1;return}if(ce<D.lastResetTime){o.console.log("Ignoring tile %s loaded before reset: %s",te,te.url),te.loading=!1;return}var Fe=function(){var ze=D.source.getClosestLevel();w(D,te,ue,ze,xe)};D._midDraw?window.setTimeout(Fe,1):Fe()}function w(D,te,ce,ue,ye){var xe=0;function Fe(){return xe++,ze}function ze(){xe--,xe===0&&(te.loading=!1,te.loaded=!0,te.context2D||D._tileCache.cacheTile({image:ce,tile:te,cutoff:ue,tiledImage:D}),D._needsDraw=!0)}D.viewer.raiseEvent("tile-loaded",{tile:te,tiledImage:D,tileRequest:ye,image:ce,getCompletionCallback:Fe}),Fe()()}function x(D,te,ce,ue,ye,xe){var Fe=D.bounds.getTopLeft();Fe.x*=xe._scaleSpring.current.value,Fe.y*=xe._scaleSpring.current.value,Fe.x+=xe._xSpring.current.value,Fe.y+=xe._ySpring.current.value;var ze=D.bounds.getSize();ze.x*=xe._scaleSpring.current.value,ze.y*=xe._scaleSpring.current.value;var tt=ce.pixelFromPointNoRotate(Fe,!0),st=ce.pixelFromPointNoRotate(Fe,!1),nt=ce.deltaPixelsFromPointsNoRotate(ze,!0),mt=ce.deltaPixelsFromPointsNoRotate(ze,!1),ft=st.plus(mt.divide(2)),At=ue.squaredDistanceTo(ft);te||(nt=nt.plus(new o.Point(1,1))),D.isRightMost&&xe.wrapHorizontal&&(nt.x+=.75),D.isBottomMost&&xe.wrapVertical&&(nt.y+=.75),D.position=tt,D.size=nt,D.squaredDistance=At,D.visibility=ye}function E(D,te,ce,ue,ye,xe,Fe){var ze=1e3*D.blendTime,tt,st;if(te.blendStart||(te.blendStart=Fe),tt=Fe-te.blendStart,st=ze?Math.min(1,tt/ze):1,D.alwaysBlend&&(st*=xe),te.opacity=st,D.lastDrawn.push(te),st===1)F(D.coverage,ye,ce,ue,!0),D._hasOpaqueTile=!0;else if(tt<ze)return!0;return!1}function R(D,te,ce,ue){var ye,xe,Fe,ze;if(!D[te])return!1;if(ce===void 0||ue===void 0){ye=D[te];for(Fe in ye)if(Object.prototype.hasOwnProperty.call(ye,Fe)){xe=ye[Fe];for(ze in xe)if(Object.prototype.hasOwnProperty.call(xe,ze)&&!xe[ze])return!1}return!0}return D[te][ce]===void 0||D[te][ce][ue]===void 0||D[te][ce][ue]===!0}function O(D,te,ce,ue){return ce===void 0||ue===void 0?R(D,te+1):R(D,te+1,2*ce,2*ue)&&R(D,te+1,2*ce,2*ue+1)&&R(D,te+1,2*ce+1,2*ue)&&R(D,te+1,2*ce+1,2*ue+1)}function F(D,te,ce,ue,ye){if(!D[te]){o.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",te);return}D[te][ce]||(D[te][ce]={}),D[te][ce][ue]=ye}function G(D,te){D[te]={}}function re(D,te){return!D||te.visibility>D.visibility||te.visibility===D.visibility&&te.squaredDistance<D.squaredDistance?te:D}function J(D,te){if(!(D.opacity===0||te.length===0&&!D.placeholderFillStyle)){var ce=te[0],ue;ce&&(ue=D.opacity<1||D.compositeOperation&&D.compositeOperation!=="source-over"||!D._isBottomItem()&&ce._hasTransparencyChannel());var ye,xe,Fe=D.viewport.getZoom(!0),ze=D.viewportToImageZoom(Fe);te.length>1&&ze>D.smoothTileEdgesMinZoom&&!D.iOSDevice&&D.getRotation(!0)%360===0&&o.supportsCanvas&&(ue=!0,ye=ce.getScaleForEdgeSmoothing(),xe=ce.getTranslationForEdgeSmoothing(ye,D._drawer.getCanvasSize(!1),D._drawer.getCanvasSize(!0)));var tt;ue&&(ye||(tt=D.viewport.viewportToViewerElementRectangle(D.getClippedBounds(!0)).getIntegerBoundingBox(),D._drawer.viewer.viewport.getFlip()&&(D.viewport.degrees!==0||D.getRotation(!0)%360!==0)&&(tt.x=D._drawer.viewer.container.clientWidth-(tt.x+tt.width)),tt=tt.times(o.pixelDensityRatio)),D._drawer._clear(!0,tt)),ye||(D.viewport.degrees!==0&&D._drawer._offsetForRotation({degrees:D.viewport.degrees,useSketch:ue}),D.getRotation(!0)%360!==0&&D._drawer._offsetForRotation({degrees:D.getRotation(!0),point:D.viewport.pixelFromPointNoRotate(D._getRotationPoint(!0),!0),useSketch:ue}),D.viewport.degrees===0&&D.getRotation(!0)%360===0&&D._drawer.viewer.viewport.getFlip()&&D._drawer._flip());var st=!1;if(D._clip){D._drawer.saveContext(ue);var nt=D.imageToViewportRectangle(D._clip,!0);nt=nt.rotate(-D.getRotation(!0),D._getRotationPoint(!0));var mt=D._drawer.viewportToDrawerRectangle(nt);ye&&(mt=mt.times(ye)),xe&&(mt=mt.translate(xe)),D._drawer.setClip(mt,ue),st=!0}if(D._croppingPolygons){D._drawer.saveContext(ue);try{var ft=D._croppingPolygons.map(function($t){return $t.map(function(on){var rt=D.imageToViewportCoordinates(on.x,on.y,!0).rotate(-D.getRotation(!0),D._getRotationPoint(!0)),Ht=D._drawer.viewportCoordToDrawerCoord(rt);return ye&&(Ht=Ht.times(ye)),Ht})});D._drawer.clipWithPolygons(ft,ue)}catch($t){o.console.error($t)}st=!0}if(D.placeholderFillStyle&&D._hasOpaqueTile===!1){var At=D._drawer.viewportToDrawerRectangle(D.getBounds(!0));ye&&(At=At.times(ye)),xe&&(At=At.translate(xe));var Rt=null;typeof D.placeholderFillStyle=="function"?Rt=D.placeholderFillStyle(D,D._drawer.context):Rt=D.placeholderFillStyle,D._drawer.drawRectangle(At,Rt,ue)}for(var Mt=te.length-1;Mt>=0;Mt--)ce=te[Mt],D._drawer.drawTile(ce,D._drawingHandler,ue,ye,xe),ce.beingDrawn=!0,D.viewer&&D.viewer.raiseEvent("tile-drawn",{tiledImage:D,tile:ce});st&&D._drawer.restoreContext(ue),ye||(D.getRotation(!0)%360!==0&&D._drawer._restoreRotationChanges(ue),D.viewport.degrees!==0&&D._drawer._restoreRotationChanges(ue)),ue&&(ye&&(D.viewport.degrees!==0&&D._drawer._offsetForRotation({degrees:D.viewport.degrees,useSketch:!1}),D.getRotation(!0)%360!==0&&D._drawer._offsetForRotation({degrees:D.getRotation(!0),point:D.viewport.pixelFromPointNoRotate(D._getRotationPoint(!0),!0),useSketch:!1})),D._drawer.blendSketch({opacity:D.opacity,scale:ye,translate:xe,compositeOperation:D.compositeOperation,bounds:tt}),ye&&(D.getRotation(!0)%360!==0&&D._drawer._restoreRotationChanges(!1),D.viewport.degrees!==0&&D._drawer._restoreRotationChanges(!1))),ye||D.viewport.degrees===0&&D.getRotation(!0)%360===0&&D._drawer.viewer.viewport.getFlip()&&D._drawer._flip(),se(D,te)}}function se(D,te){if(D.debugMode)for(var ce=te.length-1;ce>=0;ce--){var ue=te[ce];try{D._drawer.drawDebugInfo(ue,te.length,ce,D)}catch(ye){o.console.error(ye)}}}}(u),function(o){var l=function(f){o.console.assert(f,"[TileCache.cacheTile] options is required"),o.console.assert(f.tile,"[TileCache.cacheTile] options.tile is required"),o.console.assert(f.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=f.tile,this.tiledImage=f.tiledImage},d=function(f){o.console.assert(f,"[ImageRecord] options is required"),o.console.assert(f.image,"[ImageRecord] options.image is required"),this._image=f.image,this._tiles=[]};d.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var f=document.createElement("canvas");f.width=this._image.width,f.height=this._image.height,this._renderedContext=f.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(f){o.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=f},addTile:function(f){o.console.assert(f,"[ImageRecord.addTile] tile is required"),this._tiles.push(f)},removeTile:function(f){for(var v=0;v<this._tiles.length;v++)if(this._tiles[v]===f){this._tiles.splice(v,1);return}o.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",f)},getTileCount:function(){return this._tiles.length}},o.TileCache=function(f){f=f||{},this._maxImageCacheCount=f.maxImageCacheCount||o.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},o.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(f){o.console.assert(f,"[TileCache.cacheTile] options is required"),o.console.assert(f.tile,"[TileCache.cacheTile] options.tile is required"),o.console.assert(f.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),o.console.assert(f.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var v=f.cutoff||0,y=this._tilesLoaded.length,w=this._imagesLoaded[f.tile.cacheKey];if(w||(o.console.assert(f.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),w=this._imagesLoaded[f.tile.cacheKey]=new d({image:f.image}),this._imagesLoadedCount++),w.addTile(f.tile),f.tile.cacheImageRecord=w,this._imagesLoadedCount>this._maxImageCacheCount){for(var x=null,E=-1,R=null,O,F,G,re,J,se,D=this._tilesLoaded.length-1;D>=0;D--)if(se=this._tilesLoaded[D],O=se.tile,!(O.level<=v||O.beingDrawn)){if(!x){x=O,E=D,R=se;continue}re=O.lastTouchTime,F=x.lastTouchTime,J=O.level,G=x.level,(re<F||re===F&&J>G)&&(x=O,E=D,R=se)}x&&E>=0&&(this._unloadTile(R),y=E)}this._tilesLoaded[y]=new l({tile:f.tile,tiledImage:f.tiledImage})},clearTilesFor:function(f){o.console.assert(f,"[TileCache.clearTilesFor] tiledImage is required");for(var v,y=0;y<this._tilesLoaded.length;++y)v=this._tilesLoaded[y],v.tiledImage===f&&(this._unloadTile(v),this._tilesLoaded.splice(y,1),y--)},getImageRecord:function(f){return o.console.assert(f,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[f]},_unloadTile:function(f){o.console.assert(f,"[TileCache._unloadTile] tileRecord is required");var v=f.tile,y=f.tiledImage;v.unload(),v.cacheImageRecord=null;var w=this._imagesLoaded[v.cacheKey];w.removeTile(v),w.getTileCount()||(w.destroy(),delete this._imagesLoaded[v.cacheKey],this._imagesLoadedCount--),y.viewer.raiseEvent("tile-unloaded",{tile:v,tiledImage:y})}}}(u),function(o){o.World=function(l){var d=this;o.console.assert(l.viewer,"[World] options.viewer is required"),o.EventSource.call(this),this.viewer=l.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(f){d._autoRefigureSizes?d._figureSizes():d._needsSizesFigured=!0},this._figureSizes()},o.extend(o.World.prototype,o.EventSource.prototype,{addItem:function(l,d){if(o.console.assert(l,"[World.addItem] item is required"),o.console.assert(l instanceof o.TiledImage,"[World.addItem] only TiledImages supported at this time"),d=d||{},d.index!==void 0){var f=Math.max(0,Math.min(this._items.length,d.index));this._items.splice(f,0,l)}else this._items.push(l);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,l.addHandler("bounds-change",this._delegatedFigureSizes),l.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:l})},getItemAt:function(l){return o.console.assert(l!==void 0,"[World.getItemAt] index is required"),this._items[l]},getIndexOfItem:function(l){return o.console.assert(l,"[World.getIndexOfItem] item is required"),o.indexOf(this._items,l)},getItemCount:function(){return this._items.length},setItemIndex:function(l,d){o.console.assert(l,"[World.setItemIndex] item is required"),o.console.assert(d!==void 0,"[World.setItemIndex] index is required");var f=this.getIndexOfItem(l);if(d>=this._items.length)throw new Error("Index bigger than number of layers.");d===f||f===-1||(this._items.splice(f,1),this._items.splice(d,0,l),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:l,previousIndex:f,newIndex:d}))},removeItem:function(l){o.console.assert(l,"[World.removeItem] item is required");var d=o.indexOf(this._items,l);d!==-1&&(l.removeHandler("bounds-change",this._delegatedFigureSizes),l.removeHandler("clip-change",this._delegatedFigureSizes),l.destroy(),this._items.splice(d,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(l))},removeAll:function(){this.viewer._cancelPendingImages();var l,d;for(d=0;d<this._items.length;d++)l=this._items[d],l.removeHandler("bounds-change",this._delegatedFigureSizes),l.removeHandler("clip-change",this._delegatedFigureSizes),l.destroy();var f=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,d=0;d<f.length;d++)l=f[d],this._raiseRemoveItem(l)},resetItems:function(){for(var l=0;l<this._items.length;l++)this._items[l].reset()},update:function(){for(var l=!1,d=0;d<this._items.length;d++)l=this._items[d].update()||l;return l},draw:function(){for(var l=0;l<this._items.length;l++)this._items[l].draw();this._needsDraw=!1},needsDraw:function(){for(var l=0;l<this._items.length;l++)if(this._items[l].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(l){this._autoRefigureSizes=l,l&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(l){l=l||{};var d=l.immediately||!1,f=l.layout||o.DEFAULT_SETTINGS.collectionLayout,v=l.rows||o.DEFAULT_SETTINGS.collectionRows,y=l.columns||o.DEFAULT_SETTINGS.collectionColumns,w=l.tileSize||o.DEFAULT_SETTINGS.collectionTileSize,x=l.tileMargin||o.DEFAULT_SETTINGS.collectionTileMargin,E=w+x,R;!l.rows&&y?R=y:R=Math.ceil(this._items.length/v);var O=0,F=0,G,re,J,se,D;this.setAutoRefigureSizes(!1);for(var te=0;te<this._items.length;te++)te&&te%R===0&&(f==="horizontal"?(F+=E,O=0):(O+=E,F=0)),G=this._items[te],re=G.getBounds(),re.width>re.height?J=w:J=w*(re.width/re.height),se=J*(re.height/re.width),D=new o.Point(O+(w-J)/2,F+(w-se)/2),G.setPosition(D,d),G.setWidth(J,d),f==="horizontal"?O+=E:F+=E;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var l=this._homeBounds?this._homeBounds.clone():null,d=this._contentSize?this._contentSize.clone():null,f=this._contentFactor||0;if(!this._items.length)this._homeBounds=new o.Rect(0,0,1,1),this._contentSize=new o.Point(1,1),this._contentFactor=1;else{var v=this._items[0],y=v.getBounds();this._contentFactor=v.getContentSize().x/y.width;for(var w=v.getClippedBounds().getBoundingBox(),x=w.x,E=w.y,R=w.x+w.width,O=w.y+w.height,F=1;F<this._items.length;F++)v=this._items[F],y=v.getBounds(),this._contentFactor=Math.max(this._contentFactor,v.getContentSize().x/y.width),w=v.getClippedBounds().getBoundingBox(),x=Math.min(x,w.x),E=Math.min(E,w.y),R=Math.max(R,w.x+w.width),O=Math.max(O,w.y+w.height);this._homeBounds=new o.Rect(x,E,R-x,O-E),this._contentSize=new o.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==f||!this._homeBounds.equals(l)||!this._contentSize.equals(d))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(l){this.raiseEvent("remove-item",{item:l})}})}(u)})(TT);var $i=TT.exports;const Ut="http://www.w3.org/2000/svg",vm=s=>{const u=s.getAttribute("class");return u?new Set(u.split(" ")):new Set},Ri=(s,u)=>{const o=vm(s);o.add(u),s.setAttribute("class",Array.from(o).join(" "))},ad=(s,u)=>{const o=vm(s);o.delete(u),o.size===0?s.removeAttribute("class"):s.setAttribute("class",Array.from(o).join(" "))},ym=(s,u)=>vm(s).has(u),Zi=(s,u)=>{const o=s.selector("FragmentSelector");if(o!=null&&o.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:l}=o,d=l.includes(":")?l.substring(l.indexOf("=")+1,l.indexOf(":")):"pixel",f=l.includes(":")?l.substring(l.indexOf(":")+1):l.substring(l.indexOf("=")+1);let[v,y,w,x]=f.split(",").map(parseFloat);return d.toLowerCase()==="percent"&&(v=v*u.naturalWidth/100,y=y*u.naturalHeight/100,w=w*u.naturalWidth/100,x=x*u.naturalHeight/100),{x:v,y,w,h:x}}},pV=(s,u,o,l,d)=>({source:d==null?void 0:d.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${s},${u},${o},${l}`}}),fV=(s,u,o,l,d)=>{const f=s/d.naturalWidth*100,v=u/d.naturalHeight*100,y=o/d.naturalWidth*100,w=l/d.naturalHeight*100;return{source:d.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${f},${v},${y},${w}`}}},Vs=(s,u,o,l,d,f)=>(f==null?void 0:f.toLowerCase())==="percent"?fV(s,u,o,l,d):pV(s,u,o,l,d),ld=(s,u,o,l,d)=>{s.setAttribute("x",u),s.setAttribute("y",o),s.setAttribute("width",l),s.setAttribute("height",d)},ud=(s,u,o)=>{s.setAttribute("cx",u),s.setAttribute("cy",o),s.setAttribute("r",7)},CT=(s,u,o,l,d)=>{const f=document.createElementNS(Ut,"path");f.setAttribute("fill-rule","evenodd");const{naturalWidth:v,naturalHeight:y}=s;return f.setAttribute("d",`M0 0 h${v} v${y} h-${v} z M${u} ${o} h${l} v${d} h-${l} z`),f},PT=(s,u,o,l,d,f)=>{const{naturalWidth:v,naturalHeight:y}=u;s.setAttribute("d",`M0 0 h${v} v${y} h-${v} z M${o} ${l} h${d} v${f} h-${d} z`)},wm=(s,u,o,l)=>{const{x:d,y:f,w:v,h:y}=s.type==="Annotation"||s.type==="Selection"?Zi(s,u):{x:s,y:u,w:o,h:l},w=document.createElementNS(Ut,"g");if(v===0&&y===0){Ri(w,"a9s-point"),Ri(w,"a9s-non-scaling"),w.setAttribute("transform-origin",`${d} ${f}`);const x=document.createElementNS(Ut,"circle"),E=document.createElementNS(Ut,"circle");E.setAttribute("class","a9s-inner"),ud(E,d,f),x.setAttribute("class","a9s-outer"),ud(x,d,f),w.appendChild(x),w.appendChild(E)}else{const x=document.createElementNS(Ut,"rect"),E=document.createElementNS(Ut,"rect");E.setAttribute("class","a9s-inner"),ld(E,d,f,v,y),x.setAttribute("class","a9s-outer"),ld(x,d,f,v,y),w.appendChild(x),w.appendChild(E)}return w},xm=s=>{const u=s.querySelector(".a9s-outer");if(u.nodeName==="rect"){const o=parseFloat(u.getAttribute("x")),l=parseFloat(u.getAttribute("y")),d=parseFloat(u.getAttribute("width")),f=parseFloat(u.getAttribute("height"));return{x:o,y:l,w:d,h:f}}else{const o=parseFloat(u.getAttribute("cx")),l=parseFloat(u.getAttribute("cy"));return{x:o,y:l,w:0,h:0}}},kT=(s,u,o,l,d)=>{const f=s.querySelector(".a9s-inner"),v=s.querySelector(".a9s-outer");v.nodeName==="rect"?(ld(f,u,o,l,d),ld(v,u,o,l,d)):(ud(f,u,o),ud(v,u,o))},mV=(s,u)=>{const{w:o,h:l}=Zi(s,u);return o*l};class gV{constructor(u,o,l,d,f){i(this,"dragTo",(v,y)=>{this.group.style.display=null,this.opposite=[v,y];const{x:w,y:x,w:E,h:R}=this.bbox;PT(this.mask,this.env.image,w,x,E,R),kT(this.rect,w,x,E,R)}),i(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),i(this,"toSelection",()=>{const{x:v,y,w,h:x}=this.bbox;return new vl(Vs(v,y,w,x,this.env.image,this.config.fragmentUnit))}),i(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[u,o],this.opposite=[u,o],this.config=d,this.env=f,this.group=document.createElementNS(Ut,"g"),this.mask=CT(f.image,u,o,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=wm(u,o,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),l.appendChild(this.group)}get bbox(){const u=this.opposite[0]-this.anchor[0],o=this.opposite[1]-this.anchor[1];return{x:u>0?this.anchor[0]:this.opposite[0],y:o>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(u)),h:Math.max(1,Math.abs(o))}}get element(){return this.rect}}const vV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},bm=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,yV=s=>{let u=null;const o=(d,f)=>new MouseEvent(d,{screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY,pageX:f.pageX,pageY:f.pageY,bubbles:!0}),l=d=>{const f=d.changedTouches[0],v=o(vV[d.type],f);f.target.dispatchEvent(v),d.preventDefault(),(d.type==="touchstart"||d.type==="touchmove")&&(u&&clearTimeout(u),u=setTimeout(()=>{const y=o("dblclick",f);f.target.dispatchEvent(y)},800)),d.type==="touchend"&&u&&clearTimeout(u)};s.addEventListener("touchstart",l,!0),s.addEventListener("touchmove",l,!0),s.addEventListener("touchend",l,!0),s.addEventListener("touchcancel",l,!0)},cd="An implementation is missing",wV=bm();class _T extends ac{constructor(u,o,l){super(),i(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{const f=this.svg.getBoundingClientRect(),{width:v,height:y}=this.svg.viewBox.baseVal;this.scale=Math.max(v/f.width,y/f.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),i(this,"getSVGPoint",f=>{const v=this.svg.createSVGPoint();if(wV){const y=this.svg.getBoundingClientRect(),w=f.clientX-y.x,x=f.clientY-y.y,{left:E,top:R}=this.svg.getBoundingClientRect();return v.x=w+E,v.y=x+R,v.matrixTransform(this.g.getScreenCTM().inverse())}else return v.x=f.offsetX,v.y=f.offsetY,v.matrixTransform(this.g.getCTM().inverse())}),i(this,"drawHandle",(f,v)=>{const y=document.createElementNS(Ut,"g");y.setAttribute("class","a9s-handle");const w=document.createElementNS(Ut,"g"),x=F=>{const G=document.createElementNS(Ut,"circle");return G.setAttribute("cx",f),G.setAttribute("cy",v),G.setAttribute("r",F),G.setAttribute("transform-origin",`${f} ${v}`),G},E=this.config.handleRadius||6,R=x(E);R.setAttribute("class","a9s-handle-inner");const O=x(E+1);return O.setAttribute("class","a9s-handle-outer"),w.appendChild(O),w.appendChild(R),y.appendChild(w),y}),i(this,"setHandleXY",(f,v,y)=>{const w=f.querySelector(".a9s-handle-inner");w.setAttribute("cx",v),w.setAttribute("cy",y),w.setAttribute("transform-origin",`${v} ${y}`);const x=f.querySelector(".a9s-handle-outer");x.setAttribute("cx",v),x.setAttribute("cy",y),x.setAttribute("transform-origin",`${v} ${y}`)}),i(this,"getHandleXY",f=>{const v=f.querySelector(".a9s-handle-outer");return{x:parseFloat(v.getAttribute("cx")),y:parseFloat(v.getAttribute("cy"))}}),i(this,"scaleHandle",f=>{const v=f.querySelector(".a9s-handle-inner"),y=f.querySelector(".a9s-handle-outer"),w=this.scale*(this.config.handleRadius||6);v.setAttribute("r",w),y.setAttribute("r",w)}),this.svg=u.closest("svg"),this.g=u,this.config=o,this.env=l,this.scale=1;const{image:d}=l;(d instanceof Element||d instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class Sm extends _T{constructor(u,o,l){super(u,o,l),i(this,"attachListeners",({mouseMove:d,mouseUp:f,dblClick:v})=>{d&&(this.mouseMove=y=>{const{x:w,y:x}=this.getSVGPoint(y);this.started||(this.emit("startSelection",{x:w,y:x}),this.started=!0),d(w,x,y)},this.svg.addEventListener("mousemove",this.mouseMove)),f&&(this.mouseUp=y=>{if(y.button!==0)return;const{x:w,y:x}=this.getSVGPoint(y);f(w,x,y)},document.addEventListener("mouseup",this.mouseUp)),v&&(this.dblClick=y=>{const{x:w,y:x}=this.getSVGPoint(y);v(w,x,y)},document.addEventListener("dblclick",this.dblClick))}),i(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),i(this,"start",(d,f)=>{const{x:v,y}=this.getSVGPoint(d);this.startDrawing(v,y,f,d)}),i(this,"startDrawing",d=>{throw new Error(cd)}),i(this,"createEditableShape",(d,f)=>{throw new Error(cd)}),this.started=!1}get isDrawing(){throw new Error(cd)}}Sm.supports=s=>{throw new Error(cd)};const RT="An implementation is missing";class OT extends _T{constructor(u,o,l,d){super(o,l,d),i(this,"updateState",f=>{throw new Error(RT)}),this.annotation=u}get element(){throw new Error(RT)}}const xV=/firefox/i.test(navigator.userAgent),AT=(s,u,o,l,d)=>{s.setAttribute("width",l),s.setAttribute("height",d),xV?(s.setAttribute("x",0),s.setAttribute("y",0),s.setAttribute("transform",`translate(${u}, ${o})`)):(s.setAttribute("x",u),s.setAttribute("y",o))},bV=(s,u)=>{const{x:o,y:l,width:d,height:f}=u.getBBox(),v=document.createElementNS(Ut,"svg");v.setAttribute("class","a9s-formatter-el"),AT(v,o,l,d,f);const y=document.createElementNS(Ut,"g");y.appendChild(s),v.appendChild(y),u.append(v)},dd=(s,u,o)=>{if(!o)return s;const l=o.reduce((y,w)=>{const x=w(u);if(!x)return y;if(typeof x=="string"||x instanceof String)y.className=y.className?`${y.className} ${x}`:x;else if(x.nodeType===Node.ELEMENT_NODE)y.elements=y.elements?[...y.elements,x]:[x];else{const{className:E,style:R,element:O}=x;E&&(y.className=y.className?`${y.className} ${E}`:E),R&&(y.style=y.style?`${y.style} ${R}`:R),O&&(y.elements=y.elements?[...y.elements,O]:[O])}for(const E in x)x.hasOwnProperty(E)&&E.startsWith("data-")&&(y[E]=x[E]);return y},{}),{className:d,style:f,elements:v}=l;if(d&&Ri(s,d),f){const y=s.querySelector(".a9s-outer"),w=s.querySelector(".a9s-inner");y&&w?(y.setAttribute("style","display:none"),w.setAttribute("style",f)):s.setAttribute("style",f)}v&&v.forEach(y=>bV(y,s));for(const y in l)l.hasOwnProperty(y)&&y.startsWith("data-")&&s.setAttribute(y,l[y])},DT=(s,u,o,l,d)=>{const f=s.querySelector(".a9s-formatter-el");f&&AT(f,u,o,l,d)},yl="corner",hd="edge";class SV extends OT{constructor(u,o,l,d){super(u,o,l,d),i(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),i(this,"setSize",(E,R,O,F)=>{kT(this.rectangle,E,R,O,F),PT(this.mask,this.env.image,E,R,O,F),DT(this.elementGroup,E,R,O,F);const[G,re,J,se,D,te,ce,ue]=this.handles;this.setHandleXY(G,E,R),this.setHandleXY(re,E+O,R),this.setHandleXY(J,E+O,R+F),this.setHandleXY(se,E,R+F),this.enableEdgeControls&&(this.setHandleXY(D,E+O/2,R),this.setHandleXY(te,E+O,R+F/2),this.setHandleXY(ce,E+O/2,R+F),this.setHandleXY(ue,E,R+F/2))}),i(this,"stretchCorners",(E,R,O)=>{const F=this.getHandleXY(R),G=O.x-F.x,re=O.y-F.y,J=G>0?F.x:O.x,se=re>0?F.y:O.y,D=Math.abs(G),te=Math.abs(re);return this.setSize(J,se,D,te),{x:J,y:se,w:D,h:te}}),i(this,"stretchEdge",(E,R,O)=>{const F=this.getHandleXY(R),G=xm(this.rectangle),re=E%2===0,J=re?G.w:O.x-F.x,se=re?O.y-F.y:G.h,D=re?G.x:J>0?F.x:O.x,te=re?se>0?F.y:O.y:G.y,ce=Math.abs(J),ue=Math.abs(se);return this.setSize(D,te,ce,ue),{x:D,y:te,w:ce,h:ue}}),i(this,"onGrab",(E,R)=>O=>{if(O.button!==0)return;this.grabbedElem=E,this.grabbedType=R;const F=this.getSVGPoint(O),{x:G,y:re}=xm(this.rectangle);this.mouseOffset={x:F.x-G,y:F.y-re}}),i(this,"onMouseMove",E=>{if(E.button!==0)return;const R=(O,F)=>O<0?0:O>F?F:O;if(this.grabbedElem){const O=this.getSVGPoint(E);if(this.grabbedElem===this.rectangle){const{w:F,h:G}=xm(this.rectangle),{naturalWidth:re,naturalHeight:J}=this.env.image,se=R(O.x-this.mouseOffset.x,re-F),D=R(O.y-this.mouseOffset.y,J-G);this.setSize(se,D,F,G),this.emit("update",Vs(se,D,F,G,this.env.image,this.config.fragmentUnit))}else{const F=this.handles.indexOf(this.grabbedElem),G=this.handles[F^2],{x:re,y:J,w:se,h:D}=this.grabbedType===yl?this.stretchCorners(F,G,O):this.stretchEdge(F,G,O);this.emit("update",Vs(re,J,se,D,this.env.image,this.config.fragmentUnit))}}}),i(this,"onMouseUp",E=>{this.grabbedElem=null,this.grabbedType=null,this.mouseOffset=null}),i(this,"updateState",E=>{const{x:R,y:O,w:F,h:G}=Zi(E,this.env.image);this.setSize(R,O,F,G)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:f,y:v,w:y,h:w}=Zi(u,d.image);this.containerGroup=document.createElementNS(Ut,"g"),this.mask=CT(d.image,f,v,y,w),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(Ut,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",u.id),this.rectangle=wm(f,v,y,w),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.enableEdgeControls=l.enableEdgeControls;const x=this.enableEdgeControls?[[f+y/2,v,hd],[f+y,v+w/2,hd],[f+y/2,v+w,hd],[f,v+w/2,hd]]:[];this.handles=[[f,v,yl],[f+y,v,yl],[f+y,v+w,yl],[f,v+w,yl],...x].map(E=>{const[R,O,F]=E,G=this.drawHandle(R,O);return G.addEventListener("mousedown",this.onGrab(G,F)),this.elementGroup.appendChild(G),G}),this.containerGroup.appendChild(this.elementGroup),o.appendChild(this.containerGroup),dd(this.rectangle,u,l.formatters),this.grabbedElem=null,this.grabbedType=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class pd extends Sm{constructor(u,o,l){super(u,o,l),i(this,"startDrawing",(d,f)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new gV(d,f,this.g,this.config,this.env)}),i(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),i(this,"onMouseMove",(d,f)=>this.rubberband.dragTo(d,f)),i(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;const{width:d,height:f}=this.rubberband.getBoundingClientRect(),v=this.config.minSelectionWidth||4,y=this.config.minSelectionHeight||4;if(d>=v&&f>=y){const{element:w}=this.rubberband;w.annotation=this.rubberband.toSelection(),this.emit("complete",w)}else this.emit("cancel");this.stop()}),i(this,"createEditableShape",(d,f)=>new SV(d,this.g,{...this.config,formatters:f},this.env)),this.rubberband=null}get isDrawing(){return this.rubberband!=null}}pd.identifier="rect",pd.supports=s=>{const u=s.selector("FragmentSelector");return u==null?void 0:u.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const fd=s=>{let u=0,o=s.length-1;for(let l=0;l<s.length;l++)u+=(s[o][0]+s[l][0])*(s[o][1]-s[l][1]),o=l;return Math.abs(.5*u)},EV=(s,u,o,l)=>{const d=s[0]-u,f=s[1]-o;return Math.sqrt(d*d+f*f)<=l},TV=(s,u,o,l,d,f)=>{const v=Math.cos(0),y=Math.sin(0),w=s[0]-u,x=s[1]-o,E=v*w+y*x,R=y*w-v*x;return E*E/(l*l)+R*R/(d*d)<=1},Em=(s,u)=>{const o=s[0],l=s[1];let d=!1;for(let f=0,v=u.length-1;f<u.length;v=f++){const y=u[f][0],w=u[f][1],x=u[v][0],E=u[v][1];w>l!=E>l&&o<(x-y)*(l-w)/(E-w)+y&&(d=!d)}return d},CV=(s,u)=>{for(let o of s)if(!Em(o,u))return!1;return!0},PV=(s,u,o,l,d,f)=>{const v=s[0],y=s[1],w=l-u,x=d-o,E=Math.sqrt(w*w+x*x);return Math.abs((v-u)*x-(y-o)*w)/E<=f},MT=s=>{const u=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(d=>d.trim()),o=[];let l=[];for(let d of u){const f=d.substring(0,1);if(f.toLowerCase()==="z")o.push([...l]),l=[];else{const v=d.substring(1).split(" ").map(E=>parseFloat(E.trim())),y=f===f.toUpperCase(),w=y?v[0]:v[0]+l[l.length-1][0],x=y?v[1]:v[1]+l[l.length-1][1];l.push([w,x])}}return l.length>0&&o.push([...l]),o},kV=s=>{const u=new XMLSerializer().serializeToString(s.documentElement).replace("<svg>",`<svg xmlns="${Ut}">`);return new DOMParser().parseFromString(u,"image/svg+xml").documentElement},IT=s=>{const u=l=>{Array.from(l.attributes).forEach(d=>{d.name.startsWith("on")&&l.removeAttribute(d.name)})},o=s.getElementsByTagName("script");return Array.from(o).reverse().forEach(l=>l.parentNode.removeChild(l)),u(s),Array.from(s.querySelectorAll("*")).forEach(u),s},Ho=s=>{const u=s.selector("SvgSelector");if(u){const o=new DOMParser,{value:l}=u,d=o.parseFromString(l,"image/svg+xml"),f=d.lookupPrefix(Ut),v=d.lookupNamespaceURI(null);return f||v?IT(d).firstChild:IT(kV(d)).firstChild}},LT=s=>{const u=Ho(s),o=document.createElementNS(Ut,"g"),l=u.cloneNode(!0);l.setAttribute("class","a9s-inner");const d=u.cloneNode(!0);return d.setAttribute("class","a9s-outer"),o.appendChild(d),o.appendChild(l),o},Tm=(s,u)=>{const o=s.querySelector(".a9s-inner").cloneNode(!0);o.removeAttribute("class"),o.removeAttribute("xmlns");let l=o.outerHTML||new XMLSerializer().serializeToString(o);return l=l.replace(` xmlns="${Ut}"`,""),{source:u==null?void 0:u.src,selector:{type:"SvgSelector",value:`<svg>${l}</svg>`}}},_V=s=>{const u=Ho(s),o=u.nodeName.toLowerCase();if(o==="polygon")return RV(u);if(o==="circle")return OV(u);if(o==="ellipse")return AV(u);if(o=="path")return DV(u);if(o=="line")return 0;throw`Unsupported SVG shape type: ${o}`},RV=s=>{const u=s.getAttribute("points").trim().split(" ").map(o=>o.split(",").map(l=>parseFloat(l.trim())));return fd(u)},OV=s=>{const u=s.getAttribute("r");return u*u*Math.PI},AV=s=>{const u=s.getAttribute("rx"),o=s.getAttribute("ry");return u*o*Math.PI},DV=s=>{const u=MT(s);if(u.length==1)return fd(u[0]);{const o=d=>u.find(f=>{if(d!==f)return CV(d,f)});let l=0;for(let d of u)o(d)?l-=fd(d):l+=fd(d);return l}};class jT{constructor(u,o){i(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),i(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=u.naturalWidth,this.h=u.naturalHeight,this.polygon=o,this.mask=document.createElementNS(Ut,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class MV{constructor(u,o,l){i(this,"setPoints",d=>{const f=d.map(v=>`${v[0]},${v[1]}`).join(" ");this.outer.setAttribute("points",f),this.inner.setAttribute("points",f)}),i(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),i(this,"dragTo",d=>{this.group.style.display=null,this.mousepos=d;const f=[...this.points,d];this.setPoints(f),this.mask.redraw()}),i(this,"addPoint",()=>{const[d,f]=this.mousepos,v=this.points[this.points.length-1];Math.pow(d-v[0],2)+Math.pow(f-v[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),i(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),i(this,"toSelection",()=>new vl(Tm(this.group,this.env.image))),this.points=[u],this.env=l,this.mousepos=u,this.group=document.createElementNS(Ut,"g"),this.polygon=document.createElementNS(Ut,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(Ut,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(Ut,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new jT(l.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),o.appendChild(this.group)}get element(){return this.polygon}}const Cm=s=>{const u=s.querySelector(".a9s-inner").points,o=[];for(let l=0;l<u.numberOfItems;l++)o.push(u.getItem(l));return o},IV=s=>s.querySelector(".a9s-inner").getBBox();class LV extends OT{constructor(u,o,l,d){super(u,o,l,d),i(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),i(this,"setPoints",f=>{const v=F=>Math.round(10*F)/10,y=f.map(F=>`${v(F.x)},${v(F.y)}`).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",y);const w=this.shape.querySelector(".a9s-outer");w.setAttribute("points",y),this.mask.redraw();const{x,y:E,width:R,height:O}=w.getBBox();DT(this.elementGroup,x,E,R,O)}),i(this,"onGrab",f=>v=>{v.button===0&&(this.grabbedElem=f,this.grabbedAt=this.getSVGPoint(v))}),i(this,"onMouseMove",f=>{const v=(y,w,x)=>y+w<0?-y:y+w>x?x-y:w;if(this.grabbedElem){const y=this.getSVGPoint(f);if(this.grabbedElem===this.shape){const{x:w,y:x,width:E,height:R}=IV(this.shape),{naturalWidth:O,naturalHeight:F}=this.env.image,G=v(w,y.x-this.grabbedAt.x,O-E),re=v(x,y.y-this.grabbedAt.y,F-R),J=Cm(this.shape).map(se=>({x:se.x+G,y:se.y+re}));this.grabbedAt=y,this.setPoints(J),J.forEach((se,D)=>this.setHandleXY(this.handles[D],se.x,se.y)),this.emit("update",Tm(this.shape,this.env.image))}else{const w=this.handles.indexOf(this.grabbedElem),x=Cm(this.shape).map((E,R)=>R===w?y:E);this.setPoints(x),this.setHandleXY(this.handles[w],y.x,y.y),this.emit("update",Tm(this.shape,this.env.image))}}}),i(this,"onMouseUp",f=>{this.grabbedElem=null,this.grabbedAt=null}),i(this,"updateState",f=>{const v=Ho(f).getAttribute("points").split(" ").map(y=>{const[w,x]=y.split(",").map(E=>parseFloat(E.trim()));return{x:w,y:x}});this.setPoints(v),v.forEach((y,w)=>this.setHandleXY(this.handles[w],y.x,y.y))}),i(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(Ut,"g"),this.shape=LT(u),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new jT(d.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(Ut,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",u.id),this.elementGroup.appendChild(this.shape),this.handles=Cm(this.shape).map(f=>{const v=this.drawHandle(f.x,f.y);return v.addEventListener("mousedown",this.onGrab(v)),this.elementGroup.appendChild(v),v}),this.containerGroup.appendChild(this.elementGroup),o.appendChild(this.containerGroup),dd(this.shape,u,l.formatters),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class Pm extends Sm{constructor(u,o,l){super(u,o,l),i(this,"startDrawing",(d,f,v)=>{this._isDrawing=!0,this._startOnSingleClick=v,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new MV([d,f],this.g,this.env)}),i(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),i(this,"onMouseMove",(d,f)=>this.rubberband.dragTo([d,f])),i(this,"onMouseUp",()=>{const{width:d,height:f}=this.rubberband.getBoundingClientRect(),v=this.config.minSelectionWidth||4,y=this.config.minSelectionHeight||4;d>=v||f>=y?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),i(this,"onDblClick",()=>{this._isDrawing=!1;const d=this.rubberband.element;d.annotation=this.rubberband.toSelection(),this.emit("complete",d),this.stop()}),i(this,"createEditableShape",(d,f)=>new LV(d,this.g,{...this.config,formatters:f},this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}Pm.identifier="polygon",Pm.supports=s=>{var u;const o=s.selector("SvgSelector");if(o)return(u=o.value)==null?void 0:u.match(/^<svg.*<polygon/g)};class jV extends ac{constructor(u,o,l){super(),i(this,"listTools",()=>this._registered.map(d=>d.identifier)),i(this,"registerTool",d=>{const f=d.identifier;this.listTools().includes(f)&&this.unregisterTool(f),this._registered.unshift(d)}),i(this,"unregisterTool",d=>this._registered=this._registered.filter(f=>f.identifier!==d)),i(this,"setCurrent",d=>{this._current&&this._current.destroy();const f=typeof d=="string"||d instanceof String?this._registered.find(v=>v.identifier===d):d;this._current=new f(this._g,this._config,this._env),this._current.on("startSelection",v=>this.emit("startSelection",v)),this._current.on("complete",v=>this.emit("complete",v)),this._current.on("cancel",v=>this.emit("cancel",v))}),i(this,"forAnnotation",d=>{var f;const[v,...y]=d.targets,w=(f=v.renderedVia)==null?void 0:f.name,x=w?this._registered.find(E=>E.identifier===w):this._registered.find(E=>E.supports(d));return x?new x(this._g,this._config,this._env):null}),this._g=u,this._config=o,this._env=l,this._registered=[pd,Pm],this.setCurrent(pd)}get current(){return this._current}}const NV={FragmentSelector:wm,SvgSelector:LT},FV={FragmentSelector:mV,SvgSelector:_V},NT=s=>{const u=s.targets[0];if(u)return Array.isArray(u.selector)?u.selector[0]:u.selector},km=(s,u)=>NV[NT(s).type](s,u),FT=(s,u)=>FV[NT(s).type](s,u);class BV{constructor(u){const o=document.createElementNS(Ut,"svg");o.setAttribute("class","a9s-osd-crosshair-container");const l=document.createElementNS(Ut,"g");l.setAttribute("class","a9s-crosshair"),o.appendChild(l);const d=document.createElementNS(Ut,"line"),f=document.createElementNS(Ut,"line");l.appendChild(d),l.appendChild(f),u.parentElement.appendChild(o);const v=y=>{const{offsetX:w,offsetY:x}=y,E=u.parentElement.offsetWidth,R=u.parentElement.offsetHeight;d.setAttribute("x1",0),d.setAttribute("y1",x),d.setAttribute("x2",E),d.setAttribute("y2",x),f.setAttribute("x1",w),f.setAttribute("y1",0),f.setAttribute("x2",w),f.setAttribute("y2",R)};u.addEventListener("pointermove",v),u.parentElement.addEventListener("pointermove",v)}}function HV(s,u,o,l,d){BT(s,u,o||0,l||s.length-1,d||zV)}function BT(s,u,o,l,d){for(;l>o;){if(l-o>600){var f=l-o+1,v=u-o+1,y=Math.log(f),w=.5*Math.exp(2*y/3),x=.5*Math.sqrt(y*w*(f-w)/f)*(v-f/2<0?-1:1),E=Math.max(o,Math.floor(u-v*w/f+x)),R=Math.min(l,Math.floor(u+(f-v)*w/f+x));BT(s,u,E,R,d)}var O=s[u],F=o,G=l;for(wl(s,o,u),d(s[l],O)>0&&wl(s,o,l);F<G;){for(wl(s,F,G),F++,G--;d(s[F],O)<0;)F++;for(;d(s[G],O)>0;)G--}d(s[o],O)===0?wl(s,o,G):(G++,wl(s,G,l)),G<=u&&(o=G+1),u<=G&&(l=G-1)}}function wl(s,u,o){var l=s[u];s[u]=s[o],s[o]=l}function zV(s,u){return s<u?-1:s>u?1:0}class VV{constructor(u=9){this._maxEntries=Math.max(4,u),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(u){let o=this.data;const l=[];if(!gd(u,o))return l;const d=this.toBBox,f=[];for(;o;){for(let v=0;v<o.children.length;v++){const y=o.children[v],w=o.leaf?d(y):y;gd(u,w)&&(o.leaf?l.push(y):Rm(u,w)?this._all(y,l):f.push(y))}o=f.pop()}return l}collides(u){let o=this.data;if(!gd(u,o))return!1;const l=[];for(;o;){for(let d=0;d<o.children.length;d++){const f=o.children[d],v=o.leaf?this.toBBox(f):f;if(gd(u,v)){if(o.leaf||Rm(u,v))return!0;l.push(f)}}o=l.pop()}return!1}load(u){if(!(u&&u.length))return this;if(u.length<this._minEntries){for(let l=0;l<u.length;l++)this.insert(u[l]);return this}let o=this._build(u.slice(),0,u.length-1,0);if(!this.data.children.length)this.data=o;else if(this.data.height===o.height)this._splitRoot(this.data,o);else{if(this.data.height<o.height){const l=this.data;this.data=o,o=l}this._insert(o,this.data.height-o.height-1,!0)}return this}insert(u){return u&&this._insert(u,this.data.height-1),this}clear(){return this.data=Ws([]),this}remove(u,o){if(!u)return this;let l=this.data;const d=this.toBBox(u),f=[],v=[];let y,w,x;for(;l||f.length;){if(l||(l=f.pop(),w=f[f.length-1],y=v.pop(),x=!0),l.leaf){const E=UV(u,l.children,o);if(E!==-1)return l.children.splice(E,1),f.push(l),this._condense(f),this}!x&&!l.leaf&&Rm(l,d)?(f.push(l),v.push(y),y=0,w=l,l=l.children[0]):w?(y++,l=w.children[y],x=!1):l=null}return this}toBBox(u){return u}compareMinX(u,o){return u.minX-o.minX}compareMinY(u,o){return u.minY-o.minY}toJSON(){return this.data}fromJSON(u){return this.data=u,this}_all(u,o){const l=[];for(;u;)u.leaf?o.push(...u.children):l.push(...u.children),u=l.pop();return o}_build(u,o,l,d){const f=l-o+1;let v=this._maxEntries,y;if(f<=v)return y=Ws(u.slice(o,l+1)),Us(y,this.toBBox),y;d||(d=Math.ceil(Math.log(f)/Math.log(v)),v=Math.ceil(f/Math.pow(v,d-1))),y=Ws([]),y.leaf=!1,y.height=d;const w=Math.ceil(f/v),x=w*Math.ceil(Math.sqrt(v));HT(u,o,l,x,this.compareMinX);for(let E=o;E<=l;E+=x){const R=Math.min(E+x-1,l);HT(u,E,R,w,this.compareMinY);for(let O=E;O<=R;O+=w){const F=Math.min(O+w-1,R);y.children.push(this._build(u,O,F,d-1))}}return Us(y,this.toBBox),y}_chooseSubtree(u,o,l,d){for(;d.push(o),!(o.leaf||d.length-1===l);){let f=1/0,v=1/0,y;for(let w=0;w<o.children.length;w++){const x=o.children[w],E=_m(x),R=qV(u,x)-E;R<v?(v=R,f=E<f?E:f,y=x):R===v&&E<f&&(f=E,y=x)}o=y||o.children[0]}return o}_insert(u,o,l){const d=l?u:this.toBBox(u),f=[],v=this._chooseSubtree(d,this.data,o,f);for(v.children.push(u),bl(v,d);o>=0&&f[o].children.length>this._maxEntries;)this._split(f,o),o--;this._adjustParentBBoxes(d,f,o)}_split(u,o){const l=u[o],d=l.children.length,f=this._minEntries;this._chooseSplitAxis(l,f,d);const v=this._chooseSplitIndex(l,f,d),y=Ws(l.children.splice(v,l.children.length-v));y.height=l.height,y.leaf=l.leaf,Us(l,this.toBBox),Us(y,this.toBBox),o?u[o-1].children.push(y):this._splitRoot(l,y)}_splitRoot(u,o){this.data=Ws([u,o]),this.data.height=u.height+1,this.data.leaf=!1,Us(this.data,this.toBBox)}_chooseSplitIndex(u,o,l){let d,f=1/0,v=1/0;for(let y=o;y<=l-o;y++){const w=xl(u,0,y,this.toBBox),x=xl(u,y,l,this.toBBox),E=$V(w,x),R=_m(w)+_m(x);E<f?(f=E,d=y,v=R<v?R:v):E===f&&R<v&&(v=R,d=y)}return d||l-o}_chooseSplitAxis(u,o,l){const d=u.leaf?this.compareMinX:WV,f=u.leaf?this.compareMinY:GV,v=this._allDistMargin(u,o,l,d),y=this._allDistMargin(u,o,l,f);v<y&&u.children.sort(d)}_allDistMargin(u,o,l,d){u.children.sort(d);const f=this.toBBox,v=xl(u,0,o,f),y=xl(u,l-o,l,f);let w=md(v)+md(y);for(let x=o;x<l-o;x++){const E=u.children[x];bl(v,u.leaf?f(E):E),w+=md(v)}for(let x=l-o-1;x>=o;x--){const E=u.children[x];bl(y,u.leaf?f(E):E),w+=md(y)}return w}_adjustParentBBoxes(u,o,l){for(let d=l;d>=0;d--)bl(o[d],u)}_condense(u){for(let o=u.length-1,l;o>=0;o--)u[o].children.length===0?o>0?(l=u[o-1].children,l.splice(l.indexOf(u[o]),1)):this.clear():Us(u[o],this.toBBox)}}function UV(s,u,o){if(!o)return u.indexOf(s);for(let l=0;l<u.length;l++)if(o(s,u[l]))return l;return-1}function Us(s,u){xl(s,0,s.children.length,u,s)}function xl(s,u,o,l,d){d||(d=Ws(null)),d.minX=1/0,d.minY=1/0,d.maxX=-1/0,d.maxY=-1/0;for(let f=u;f<o;f++){const v=s.children[f];bl(d,s.leaf?l(v):v)}return d}function bl(s,u){return s.minX=Math.min(s.minX,u.minX),s.minY=Math.min(s.minY,u.minY),s.maxX=Math.max(s.maxX,u.maxX),s.maxY=Math.max(s.maxY,u.maxY),s}function WV(s,u){return s.minX-u.minX}function GV(s,u){return s.minY-u.minY}function _m(s){return(s.maxX-s.minX)*(s.maxY-s.minY)}function md(s){return s.maxX-s.minX+(s.maxY-s.minY)}function qV(s,u){return(Math.max(u.maxX,s.maxX)-Math.min(u.minX,s.minX))*(Math.max(u.maxY,s.maxY)-Math.min(u.minY,s.minY))}function $V(s,u){const o=Math.max(s.minX,u.minX),l=Math.max(s.minY,u.minY),d=Math.min(s.maxX,u.maxX),f=Math.min(s.maxY,u.maxY);return Math.max(0,d-o)*Math.max(0,f-l)}function Rm(s,u){return s.minX<=u.minX&&s.minY<=u.minY&&u.maxX<=s.maxX&&u.maxY<=s.maxY}function gd(s,u){return u.minX<=s.maxX&&u.minY<=s.maxY&&u.maxX>=s.minX&&u.maxY>=s.minY}function Ws(s){return{children:s,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function HT(s,u,o,l,d){const f=[u,o];for(;f.length;){if(o=f.pop(),u=f.pop(),o-u<=l)continue;const v=u+Math.ceil((o-u)/l/2)*l;HV(s,v,u,o,d),f.push(u,v,v,o)}}const Om=(s,u)=>{if(s.targets[0].selector.type==="FragmentSelector"){const{x:o,y:l,w:d,h:f}=Zi(s);return{minX:o,minY:l,maxX:o+d,maxY:l+f}}else{const o=km(s,u),l=document.createElementNS(Ut,"svg");l.style.position="absolute",l.style.opacity=0,l.style.top=0,l.style.left=0,l.appendChild(o),document.body.appendChild(l);const{x:d,y:f,width:v,height:y}=o.getBBox();return document.body.removeChild(l),{minX:d,minY:f,maxX:d+v,maxY:f+y}}},ZV=s=>{var u;const o=s.targets[0];return Array.isArray(o.selector)?o.selector[0].type:(u=o.selector)==null?void 0:u.type},XV=(s,u,o,l)=>{const d=Ho(o),f=d.nodeName.toLowerCase(),v=[s,u];if(f==="polygon"){const y=Array.from(d.points).map(w=>[w.x,w.y]);return Em(v,y)}else if(f==="circle"){const y=d.getAttribute("cx"),w=d.getAttribute("cy"),x=d.getAttribute("r");return EV(v,y,w,x)}else if(f==="ellipse"){const y=d.getAttribute("cx"),w=d.getAttribute("cy"),x=d.getAttribute("rx"),E=d.getAttribute("ry");return TV(v,y,w,x,E)}else{if(f==="path")return MT(d).find(y=>Em(v,y));if(f==="line"){const y=parseInt(d.getAttribute("x1")),w=parseInt(d.getAttribute("y1")),x=parseInt(d.getAttribute("x2")),E=parseInt(d.getAttribute("y2"));return PV(v,y,w,x,E,l)}else throw`Unsupported SVG shape type: ${f}`}};class YV{constructor(u){i(this,"clear",()=>this.spatial_index.clear()),i(this,"getAnnotationAt",(o,l,d)=>{const f=d?5/d:5,v=this.spatial_index.search({minX:o-f,minY:l-f,maxX:o+f,maxY:l+f}).map(y=>y.annotation).filter(y=>{const w=ZV(y);if(w==="FragmentSelector")return!0;if(w==="SvgSelector")return XV(o,l,y,f);throw`Unsupported selector type: ${w}`});if(v.length>0)return v.sort((y,w)=>FT(y,this.env.image)-FT(w,this.env.image)),v[0]}),i(this,"getAnnotationsIntersecting",o=>{const l=o.minX,d=l?o:Om(o,this.env.image),f=this.spatial_index.search(d).map(v=>v.annotation);return l?f:f.filter(v=>!v.isEqual(o))}),i(this,"insert",o=>{(Array.isArray(o)?o:[o]).forEach(l=>{this.spatial_index.insert({...Om(l,this.env.image),annotation:l})})}),i(this,"getBounds",o=>this.getBounds(o,this.env.image)),i(this,"remove",o=>{const l={...Om(o,this.env.image),annotation:o};this.spatial_index.remove(l,(d,f)=>d.annotation.id===f.annotation.id)}),this.env=u,u.store=this,this.spatial_index=new VV}}const zT=(s,u)=>{const o=(ym(u,".a9s-annotation")?u:u.closest(".a9s-annotation")).querySelector(".a9s-outer").getBoundingClientRect(),{canvas:l}=s.drawer,d=l.getBoundingClientRect(),f=l.width/d.width,v=l.height/d.height,y=o.x-d.x,w=o.y-d.y,{width:x,height:E}=o,R=document.createElement("CANVAS"),O=R.getContext("2d");R.width=x,R.height=E,O.drawImage(l,y*f,w*v,x*f,E*v,0,0,x,E);const F=s.viewport.viewerElementToImageCoordinates(new OpenSeadragon.Point(y,w)),G=s.viewport.viewportToImageZoom(s.viewport.getZoom());return{snippet:R,transform:re=>{const J=F.x+re[0]/f/G,se=F.y+re[1]/v/G;return[J,se]}}},KV=bm();class VT extends ac{constructor(u){super(),i(this,"_getShapeAt",l=>{const d=w=>{const x=this.svg.createSVGPoint();if(window.TouchEvent&&w instanceof TouchEvent){const E=this.svg.getBoundingClientRect(),R=w.touches[0],O=R.clientX-E.x,F=R.clientY-E.y,{left:G,top:re}=this.svg.getBoundingClientRect();return x.x=O+G,x.y=F+re,x.matrixTransform(this.g.getScreenCTM().inverse())}else return x.x=w.offsetX,x.y=w.offsetY,x.matrixTransform(this.g.getCTM().inverse())},{x:f,y:v}=d(l),y=this.store.getAnnotationAt(f,v,this.currentScale());if(y)return this.findShape(y)}),i(this,"_initDrawingTools",l=>{var d;let f=!1,v=!1,y=!1;this.tools=new jV(this.g,this.config,this.env),this.tools.on("complete",E=>{v=!1,this.onDrawingComplete(E)}),this.mouseTracker=new $i.MouseTracker({element:this.svg,preProcessEventHandler:E=>{this.mouseTracker.enabled||(E.preventDefault=!1,E.preventGesture=!0),this.selectedShape&&E.eventType==="wheel"&&(E.preventDefault=!1,this.viewer.canvas.dispatchEvent(new E.originalEvent.constructor(E.eventType,E.originalEvent)))},pressHandler:E=>{this.tools.current.isDrawing||(this.tools.current.start(E.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),l||this.scaleTool(this.tools.current))},moveHandler:E=>{if(this.tools.current.isDrawing){const{x:R,y:O}=this.tools.current.getSVGPoint(E.originalEvent);!E.buttons||!v?(E.originalEvent.stopPropagation(),this.tools.current.onMouseMove(R,O,E.originalEvent),f||(this.emit("startSelection",{x:R,y:O}),f=!0)):(!y&&this.tools.current.onDragStart&&this.tools.current.onDragStart(R,O,E.originalEvent),y=!0)}},releaseHandler:E=>{if(this.tools.current.isDrawing){v=!0;const{x:R,y:O}=this.tools.current.getSVGPoint(E.originalEvent);f&&this.emit("endSelection",{x:R,y:O}),this.tools.current.onMouseUp(R,O,E.originalEvent),y&&this.tools.current.onDragEnd&&this.tools.current.onDragEnd()}f=!1,y=!1}});const w=this.config.hotkey?this.config.hotkey.key?this.config.hotkey.key.toLowerCase():this.config.hotkey.toLowerCase():"shift",x=(d=this.config.hotkey)==null?void 0:d.inverted;this.mouseTracker.enabled=x,this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=E=>{if(E.key.toLowerCase()===w&&!this.selectedShape){const R=!this.readOnly&&!x;this.mouseTracker.enabled=R,this.tools.current.enabled=R}},this.onKeyUp=E=>{E.key.toLowerCase()===w&&!this.tools.current.isDrawing&&(this.mouseTracker.enabled=x,this.tools.current.enabled=x)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}),i(this,"_initMouseEvents",()=>{this.svg.addEventListener("mousemove",d=>{var f,v;if(!((f=this.tools)!=null&&f.current.isDrawing)&&!d.target.closest(".a9s-annotation.editable.selected")){const y=this._getShapeAt(d);if((y==null?void 0:y.annotation)!==((v=this.hoveredShape)==null?void 0:v.annotation)){if(this.hoveredShape){const w=this.hoveredShape.element||this.hoveredShape;ad(w,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}y&&(Ri(y,"hover"),this.emit("mouseEnterAnnotation",y.annotation,y))}this.hoveredShape=y}}),this.svg.parentElement.addEventListener("mouseleave",()=>{this.hoveredShape&&(ad(this.hoveredShape,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape),this.hoveredShape=null)});let l=null;this.viewer.addHandler("canvas-press",()=>l=new Date().getTime()),this.viewer.addHandler("canvas-click",d=>{var f;const{originalEvent:v}=d;if(!((f=this.tools.current)!=null&&f.isDrawing||this.disableSelect)&&new Date().getTime()-l<250){const y=v.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(v);y?(d.preventDefaultAction=!0,this.selectShape(y)):y||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.hoveredShape&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)})}),i(this,"_lazy",l=>{if(this.viewer.world.getItemAt(0))l();else{const d=()=>{l(),this.viewer.removeHandler("open",d),this.viewer.world.removeHandler("add-item",d)};this.viewer.addHandler("open",d),this.viewer.world.addHandler("add-item",d)}}),i(this,"_refreshNonScalingAnnotations",()=>{const l=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(d=>d.setAttribute("transform",`scale(${1/l})`))}),i(this,"addAnnotation",(l,d)=>{const f=d||this.g,v=km(l,this.env.image);return Ri(v,"a9s-annotation"),v.setAttribute("data-id",l.id),v.annotation=l,f.appendChild(v),dd(v,l,this.formatters),this.scaleFormatterElements(v),v}),i(this,"addDrawingTool",l=>this.tools.registerTool(l)),i(this,"addOrUpdateAnnotation",(l,d)=>{var f;const v=(f=this.selectedShape)==null?void 0:f.annotation;(v===l||v!=null&&v.isSelection||v==d)&&this.deselect(),d&&this.removeAnnotation(l),this.removeAnnotation(l);const y=this.addAnnotation(l);ym(y,"a9s-non-scaling")&&y.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(l)}),i(this,"currentScale",()=>{const l=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*l/this.viewer.world.getContentFactor()}),i(this,"deselect",()=>{var l;if((l=this.tools)==null||l.current.stop(),this.selectedShape){const{annotation:d}=this.selectedShape;if(this.selectedShape.destroy){if(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!d.isSelection){const f=this.addAnnotation(d);ym(f,"a9s-non-scaling")&&f.setAttribute("transform",`scale(${1/this.currentScale()})`)}}else ad(this.selectedShape,"selected");this.selectedShape=null}}),i(this,"destroy",()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)}),i(this,"findShape",l=>{const d=l!=null&&l.id?l.id:l;return this.g.querySelector(`.a9s-annotation[data-id="${d}"]`)}),i(this,"_fit",(l,d,f)=>{const v=this.findShape(l);if(v){const y=d?typeof d=="boolean"?d:d.immediately:!1,w=(d==null?void 0:d.padding)||0,x=this.viewer.container.getBoundingClientRect(),E=Math.min(2*w/x.width,2*w/x.height),{x:R,y:O,width:F,height:G}=v.getBBox(),re=R-E*F,J=O-E*G,se=F+2*E*F,D=G+2*E*G,te=this.viewer.viewport.imageToViewportRectangle(re,J,se,D);this.viewer.viewport[f](te,y)}}),i(this,"fitBounds",(l,d)=>this._fit(l,d,"fitBounds")),i(this,"fitBoundsWithConstraints",(l,d)=>this._fit(l,d,"fitBoundsWithConstraints")),i(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(l=>l.annotation)),i(this,"getAnnotationsIntersecting",l=>{const d=l.id?l:this.findShape(l).annotation;return this.store.getAnnotationsIntersecting(d)}),i(this,"getImageSnippetById",l=>{const d=this.findShape(l);if(d)return zT(this.viewer,d)}),i(this,"getSelectedImageSnippet",()=>{var l;if(this.selectedShape){const d=(l=this.selectedShape.element)!=null?l:this.selectedShape;return zT(this.viewer,d)}}),i(this,"init",l=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(d=>this.g.removeChild(d)),this.store.clear(),this._lazy(()=>{console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),l.forEach(d=>this.addAnnotation(d)),console.log("Indexing..."),this.store.insert(l),console.timeEnd("Took"),this.resize()})}),i(this,"listDrawingTools",()=>this.tools.listTools()),i(this,"overrideId",(l,d)=>{const f=this.findShape(l);f.setAttribute("data-id",d);const{annotation:v}=f,y=v.clone({id:d});return f.annotation=y,this.store.remove(v),this.store.insert(y),y}),i(this,"panTo",(l,d)=>{const f=this.findShape(l);if(f){const{top:v,left:y,width:w,height:x}=f.getBoundingClientRect(),E=y+w/2+window.scrollX,R=v+x/2+window.scrollY,O=this.viewer.viewport.windowToViewportCoordinates(new $i.Point(E,R));this.viewer.viewport.panTo(O,d)}}),i(this,"removeAnnotation",l=>{var d,f;const v=l.type?l.id:l;((d=this.selectedShape)==null?void 0:d.annotation.id)===v&&this.deselect();const y=this.findShape(l);if(y){const{annotation:w}=y;((f=this.selectedShape)==null?void 0:f.annotation)===w&&this.deselect(),y.parentNode.removeChild(y),this.store.remove(w)}}),i(this,"removeDrawingTool",l=>{var d;return(d=this.tools)==null?void 0:d.unregisterTool(l)}),i(this,"scaleFormatterElements",l=>{const d=1/this.currentScale();if(l){const f=l.querySelector(".a9s-formatter-el");f&&f.firstChild.setAttribute("transform",`scale(${d})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(f=>f.firstChild.setAttribute("transform",`scale(${d})`))}),i(this,"scaleTool",l=>{if(l){const d=1/this.currentScale();l.scale=d,l.onScaleChanged&&l.onScaleChanged(d)}}),i(this,"selectAnnotation",(l,d)=>{this.selectedShape&&this.deselect();const f=this.findShape(l);if(f){this.selectShape(f,d);const v=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:f.annotation,element:v}}else this.deselect()}),i(this,"selectShape",(l,d)=>{var f;if(!d&&!l.annotation.isSelection&&this.emit("clickAnnotation",l.annotation,l),((f=this.selectedShape)==null?void 0:f.annotation)===l.annotation)return;this.selectedShape&&this.selectedShape.annotation!==l.annotation&&this.deselect();const{annotation:v}=l;if(this.readOnly||v.readOnly||this.headless)this.selectedShape=l,Ri(l,"selected"),d||this.emit("select",{annotation:v,element:l,skipEvent:d});else{const y=this.tools.forAnnotation(v);if(y){setTimeout(()=>{l.parentNode.removeChild(l),d||this.emit("select",{annotation:v,element:this.selectedShape.element})},1),this.selectedShape=y.createEditableShape(v,this.formatters),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=v;const w=new $i.MouseTracker({element:this.svg,preProcessEventHandler:x=>{x.stopPropagation=!0,x.preventDefault=!1,x.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,w.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,w.setTracking(!1)}),this.selectedShape.mouseTracker=w,this.selectedShape.on("update",x=>this.emit("updateTarget",this.selectedShape.element,x))}else this.selectedShape=l,d||this.emit("select",{annotation:v,element:this.selectedShape})}}),i(this,"setDrawingEnabled",l=>{if(this.mouseTracker){const d=l&&!this.readOnly;this.mouseTracker.enabled=d,this.mouseTracker.setTracking(d),this.tools.current&&(this.tools.current.enabled=d)}}),i(this,"setDrawingTool",l=>{var d;this.tools&&((d=this.tools.current)==null||d.stop(),this.tools.setCurrent(l))}),i(this,"setVisible",l=>{l?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),i(this,"stopDrawing",()=>{var l;(l=this.tools)!=null&&l.current&&(this.tools.current.isDrawing&&this.tools.current.stop(),this.mouseTracker.enabled=!1,this.tools.current.enabled=!1)}),this.viewer=u.viewer,this.config=u.config,this.env=u.env,this.readOnly=u.config.readOnly,this.headless=u.config.headless,u.config.formatter?this.formatters=[u.config.formatter]:u.config.formatters&&(this.formatters=Array.isArray(u.config.formatters)?u.config.formatters:[u.config.formatters]),this.disableSelect=u.config.disableSelect,this.drawOnSingleClick=u.config.drawOnSingleClick,this.svg=document.createElementNS(Ut,"svg"),KV?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),yV(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(Ut,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",()=>this.resize()),this.viewer.addHandler("rotate",()=>this.resize()),this.viewer.addHandler("resize",()=>this.resize()),this.viewer.addHandler("flip",()=>this.resize()),this.loaded=!1;const o=()=>{const{x:l,y:d}=this.viewer.world.getItemAt(0).source.dimensions,f=this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href;this.env.image={src:f,naturalWidth:l,naturalHeight:d},u.config.crosshair&&(this.crosshair||(this.crosshair=new BV(this.svg),Ri(this.svg,"no-cursor"))),this.loaded||this.emit("load",f),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",o),this.viewer.world.addHandler("add-item",o),this.viewer.world.getItemAt(0)&&o(),this.store=new YV(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var u;const o=this.viewer.viewport.getFlip(),l=this.viewer.viewport.pixelFromPoint(new $i.Point(0,0),!0);o&&(l.x=this.viewer.viewport._containerInnerSize.x-l.x);const d=this.currentScale(),f=o?-d:d,v=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${l.x}, ${l.y}) scale(${f}, ${d}) rotate(${v})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(u=this.tools)!=null&&u.current&&this.scaleTool(this.tools.current)}}class JV extends VT{constructor(u){super(u),i(this,"onDrawingComplete",o=>{var l;this.mouseTracker.enabled=(l=this.config.hotkey)==null?void 0:l.inverted,this.selectShape(o),this.emit("createSelection",o.annotation)}),this._initDrawingTools()}}const Am=s=>{const u=s.viewport.viewportToImageRectangle(s.viewport.getBounds(!0)),o=s.viewport.getContainerSize().x,l=s.viewport.getZoom(!0)*o/s.world.getContentFactor();return{extent:u,scale:l}},QV=s=>{var u;const o=s.targets[0];return o?Array.isArray(o.selector)?o.selector[0].type:(u=o.selector)==null?void 0:u.type:null},UT=(s,u)=>{const{extent:o,scale:l}=Am(s),{selector:d}=u,f=Bo.create({target:u});if(d.type==="SvgSelector"){const v=Ho(f),y=v.nodeName.toLowerCase();let w=null;if(y==="polygon")w=e3(v,o,l);else if(y==="circle")w=t3(v,o,l);else if(y==="ellipse")w=n3(v,o,l);else if(y==="path")w=r3(v,o,l);else throw`Unsupported SVG shape type: ${y}`;let x=w.outerHTML||new XMLSerializer().serializeToString(w);return x=x.replace(` xmlns="${Ut}"`,""),{...u,selector:{type:"SvgSelector",value:`<svg>${x}</svg>`}}}else if(d.type==="FragmentSelector"){const{x:v,y,w,h:x}=Zi(f),E=o.x+v/l,R=o.y+y/l,O=w/l,F=x/l;return w===0&&x===0?{...Vs(E,R,O,F),renderedVia:{name:"point"}}:Vs(E,R,O,F)}else throw`Unsupported selector type: ${d.type}`},e3=(s,u,o)=>{const l=Array.from(s.points).map(d=>{const f=u.x+d.x/o,v=u.y+d.y/o;return f+","+v}).join(" ");return s.setAttribute("points",l),s},t3=(s,u,o)=>{const l=parseFloat(s.getAttribute("cx")),d=parseFloat(s.getAttribute("cy")),f=parseFloat(s.getAttribute("r"));return s.setAttribute("cx",u.x+l/o),s.setAttribute("cy",u.y+d/o),s.setAttribute("r",f/o),s},n3=(s,u,o)=>{const l=parseFloat(s.getAttribute("cx")),d=parseFloat(s.getAttribute("cy")),f=parseFloat(s.getAttribute("rx")),v=parseFloat(s.getAttribute("ry"));return s.setAttribute("cx",u.x+l/o),s.setAttribute("cy",u.y+d/o),s.setAttribute("rx",f/o),s.setAttribute("ry",v/o),s},r3=(s,u,o)=>{const l=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(d=>d.trim()).map(d=>{const f=d.substring(0,1);if(f.toLowerCase()==="z")return f;{const v=d.substring(1).split(" ").map(E=>parseFloat(E.trim())),y=f===f.toUpperCase(),w=y?u.x+v[0]/o:v[0]/o,x=y?u.y+v[1]/o:v[1]/o;return f+" "+w+" "+x}}).join(" ");return s.setAttribute("d",l),s},WT=(s,u)=>{const{extent:o,scale:l}=Am(s),d=u.selector("FragmentSelector");if(u.selector("SvgSelector")){const f=Ho(u),v=f.nodeName.toLowerCase();let y=null;if(v==="polygon")y=i3(f,o,l);else if(v==="circle")y=o3(f,o,l);else if(v==="ellipse")y=s3(f,o,l);else if(v==="path")y=a3(f,o,l);else throw`Unsupported SVG shape type: ${v}`;let w=y.outerHTML||new XMLSerializer().serializeToString(y);w=w.replace(` xmlns="${Ut}"`,"");const x={selector:{type:"SvgSelector",value:`<svg>${w}</svg>`}};return u.clone({target:x})}else if(d){const{x:f,y:v,w:y,h:w}=Zi(u),x=(f-o.x)*l,E=(v-o.y)*l,R=Vs(x,E,y*l,w*l);return u.clone({target:R})}},i3=(s,u,o)=>{const l=Array.from(s.points).map(d=>{const f=o*(d.x-u.x),v=o*(d.y-u.y);return f+","+v}).join(" ");return s.setAttribute("points",l),s},o3=(s,u,o)=>{const l=s.getAttribute("cx"),d=s.getAttribute("cy"),f=s.getAttribute("r");return s.setAttribute("cx",o*(l-u.x)),s.setAttribute("cy",o*(d-u.y)),s.setAttribute("r",f*o),s},s3=(s,u,o)=>{const l=s.getAttribute("cx"),d=s.getAttribute("cy"),f=s.getAttribute("rx"),v=s.getAttribute("ry");return s.setAttribute("cx",o*(l-u.x)),s.setAttribute("cy",o*(d-u.y)),s.setAttribute("rx",f*o),s.setAttribute("ry",v*o),s},a3=(s,u,o)=>{const l=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(d=>d.trim()).map(d=>{const f=d.substring(0,1);if(f.toLowerCase()==="z")return f;{const v=d.substring(1).split(" ").filter(E=>E).map(E=>parseFloat(E.trim())),y=f===f.toUpperCase(),w=y?o*(v[0]-u.x):o*v[0],x=y?o*(v[1]-u.y):o*v[1];return f+" "+w+" "+x}}).join(" ");return s.setAttribute("d",l),s},GT=(s,u)=>{const{extent:o,scale:l}=Am(s),d=QV(u.annotation);if(d==="FragmentSelector")l3(u,o,l);else if(d==="SvgSelector")u3(u,o,l);else throw`Unsupported selector type type: ${d}`;const f=u.querySelector(".a9s-formatter-el");if(f){const{x:v,y}=u.querySelector(".a9s-inner").getBBox();f.setAttribute("x",v),f.setAttribute("y",y)}},l3=(s,u,o)=>{const{x:l,y:d,w:f,h:v}=Zi(s.annotation),y=s.querySelector(".a9s-outer"),w=s.querySelector(".a9s-inner"),x=o*(l-u.x),E=o*(d-u.y);f===0&&v===0?[y,w].forEach(R=>{R.setAttribute("cx",x),R.setAttribute("cy",E)}):[y,w].forEach(R=>{R.setAttribute("x",x),R.setAttribute("y",E),R.setAttribute("width",f*o),R.setAttribute("height",v*o)})},u3=(s,u,o)=>{const l=Ho(s.annotation),d=l.nodeName.toLowerCase();if(d==="polygon")c3(s,l,u,o);else if(d==="circle")d3(s,l,u,o);else if(d==="ellipse")h3(s,l,u,o);else if(d==="path")p3(s,l,u,o);else throw`Unsupported SVG shape type: ${d}`},c3=(s,u,o,l)=>{const d=Array.from(u.points).map(f=>{const v=l*(f.x-o.x),y=l*(f.y-o.y);return v+","+y}).join(" ");s.querySelector(".a9s-outer").setAttribute("points",d),s.querySelector(".a9s-inner").setAttribute("points",d)},d3=(s,u,o,l)=>{const d=l*(u.getAttribute("cx")-o.x),f=l*(u.getAttribute("cy")-o.y),v=l*u.getAttribute("r"),y=s.querySelector(".a9s-outer");y.setAttribute("cx",d),y.setAttribute("cy",f),y.setAttribute("r",v);const w=s.querySelector(".a9s-inner");w.setAttribute("cx",d),w.setAttribute("cy",f),w.setAttribute("r",v)},h3=(s,u,o,l)=>{const d=l*(u.getAttribute("cx")-o.x),f=l*(u.getAttribute("cy")-o.y),v=l*u.getAttribute("rx"),y=l*u.getAttribute("ry"),w=s.querySelector(".a9s-outer");w.setAttribute("cx",d),w.setAttribute("cy",f),w.setAttribute("rx",v),w.setAttribute("ry",y);const x=s.querySelector(".a9s-inner");x.setAttribute("cx",d),x.setAttribute("cy",f),x.setAttribute("rx",v),x.setAttribute("ry",y)},p3=(s,u,o,l)=>{const d=u.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(f=>f.trim()).map(f=>{const v=f.substring(0,1);if(v.toLowerCase()==="z")return v;{const y=f.substring(1).split(" ").filter(R=>R).map(R=>parseFloat(R.trim())),w=v===v.toUpperCase(),x=w?l*(y[0]-o.x):l*y[0],E=w?l*(y[1]-o.y):l*y[1];return v+" "+x+" "+E}}).join(" ");s.querySelector(".a9s-inner").setAttribute("d",d),s.querySelector(".a9s-outer").setAttribute("d",d)},f3=bm();class m3 extends VT{constructor(u){super(u),i(this,"_fit",(o,l,d)=>{const f=l?typeof l=="boolean"?l:l.immediately:!1,v=(l==null?void 0:l.padding)||0,y=this.findShape(o);if(y){const w=this.viewer.container.getBoundingClientRect(),x=y.getBoundingClientRect(),E=x.x-w.x,R=x.y-w.y,{width:O,height:F}=x,G=E-v,re=R-v,J=O+2*v,se=F+2*v,D=this.viewer.viewport.viewerElementToViewportRectangle(new $i.Rect(G,re,J,se));this.viewer.viewport[d](D,f)}}),i(this,"_getShapeAt",o=>{const l=w=>{if(f3){const x=this.svg.getBoundingClientRect(),E=w.clientX-x.x,R=w.clientY-x.y;return new $i.Point(E,R)}else return new $i.Point(w.offsetX,w.offsetY)},d=this.viewer.viewport.viewerElementToViewportCoordinates(l(o)),{x:f,y:v}=this.viewer.viewport.viewportToImageCoordinates(d.x,d.y),y=this.store.getAnnotationAt(f,v,this.currentScale());if(y)return this.findShape(y)}),i(this,"_refreshNonScalingAnnotations",()=>{}),i(this,"addAnnotation",(o,l)=>{const d=l||this.g,f=km(o,this.env.image);return Ri(f,"a9s-annotation"),f.setAttribute("data-id",o.id),f.annotation=o,GT(this.viewer,f),d.appendChild(f),dd(f,o,this.formatters),f}),i(this,"addOrUpdateAnnotation",(o,l)=>{var d;const f=(d=this.selectedShape)==null?void 0:d.annotation;(f===o||f!=null&&f.isSelection||f==l)&&this.deselect(),l&&this.removeAnnotation(o),this.removeAnnotation(o),this.addAnnotation(o),this.store.insert(o)}),i(this,"deselect",()=>{var o;if((o=this.tools)==null||o.current.stop(),this.selectedShape){const{annotation:l}=this.selectedShape;this.selectedShape.destroy?(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),l.isSelection||this.addAnnotation(l)):ad(this.selectedShape,"selected"),this.selectedShape=null}}),i(this,"onDrawingComplete",o=>{const l=o.annotation.clone({target:UT(this.viewer,o.annotation.target)});o.annotation=l,this.selectShape(o),this.emit("createSelection",o.annotation),this.mouseTracker.enabled=!1}),i(this,"selectShape",(o,l)=>{var d;if(!l&&!o.annotation.isSelection&&this.emit("clickAnnotation",o.annotation,o),((d=this.selectedShape)==null?void 0:d.annotation)===o.annotation)return;this.selectedShape&&this.selectedShape.annotation!==o.annotation&&this.deselect(!0);const{annotation:f}=o;if(this.readOnly||f.readOnly||this.headless)this.selectedShape=o,Ri(o,"selected"),l||this.emit("select",{annotation:f,element:o,skipEvent:l});else{setTimeout(()=>{o.parentNode.removeChild(o),l||this.emit("select",{annotation:f,element:this.selectedShape.element})},1);const v=this.tools.forAnnotation(f);this.selectedShape=v.createEditableShape(f),this.selectedShape.element.annotation=f;const y=WT(this.viewer,f);this.selectedShape.updateState(y);const w=new $i.MouseTracker({element:this.svg,preProcessEventHandler:x=>{x.stopPropagation=!0,x.preventDefault=!1,x.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,w.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,w.setTracking(!1)}),this.selectedShape.mouseTracker=w,this.selectedShape.on("update",x=>{const E=UT(this.viewer,x);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:E}),this.emit("updateTarget",this.selectedShape.element,E)})}}),this._initDrawingTools(!0)}resize(){if(this.store&&(Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach(u=>GT(this.viewer,u)),this.selectedShape))if(this.selectedShape.element){const u=WT(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(u),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}var g3=0;function qT(s,u,o,l,d){var f,v,y={};for(v in u)v=="ref"?f=u[v]:y[v]=u[v];var w={type:s,props:y,key:o,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--g3,__source:l,__self:d};if(typeof s=="function"&&(f=s.defaultProps))for(v in f)y[v]===void 0&&(y[v]=f[v]);return h.vnode&&h.vnode(w),w}class v3 extends Z{constructor(u){super(u),i(this,"clearState",o=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},o)),i(this,"forwardEvent",(o,l)=>{this.annotationLayer.on(o,(d,f)=>{this.props[l](d.clone(),f)})}),i(this,"onKeyUp",o=>{if(o.which===27){this.annotationLayer.stopDrawing();const{selectedAnnotation:l}=this.state;l&&(this.cancelSelected(),this.props.onCancelSelected(l))}else if(o.which===46){const{disableDeleteKey:l}=this.props.config;if(!l){const{selectedAnnotation:d}=this.state;d&&(d.isSelection?this.onCancelAnnotation(d):this.onDeleteAnnotation(d))}}}),i(this,"handleStartSelect",o=>this.props.onSelectionStarted(o)),i(this,"handleEndSelect",o=>this.props.onSelectionEnded(o)),i(this,"handleSelect",(o,l)=>{this.state.editorDisabled?this.onHeadlessSelect(o,l):this.onNormalSelect(o,l)}),i(this,"onNormalSelect",(o,l)=>{const{annotation:d,element:f}=o;if(d){const v=()=>{this.setState({selectedAnnotation:d,selectedDOMElement:f,modifiedTarget:null},()=>{l||(d.isSelection?this.props.onSelectionCreated(d.clone()):this.props.onAnnotationSelected(d.clone(),f))})},{selectedAnnotation:y}=this.state;y&&!y.isEqual(d)?this.clearState(()=>{this.props.onCancelSelected(y),v()}):v()}else{const{selectedAnnotation:v}=this.state;v?this.clearState(()=>this.props.onCancelSelected(v)):this.clearState()}}),i(this,"onHeadlessSelect",(o,l)=>{this.saveSelected().then(()=>{this.onNormalSelect(o,l)})}),i(this,"handleUpdateTarget",(o,l)=>{this.setState({selectedDOMElement:o,modifiedTarget:l});const d=JSON.parse(JSON.stringify(l));this.props.onSelectionTargetChanged(d)}),i(this,"handleViewportChange",o=>this.setState({selectedDOMElement:o})),i(this,"overrideAnnotationId",o=>l=>{const{id:d}=o;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},()=>{this.annotationLayer.overrideId(d,l)}):this.annotationLayer.overrideId(d,l)}),i(this,"onCreateOrUpdateAnnotation",(o,l)=>(d,f)=>{let v=d.isSelection?d.toAnnotation():d;v=this.state.modifiedTarget?v.clone({target:this.state.modifiedTarget}):v.clone(),this.clearState(()=>{this.annotationLayer.addOrUpdateAnnotation(v,f),f?this.props[o](v,f.clone()):this.props[o](v,this.overrideAnnotationId(v)),l&&l()})}),i(this,"onDeleteAnnotation",o=>{this.clearState(),this.annotationLayer.removeAnnotation(o),this.props.onAnnotationDeleted(o)}),i(this,"onCancelAnnotation",(o,l)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(o),this.clearState(l)}),i(this,"addAnnotation",o=>{var l;o.id===((l=this.state.selectedAnnotation)==null?void 0:l.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(o.clone())}),i(this,"addDrawingTool",o=>this.annotationLayer.addDrawingTool(o)),i(this,"cancelSelected",()=>new Promise(o=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(o):o()})),i(this,"fitBounds",(o,l)=>this.annotationLayer.fitBounds(o,l)),i(this,"fitBoundsWithConstraints",(o,l)=>this.annotationLayer.fitBoundsWithConstraints(o,l)),i(this,"getAnnotationById",o=>{var l;return(l=this.annotationLayer.findShape(o))==null?void 0:l.annotation}),i(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(o=>o.clone())),i(this,"getAnnotationsIntersecting",o=>this.annotationLayer.getAnnotationsIntersecting(o)),i(this,"getImageSnippetById",o=>this.annotationLayer.getImageSnippetById(o)),i(this,"getSelected",()=>{var o;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:(o=this._editor.current)==null?void 0:o.getCurrentAnnotation()}),i(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),i(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),i(this,"panTo",(o,l)=>this.annotationLayer.panTo(o,l)),i(this,"removeAnnotation",o=>this.annotationLayer.removeAnnotation(o)),i(this,"removeDrawingTool",o=>this.annotationLayer.removeDrawingTool(o)),i(this,"saveSelected",()=>new Promise(o=>{const l=this.state.selectedAnnotation;if(l)if(this._editor.current)this._editor.current.onOk(),o();else if(l.isSelection)l.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",o)(l):(this.annotationLayer.deselect(),o());else{const{beforeHeadlessModify:d,modifiedTarget:f}=this.state;d?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",o)(l,d):f?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",o)(l,l):this.onCancelAnnotation(l,o)}else o()})),i(this,"selectAnnotation",o=>{const l=this.annotationLayer.selectAnnotation(o,!0);if(l)return this.handleSelect(l,!0),l.annotation.clone();this.clearState()}),i(this,"setAnnotations",o=>this.annotationLayer.init(o.map(l=>l.clone()))),i(this,"setDrawingEnabled",o=>this.annotationLayer.setDrawingEnabled(o)),i(this,"setDrawingTool",o=>this.annotationLayer.setDrawingTool(o)),i(this,"setVisible",o=>{this.annotationLayer.setVisible(o),o||this.clearState()}),i(this,"updateSelected",(o,l)=>new Promise(d=>{this.state.selectedAnnotation&&(l?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",d)(o):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",d)(o,this.state.selectedAnnotation):this.setState({selectedAnnotation:o,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},d))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:u.config.readOnly,editorDisabled:u.config.disableEditor,widgets:u.config.widgets,beforeHeadlessModify:null},this._editor=Re.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new m3(this.props):new JV(this.props),this.annotationLayer.on("load",this.props.onLoad),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("endSelection",this.handleEndSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("clickAnnotation","onClickAnnotation"),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),document.addEventListener("keyup",this.onKeyUp)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.onKeyUp)}get disableEditor(){return this.state.editorDisabled}set disableEditor(u){this.setState({editorDisabled:u})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(u){this.annotationLayer.disableSelect=u}get formatters(){return this.annotationLayer.formatters}set formatters(u){this.annotationLayer.formatters=u}get readOnly(){return this.state.readOnly}set readOnly(u){this.annotationLayer.readOnly=u,this.setState({readOnly:u})}get widgets(){return this.state.widgets}set widgets(u){this.setState({widgets:u})}render(){var u;const o=this.state.selectedAnnotation&&!this.state.editorDisabled,l=this.state.readOnly||((u=this.state.selectedAnnotation)==null?void 0:u.readOnly);return o&&qT(iV,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:l,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class y3{constructor(u,o){i(this,"handleAnnotationCreated",(d,f)=>this._emitter.emit("createAnnotation",d.underlying,f)),i(this,"handleAnnotationDeleted",d=>this._emitter.emit("deleteAnnotation",d.underlying)),i(this,"handleAnnotationSelected",(d,f)=>this._emitter.emit("selectAnnotation",d.underlying,f)),i(this,"handleAnnotationUpdated",(d,f)=>this._emitter.emit("updateAnnotation",d.underlying,f.underlying)),i(this,"handleCancelSelected",d=>this._emitter.emit("cancelSelected",d.underlying)),i(this,"handleClickAnnotation",(d,f)=>this._emitter.emit("clickAnnotation",d.underlying,f)),i(this,"handleLoad",d=>this._emitter.emit("load",d)),i(this,"handleSelectionCreated",d=>this._emitter.emit("createSelection",d.underlying)),i(this,"handleSelectionStarted",d=>this._emitter.emit("startSelection",d)),i(this,"handleSelectionEnded",d=>this._emitter.emit("endSelection",d)),i(this,"handleSelectionTargetChanged",d=>this._emitter.emit("changeSelectionTarget",d)),i(this,"handleMouseEnterAnnotation",(d,f)=>this._emitter.emit("mouseEnterAnnotation",d.underlying,f)),i(this,"handleMouseLeaveAnnotation",(d,f)=>this._emitter.emit("mouseLeaveAnnotation",d.underlying,f)),i(this,"_wrap",d=>(d==null?void 0:d.type)==="Annotation"?new Bo(d):d),i(this,"addAnnotation",d=>this._app.current.addAnnotation(new Bo(d))),i(this,"addDrawingTool",d=>this._app.current.addDrawingTool(d)),i(this,"cancelSelected",()=>this._app.current.cancelSelected()),i(this,"clearAnnotations",()=>this.setAnnotations([])),i(this,"clearAuthInfo",()=>this._env.user=null),i(this,"destroy",()=>Re.unmountComponentAtNode(this.appContainerEl)),i(this,"fitBounds",(d,f)=>this._app.current.fitBounds(this._wrap(d),f)),i(this,"fitBoundsWithConstraints",(d,f)=>this._app.current.fitBoundsWithConstraints(this._wrap(d),f)),i(this,"getAnnotationById",d=>{const f=this._app.current.getAnnotationById(d);return f==null?void 0:f.underlying}),i(this,"getAnnotations",()=>this._app.current.getAnnotations().map(d=>d.underlying)),i(this,"getAnnotationsIntersecting",d=>this._app.current.getAnnotationsIntersecting(this._wrap(d))),i(this,"getImageSnippetById",d=>this._app.current.getImageSnippetById(d)),i(this,"getSelected",()=>{const d=this._app.current.getSelected();return d==null?void 0:d.underlying}),i(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),i(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),i(this,"loadAnnotations",d=>fetch(d).then(f=>f.json()).then(f=>(this.setAnnotations(f),f))),i(this,"off",(d,f)=>this._emitter.off(d,f)),i(this,"on",(d,f)=>this._emitter.on(d,f)),i(this,"once",(d,f)=>this._emitter.once(d,f)),i(this,"panTo",(d,f)=>this._app.current.panTo(this._wrap(d),f)),i(this,"removeAnnotation",d=>this._app.current.removeAnnotation(this._wrap(d))),i(this,"removeDrawingTool",d=>this._app.current.removeDrawingTool(d)),i(this,"saveSelected",()=>this._app.current.saveSelected()),i(this,"selectAnnotation",d=>{const f=this._app.current.selectAnnotation(this._wrap(d));return f==null?void 0:f.underlying}),i(this,"setAnnotations",d=>{const f=(d||[]).map(v=>new Bo(v));this._app.current.setAnnotations(f)}),i(this,"setAuthInfo",d=>this._env.user=d),i(this,"setDrawingEnabled",d=>this._app.current.setDrawingEnabled(d)),i(this,"setDrawingTool",d=>this._app.current.setDrawingTool(d)),i(this,"setServerTime",d=>this._env.setServerTime(d)),i(this,"setVisible",d=>this._app.current.setVisible(d)),i(this,"updateSelected",(d,f)=>{let v=null;d.type==="Annotation"?v=new Bo(d):d.type==="Selection"&&(v=new vl(d.target,d.body)),v&&this._app.current.updateSelected(v,f)});const l=o||{};this._app=Re.createRef(),this._emitter=new ac,this._env=dV(),this._element=u.element,window.getComputedStyle(this._element).getPropertyValue("position")==="static"&&(this._element.style.position="relative"),hV(l.locale,l.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),Re.render(qT(v3,{ref:this._app,viewer:u,wrapperEl:this._element,config:l,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionEnded:this.handleSelectionEnded,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onLoad:this.handleLoad,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(u){this._app.current.disableEditor=u}get disableSelect(){return this._app.current.disableSelect}set disableSelect(u){this._app.current.disableSelect=u}get formatters(){return this._app.current.formatters||[]}set formatters(u){if(u){const o=Array.isArray(u)?u:[u];this._app.current.formatters=o}else this._app.current.formatters=null}get readOnly(){return this._app.current.readOnly}set readOnly(u){this._app.current.readOnly=u}get widgets(){return this._app.current.widgets}set widgets(u){this._app.current.widgets=u}}var w3=(s,u)=>new y3(s,u);return w3})})(e2);var Yne=e2.exports;const Kne=Hi(Yne);function Jne(e){const n=`os-zoom-in ${e.side}`,t=`os-zoom-out ${e.side}`,r=e.documentView.bookMode?null:e.onZoomGrid;return ee.jsxs("ul",{className:"ImageZoomControl",children:[ee.jsx("li",{children:ee.jsx("i",{title:"Zoom In",id:n,onClick:e.onZoomIn,className:"zoom-in fas fa-plus-circle fa-2x"})}),ee.jsx("li",{children:ee.jsx("i",{title:"Fixed Zoom 1",onClick:e.onZoomFixed_1,className:"zoom-3 fas fa-circle fa-2x"})}),ee.jsx("li",{children:ee.jsx("i",{title:"Fixed Zoom 2",onClick:e.onZoomFixed_2,className:"zoom-2 fas fa-circle fa-lg"})}),ee.jsx("li",{children:ee.jsx("i",{title:"Fixed Zoom 3",onClick:e.onZoomFixed_3,className:"zoom-1 fas fa-circle"})}),ee.jsx("li",{children:ee.jsx("i",{title:"Zoom Out",id:t,onClick:e.onZoomOut,className:"zoom-out fas fa-minus-circle fa-2x"})}),ee.jsx("li",{className:e.documentView.bookMode?"disabled":"",children:ee.jsx("i",{title:"Return to grid mode (not available in book mode)",onClick:r,className:"zoom-grid fas fa-th fa-2x"})})]})}function Nx(e){const{delay:n=0,color:t="dark"}=e,[r,i]=z.useState(n===0);return z.useEffect(()=>{if(n>0){const a=setTimeout(()=>{i(!0)},n);return()=>clearTimeout(a)}},[]),r?ee.jsxs("div",{className:`big-ring-spinner ${t}`,children:[ee.jsx("div",{}),ee.jsx("div",{}),ee.jsx("div",{}),ee.jsx("div",{})]}):ee.jsx("div",{})}function Qne(e){const{side:n,initViewer:t,tileSource:r}=e,[i,a]=z.useState(!0),h=z.useRef(null);return z.useEffect(()=>{(async()=>h.current&&await t(h.current,r).then(()=>a(!1)))()},[]),z.useMemo(()=>ee.jsx("div",{id:`image-view-seadragon-${n}`,ref:h,children:i&&ee.jsx(Nx,{color:"light",delay:1e3})}),[i])}function ere(e){const[n,t]=z.useState(null),[r,i]=z.useState(null),a=ys(),h=cp(),[c]=tA(),[p,m]=z.useState(!1);z.useEffect(()=>{r&&c.get("zone")&&setTimeout(()=>r.selectAnnotation(c.get("zone")),50)},[r]);const g=A=>{e.documentViewActions.changeTranscriptionType(e.side,"g")},b=A=>{n.viewport.zoomTo(n.viewport.getMaxZoom())},S=A=>{n.viewport.zoomTo(n.viewport.getMaxZoom()/2)},T=A=>{n.viewport.fitVertically()},_=A=>{n.viewport.zoomBy(2)},k=A=>{n.viewport.zoomBy(.5)};z.useEffect(()=>{r&&(r.off("selectAnnotation"),r.off("cancelSelected"),r.on("selectAnnotation",A=>{c.set("zone",A.id),h(`${a.pathname}?${Dh(c.toString())}`)}),r.on("cancelSelected",()=>{h(a.pathname)}))},[a.pathname,r]);const C=async(A,N)=>{if(!A)t(null),i(null);else{const W=ly({element:A,showNavigationControl:!1,zoomPerClick:2,gestureSettingsMouse:{clickToZoom:!1}});t(W);const Z=Kne(W,{});Z.disableEditor=!0,Z.readOnly=!0,i(Z),W.addTiledImage({tileSource:N})}};z.useEffect(()=>()=>{n&&n.destroy()},[]);const{tileSource:P}=e.document.folioIndex[e.folioID];return z.useEffect(()=>{const A=e.document.folioIndex[e.folioID];A.loading&&m(!0),A.tileSource&&n&&(n.open(A.tileSource),A.annotations&&r&&r.setAnnotations(A.annotations)),A.loading||m(!1)},[r,n,e.folioID,e.document.folioIndex]),ee.jsx("div",{children:P?ee.jsxs("div",{className:`image-view imageViewComponent ${e.side}`,style:{position:"relative"},children:[ee.jsx(ja,{side:e.side,documentView:e.documentView,documentViewActions:e.documentViewActions,documentName:e.document.variorum&&e.document.folioIndex[e.folioID].doc_id}),ee.jsx(Jne,{side:e.side,documentView:e.documentView,onZoomFixed_1:b,onZoomFixed_2:S,onZoomFixed_3:T,onZoomGrid:g,onZoomIn:_,onZoomOut:k,viewer:n}),ee.jsx(Qne,{side:e.side,tileSource:P,initViewer:C,loading:p},e.folioID)]}):ee.jsx(Nx,{color:"dark",delay:300})})}function tre(e){return{document:e.document}}const nre=Yr(tre)(ere);class rre extends z.Component{render(){return ee.jsx("div",{className:"single-pane-view",children:this.props.singlePane})}}function ire(e){return{document:e.document}}const ore=Yr(ire)(rre);class sre extends z.Component{constructor(n){super(),Mr(this,"onDrag",t=>{if(this.dragging){const r=window.innerWidth-2*this.dividerWidth;let i,a,h;this.activeDivider===1?(i=t.clientX-this.dividerWidth/2,h=r*this.splitFractionRight,a=r-i-h):(h=r-t.clientX-this.dividerWidth/2,i=r*this.splitFraction,a=r-i-h),i>=this.leftPaneMinWidth&&a>=this.rightPaneMinWidth&&h>=this.thirdPaneMinWidth&&(this.splitFraction=r===0?0:i/r,this.splitFractionRight=r===0?0:h/r,this.updateUI()),this.updatePaneSize()}}),Mr(this,"onStartDrag",t=>{this.dragging=!0,this.activeDivider=t==="first"?1:2}),Mr(this,"onEndDrag",t=>{this.dragging=!1,this.activeDivider=0}),Mr(this,"onResize",t=>{this.updatePaneSize()}),this.firstFolio=n.document.folios[0],this.rightPaneMinWidth=n.rightPane.props.documentView.right.transcriptionType==="glossary"?450:200,this.leftPaneMinWidth=n.leftPane.props.documentView.left.transcriptionType==="glossary"?450:200,this.thirdPaneMinWidth=n.thirdPane.props.documentView.third.transcriptionType==="glossary"?450:n.thirdPane.props.documentView.third.transcriptionType==="g"?0:200,this.splitFraction=n.threePanel?.49:.5,this.splitFractionRight=n.threePanel?.01:0,this.dividerWidth=16,this.state={style:{gridTemplateColumns:`${this.splitFraction}fr ${this.dividerWidth}px ${1-this.splitFraction-this.splitFractionRight}fr ${this.dividerWidth}px ${this.splitFractionRight}fr`}},this.dragging=!1,this.activeDivider=0,this.onDrag=this.onDrag.bind(this),this.onResize=this.onResize.bind(this),this.onEndDrag=this.onEndDrag.bind(this),this.updatePaneSize=this.updatePaneSize.bind(this),this.updatePaneSize=this.updatePaneSize.bind(this)}updateUI(){const n=this.splitFraction,t=this.splitFractionRight,r=1-n-t;this.setState({...this.state,style:{...this.state.style,gridTemplateColumns:`${n}fr ${this.dividerWidth}px ${r}fr ${this.dividerWidth}px ${t}fr`}})}updatePaneSize(){const n=Math.floor(Math.abs(window.innerWidth*this.splitFraction)),t=Math.floor(Math.abs(window.innerWidth*this.splitFractionRight)),r=Math.floor(window.innerWidth*(1-this.splitFraction-this.splitFractionRight));this.props.onWidth&&n>=this.leftPaneMinWidth&&r>=this.rightPaneMinWidth&&t>=this.thirdPaneMinWidth&&this.props.onWidth(n,r,t)}componentDidMount(){if(this.updateUI(),window.addEventListener("pointermove",this.onDrag),window.addEventListener("pointerup",this.onEndDrag),window.addEventListener("resize",this.onResize),this.props.onWidth){const n=Math.floor(Math.abs(window.innerWidth*this.splitFraction)),t=Math.floor(window.innerWidth*(1-this.splitFraction)),r=Math.floor(window.innerWidth*(1-this.splitFraction));this.props.onWidth(n,t,r)}}componentDidUpdate(n){this.rightPaneMinWidth=this.props.rightPane.props.documentView.right.transcriptionType==="glossary"?450:200,this.leftPaneMinWidth=this.props.leftPane.props.documentView.left.transcriptionType==="glossary"?450:200,this.thirdPaneMinWidth=this.props.thirdPane.props.documentView.third.transcriptionType==="glossary"?450:this.props.thirdPane.props.documentView.third.transcriptionType==="g"?0:200}componentWillUnmount(){window.removeEventListener("pointermove",this.onDrag),window.removeEventListener("pointerup",this.onEndDrag),window.removeEventListener("resize",this.onResize)}renderDivider(n){return ee.jsx("div",{className:`divider ${n}_divider`,onPointerDown:()=>this.onStartDrag(n),children:ee.jsx("div",{className:"drawer-button hidden",onClick:this.onDrawerButton,children:ee.jsx("i",{className:"drawer-icon fas fa-caret-left fa-2x",children:" "})})})}render(){return ee.jsxs("div",{className:"split-pane-view three-pane",style:{...this.state.style},children:[this.props.leftPane,this.renderDivider("first"),this.props.rightPane,this.props.threePanel&&this.renderDivider("second"),this.props.threePanel&&this.props.thirdPane]})}}function are(e){return{document:e.document}}const lre=Yr(are)(sre);function ure(e){const[n,t]=z.useState(null),[r,i]=z.useState(!1),a=g=>{t(g.currentTarget),i(!0)},h=g=>{i(!1)},c=()=>{const g=Ir(e.text)||`ERROR: Could not find comment for id: ${e.commentID}.`,b={maxWidth:200,padding:"25px 15px 15px 15px"},S={float:"right",padding:5,fontStyle:"bold"};return ee.jsx(SD,{id:e.commentID,open:r,anchorEl:n,children:ee.jsx(WA,{in:r,children:ee.jsxs(nx,{className:"editor-comment-content",children:[ee.jsx("div",{onClick:h,style:S,children:ee.jsx("span",{className:"fa fa-window-close"})}),ee.jsx(Hn,{style:b,children:g})]})})})},p={display:"inline"},m={fontStyle:"bold",fontSize:"18pt",color:"red"};return ee.jsxs("div",{style:p,children:[ee.jsx("span",{onClick:g=>a(g),style:m,children:"*"}),c()]})}class l1 extends z.Component{constructor(n){super(n),this.state={error:null,errorInfo:null}}static getDerivedStateFromError(n){return{error:!0}}componentDidCatch(n,t){this.setState({error:n,errorInfo:t})}render(){return this.state.errorInfo?ee.jsxs("div",{style:{height:"350px",overflowY:"scroll"},children:[ee.jsx("h2",{children:"Something went wrong."}),ee.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:["There has been an error rendering a comment",ee.jsx("br",{}),this.state.error&&this.state.error.toString(),ee.jsx("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}class cre extends dt.Component{constructor(n,t){super(n,t),Mr(this,"changeCurrentFolio",r=>{const{side:i,documentView:a,documentViewActions:h}=this.props,{dataset:c}=r.currentTarget;if(typeof c.id>"u"||c.id.length===0)return;const p=c.id;h.changeCurrentFolio(p,i,a[i].transcriptionType)}),this.changeCurrentFolio=this.changeCurrentFolio.bind(this)}render(){const{side:n,document:t,documentView:r,bottom:i=!1}=this.props;if(r[n].iiifShortID==="-1")return null;const a=t.folioIndex[r[n].iiifShortID].name;return ee.jsx("div",{className:i?"paginationComponent bottom":"paginationComponent",children:ee.jsxs("div",{className:"paginationControl",children:[ee.jsx("span",{title:"Go back",onClick:this.changeCurrentFolio,"data-id":r[n].previousFolioShortID,className:r[n].hasPrevious?"arrow":"arrow disabled",children:ee.jsx(Vh,{})}),ee.jsx("span",{className:"folioName",children:a}),ee.jsxs("span",{title:"Go forward",onClick:this.changeCurrentFolio,"data-id":r[n].nextFolioShortID,className:r[n].hasNext?"arrow":"arrow disabled",children:[" ",ee.jsx(Uh,{})]})]})})}}function dre(e){return{document:e.document}}const ca=Yr(dre)(cre);class hre extends dt.Component{render(){const{html:n,htmlToReactParserOptionsSide:t}=this.props;return Ir(n,t)}}function Yl({side:e,documentView:n,documentViewActions:t}){return ee.jsxs("div",{style:{position:"relative"},className:"watermarkContainer",children:[n.left.iiifShortID!=="-1"&&n.right.iiifShortID!=="-1"?ee.jsx(ja,{side:e,documentView:n,documentViewActions:t}):null,ee.jsxs("div",{className:"transcriptContent",children:[ee.jsx(ca,{side:e,className:"pagination_upper",documentView:n,documentViewActions:t}),ee.jsx("div",{className:"watermark",children:ee.jsx("div",{className:e!=="third"?"watermark_contents":"third_pane_blank"})})]})]})}function pre(e,n,t){return t.includes(e)&&(n.attribs.classname?n.attribs.classname+=" selected-zone":n.attribs.classname="selected-zone"),n}function iv(e,n){if(e&&n.attribs["data-facs"]){const t=n.attribs["data-facs"].split(" ");return pre(e,n,t)}return n}function fre(e){return{replace(n){var t,r,i;switch(n.name){case"tei-line":return iv(e,n);case"tei-surface":return iv(e,n);case"tei-note":{const a=((t=n.children[0])==null?void 0:t.data)||"",h=n.attribs.n||n.attribs.id;return h?ee.jsx(ure,{commentID:h,text:a}):n}case"tei-figure":{const a=n.children.find(m=>m.name==="tei-graphic"),h=(r=a==null?void 0:a.attribs)==null?void 0:r.url;if(!h)return n;const c=n.children.find(m=>m.name==="tei-figdesc"),p=(i=c==null?void 0:c.children[0])==null?void 0:i.data;return ee.jsxs("figure",{className:"inline-figure",children:[ee.jsx("img",{src:h,alt:p||"",className:"inline-image"}),p?ee.jsx("figcaption",{children:p}):null]})}case"div":return iv(e,n);default:return n}}}}function mre(e){const[n]=tA(),{side:t,folioID:r,transcriptionType:i,document:a,documentView:h,documentViewActions:c}=e;if(r==="-1")return ee.jsx(Yl,{documentView:h,documentViewActions:c,side:t});const p=a.folioIndex[r];if(p&&!p.loading&&!p.transcription)return ee.jsx(Yl,{documentView:h,documentViewActions:c,side:t});const m=p&&p.transcription&&p.transcription[i];if(p&&!p.loading&&!m)return ee.jsx(Yl,{documentView:h,documentViewActions:c,side:t});const g=fre(n.get("zone")),b=m&&m.html,S=m&&m.layout;return p&&!p.loading&&!b?ee.jsx(Yl,{documentView:h,documentViewActions:c,side:t}):p&&p.loading?ee.jsxs("div",{children:[ee.jsx(ja,{side:t,documentView:h,documentViewActions:c,documentName:a.variorum&&p.doc_id}),ee.jsx(ca,{side:t,documentView:h,documentViewActions:c}),ee.jsx("div",{className:"transcriptionViewComponent",children:ee.jsx("div",{className:"transcriptContent",children:ee.jsx(l1,{children:ee.jsx(Nx,{delay:3e3,color:"dark"})})})}),ee.jsx(ca,{side:t,documentView:h,documentViewActions:c,bottom:!0})]}):ee.jsxs("div",{style:{position:"relative",overflow:"auto"},children:[ee.jsx(ja,{side:t,documentView:h,documentViewActions:c,documentName:a.variorum&&p.doc_id}),ee.jsx(ca,{side:t,documentView:h,documentViewActions:c}),ee.jsx("div",{className:"transcriptionViewComponent",children:ee.jsx("div",{className:"transcriptContent",children:ee.jsx(l1,{children:ee.jsx("div",{className:"surface grid-mode",style:{gridTemplateAreas:S},children:ee.jsx(hre,{html:b,htmlToReactParserOptionsSide:g})})})})}),ee.jsx(ca,{side:t,documentView:h,documentViewActions:c,bottom:!0})]})}function gre(e){return{annotations:e.annotations,document:e.document}}const vre=Yr(gre)(mre);class yre extends z.Component{render(){const{side:n,document:t,documentView:r,documentViewActions:i}=this.props,a=`xmlViewComponent ${n}`,h=`xmlViewComponent_${n}`,c=r[n].iiifShortID;if(c==="-1")return ee.jsx("div",{className:"watermark",children:ee.jsx("div",{className:"watermark_contents"})});const p=t.folioIndex[c];if(!p.transcription)return ee.jsx(Yl,{documentView:r,documentViewActions:i,side:n});const{transcriptionType:m}=r[n],g=p.transcription[m],{xml:b}=g;return ee.jsxs("div",{id:h,className:a,style:{position:"relative",overflow:"auto"},children:[ee.jsx(ja,{side:n,documentView:r,documentViewActions:i,documentName:t.variorum&&p.doc_id}),ee.jsx(ca,{side:n,className:"pagination_upper",documentView:r,documentViewActions:i}),ee.jsx("div",{className:"xmlContentInner",children:ee.jsx("pre",{children:b})})]})}}function wre(e){return{document:e.document}}const xre=Yr(wre)(yre),ov={isXMLMode:!1,width:0};function bre(e){const[n,t]=z.useState(!e.document.variorum),[r,i]=z.useState(!1),[a,h]=z.useState(ov),[c,p]=z.useState(ov),[m,g]=z.useState(ov),[b,S]=z.useState(e.containerWidth<960),T=k8(),_=cp(),k=ys();z.useEffect(()=>{uy(e,"RouteListenerSaga.userNavigatation",k)},[e.config]),z.useEffect(()=>{S(e.containerWidth<960)},[e.containerWidth]);const C=ve=>{_(ve+k.search)},P=()=>{const{folioID:ve,transcriptionType:de,folioID2:Ee,transcriptionType2:be,folioID3:q,transcriptionType3:ge}=T,{document:De}=e,$=De.variorum?Object.keys(De.transcriptionTypes[Object.keys(De.transcriptionTypes)[0]])[0]:Object.keys(De.transcriptionTypes)[0];if(!ve)return{left:{folioID:"-1",transcriptionType:"g"},right:{folioID:"-1",transcriptionType:De.variorum?"g":$},third:{folioID:"-1",transcriptionType:"g"}};const Qe=Object.keys(De.folioIndex).includes(ve),et=Qe?ve:"-1";let ot,ct,yt,gt,Ke;if(Ee){const Ot=Object.keys(De.folioIndex).includes(Ee);if(ot=Qe?de:"g",ct=Ot?Ee:"-1",yt=Ot?be||$:"g",q){const Nt=Object.keys(De.folioIndex).includes(q);gt=Nt?q:"-1",Ke=Nt?ge||$:"g"}else gt="-1",Ke="g"}else ot="f",ct=Qe?ve:"-1",yt=Qe?de||$:"g",gt="-1",Ke="g";return{left:{folioID:et,transcriptionType:ot},right:{folioID:ct,transcriptionType:yt},third:{folioID:gt,transcriptionType:Ke}}};z.useEffect(()=>{uy(e,"DiplomaticActions.setFixedFrameMode",!0)},[]);const A=(ve,de)=>{ve==="left"?h({...a,isXMLMode:de}):ve==="right"?p({...c,isXMLMode:de}):g({...m,isXMLMode:de})},N=(ve,de)=>{if(i(de),de){const[Ee,be]=Z(ve);ne(Ee,"f",be,"f")}},W=(ve,de)=>{var Ee;const{document:be}=e;if(be.folioByName[ve]){const q=(Ee=be.folioByName[ve])==null?void 0:Ee.id;ae(q,de,P()[de].transcriptionType)}},Z=ve=>{const{document:de}=e,Ee=de.folioIndex[ve],{name:be,pageNumber:q}=Ee,ge=de.variorum?de.folios.filter(De=>De.doc_id===Ee.doc_id):de.folios;return!be.endsWith("v")&&be.endsWith("r")?[ge[q-1].id,ge[q].id]:ge[q+1]?[ge[q].id,ge[q+1].id]:[ge[q].id,null]},H=(ve,de,Ee)=>{h({...a,width:ve}),p({...c,width:de}),g({...m,width:Ee})},ie=(ve,de)=>{const Ee=P();if(ve==="left"){const{folioID:be}=Ee.left,q=Ee.right;ne(be,de,q.folioID,q.transcriptionType,Ee.third.folioID,Ee.third.transcriptionType)}else if(ve==="right"){const{folioID:be}=Ee.right,q=Ee.left;ne(q.folioID,q.transcriptionType,be,de,Ee.third.folioID,Ee.third.transcriptionType)}else{const{folioID:be}=Ee.third;ne(Ee.left.folioID,Ee.left.transcriptionType,Ee.right.folioID,Ee.right.transcriptionType,be,de)}},ne=(ve,de,Ee,be,q,ge)=>{if(!ve){C("/ec");return}if(!de){C(`/ec/${ve}`);return}if(!Ee){C(`/ec/${ve}/${de}`);return}if(!be){C(`/ec/${ve}/${de}/${Ee}/tc`);return}if(!q){C(`/ec/${ve}/${de}/${Ee}/${be}`);return}if(!ge){C(`/ec/${ve}/${de}/${Ee}/${be}/${q}/f`);return}C(`/ec/${ve}/${de}/${Ee}/${be}/${q}/${ge}`)},ae=(ve,de,Ee)=>{const be=P();if(r){const[q,ge]=Z(ve);q&&ne(q,"f",ge,"f")}else if(n)if(de==="left"){const q=be.right;ne(ve,Ee,ve,q.transcriptionType)}else if(de==="right"){const q=be.left;ne(ve,q.transcriptionType,ve,Ee)}else ne(be.left.folioID,be.left.transcriptionType,be.right.folioID,be.right.transcriptionType,ve,Ee);else if(de==="left"){const q=be.right,ge=be.third;ne(ve,Ee,q.folioID,q.transcriptionType,ge.folioID,ge.transcriptionType)}else if(de==="right"){const q=be.left,ge=be.third;ne(q.folioID,q.transcriptionType,ve,Ee,ge.folioID,ge.transcriptionType)}else ne(be.left.folioID,be.left.transcriptionType,be.right.folioID,be.right.transcriptionType,ve,Ee)},Se=ve=>{const{transcriptionType:de}=P()[ve],Ee=ve==="left"?a.isXMLMode:ve==="right"?c.isXMLMode:m.isXMLMode;return de==="g"?"ImageGridView":de==="f"?"ImageView":de==="glossary"?"GlossaryView":Ee?"XMLView":"TranscriptionView"},me=ve=>{const{document:de}=e,Ee=P()[ve];if(Ee.folioID==="-1")return{...ve==="left"?a:ve==="right"?c:m,iiifShortID:Ee.folioID,transcriptionType:Ee.transcriptionType};const be=Ee.folioID,q=de.variorum?de.folios.filter(ot=>ot.doc_id===de.folioIndex[be].doc_id):de.folios,ge=q.length;let De="",$="",Qe=!1,et=!1;if(r){const[ot]=Z(be),ct=de.folioIndex[ot].pageNumber;ct>-1&&(et=ct<ge-2,De=et?q[ct+2].id:"",Qe=ct>1&&ge>1,$=Qe?q[ct-2].id:"")}else{const ot=de.folioIndex[be].pageNumber;ot>-1&&(et=ot<ge-1,De=et?q[ot+1].id:"",Qe=ot>0&&ge>1,$=Qe?q[ot-1].id:"")}return{...ve==="left"?a:ve==="right"?c:m,iiifShortID:be,transcriptionType:Ee.transcriptionType,hasPrevious:Qe,hasNext:et,previousFolioShortID:$,nextFolioShortID:De,documentID:de.variorum?de.folioIndex[be].doc_id:de.documentName}},fe={setXMLMode:A,setLinkedMode:t,setBookMode:N,changeTranscriptionType:ie,changeCurrentFolio:ae,jumpToFolio:W},he=(ve,de)=>{const Ee=Se(ve),be=Ae(ve),q=de[ve].iiifShortID,ge=de[ve].documentID,{transcriptionType:De}=de[ve];return Ee==="ImageView"?ee.jsx(nre,{folioID:q,documentView:de,documentViewActions:fe,side:ve},be):Ee==="TranscriptionView"?ee.jsx(vre,{documentView:de,documentViewActions:fe,side:ve,folioID:q,transcriptionType:De},be):Ee==="XMLView"?ee.jsx(xre,{folioID:q,transcriptionType:De,documentView:de,documentViewActions:fe,side:ve},be):Ee==="ImageGridView"?ee.jsx(Xne,{documentView:de,documentViewActions:fe,side:ve,selectedDoc:ge||e.document.variorum&&Object.keys(e.document.derivativeNames)[ve==="left"?0:ve==="right"?1:Object.keys(e.document.derivativeNames).length>2?2:1]},be):Ee==="GlossaryView"?ee.jsx(qne,{documentView:de,documentViewActions:fe,side:ve},be):ee.jsx("div",{children:"ERROR: Unrecognized viewType."})},Ae=ve=>{const de=ve==="left"?a:ve==="right"?c:m;return de.viewType==="ImageGridView"?`${ve}-${de.viewType}`:typeof de.folio<"u"?`${ve}-${de.viewType}-${de.folio.id}`:`${ve}-${de.viewType}`};if(!e.document.loaded)return null;const Le={linkedMode:n,bookMode:r,left:me("left"),right:me("right"),third:me("third")};return{...me("right")},xG("md",e.width)&&!b?ee.jsx("div",{style:{height:"100%"},children:ee.jsx(lre,{leftPane:he("left",Le),rightPane:he("right",Le),thirdPane:he("third",Le),onWidth:H,threePanel:e.document.threePanel})}):ee.jsx("div",{style:{height:"100%"},children:ee.jsx(ore,{singlePane:he(me("left").iiifShortID==="-1"?"left":"right",Le)})})}function Sre(e){return{document:e.document,glossary:e.glossary}}const Fl=LO()(Yr(Sre)(bre));function Ere(e){const n=z.useRef(!1),t=ys(),r=()=>{uy(e,"RouteListenerSaga.userNavigatation",t)};return z.useEffect(()=>{n.current||(r(),n.current=!0)},[]),z.useEffect(()=>{r()},[t]),null}function Tre(e){return{}}const Cre=Yr(Tre)(Ere);function t2(e){const[n,t]=z.useState(0),[r,i]=z.useState("min(100%, 100dvh"),a=z.useRef(null);z.useEffect(()=>{EG().listen(()=>{window.scrollTo(0,0)})},[]),z.useEffect(()=>{a.current&&(t(a.current.offsetWidth),a.current.clientHeight===0&&i("100dvh"))},[a]);const{fixedFrameMode:h}=e.diplomatic,c=h?"editioncrafter":"editioncrafter sticky";return ee.jsx(QG,{store:e.store,children:ee.jsx(W8,{children:ee.jsxs("div",{id:"diplomatic",className:c,ref:a,style:{height:r},children:[ee.jsx(Cre,{}),ee.jsx("div",{id:"content",style:{height:"100%"},children:ee.jsxs(V8,{children:[ee.jsx(Uo,{path:"/ec/:folioID/:transcriptionType/:folioID2/:transcriptionType2/:folioID3/:transcriptionType3",element:ee.jsx(Fl,{...e,containerWidth:n}),exact:!0}),ee.jsx(Uo,{path:"/ec/:folioID/:transcriptionType/:folioID2/:transcriptionType2",element:ee.jsx(Fl,{...e,containerWidth:n}),exact:!0}),ee.jsx(Uo,{path:"/ec/:folioID/:transcriptionType",element:ee.jsx(Fl,{...e,containerWidth:n}),exact:!0}),ee.jsx(Uo,{path:"/ec/:folioID",element:ee.jsx(Fl,{...e,containerWidth:n}),exact:!0}),ee.jsx(Uo,{path:"/ec",element:ee.jsx(Fl,{...e,containerWidth:n}),exact:!0}),ee.jsx(Uo,{path:"/",element:ee.jsx(H8,{to:"/ec"}),exact:!0})]})})]})})})}t2.propTypes={store:ut.isRequired,config:ut.isRequired};function Pre(e){return{diplomatic:e.diplomatic,documentView:e.documentView}}const kre=LO()(Yr(Pre)(t2));function _re(e){const n=hO({palette:{primary:{main:"#792421"},secondary:{main:"#EBE3DD"}}});return ee.jsx(yG,{theme:n,children:ee.jsx(kre,{config:e,store:Fq(e)})})}const Rre="ec",Ore="Ms. Fr. 640",Are="/fr640-with-markup/iiif/manifest.json",Dre={tl_p003r_preTEI:"Translation (EN)"},Mre={id:Rre,documentName:Ore,iiifManifest:Are,transcriptionTypes:Dre},Ire=()=>_1.jsx(_re,{...Mre}),Lre=document.getElementById("root");Fr.render(_1.jsx(Ire,{}),Lre);
